import{j as B,F as ga,a as ba,b as We,c as Ur,r as X,R as Dr,d as _a,e as Oa,f as Ea,_ as Aa,g as $i,h as ea,i as wa,k as Qr,l as Xr,m as xa,n as Hr,u as Sa,o as Ta,s as zr,p as ta,q as ka,t as Xe,v as Ie,w as ra,x as De,y as Na,z as qa,A as na,B as Kr,C as Pa,D as Ra,E as ia,G as La,H as ja,I as Ia,J as Ca,P as Te,K as ze,L as Ve,M as aa,N as Jr,O as Da,Q as Ze,S as Ma,T as Ba,U as Fa,V as Ua,W as Ha}from"./index-BN8QpAjb.js";/* empty css              */function za(T,k){for(var p=0;p<k.length;p++){const s=k[p];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in T)){const _=Object.getOwnPropertyDescriptor(s,u);_&&Object.defineProperty(T,u,_.get?_:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}))}const Ka={posts:Ur,drafts:We,month:ba,latest:ga};function Ga({stats:T}){return B.jsxs("header",{className:"admin-header",children:[B.jsx("div",{className:"admin-header-main",children:B.jsxs("div",{className:"admin-intro",children:[B.jsx("span",{className:"admin-chip",children:"Painel administrativo"}),B.jsx("h1",{children:"Dashboard de Conteudo"}),B.jsx("p",{children:"Gerencie publicacoes, acompanhe indicadores e mantenha seu perfil atualizado."})]})}),B.jsx("div",{className:"admin-stats-grid admin-stats-grid-full",children:T?.map(k=>{const p=Ka[k.icon]||Ur;return B.jsxs("article",{className:"admin-stat-card",children:[B.jsxs("span",{className:"admin-stat-label",children:[B.jsx(p,{"aria-hidden":"true"}),k.label]}),B.jsx("strong",{className:"admin-stat-value",children:k.value}),B.jsx("small",{className:"admin-stat-note",children:k.note})]},k.label)})})]})}function Mr(){return Mr=Object.assign?Object.assign.bind():function(T){for(var k=1;k<arguments.length;k++){var p=arguments[k];for(var s in p)({}).hasOwnProperty.call(p,s)&&(T[s]=p[s])}return T},Mr.apply(null,arguments)}function Wa(T,k){if(T==null)return{};var p={};for(var s in T)if({}.hasOwnProperty.call(T,s)){if(k.indexOf(s)!==-1)continue;p[s]=T[s]}return p}var Va=X.useLayoutEffect,Za=function(k){var p=Dr.useRef(k);return Va(function(){p.current=k}),p},$r=function(k,p){if(typeof k=="function"){k(p);return}k.current=p},Ya=function(k,p){var s=Dr.useRef();return Dr.useCallback(function(u){k.current=u,s.current&&$r(s.current,null),s.current=p,p&&$r(p,u)},[p])},en={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Qa=function(k){Object.keys(en).forEach(function(p){k.style.setProperty(p,en[p],"important")})},tn=Qa,xe=null,rn=function(k,p){var s=k.scrollHeight;return p.sizingStyle.boxSizing==="border-box"?s+p.borderSize:s-p.paddingSize};function Xa(T,k,p,s){p===void 0&&(p=1),s===void 0&&(s=1/0),xe||(xe=document.createElement("textarea"),xe.setAttribute("tabindex","-1"),xe.setAttribute("aria-hidden","true"),tn(xe)),xe.parentNode===null&&document.body.appendChild(xe);var u=T.paddingSize,_=T.borderSize,v=T.sizingStyle,g=v.boxSizing;Object.keys(v).forEach(function(e){var t=e;xe.style[t]=v[t]}),tn(xe),xe.value=k;var m=rn(xe,T);xe.value=k,m=rn(xe,T),xe.value="x";var b=xe.scrollHeight-u,d=b*p;g==="border-box"&&(d=d+u+_),m=Math.max(d,m);var n=b*s;return g==="border-box"&&(n=n+u+_),m=Math.min(n,m),[m,b]}var nn=function(){},Ja=function(k,p){return k.reduce(function(s,u){return s[u]=p[u],s},{})},$a=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],eo=!!document.documentElement.currentStyle,to=function(k){var p=window.getComputedStyle(k);if(p===null)return null;var s=Ja($a,p),u=s.boxSizing;if(u==="")return null;eo&&u==="border-box"&&(s.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth)+parseFloat(s.paddingRight)+parseFloat(s.paddingLeft)+"px");var _=parseFloat(s.paddingBottom)+parseFloat(s.paddingTop),v=parseFloat(s.borderBottomWidth)+parseFloat(s.borderTopWidth);return{sizingStyle:s,paddingSize:_,borderSize:v}},ro=to;function Gr(T,k,p){var s=Za(p);X.useLayoutEffect(function(){var u=function(v){return s.current(v)};if(T)return T.addEventListener(k,u),function(){return T.removeEventListener(k,u)}},[])}var no=function(k,p){Gr(document.body,"reset",function(s){k.current.form===s.target&&p(s)})},io=function(k){Gr(window,"resize",k)},ao=function(k){Gr(document.fonts,"loadingdone",k)},oo=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],lo=function(k,p){var s=k.cacheMeasurements,u=k.maxRows,_=k.minRows,v=k.onChange,g=v===void 0?nn:v,m=k.onHeightChange,b=m===void 0?nn:m,d=Wa(k,oo),n=d.value!==void 0,e=X.useRef(null),t=Ya(e,p),f=X.useRef(0),o=X.useRef(),l=function(){var c=e.current,r=s&&o.current?o.current:ro(c);if(r){o.current=r;var h=Xa(r,c.value||c.placeholder||"x",_,u),x=h[0],O=h[1];f.current!==x&&(f.current=x,c.style.setProperty("height",x+"px","important"),b(x,{rowHeight:O}))}},i=function(c){n||l(),g(c)};return X.useLayoutEffect(l),no(e,function(){if(!n){var a=e.current.value;requestAnimationFrame(function(){var c=e.current;c&&a!==c.value&&l()})}}),io(l),ao(l),X.createElement("textarea",Mr({},d,{onChange:i,ref:t}))},an=X.forwardRef(lo);const so=X.lazy(()=>Aa(()=>Promise.resolve().then(()=>Ul),void 0));function uo({isEditing:T,editingStatus:k,hideHeading:p=!1,title:s,summary:u,content:_,featuredImage:v,featuredLinkDraft:g,canPublish:m,canSaveDraft:b,uploading:d,onTitleChange:n,onSummaryChange:e,onContentChange:t,onFeaturedSelect:f,onFeaturedLinkChange:o,onFeaturedLinkApply:l,onRemoveFeatured:i,onSavePost:a,onSaveDraft:c,onCancel:r,quillRef:h,quillModules:x,quillFormats:O,onAttachQuillTooltips:w,mediaModal:S,onMediaClose:E,onMediaSubmit:y,onMediaFieldChange:A,onMediaFileChange:N,onMediaSourceTypeChange:P}){const[I,U]=X.useState(!1),F=X.useRef(null),Z=D=>{D.target===D.currentTarget&&(d||E())};return X.useEffect(()=>{const D=F.current;if(!D)return;const L=new IntersectionObserver(([q])=>{U(!q.isIntersecting)},{root:null,threshold:[1],rootMargin:"-8px 0px 0px 0px"});return L.observe(D),()=>L.disconnect()},[]),X.useEffect(()=>{if(!S?.open)return;const D=L=>{L.key==="Escape"&&(L.preventDefault(),d||E()),(L.ctrlKey||L.metaKey)&&L.key==="Enter"&&(L.preventDefault(),d||y())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[S?.open,E,y,d]),X.useEffect(()=>{if(!w)return;let D=0;const L=window.setInterval(()=>{const q=w();D+=1,(q||D>=25)&&window.clearInterval(L)},120);return()=>window.clearInterval(L)},[w]),B.jsxs("div",{className:`post-form${p?" no-heading":""}`,children:[!p&&B.jsxs("div",{className:"post-form-header",children:[B.jsx("h3",{children:T?k==="draft"?"Editar rascunho":"Editar post":"Novo post"}),B.jsx("p",{children:"Estruture o conteudo com clareza para manter o blog organizado e consistente."})]}),B.jsxs("div",{className:"post-form-block",children:[B.jsx("label",{className:"form-label",htmlFor:"post-title",children:"Titulo do post"}),B.jsx(an,{id:"post-title",className:"auto-textarea",value:s,placeholder:"Titulo",onChange:D=>n(D.target.value)}),B.jsx("label",{className:"form-label",htmlFor:"post-summary",children:"Resumo do post"}),B.jsx(an,{id:"post-summary",className:"auto-textarea",value:u,placeholder:"Resumo",onChange:D=>e(D.target.value)})]}),B.jsxs("div",{className:"post-form-block featured-image-field",children:[B.jsxs("div",{className:"post-block-header",children:[B.jsx("label",{className:"form-label",children:"Imagem de destaque"}),B.jsx("span",{className:"form-helper",children:"Use arquivo otimizado ou URL valida para manter boa performance."})]}),!v&&B.jsxs("div",{className:"featured-image-inputs",children:[B.jsxs("label",{className:"featured-input-group",children:["Arquivo de imagem",B.jsx("input",{type:"file",accept:"image/*",onChange:f})]}),B.jsx("span",{className:"featured-input-divider",children:"ou"}),B.jsxs("label",{className:"featured-input-group",children:["Link da imagem",B.jsxs("div",{className:"featured-link-actions",children:[B.jsx("input",{type:"url",value:g,onChange:D=>o(D.target.value),placeholder:"https://"}),B.jsx("button",{type:"button",className:"admin-btn primary featured-link-btn",onClick:l,disabled:d||!g?.trim(),children:"Usar link"})]})]})]}),v&&B.jsxs("div",{className:"featured-preview",children:[B.jsx("img",{src:v,alt:"Imagem de destaque"}),B.jsx("button",{type:"button",className:"remove-featured",onClick:i,"aria-label":"Remover imagem de destaque",children:"x"})]})]}),B.jsxs("div",{className:"post-form-block",children:[B.jsxs("div",{className:"post-block-header",children:[B.jsx("label",{className:"form-label",htmlFor:"post-content",children:"ConteÃºdo do post"}),B.jsx("span",{className:"form-helper",children:"Use o editor para formatacao, midias e botoes de CTA."})]}),B.jsx("div",{ref:F,className:"quill-sticky-sentinel","aria-hidden":"true"}),B.jsx(X.Suspense,{fallback:B.jsx("div",{className:"quill-loading",children:"Carregando editor..."}),children:B.jsx(so,{id:"post-content",className:`quill-editor${I?" is-stuck":""}`,ref:h,theme:"snow",placeholder:"Insira o texto aqui",value:_,onChange:t,modules:x,formats:O})}),d&&B.jsx("p",{className:"uploading-hint",children:"Enviando midia..."})]}),S?.open&&B.jsx("div",{className:"quill-modal-backdrop",role:"dialog","aria-modal":"true",onMouseDown:Z,children:B.jsxs("div",{className:"quill-modal","aria-busy":d,children:[B.jsxs("h4",{children:[S.type==="image"&&"Inserir imagem",S.type==="video"&&"Inserir video",S.type==="button"&&"Inserir botao"]}),B.jsx("p",{className:"quill-modal-helper",children:"Esc fecha a janela e Ctrl/Command + Enter confirma."}),S.type!=="button"&&B.jsxs("div",{className:"quill-modal-tabs",children:[B.jsx("button",{type:"button",className:`quill-tab${S.sourceType==="url"?" is-active":""}`,onClick:()=>P("url"),disabled:d,children:"URL"}),B.jsx("button",{type:"button",className:`quill-tab${S.sourceType==="file"?" is-active":""}`,onClick:()=>P("file"),disabled:d,children:"Arquivo"})]}),S.type==="image"&&B.jsxs(B.Fragment,{children:[S.sourceType==="url"&&B.jsxs("label",{className:"quill-modal-field",children:["URL da imagem",B.jsx("input",{type:"url",value:S.fields.url,onChange:D=>A("url",D.target.value),placeholder:"https://",disabled:d}),S.errors.url&&B.jsx("span",{className:"quill-modal-error",children:S.errors.url})]}),S.sourceType==="file"&&B.jsxs("label",{className:"quill-modal-field",children:["Arquivo de imagem",B.jsx("input",{type:"file",accept:"image/*",onChange:D=>N(D.target.files?.[0]||null),disabled:d}),S.errors.file&&B.jsx("span",{className:"quill-modal-error",children:S.errors.file})]}),B.jsxs("label",{className:"quill-modal-field",children:["Texto alternativo (alt)",B.jsx("input",{type:"text",value:S.fields.alt,onChange:D=>A("alt",D.target.value),placeholder:"Descricao acessivel da imagem",disabled:d})]}),B.jsxs("label",{className:"quill-modal-field",children:["Legenda",B.jsx("input",{type:"text",value:S.fields.caption,onChange:D=>A("caption",D.target.value),placeholder:"Legenda exibida abaixo da imagem",disabled:d})]}),B.jsxs("label",{className:"quill-modal-field",children:["Fonte",B.jsx("input",{type:"text",value:S.fields.source,onChange:D=>A("source",D.target.value),placeholder:"Ex: Foto de Fulano",disabled:d})]})]}),S.type==="video"&&B.jsxs(B.Fragment,{children:[S.sourceType==="url"&&B.jsxs("label",{className:"quill-modal-field",children:["URL do video (YouTube ou arquivo)",B.jsx("input",{type:"url",value:S.fields.url,onChange:D=>A("url",D.target.value),placeholder:"https://",disabled:d}),S.errors.url&&B.jsx("span",{className:"quill-modal-error",children:S.errors.url})]}),S.sourceType==="file"&&B.jsxs("label",{className:"quill-modal-field",children:["Arquivo de video",B.jsx("input",{type:"file",accept:"video/*",onChange:D=>N(D.target.files?.[0]||null),disabled:d}),S.errors.file&&B.jsx("span",{className:"quill-modal-error",children:S.errors.file})]})]}),S.type==="button"&&B.jsxs(B.Fragment,{children:[B.jsxs("label",{className:"quill-modal-field",children:["Texto do botao",B.jsx("input",{type:"text",value:S.fields.buttonText,onChange:D=>A("buttonText",D.target.value),disabled:d}),S.errors.buttonText&&B.jsx("span",{className:"quill-modal-error",children:S.errors.buttonText})]}),B.jsxs("label",{className:"quill-modal-field",children:["Link do botao",B.jsx("input",{type:"url",value:S.fields.buttonUrl,onChange:D=>A("buttonUrl",D.target.value),placeholder:"https://",disabled:d}),S.errors.buttonUrl&&B.jsx("span",{className:"quill-modal-error",children:S.errors.buttonUrl})]})]}),S.errors.form&&B.jsx("div",{className:"quill-modal-error form-error",children:S.errors.form}),B.jsxs("div",{className:"quill-modal-actions",children:[B.jsx("button",{type:"button",className:"admin-btn cancel",onClick:E,disabled:d,children:"Cancelar"}),B.jsx("button",{type:"button",className:"admin-btn primary",onClick:y,disabled:d,children:d?"Inserindo...":"Inserir"})]})]})}),B.jsxs("div",{className:"admin-actions",children:[B.jsxs("button",{type:"button",className:"admin-btn primary",onClick:a,disabled:d||!m,children:[B.jsx(_a,{"aria-hidden":"true"}),T?"Salvar e publicar":"Publicar"]}),B.jsxs("button",{type:"button",className:"admin-btn draft",onClick:c,disabled:d||!b,children:[B.jsx(Oa,{"aria-hidden":"true"}),T&&k==="draft"?"Salvar rascunho":"Salvar como rascunho"]}),B.jsxs("button",{type:"button",className:"admin-btn cancel",onClick:r,children:[B.jsx(Ea,{"aria-hidden":"true"}),"Cancelar"]})]})]})}function fo(T){return T?typeof T.toDate=="function"?T.toDate():typeof T.seconds=="number"?new Date(T.seconds*1e3):T instanceof Date?T:null:null}function co(T){const k=fo(T);return k?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(k):"Data nao informada"}function ho(T){const k=(T||"").replace(/\s+/g," ").trim();return k?k.length<=120?k:`${k.slice(0,117)}...`:"Sem resumo cadastrado."}function vo(T){return T?.publishedAt||T?.date||T?.updatedAt||T?.createdAt||null}function po({posts:T,activeTab:k,totals:p,isLoading:s,bulkActionType:u,selectedPostIds:_,selectedPostsCount:v,allVisiblePostsSelected:g,onTabChange:m,onNewPost:b,onTogglePostSelection:d,onToggleSelectAllPosts:n,onClearSelectedPosts:e,onPublishSelectedDrafts:t,onDeleteSelectedPosts:f,onEdit:o,onDelete:l,onPublishDraft:i,publishingDraftId:a}){const c=k==="drafts",r=u==="publish",h=u==="delete",x=s||r||h,O=c?p?.drafts||0:p?.published||0,w=c?O===1?"rascunho salvo":"rascunhos salvos":O===1?"post cadastrado":"posts cadastrados";return B.jsxs("div",{className:"posts-management",children:[B.jsxs("div",{className:"posts-header",children:[B.jsxs("div",{className:"posts-title-group",children:[B.jsxs("h3",{children:[c?B.jsx(We,{"aria-hidden":"true"}):B.jsx($i,{"aria-hidden":"true"}),c?"Rascunhos":"Conteudos publicados"]}),B.jsxs("p",{children:[O," ",w]})]}),B.jsxs("button",{type:"button",className:"admin-btn primary posts-new-btn",onClick:b,children:[B.jsx(ea,{"aria-hidden":"true"}),"Novo post"]})]}),B.jsxs("div",{className:"posts-tabs",role:"tablist","aria-label":"Categorias de posts",children:[B.jsxs("button",{type:"button",role:"tab","aria-selected":!c,className:`posts-tab-btn ${c?"":"is-active"}`,onClick:()=>m("published"),children:[B.jsx(wa,{className:"tab-icon","aria-hidden":"true"}),"Publicados",B.jsx("span",{children:p?.published||0})]}),B.jsxs("button",{type:"button",role:"tab","aria-selected":c,className:`posts-tab-btn ${c?"is-active":""}`,onClick:()=>m("drafts"),children:[B.jsx(We,{className:"tab-icon","aria-hidden":"true"}),"Rascunhos",B.jsx("span",{children:p?.drafts||0})]})]}),!!T.length&&B.jsxs("div",{className:"posts-bulk-bar",children:[B.jsxs("label",{className:"bulk-select-all",children:[B.jsx("input",{type:"checkbox",checked:g,onChange:n,disabled:x}),"Selecionar todos"]}),B.jsxs("span",{className:"bulk-selected-count",children:[v," ",v===1?"selecionado":"selecionados"]}),B.jsxs("div",{className:"bulk-actions",children:[c&&B.jsxs("button",{type:"button",className:"bulk-btn publish",onClick:t,disabled:!v||x,children:[B.jsx(Qr,{"aria-hidden":"true"}),r?"Publicando...":"Publicar selecionados"]}),B.jsxs("button",{type:"button",className:"bulk-btn delete",onClick:f,disabled:!v||x,children:[B.jsx(Xr,{"aria-hidden":"true"}),h?"Excluindo...":"Excluir selecionados"]}),B.jsx("button",{type:"button",className:"bulk-btn clear",onClick:e,disabled:!v||x,children:"Limpar"})]})]}),s&&!T.length?B.jsxs("div",{className:"posts-empty",children:[B.jsx("strong",{children:"Carregando posts..."}),B.jsx("p",{children:"Aguarde enquanto buscamos os resultados desta pagina."})]}):T.length?B.jsx("div",{className:"posts-grid",children:T.map(S=>{const E=_.includes(S.id);return B.jsxs("article",{className:`post-card ${E?"is-selected":""}`,children:[B.jsx("label",{className:"post-select-control","aria-label":`Selecionar ${S.title||"post"}`,children:B.jsx("input",{type:"checkbox",checked:E,onChange:()=>d(S.id),disabled:x})}),B.jsx("div",{className:"post-card-media",children:S.featuredImage?B.jsx("img",{src:S.featuredImage,alt:S.title||"Imagem do post"}):B.jsx("div",{className:"post-card-placeholder",children:"Sem imagem"})}),B.jsxs("div",{className:"post-card-content",children:[B.jsx("strong",{className:"post-card-title",children:S.title||"Post sem titulo"}),B.jsx("p",{className:"post-card-summary",children:ho(S.summary)}),B.jsx("div",{className:"post-card-meta",children:B.jsxs("small",{children:[B.jsx(xa,{"aria-hidden":"true"}),co(vo(S))]})})]}),B.jsxs("div",{className:"post-card-actions",children:[c&&B.jsxs("button",{type:"button",className:"publish-btn",onClick:()=>i(S.id),disabled:a===S.id||x,children:[B.jsx(Qr,{"aria-hidden":"true"}),a===S.id?"Publicando...":"Publicar"]}),B.jsxs("button",{type:"button",className:"edit-btn",onClick:()=>o(S),disabled:x,children:[B.jsx(We,{"aria-hidden":"true"}),"Editar"]}),B.jsxs("button",{type:"button",className:"delete-btn",onClick:()=>l(S.id),disabled:x,children:[B.jsx(Xr,{"aria-hidden":"true"}),"Excluir"]})]})]},S.id)})}):B.jsxs("div",{className:"posts-empty",children:[B.jsx("strong",{children:c?"Nenhum rascunho salvo":"Nenhum post publicado"}),B.jsx("p",{children:c?"Salve rascunhos para revisar antes de publicar.":"Crie seu primeiro conteudo para iniciar o dashboard editorial."})]})]})}async function Br(T,k,p={}){const{maxWidth:s=1200,maxHeight:u=1200,maxSizeMB:_=2,isImage:v=!0}=p;if(!T)throw new Error("Nenhum arquivo selecionado");if(T.size>_*1024*1024)throw new Error(`Arquivo maior que ${_}MB`);let g=T;v&&(g=await yo(T,s,u));const m=Hr(zr,k),b=Sa(m,g);return new Promise((d,n)=>{b.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log(`Upload is ${t}% done`)},e=>n(e),async()=>{const e=await Ta(b.snapshot.ref);d(e)})})}function yo(T,k,p){return new Promise(s=>{const u=new Image,_=URL.createObjectURL(T);u.src=_,u.onload=()=>{URL.revokeObjectURL(_);const v=document.createElement("canvas"),g=Math.min(k/u.width,p/u.height,1);v.width=u.width*g,v.height=u.height*g,v.getContext("2d").drawImage(u,0,0,v.width,v.height),v.toBlob(b=>s(new File([b],T.name.split(".")[0]+".webp",{type:"image/webp"})),"image/webp",.8)}})}async function mo({user:T,file:k}){const p=await Br(k,`users/${T.uid}/avatar_${Date.now()}.webp`,{maxWidth:80,maxHeight:80,maxSizeMB:10,isImage:!0});return await ta(T,{photoURL:p}),p}async function on({user:T,userProfile:k}){await ta(T,{displayName:k.displayName,photoURL:k.photoURL}),await ka(Xe(Ie,"users",T.uid),{displayName:k.displayName,photoURL:k.photoURL,email:T.email,updatedAt:De()},{merge:!0})}async function go(T){if(T)try{await ra(Hr(zr,T))}catch(k){console.error("Erro ao remover avatar do storage:",k)}}function bo({setUploading:T}){const[k,p]=X.useState(null),[s,u]=X.useState({displayName:"",photoURL:""}),[_,v]=X.useState(null),[g,m]=X.useState(!1),[b,d]=X.useState(!1),[n,e]=X.useState(""),[t,f]=X.useState(null),[o,l]=X.useState("");X.useEffect(()=>{const O=Na(na,async w=>{if(!w)return;p(w);const S={displayName:w.displayName||"",photoURL:w.photoURL||""};try{const E=await qa(Xe(Ie,"users",w.uid));if(E.exists()){const y=E.data()||{},A={displayName:y.displayName||S.displayName,photoURL:y.photoURL||S.photoURL};u(A),v(A);return}await on({user:w,userProfile:S})}catch(E){console.warn("Falha ao carregar perfil do Firestore:",E)}u(S),v(S)});return()=>O()},[]),X.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]);const i=X.useCallback(()=>{o&&URL.revokeObjectURL(o),l(""),f(null)},[o]),a=X.useCallback(async O=>{const w=O.target.files[0],S=O.target;if(!(!w||!k))try{o&&URL.revokeObjectURL(o);const E=URL.createObjectURL(w);f(w),l(E),u(y=>({...y,photoURL:E})),_?.photoURL&&(e(_.photoURL),d(!0))}catch(E){console.error(E),alert("Erro ao preparar avatar: "+E.message)}finally{S&&(S.value="")}},[k,o,_]),c=X.useCallback(()=>{s.photoURL&&(i(),e(_?.photoURL||s.photoURL),d(!0),u(O=>({...O,photoURL:""})))},[s.photoURL,_,i]),r=X.useCallback(()=>{d(!1),e(""),i()},[i]),h=X.useCallback(async()=>{if(k){T(!0);try{let O=s;if(t){const w=await mo({user:k,file:t});O={...s,photoURL:w},u(O)}await on({user:k,userProfile:O}),v(O),b&&n&&n!==O.photoURL&&await go(n),r(),alert("Perfil atualizado!")}catch(O){console.error(O),alert("Erro ao salvar perfil: "+O.message)}finally{T(!1)}}},[k,s,t,b,n,r,T]),x=X.useCallback(()=>_?_.displayName!==s.displayName||_.photoURL!==s.photoURL:!1,[_,s]);return{user:k,userProfile:s,setUserProfile:u,originalProfile:_,setOriginalProfile:v,editingProfile:g,setEditingProfile:m,handleProfileImageUpload:a,handleProfileImageRemove:c,resetProfileEditState:r,saveUserProfile:h,hasProfileChanged:x}}function _o(T){return!T||typeof T!="string"?!1:T.startsWith("gs://")?!0:T.startsWith("http://")||T.startsWith("https://")?T.includes("firebasestorage.googleapis.com")||T.includes("storage.googleapis.com"):!0}async function oa(T){if(_o(T))try{await ra(Hr(zr,T))}catch(k){console.warn("Nao foi possivel remover arquivo no Storage:",k?.message||k)}}async function Oo({userId:T}={}){const k=Kr(Ie,"posts"),p=T?Pa(k,Ra("authorId","==",T)):k;return(await ia(p)).docs.map(_=>({id:_.id,..._.data()})).sort((_,v)=>{const g=v.updatedAt?.seconds||v.date?.seconds||v.createdAt?.seconds||0,m=_.updatedAt?.seconds||_.date?.seconds||_.createdAt?.seconds||0;return g-m})}async function ln({isEditingId:T,data:k}){T?await La(Xe(Ie,"posts",T),k):await ja(Kr(Ie,"posts"),k)}async function sn({id:T,featuredImage:k}){k&&await oa(k);const p=await ia(Kr(Ie,"posts",T,"comments"));if(!p.empty){const s=p.docs,u=450;for(let _=0;_<s.length;_+=u){const v=s.slice(_,_+u),g=Ia(Ie);v.forEach(m=>g.delete(m.ref)),await g.commit()}}await Ca(Xe(Ie,"posts",T))}async function un(T){T&&await oa(T)}const Be=Object.freeze({PUBLISHED:"published",DRAFTS:"drafts"});function Eo({user:T,setUploading:k}){const[p,s]=X.useState([]),[u,_]=X.useState(!1),[v,g]=X.useState(null),[m,b]=X.useState(Te.PUBLISHED),[d,n]=X.useState(""),[e,t]=X.useState(""),[f,o]=X.useState([]),[l,i]=X.useState(Be.PUBLISHED),[a,c]=X.useState(!1),[r,h]=X.useState(""),[x,O]=X.useState(""),[w,S]=X.useState(""),[E,y]=X.useState(""),[A,N]=X.useState(null),[P,I]=X.useState(""),U=X.useRef(""),F=X.useCallback(()=>{U.current&&(URL.revokeObjectURL(U.current),U.current="")},[]);X.useEffect(()=>()=>F(),[F]);const Z=X.useCallback(J=>p.find(re=>re.id===J)||null,[p]),D=X.useCallback(async()=>{if(!T?.uid){s([]),c(!1);return}c(!0);try{const J=await Oo({userId:T.uid});s(J)}catch(J){console.error(J),alert("Erro ao carregar posts")}finally{c(!1)}},[T?.uid]);X.useEffect(()=>{if(!T?.uid){s([]),c(!1);return}D()},[D,T?.uid]);const L=X.useMemo(()=>p.filter(re=>l===Be.DRAFTS?ze(re):!ze(re)).sort((re,ue)=>Ve(ue)-Ve(re)),[l,p]);X.useEffect(()=>{o(J=>J.filter(re=>L.some(ue=>ue.id===re)))},[L]);const q=X.useMemo(()=>L.filter(J=>f.includes(J.id)),[L,f]),j=q.length,C=L.length>0&&j===L.length,z=X.useMemo(()=>{const J=p.filter(de=>!ze(de)),re=p.filter(de=>ze(de)),ue=new Date(new Date().getFullYear(),new Date().getMonth(),1).getTime(),ve=new Date(new Date().getFullYear(),new Date().getMonth()+1,1).getTime(),ye=J.reduce((de,he)=>{const we=aa(he?.publishedAt||he?.date||he?.updatedAt||he?.createdAt);return we&&we>=ue&&we<ve?de+1:de},0),ge=J.slice().sort((de,he)=>Ve(he)-Ve(de))[0]||null;return{loading:a,totalPublished:J.length,totalDrafts:re.length,postsThisMonth:ye,latestPublishedPost:ge}},[p,a]),H=X.useMemo(()=>({published:z.totalPublished,drafts:z.totalDrafts}),[z.totalDrafts,z.totalPublished]),R=X.useCallback(J=>{try{const re=new URL(J);return re.protocol==="http:"||re.protocol==="https:"}catch{return!1}},[]),M=X.useCallback(J=>{const[re,ue]=J.split(","),ve=re.match(/data:(.*);base64/),ye=ve?ve[1]:"application/octet-stream",ge=atob(ue),de=new Uint8Array(ge.length);for(let he=0;he<ge.length;he+=1)de[he]=ge.charCodeAt(he);return{blob:new Blob([de],{type:ye}),mime:ye}},[]),K=X.useCallback(J=>{if(!J)return J;const ue=new DOMParser().parseFromString(J,"text/html"),ve=()=>{Array.from(ue.querySelectorAll("p")).forEach(de=>{const he=de.innerHTML.trim()==="<br>",we=de.innerHTML.includes("&nbsp;"),Ne=de.textContent.trim()===""&&!de.querySelector("img, video, iframe");(he||Ne)&&!we&&de.remove()})},ye=()=>{Array.from(ue.querySelectorAll("h1, h2, h3, h4, h5, h6")).forEach(de=>{let he=de.previousElementSibling;for(;he&&he.tagName==="P"&&he.textContent.trim()===""&&!he.querySelector("img, video, iframe");){const we=he;he=he.previousElementSibling,we.remove()}})};return ve(),ye(),ue.body.innerHTML},[]),G=X.useCallback(async J=>{if(!J)return J;const ue=new DOMParser().parseFromString(J,"text/html"),ve=Array.from(ue.querySelectorAll("img, video"));for(let ye=0;ye<ve.length;ye+=1){const ge=ve[ye],de=ge.getAttribute("src");if(!de||!de.startsWith("data:"))continue;const he=ge.tagName.toLowerCase()==="img",{blob:we,mime:Ne}=M(de),be=Ne.split("/")[1]||"bin",ke=`${Date.now()}_${ye}.${be}`,qe=new File([we],ke,{type:Ne}),Me=`blog/${he?"images":"videos"}/${ke}`,Re=await Br(qe,Me,{maxWidth:1200,maxHeight:1200,maxSizeMB:2,isImage:he});ge.setAttribute("src",Re)}return K(ue.body.innerHTML)},[K,M]),Y=X.useCallback(J=>{const re=J.target.files[0];if(!re)return;F();const ue=URL.createObjectURL(re);U.current=ue,y(ue),N(re),I("")},[F]),te=X.useCallback(J=>{I(J)},[]),ne=X.useCallback(()=>{const J=P.trim();if(!J||!R(J)){alert("Informe um link de imagem valido (http:// ou https://).");return}F(),y(J),N(null),I(J)},[P,R,F]),ie=X.useCallback(()=>{F(),y(""),N(null),I("")},[F]),se=X.useCallback(J=>{o(re=>re.includes(J)?re.filter(ue=>ue!==J):[...re,J])},[]),fe=X.useCallback(()=>{const J=L.map(re=>re.id);J.length&&o(re=>J.every(ve=>re.includes(ve))?re.filter(ve=>!J.includes(ve)):J)},[L]),_e=X.useCallback(()=>{o([])},[]),pe=X.useCallback(()=>{g(null),b(Te.PUBLISHED),h(""),O(""),S(""),ie(),_(!1)},[ie]),W=X.useCallback(async(J=l)=>{o([]),i(J),await D()},[l,D]),V=r.trim(),$=x.trim(),ee=w.trim(),Q=E.trim(),ae=!!(V&&$&&ee&&Q),oe=!!(V||$||ee||Q),le=X.useCallback(async(J=Te.PUBLISHED)=>{if(!T)return;const re=J===Te.DRAFT?Te.DRAFT:Te.PUBLISHED,ue=r.trim(),ve=x.trim(),ye=w.trim(),ge=E.trim(),de=!!(ue||ve||ye||ge),he=!!(ue&&ve&&ye&&ge);if(!de){alert("Preencha pelo menos um campo antes de salvar.");return}if(re===Te.PUBLISHED&&!he){alert("Titulo, resumo, imagem e conteudo sao obrigatorios para publicar.");return}if(!A&&ge&&!R(ge)){alert("A imagem destacada precisa ser um link valido.");return}k(!0);try{const Ne=(v?Z(v):null)?.featuredImage?.trim()||"";let be=ge;if(A){if(Ne)try{await un(Ne)}catch(Ce){console.warn(Ce?.message||Ce)}be=await Br(A,`blog/featured/${Date.now()}_${A.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0})}if(v&&!A&&!be&&Ne)try{await un(Ne)}catch(Ce){console.warn(Ce?.message||Ce)}const ke=await G(w),qe=re===Te.PUBLISHED,Me=qe?De():null,Re={title:ue,summary:ve,content:ke||"",featuredImage:be||"",slug:ue?Jr(ue):"",status:re,authorId:T.uid,updatedAt:De(),publishedAt:Me,date:Me};v||(Re.createdAt=De()),await ln({isEditingId:v,data:Re}),pe(),await W(qe?Be.PUBLISHED:Be.DRAFTS)}catch(we){console.error(we),alert(`Erro ao salvar post: ${we.message}`)}finally{k(!1),N(null)}},[T,r,x,w,E,A,v,R,k,G,pe,Z,W]),Oe=X.useCallback(J=>J?!!(J?.title?.trim()&&J?.summary?.trim()&&J?.content?.trim()&&J?.featuredImage?.trim()&&R(J.featuredImage.trim())):!1,[R]),Ae=X.useCallback(async J=>{!T?.uid||!J?.id||await ln({isEditingId:J.id,data:{status:Te.PUBLISHED,slug:Jr(J.title.trim()),authorId:J.authorId||T.uid,publishedAt:De(),date:De(),updatedAt:De()}})},[T?.uid]),ce=X.useCallback(J=>{F(),g(J.id),b(Da(J)),h(J.title||""),O(J.summary||""),S(K(J.content||"")),y(J.featuredImage||""),N(null),I(J.featuredImage||""),_(!0)},[K,F]),Ue=X.useCallback(async J=>{if(!T)return;const re=Z(J)||L.find(ve=>ve.id===J);if(!re)return;if(!!!(re?.title?.trim()&&re?.summary?.trim()&&re?.content?.trim()&&re?.featuredImage?.trim())){alert("Preencha titulo, resumo, imagem e conteudo no rascunho antes de publicar."),ce(re);return}if(!R(re.featuredImage.trim())){alert("A imagem destacada precisa ser um link valido para publicar."),ce(re);return}n(J),k(!0);try{await Ae(re),await W(Be.DRAFTS)}catch(ve){console.error(ve),alert(`Erro ao publicar rascunho: ${ve.message}`)}finally{k(!1),n("")}},[Z,R,L,Ae,W,k,ce,T]),me=X.useCallback(async J=>{const re=Z(J)||L.find(ue=>ue.id===J);if(re&&window.confirm("Tem certeza que deseja excluir este post?"))try{await sn({id:J,featuredImage:re.featuredImage}),await W(l)}catch(ue){console.error(ue),alert(`Erro ao deletar post: ${ue.message}`)}},[l,Z,L,W]),Se=X.useCallback(async()=>{if(!q.length)return;const J=q.filter(ye=>ze(ye));if(!J.length)return;const re=J.filter(ye=>Oe(ye)),ue=J.length-re.length;if(!re.length){alert("Nenhum rascunho selecionado esta pronto para publicacao.");return}const ve=re.length===1?"Publicar o rascunho selecionado?":`Publicar ${re.length} rascunhos selecionados?`;if(window.confirm(ve)){t("publish");try{for(const ye of re)await Ae(ye);await W(Be.DRAFTS),ue>0&&alert(`${ue} rascunho(s) selecionado(s) nao foram publicados por falta de campos obrigatorios ou imagem invalida.`)}catch(ye){console.error(ye),alert(`Erro ao publicar rascunhos: ${ye.message}`)}finally{t("")}}},[Oe,Ae,W,q]),He=X.useCallback(async()=>{if(!q.length)return;const J=q.length===1?"Excluir o post selecionado?":`Excluir ${q.length} posts selecionados?`;if(window.confirm(J)){t("delete");try{for(const re of q)await sn({id:re.id,featuredImage:re.featuredImage});await W(l)}catch(re){console.error(re),alert(`Erro ao excluir posts selecionados: ${re.message}`)}finally{t("")}}},[l,W,q]);return{posts:L,showForm:u,setShowForm:_,isEditing:v,editingStatus:m,activePostTab:l,setActivePostTab:i,postTotals:H,postStats:z,postsLoading:a,title:r,setTitle:h,summary:x,setSummary:O,content:w,setContent:S,featuredImage:E,setFeaturedImage:y,featuredFile:A,setFeaturedFile:N,featuredLinkDraft:P,canPublish:ae,canSaveDraft:oe,publishingDraftId:d,bulkActionType:e,selectedPostIds:f,selectedPostsCount:j,allVisiblePostsSelected:C,handleFeaturedLinkChange:te,handleFeaturedLinkApply:ne,clearFeaturedImage:ie,togglePostSelection:se,toggleSelectAllPosts:fe,clearSelectedPosts:_e,handleFeaturedImageSelect:Y,handleSavePost:le,handlePublishDraft:Ue,handlePublishSelectedDrafts:Se,handleDelete:me,handleDeleteSelectedPosts:He,startEdit:ce,resetForm:pe,fetchPosts:D}}var it,fn;function Ao(){if(fn)return it;fn=1;function T(){this.__data__=[],this.size=0}return it=T,it}var at,cn;function la(){if(cn)return at;cn=1;function T(k,p){return k===p||k!==k&&p!==p}return at=T,at}var ot,dn;function Je(){if(dn)return ot;dn=1;var T=la();function k(p,s){for(var u=p.length;u--;)if(T(p[u][0],s))return u;return-1}return ot=k,ot}var lt,hn;function wo(){if(hn)return lt;hn=1;var T=Je(),k=Array.prototype,p=k.splice;function s(u){var _=this.__data__,v=T(_,u);if(v<0)return!1;var g=_.length-1;return v==g?_.pop():p.call(_,v,1),--this.size,!0}return lt=s,lt}var st,vn;function xo(){if(vn)return st;vn=1;var T=Je();function k(p){var s=this.__data__,u=T(s,p);return u<0?void 0:s[u][1]}return st=k,st}var ut,pn;function So(){if(pn)return ut;pn=1;var T=Je();function k(p){return T(this.__data__,p)>-1}return ut=k,ut}var ft,yn;function To(){if(yn)return ft;yn=1;var T=Je();function k(p,s){var u=this.__data__,_=T(u,p);return _<0?(++this.size,u.push([p,s])):u[_][1]=s,this}return ft=k,ft}var ct,mn;function $e(){if(mn)return ct;mn=1;var T=Ao(),k=wo(),p=xo(),s=So(),u=To();function _(v){var g=-1,m=v==null?0:v.length;for(this.clear();++g<m;){var b=v[g];this.set(b[0],b[1])}}return _.prototype.clear=T,_.prototype.delete=k,_.prototype.get=p,_.prototype.has=s,_.prototype.set=u,ct=_,ct}var dt,gn;function ko(){if(gn)return dt;gn=1;var T=$e();function k(){this.__data__=new T,this.size=0}return dt=k,dt}var ht,bn;function No(){if(bn)return ht;bn=1;function T(k){var p=this.__data__,s=p.delete(k);return this.size=p.size,s}return ht=T,ht}var vt,_n;function qo(){if(_n)return vt;_n=1;function T(k){return this.__data__.get(k)}return vt=T,vt}var pt,On;function Po(){if(On)return pt;On=1;function T(k){return this.__data__.has(k)}return pt=T,pt}var yt,En;function sa(){if(En)return yt;En=1;var T=typeof Ze=="object"&&Ze&&Ze.Object===Object&&Ze;return yt=T,yt}var mt,An;function Le(){if(An)return mt;An=1;var T=sa(),k=typeof self=="object"&&self&&self.Object===Object&&self,p=T||k||Function("return this")();return mt=p,mt}var gt,wn;function Wr(){if(wn)return gt;wn=1;var T=Le(),k=T.Symbol;return gt=k,gt}var bt,xn;function Ro(){if(xn)return bt;xn=1;var T=Wr(),k=Object.prototype,p=k.hasOwnProperty,s=k.toString,u=T?T.toStringTag:void 0;function _(v){var g=p.call(v,u),m=v[u];try{v[u]=void 0;var b=!0}catch{}var d=s.call(v);return b&&(g?v[u]=m:delete v[u]),d}return bt=_,bt}var _t,Sn;function Lo(){if(Sn)return _t;Sn=1;var T=Object.prototype,k=T.toString;function p(s){return k.call(s)}return _t=p,_t}var Ot,Tn;function et(){if(Tn)return Ot;Tn=1;var T=Wr(),k=Ro(),p=Lo(),s="[object Null]",u="[object Undefined]",_=T?T.toStringTag:void 0;function v(g){return g==null?g===void 0?u:s:_&&_ in Object(g)?k(g):p(g)}return Ot=v,Ot}var Et,kn;function ua(){if(kn)return Et;kn=1;function T(k){var p=typeof k;return k!=null&&(p=="object"||p=="function")}return Et=T,Et}var At,Nn;function fa(){if(Nn)return At;Nn=1;var T=et(),k=ua(),p="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",_="[object Proxy]";function v(g){if(!k(g))return!1;var m=T(g);return m==s||m==u||m==p||m==_}return At=v,At}var wt,qn;function jo(){if(qn)return wt;qn=1;var T=Le(),k=T["__core-js_shared__"];return wt=k,wt}var xt,Pn;function Io(){if(Pn)return xt;Pn=1;var T=jo(),k=(function(){var s=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function p(s){return!!k&&k in s}return xt=p,xt}var St,Rn;function ca(){if(Rn)return St;Rn=1;var T=Function.prototype,k=T.toString;function p(s){if(s!=null){try{return k.call(s)}catch{}try{return s+""}catch{}}return""}return St=p,St}var Tt,Ln;function Co(){if(Ln)return Tt;Ln=1;var T=fa(),k=Io(),p=ua(),s=ca(),u=/[\\^$.*+?()[\]{}|]/g,_=/^\[object .+?Constructor\]$/,v=Function.prototype,g=Object.prototype,m=v.toString,b=g.hasOwnProperty,d=RegExp("^"+m.call(b).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n(e){if(!p(e)||k(e))return!1;var t=T(e)?d:_;return t.test(s(e))}return Tt=n,Tt}var kt,jn;function Do(){if(jn)return kt;jn=1;function T(k,p){return k?.[p]}return kt=T,kt}var Nt,In;function Fe(){if(In)return Nt;In=1;var T=Co(),k=Do();function p(s,u){var _=k(s,u);return T(_)?_:void 0}return Nt=p,Nt}var qt,Cn;function Vr(){if(Cn)return qt;Cn=1;var T=Fe(),k=Le(),p=T(k,"Map");return qt=p,qt}var Pt,Dn;function tt(){if(Dn)return Pt;Dn=1;var T=Fe(),k=T(Object,"create");return Pt=k,Pt}var Rt,Mn;function Mo(){if(Mn)return Rt;Mn=1;var T=tt();function k(){this.__data__=T?T(null):{},this.size=0}return Rt=k,Rt}var Lt,Bn;function Bo(){if(Bn)return Lt;Bn=1;function T(k){var p=this.has(k)&&delete this.__data__[k];return this.size-=p?1:0,p}return Lt=T,Lt}var jt,Fn;function Fo(){if(Fn)return jt;Fn=1;var T=tt(),k="__lodash_hash_undefined__",p=Object.prototype,s=p.hasOwnProperty;function u(_){var v=this.__data__;if(T){var g=v[_];return g===k?void 0:g}return s.call(v,_)?v[_]:void 0}return jt=u,jt}var It,Un;function Uo(){if(Un)return It;Un=1;var T=tt(),k=Object.prototype,p=k.hasOwnProperty;function s(u){var _=this.__data__;return T?_[u]!==void 0:p.call(_,u)}return It=s,It}var Ct,Hn;function Ho(){if(Hn)return Ct;Hn=1;var T=tt(),k="__lodash_hash_undefined__";function p(s,u){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=T&&u===void 0?k:u,this}return Ct=p,Ct}var Dt,zn;function zo(){if(zn)return Dt;zn=1;var T=Mo(),k=Bo(),p=Fo(),s=Uo(),u=Ho();function _(v){var g=-1,m=v==null?0:v.length;for(this.clear();++g<m;){var b=v[g];this.set(b[0],b[1])}}return _.prototype.clear=T,_.prototype.delete=k,_.prototype.get=p,_.prototype.has=s,_.prototype.set=u,Dt=_,Dt}var Mt,Kn;function Ko(){if(Kn)return Mt;Kn=1;var T=zo(),k=$e(),p=Vr();function s(){this.size=0,this.__data__={hash:new T,map:new(p||k),string:new T}}return Mt=s,Mt}var Bt,Gn;function Go(){if(Gn)return Bt;Gn=1;function T(k){var p=typeof k;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?k!=="__proto__":k===null}return Bt=T,Bt}var Ft,Wn;function rt(){if(Wn)return Ft;Wn=1;var T=Go();function k(p,s){var u=p.__data__;return T(s)?u[typeof s=="string"?"string":"hash"]:u.map}return Ft=k,Ft}var Ut,Vn;function Wo(){if(Vn)return Ut;Vn=1;var T=rt();function k(p){var s=T(this,p).delete(p);return this.size-=s?1:0,s}return Ut=k,Ut}var Ht,Zn;function Vo(){if(Zn)return Ht;Zn=1;var T=rt();function k(p){return T(this,p).get(p)}return Ht=k,Ht}var zt,Yn;function Zo(){if(Yn)return zt;Yn=1;var T=rt();function k(p){return T(this,p).has(p)}return zt=k,zt}var Kt,Qn;function Yo(){if(Qn)return Kt;Qn=1;var T=rt();function k(p,s){var u=T(this,p),_=u.size;return u.set(p,s),this.size+=u.size==_?0:1,this}return Kt=k,Kt}var Gt,Xn;function da(){if(Xn)return Gt;Xn=1;var T=Ko(),k=Wo(),p=Vo(),s=Zo(),u=Yo();function _(v){var g=-1,m=v==null?0:v.length;for(this.clear();++g<m;){var b=v[g];this.set(b[0],b[1])}}return _.prototype.clear=T,_.prototype.delete=k,_.prototype.get=p,_.prototype.has=s,_.prototype.set=u,Gt=_,Gt}var Wt,Jn;function Qo(){if(Jn)return Wt;Jn=1;var T=$e(),k=Vr(),p=da(),s=200;function u(_,v){var g=this.__data__;if(g instanceof T){var m=g.__data__;if(!k||m.length<s-1)return m.push([_,v]),this.size=++g.size,this;g=this.__data__=new p(m)}return g.set(_,v),this.size=g.size,this}return Wt=u,Wt}var Vt,$n;function Xo(){if($n)return Vt;$n=1;var T=$e(),k=ko(),p=No(),s=qo(),u=Po(),_=Qo();function v(g){var m=this.__data__=new T(g);this.size=m.size}return v.prototype.clear=k,v.prototype.delete=p,v.prototype.get=s,v.prototype.has=u,v.prototype.set=_,Vt=v,Vt}var Zt,ei;function Jo(){if(ei)return Zt;ei=1;var T="__lodash_hash_undefined__";function k(p){return this.__data__.set(p,T),this}return Zt=k,Zt}var Yt,ti;function $o(){if(ti)return Yt;ti=1;function T(k){return this.__data__.has(k)}return Yt=T,Yt}var Qt,ri;function el(){if(ri)return Qt;ri=1;var T=da(),k=Jo(),p=$o();function s(u){var _=-1,v=u==null?0:u.length;for(this.__data__=new T;++_<v;)this.add(u[_])}return s.prototype.add=s.prototype.push=k,s.prototype.has=p,Qt=s,Qt}var Xt,ni;function tl(){if(ni)return Xt;ni=1;function T(k,p){for(var s=-1,u=k==null?0:k.length;++s<u;)if(p(k[s],s,k))return!0;return!1}return Xt=T,Xt}var Jt,ii;function rl(){if(ii)return Jt;ii=1;function T(k,p){return k.has(p)}return Jt=T,Jt}var $t,ai;function ha(){if(ai)return $t;ai=1;var T=el(),k=tl(),p=rl(),s=1,u=2;function _(v,g,m,b,d,n){var e=m&s,t=v.length,f=g.length;if(t!=f&&!(e&&f>t))return!1;var o=n.get(v),l=n.get(g);if(o&&l)return o==g&&l==v;var i=-1,a=!0,c=m&u?new T:void 0;for(n.set(v,g),n.set(g,v);++i<t;){var r=v[i],h=g[i];if(b)var x=e?b(h,r,i,g,v,n):b(r,h,i,v,g,n);if(x!==void 0){if(x)continue;a=!1;break}if(c){if(!k(g,function(O,w){if(!p(c,w)&&(r===O||d(r,O,m,b,n)))return c.push(w)})){a=!1;break}}else if(!(r===h||d(r,h,m,b,n))){a=!1;break}}return n.delete(v),n.delete(g),a}return $t=_,$t}var er,oi;function nl(){if(oi)return er;oi=1;var T=Le(),k=T.Uint8Array;return er=k,er}var tr,li;function il(){if(li)return tr;li=1;function T(k){var p=-1,s=Array(k.size);return k.forEach(function(u,_){s[++p]=[_,u]}),s}return tr=T,tr}var rr,si;function al(){if(si)return rr;si=1;function T(k){var p=-1,s=Array(k.size);return k.forEach(function(u){s[++p]=u}),s}return rr=T,rr}var nr,ui;function ol(){if(ui)return nr;ui=1;var T=Wr(),k=nl(),p=la(),s=ha(),u=il(),_=al(),v=1,g=2,m="[object Boolean]",b="[object Date]",d="[object Error]",n="[object Map]",e="[object Number]",t="[object RegExp]",f="[object Set]",o="[object String]",l="[object Symbol]",i="[object ArrayBuffer]",a="[object DataView]",c=T?T.prototype:void 0,r=c?c.valueOf:void 0;function h(x,O,w,S,E,y,A){switch(w){case a:if(x.byteLength!=O.byteLength||x.byteOffset!=O.byteOffset)return!1;x=x.buffer,O=O.buffer;case i:return!(x.byteLength!=O.byteLength||!y(new k(x),new k(O)));case m:case b:case e:return p(+x,+O);case d:return x.name==O.name&&x.message==O.message;case t:case o:return x==O+"";case n:var N=u;case f:var P=S&v;if(N||(N=_),x.size!=O.size&&!P)return!1;var I=A.get(x);if(I)return I==O;S|=g,A.set(x,O);var U=s(N(x),N(O),S,E,y,A);return A.delete(x),U;case l:if(r)return r.call(x)==r.call(O)}return!1}return nr=h,nr}var ir,fi;function ll(){if(fi)return ir;fi=1;function T(k,p){for(var s=-1,u=p.length,_=k.length;++s<u;)k[_+s]=p[s];return k}return ir=T,ir}var ar,ci;function Zr(){if(ci)return ar;ci=1;var T=Array.isArray;return ar=T,ar}var or,di;function sl(){if(di)return or;di=1;var T=ll(),k=Zr();function p(s,u,_){var v=u(s);return k(s)?v:T(v,_(s))}return or=p,or}var lr,hi;function ul(){if(hi)return lr;hi=1;function T(k,p){for(var s=-1,u=k==null?0:k.length,_=0,v=[];++s<u;){var g=k[s];p(g,s,k)&&(v[_++]=g)}return v}return lr=T,lr}var sr,vi;function fl(){if(vi)return sr;vi=1;function T(){return[]}return sr=T,sr}var ur,pi;function cl(){if(pi)return ur;pi=1;var T=ul(),k=fl(),p=Object.prototype,s=p.propertyIsEnumerable,u=Object.getOwnPropertySymbols,_=u?function(v){return v==null?[]:(v=Object(v),T(u(v),function(g){return s.call(v,g)}))}:k;return ur=_,ur}var fr,yi;function dl(){if(yi)return fr;yi=1;function T(k,p){for(var s=-1,u=Array(k);++s<k;)u[s]=p(s);return u}return fr=T,fr}var cr,mi;function nt(){if(mi)return cr;mi=1;function T(k){return k!=null&&typeof k=="object"}return cr=T,cr}var dr,gi;function hl(){if(gi)return dr;gi=1;var T=et(),k=nt(),p="[object Arguments]";function s(u){return k(u)&&T(u)==p}return dr=s,dr}var hr,bi;function vl(){if(bi)return hr;bi=1;var T=hl(),k=nt(),p=Object.prototype,s=p.hasOwnProperty,u=p.propertyIsEnumerable,_=T((function(){return arguments})())?T:function(v){return k(v)&&s.call(v,"callee")&&!u.call(v,"callee")};return hr=_,hr}var Ke={exports:{}},vr,_i;function pl(){if(_i)return vr;_i=1;function T(){return!1}return vr=T,vr}Ke.exports;var Oi;function va(){return Oi||(Oi=1,(function(T,k){var p=Le(),s=pl(),u=k&&!k.nodeType&&k,_=u&&!0&&T&&!T.nodeType&&T,v=_&&_.exports===u,g=v?p.Buffer:void 0,m=g?g.isBuffer:void 0,b=m||s;T.exports=b})(Ke,Ke.exports)),Ke.exports}var pr,Ei;function yl(){if(Ei)return pr;Ei=1;var T=9007199254740991,k=/^(?:0|[1-9]\d*)$/;function p(s,u){var _=typeof s;return u=u??T,!!u&&(_=="number"||_!="symbol"&&k.test(s))&&s>-1&&s%1==0&&s<u}return pr=p,pr}var yr,Ai;function pa(){if(Ai)return yr;Ai=1;var T=9007199254740991;function k(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=T}return yr=k,yr}var mr,wi;function ml(){if(wi)return mr;wi=1;var T=et(),k=pa(),p=nt(),s="[object Arguments]",u="[object Array]",_="[object Boolean]",v="[object Date]",g="[object Error]",m="[object Function]",b="[object Map]",d="[object Number]",n="[object Object]",e="[object RegExp]",t="[object Set]",f="[object String]",o="[object WeakMap]",l="[object ArrayBuffer]",i="[object DataView]",a="[object Float32Array]",c="[object Float64Array]",r="[object Int8Array]",h="[object Int16Array]",x="[object Int32Array]",O="[object Uint8Array]",w="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]",y={};y[a]=y[c]=y[r]=y[h]=y[x]=y[O]=y[w]=y[S]=y[E]=!0,y[s]=y[u]=y[l]=y[_]=y[i]=y[v]=y[g]=y[m]=y[b]=y[d]=y[n]=y[e]=y[t]=y[f]=y[o]=!1;function A(N){return p(N)&&k(N.length)&&!!y[T(N)]}return mr=A,mr}var gr,xi;function gl(){if(xi)return gr;xi=1;function T(k){return function(p){return k(p)}}return gr=T,gr}var Ge={exports:{}};Ge.exports;var Si;function bl(){return Si||(Si=1,(function(T,k){var p=sa(),s=k&&!k.nodeType&&k,u=s&&!0&&T&&!T.nodeType&&T,_=u&&u.exports===s,v=_&&p.process,g=(function(){try{var m=u&&u.require&&u.require("util").types;return m||v&&v.binding&&v.binding("util")}catch{}})();T.exports=g})(Ge,Ge.exports)),Ge.exports}var br,Ti;function ya(){if(Ti)return br;Ti=1;var T=ml(),k=gl(),p=bl(),s=p&&p.isTypedArray,u=s?k(s):T;return br=u,br}var _r,ki;function _l(){if(ki)return _r;ki=1;var T=dl(),k=vl(),p=Zr(),s=va(),u=yl(),_=ya(),v=Object.prototype,g=v.hasOwnProperty;function m(b,d){var n=p(b),e=!n&&k(b),t=!n&&!e&&s(b),f=!n&&!e&&!t&&_(b),o=n||e||t||f,l=o?T(b.length,String):[],i=l.length;for(var a in b)(d||g.call(b,a))&&!(o&&(a=="length"||t&&(a=="offset"||a=="parent")||f&&(a=="buffer"||a=="byteLength"||a=="byteOffset")||u(a,i)))&&l.push(a);return l}return _r=m,_r}var Or,Ni;function Ol(){if(Ni)return Or;Ni=1;var T=Object.prototype;function k(p){var s=p&&p.constructor,u=typeof s=="function"&&s.prototype||T;return p===u}return Or=k,Or}var Er,qi;function El(){if(qi)return Er;qi=1;function T(k,p){return function(s){return k(p(s))}}return Er=T,Er}var Ar,Pi;function Al(){if(Pi)return Ar;Pi=1;var T=El(),k=T(Object.keys,Object);return Ar=k,Ar}var wr,Ri;function wl(){if(Ri)return wr;Ri=1;var T=Ol(),k=Al(),p=Object.prototype,s=p.hasOwnProperty;function u(_){if(!T(_))return k(_);var v=[];for(var g in Object(_))s.call(_,g)&&g!="constructor"&&v.push(g);return v}return wr=u,wr}var xr,Li;function xl(){if(Li)return xr;Li=1;var T=fa(),k=pa();function p(s){return s!=null&&k(s.length)&&!T(s)}return xr=p,xr}var Sr,ji;function Sl(){if(ji)return Sr;ji=1;var T=_l(),k=wl(),p=xl();function s(u){return p(u)?T(u):k(u)}return Sr=s,Sr}var Tr,Ii;function Tl(){if(Ii)return Tr;Ii=1;var T=sl(),k=cl(),p=Sl();function s(u){return T(u,p,k)}return Tr=s,Tr}var kr,Ci;function kl(){if(Ci)return kr;Ci=1;var T=Tl(),k=1,p=Object.prototype,s=p.hasOwnProperty;function u(_,v,g,m,b,d){var n=g&k,e=T(_),t=e.length,f=T(v),o=f.length;if(t!=o&&!n)return!1;for(var l=t;l--;){var i=e[l];if(!(n?i in v:s.call(v,i)))return!1}var a=d.get(_),c=d.get(v);if(a&&c)return a==v&&c==_;var r=!0;d.set(_,v),d.set(v,_);for(var h=n;++l<t;){i=e[l];var x=_[i],O=v[i];if(m)var w=n?m(O,x,i,v,_,d):m(x,O,i,_,v,d);if(!(w===void 0?x===O||b(x,O,g,m,d):w)){r=!1;break}h||(h=i=="constructor")}if(r&&!h){var S=_.constructor,E=v.constructor;S!=E&&"constructor"in _&&"constructor"in v&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(r=!1)}return d.delete(_),d.delete(v),r}return kr=u,kr}var Nr,Di;function Nl(){if(Di)return Nr;Di=1;var T=Fe(),k=Le(),p=T(k,"DataView");return Nr=p,Nr}var qr,Mi;function ql(){if(Mi)return qr;Mi=1;var T=Fe(),k=Le(),p=T(k,"Promise");return qr=p,qr}var Pr,Bi;function Pl(){if(Bi)return Pr;Bi=1;var T=Fe(),k=Le(),p=T(k,"Set");return Pr=p,Pr}var Rr,Fi;function Rl(){if(Fi)return Rr;Fi=1;var T=Fe(),k=Le(),p=T(k,"WeakMap");return Rr=p,Rr}var Lr,Ui;function Ll(){if(Ui)return Lr;Ui=1;var T=Nl(),k=Vr(),p=ql(),s=Pl(),u=Rl(),_=et(),v=ca(),g="[object Map]",m="[object Object]",b="[object Promise]",d="[object Set]",n="[object WeakMap]",e="[object DataView]",t=v(T),f=v(k),o=v(p),l=v(s),i=v(u),a=_;return(T&&a(new T(new ArrayBuffer(1)))!=e||k&&a(new k)!=g||p&&a(p.resolve())!=b||s&&a(new s)!=d||u&&a(new u)!=n)&&(a=function(c){var r=_(c),h=r==m?c.constructor:void 0,x=h?v(h):"";if(x)switch(x){case t:return e;case f:return g;case o:return b;case l:return d;case i:return n}return r}),Lr=a,Lr}var jr,Hi;function jl(){if(Hi)return jr;Hi=1;var T=Xo(),k=ha(),p=ol(),s=kl(),u=Ll(),_=Zr(),v=va(),g=ya(),m=1,b="[object Arguments]",d="[object Array]",n="[object Object]",e=Object.prototype,t=e.hasOwnProperty;function f(o,l,i,a,c,r){var h=_(o),x=_(l),O=h?d:u(o),w=x?d:u(l);O=O==b?n:O,w=w==b?n:w;var S=O==n,E=w==n,y=O==w;if(y&&v(o)){if(!v(l))return!1;h=!0,S=!1}if(y&&!S)return r||(r=new T),h||g(o)?k(o,l,i,a,c,r):p(o,l,O,i,a,c,r);if(!(i&m)){var A=S&&t.call(o,"__wrapped__"),N=E&&t.call(l,"__wrapped__");if(A||N){var P=A?o.value():o,I=N?l.value():l;return r||(r=new T),c(P,I,i,a,r)}}return y?(r||(r=new T),s(o,l,i,a,c,r)):!1}return jr=f,jr}var Ir,zi;function Il(){if(zi)return Ir;zi=1;var T=jl(),k=nt();function p(s,u,_,v,g){return s===u?!0:s==null||u==null||!k(s)&&!k(u)?s!==s&&u!==u:T(s,u,_,v,p,g)}return Ir=p,Ir}var Cr,Ki;function Cl(){if(Ki)return Cr;Ki=1;var T=Il();function k(p,s){return T(p,s)}return Cr=k,Cr}var Qe={exports:{}};var Dl=Qe.exports,Gi;function Ml(){return Gi||(Gi=1,(function(T,k){(function(s,u){T.exports=u()})(typeof self<"u"?self:Dl,function(){return(function(p){var s={};function u(_){if(s[_])return s[_].exports;var v=s[_]={i:_,l:!1,exports:{}};return p[_].call(v.exports,v,v.exports,u),v.l=!0,v.exports}return u.m=p,u.c=s,u.d=function(_,v,g){u.o(_,v)||Object.defineProperty(_,v,{configurable:!1,enumerable:!0,get:g})},u.n=function(_){var v=_&&_.__esModule?function(){return _.default}:function(){return _};return u.d(v,"a",v),v},u.o=function(_,v){return Object.prototype.hasOwnProperty.call(_,v)},u.p="",u(u.s=109)})([(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(17),v=u(18),g=u(19),m=u(45),b=u(46),d=u(47),n=u(48),e=u(49),t=u(12),f=u(32),o=u(33),l=u(31),i=u(1),a={Scope:i.Scope,create:i.create,find:i.find,query:i.query,register:i.register,Container:_.default,Format:v.default,Leaf:g.default,Embed:n.default,Scroll:m.default,Block:d.default,Inline:b.default,Text:e.default,Attributor:{Attribute:t.default,Class:f.default,Style:o.default,Store:l.default}};s.default=a}),(function(p,s,u){var _=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var c in a)a.hasOwnProperty(c)&&(i[c]=a[c])};return function(i,a){l(i,a);function c(){this.constructor=i}i.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=(function(l){_(i,l);function i(a){var c=this;return a="[Parchment] "+a,c=l.call(this,a)||this,c.message=a,c.name=c.constructor.name,c}return i})(Error);s.ParchmentError=v;var g={},m={},b={},d={};s.DATA_KEY="__blot";var n;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(n=s.Scope||(s.Scope={}));function e(l,i){var a=f(l);if(a==null)throw new v("Unable to create "+l+" blot");var c=a,r=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:c.create(i);return new c(r,i)}s.create=e;function t(l,i){return i===void 0&&(i=!1),l==null?null:l[s.DATA_KEY]!=null?l[s.DATA_KEY].blot:i?t(l.parentNode,i):null}s.find=t;function f(l,i){i===void 0&&(i=n.ANY);var a;if(typeof l=="string")a=d[l]||g[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)a=d.text;else if(typeof l=="number")l&n.LEVEL&n.BLOCK?a=d.block:l&n.LEVEL&n.INLINE&&(a=d.inline);else if(l instanceof HTMLElement){var c=(l.getAttribute("class")||"").split(/\s+/);for(var r in c)if(a=m[c[r]],a)break;a=a||b[l.tagName]}return a==null?null:i&n.LEVEL&a.scope&&i&n.TYPE&a.scope?a:null}s.query=f;function o(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];if(l.length>1)return l.map(function(r){return o(r)});var a=l[0];if(typeof a.blotName!="string"&&typeof a.attrName!="string")throw new v("Invalid definition");if(a.blotName==="abstract")throw new v("Cannot register abstract class");if(d[a.blotName||a.attrName]=a,typeof a.keyName=="string")g[a.keyName]=a;else if(a.className!=null&&(m[a.className]=a),a.tagName!=null){Array.isArray(a.tagName)?a.tagName=a.tagName.map(function(r){return r.toUpperCase()}):a.tagName=a.tagName.toUpperCase();var c=Array.isArray(a.tagName)?a.tagName:[a.tagName];c.forEach(function(r){(b[r]==null||a.className==null)&&(b[r]=a)})}return a}s.register=o}),(function(p,s,u){var _=u(51),v=u(11),g=u(3),m=u(20),b="\0",d=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};d.prototype.insert=function(n,e){var t={};return n.length===0?this:(t.insert=n,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},d.prototype.delete=function(n){return n<=0?this:this.push({delete:n})},d.prototype.retain=function(n,e){if(n<=0)return this;var t={retain:n};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},d.prototype.push=function(n){var e=this.ops.length,t=this.ops[e-1];if(n=g(!0,{},n),typeof t=="object"){if(typeof n.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+n.delete},this;if(typeof t.delete=="number"&&n.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(n),this;if(v(n.attributes,t.attributes)){if(typeof n.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+n.insert},typeof n.attributes=="object"&&(this.ops[e-1].attributes=n.attributes),this;if(typeof n.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+n.retain},typeof n.attributes=="object"&&(this.ops[e-1].attributes=n.attributes),this}}return e===this.ops.length?this.ops.push(n):this.ops.splice(e,0,n),this},d.prototype.chop=function(){var n=this.ops[this.ops.length-1];return n&&n.retain&&!n.attributes&&this.ops.pop(),this},d.prototype.filter=function(n){return this.ops.filter(n)},d.prototype.forEach=function(n){this.ops.forEach(n)},d.prototype.map=function(n){return this.ops.map(n)},d.prototype.partition=function(n){var e=[],t=[];return this.forEach(function(f){var o=n(f)?e:t;o.push(f)}),[e,t]},d.prototype.reduce=function(n,e){return this.ops.reduce(n,e)},d.prototype.changeLength=function(){return this.reduce(function(n,e){return e.insert?n+m.length(e):e.delete?n-e.delete:n},0)},d.prototype.length=function(){return this.reduce(function(n,e){return n+m.length(e)},0)},d.prototype.slice=function(n,e){n=n||0,typeof e!="number"&&(e=1/0);for(var t=[],f=m.iterator(this.ops),o=0;o<e&&f.hasNext();){var l;o<n?l=f.next(n-o):(l=f.next(e-o),t.push(l)),o+=m.length(l)}return new d(t)},d.prototype.compose=function(n){var e=m.iterator(this.ops),t=m.iterator(n.ops),f=[],o=t.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var l=o.retain;e.peekType()==="insert"&&e.peekLength()<=l;)l-=e.peekLength(),f.push(e.next());o.retain-l>0&&t.next(o.retain-l)}for(var i=new d(f);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")i.push(t.next());else if(e.peekType()==="delete")i.push(e.next());else{var a=Math.min(e.peekLength(),t.peekLength()),c=e.next(a),r=t.next(a);if(typeof r.retain=="number"){var h={};typeof c.retain=="number"?h.retain=a:h.insert=c.insert;var x=m.attributes.compose(c.attributes,r.attributes,typeof c.retain=="number");if(x&&(h.attributes=x),i.push(h),!t.hasNext()&&v(i.ops[i.ops.length-1],h)){var O=new d(e.rest());return i.concat(O).chop()}}else typeof r.delete=="number"&&typeof c.retain=="number"&&i.push(r)}return i.chop()},d.prototype.concat=function(n){var e=new d(this.ops.slice());return n.ops.length>0&&(e.push(n.ops[0]),e.ops=e.ops.concat(n.ops.slice(1))),e},d.prototype.diff=function(n,e){if(this.ops===n.ops)return new d;var t=[this,n].map(function(a){return a.map(function(c){if(c.insert!=null)return typeof c.insert=="string"?c.insert:b;var r=a===n?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),f=new d,o=_(t[0],t[1],e),l=m.iterator(this.ops),i=m.iterator(n.ops);return o.forEach(function(a){for(var c=a[1].length;c>0;){var r=0;switch(a[0]){case _.INSERT:r=Math.min(i.peekLength(),c),f.push(i.next(r));break;case _.DELETE:r=Math.min(c,l.peekLength()),l.next(r),f.delete(r);break;case _.EQUAL:r=Math.min(l.peekLength(),i.peekLength(),c);var h=l.next(r),x=i.next(r);v(h.insert,x.insert)?f.retain(r,m.attributes.diff(h.attributes,x.attributes)):f.push(x).delete(r);break}c-=r}}),f.chop()},d.prototype.eachLine=function(n,e){e=e||`
`;for(var t=m.iterator(this.ops),f=new d,o=0;t.hasNext();){if(t.peekType()!=="insert")return;var l=t.peek(),i=m.length(l)-t.peekLength(),a=typeof l.insert=="string"?l.insert.indexOf(e,i)-i:-1;if(a<0)f.push(t.next());else if(a>0)f.push(t.next(a));else{if(n(f,t.next(1).attributes||{},o)===!1)return;o+=1,f=new d}}f.length()>0&&n(f,{},o)},d.prototype.transform=function(n,e){if(e=!!e,typeof n=="number")return this.transformPosition(n,e);for(var t=m.iterator(this.ops),f=m.iterator(n.ops),o=new d;t.hasNext()||f.hasNext();)if(t.peekType()==="insert"&&(e||f.peekType()!=="insert"))o.retain(m.length(t.next()));else if(f.peekType()==="insert")o.push(f.next());else{var l=Math.min(t.peekLength(),f.peekLength()),i=t.next(l),a=f.next(l);if(i.delete)continue;a.delete?o.push(a):o.retain(l,m.attributes.transform(i.attributes,a.attributes,e))}return o.chop()},d.prototype.transformPosition=function(n,e){e=!!e;for(var t=m.iterator(this.ops),f=0;t.hasNext()&&f<=n;){var o=t.peekLength(),l=t.peekType();if(t.next(),l==="delete"){n-=Math.min(o,n-f);continue}else l==="insert"&&(f<n||!e)&&(n+=o);f+=o}return n},p.exports=d}),(function(p,s){var u=Object.prototype.hasOwnProperty,_=Object.prototype.toString,v=Object.defineProperty,g=Object.getOwnPropertyDescriptor,m=function(t){return typeof Array.isArray=="function"?Array.isArray(t):_.call(t)==="[object Array]"},b=function(t){if(!t||_.call(t)!=="[object Object]")return!1;var f=u.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&u.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!f&&!o)return!1;var l;for(l in t);return typeof l>"u"||u.call(t,l)},d=function(t,f){v&&f.name==="__proto__"?v(t,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):t[f.name]=f.newValue},n=function(t,f){if(f==="__proto__")if(u.call(t,f)){if(g)return g(t,f).value}else return;return t[f]};p.exports=function e(){var t,f,o,l,i,a,c=arguments[0],r=1,h=arguments.length,x=!1;for(typeof c=="boolean"&&(x=c,c=arguments[1]||{},r=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});r<h;++r)if(t=arguments[r],t!=null)for(f in t)o=n(c,f),l=n(t,f),c!==l&&(x&&l&&(b(l)||(i=m(l)))?(i?(i=!1,a=o&&m(o)?o:[]):a=o&&b(o)?o:{},d(c,{name:f,newValue:e(x,a,l)})):typeof l<"u"&&d(c,{name:f,newValue:l}));return c}}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BlockEmbed=s.bubbleFormats=void 0;var _=(function(){function y(A,N){for(var P=0;P<N.length;P++){var I=N[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,N,P){return N&&y(A.prototype,N),P&&y(A,P),A}})(),v=function y(A,N,P){A===null&&(A=Function.prototype);var I=Object.getOwnPropertyDescriptor(A,N);if(I===void 0){var U=Object.getPrototypeOf(A);return U===null?void 0:y(U,N,P)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(P)}},g=u(3),m=c(g),b=u(2),d=c(b),n=u(0),e=c(n),t=u(16),f=c(t),o=u(6),l=c(o),i=u(7),a=c(i);function c(y){return y&&y.__esModule?y:{default:y}}function r(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function h(y,A){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:y}function x(y,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);y.prototype=Object.create(A&&A.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(y,A):y.__proto__=A)}var O=1,w=(function(y){x(A,y);function A(){return r(this,A),h(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return _(A,[{key:"attach",value:function(){v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,m.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,I){var U=e.default.query(P,e.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,I)}},{key:"formatAt",value:function(P,I,U,F){this.format(U,F)}},{key:"insertAt",value:function(P,I,U){if(typeof I=="string"&&I.endsWith(`
`)){var F=e.default.create(S.blotName);this.parent.insertBefore(F,P===0?this:this.next),F.insertAt(0,I.slice(0,-1))}else v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,P,I,U)}}]),A})(e.default.Embed);w.scope=e.default.Scope.BLOCK_BLOT;var S=(function(y){x(A,y);function A(N){r(this,A);var P=h(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N));return P.cache={},P}return _(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(P,I){return I.length()===0?P:P.insert(I.value(),E(I))},new d.default).insert(`
`,E(this))),this.cache.delta}},{key:"deleteAt",value:function(P,I){v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,P,I),this.cache={}}},{key:"formatAt",value:function(P,I,U,F){I<=0||(e.default.query(U,e.default.Scope.BLOCK)?P+I===this.length()&&this.format(U,F):v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,P,Math.min(I,this.length()-P-1),U,F),this.cache={})}},{key:"insertAt",value:function(P,I,U){if(U!=null)return v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,P,I,U);if(I.length!==0){var F=I.split(`
`),Z=F.shift();Z.length>0&&(P<this.length()-1||this.children.tail==null?v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var D=this;F.reduce(function(L,q){return D=D.split(L,!0),D.insertAt(0,q),q.length},P+Z.length)}}},{key:"insertBefore",value:function(P,I){var U=this.children.head;v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,P,I),U instanceof f.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(P,I){v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,P,I),this.cache={}}},{key:"optimize",value:function(P){v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I&&(P===0||P>=this.length()-O)){var U=this.clone();return P===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var F=v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,P,I);return this.cache={},F}}}]),A})(e.default.Block);S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[l.default,e.default.Embed,a.default];function E(y){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return y==null||(typeof y.formats=="function"&&(A=(0,m.default)(A,y.formats())),y.parent==null||y.parent.blotName=="scroll"||y.parent.statics.scope!==y.statics.scope)?A:E(y.parent,A)}s.bubbleFormats=E,s.BlockEmbed=w,s.default=S}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.overload=s.expandConfig=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},v=(function(){function D(L,q){var j=[],C=!0,z=!1,H=void 0;try{for(var R=L[Symbol.iterator](),M;!(C=(M=R.next()).done)&&(j.push(M.value),!(q&&j.length===q));C=!0);}catch(K){z=!0,H=K}finally{try{!C&&R.return&&R.return()}finally{if(z)throw H}}return j}return function(L,q){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return D(L,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function D(L,q){for(var j=0;j<q.length;j++){var C=q[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}return function(L,q,j){return q&&D(L.prototype,q),j&&D(L,j),L}})();u(50);var m=u(2),b=E(m),d=u(14),n=E(d),e=u(8),t=E(e),f=u(9),o=E(f),l=u(0),i=E(l),a=u(15),c=E(a),r=u(3),h=E(r),x=u(10),O=E(x),w=u(34),S=E(w);function E(D){return D&&D.__esModule?D:{default:D}}function y(D,L,q){return L in D?Object.defineProperty(D,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[L]=q,D}function A(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}var N=(0,O.default)("quill"),P=(function(){g(D,null,[{key:"debug",value:function(q){q===!0&&(q="log"),O.default.level(q)}},{key:"find",value:function(q){return q.__quill||i.default.find(q)}},{key:"import",value:function(q){return this.imports[q]==null&&N.error("Cannot import "+q+". Are you sure it was registered?"),this.imports[q]}},{key:"register",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof q!="string"){var H=q.attrName||q.blotName;typeof H=="string"?this.register("formats/"+H,q,j):Object.keys(q).forEach(function(R){C.register(R,q[R],j)})}else this.imports[q]!=null&&!z&&N.warn("Overwriting "+q+" with",j),this.imports[q]=j,(q.startsWith("blots/")||q.startsWith("formats/"))&&j.blotName!=="abstract"?i.default.register(j):q.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function D(L){var q=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,D),this.options=I(L,j),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",L);this.options.debug&&D.debug(this.options.debug);var C=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=i.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new n.default(this.scroll),this.selection=new c.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(H){H===t.default.events.TEXT_CHANGE&&q.root.classList.toggle("ql-blank",q.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(H,R){var M=q.selection.lastRange,K=M&&M.length===0?M.index:void 0;U.call(q,function(){return q.editor.update(null,R,K)},H)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+C+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return g(D,[{key:"addContainer",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof q=="string"){var C=q;q=document.createElement("div"),q.classList.add(C)}return this.container.insertBefore(q,j),q}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(q,j,C){var z=this,H=F(q,j,C),R=v(H,4);return q=R[0],j=R[1],C=R[3],U.call(this,function(){return z.editor.deleteText(q,j)},C,q,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(q),this.container.classList.toggle("ql-disabled",!q)}},{key:"focus",value:function(){var q=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=q,this.scrollIntoView()}},{key:"format",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return U.call(this,function(){var H=C.getSelection(!0),R=new b.default;if(H==null)return R;if(i.default.query(q,i.default.Scope.BLOCK))R=C.editor.formatLine(H.index,H.length,y({},q,j));else{if(H.length===0)return C.selection.format(q,j),R;R=C.editor.formatText(H.index,H.length,y({},q,j))}return C.setSelection(H,t.default.sources.SILENT),R},z)}},{key:"formatLine",value:function(q,j,C,z,H){var R=this,M=void 0,K=F(q,j,C,z,H),G=v(K,4);return q=G[0],j=G[1],M=G[2],H=G[3],U.call(this,function(){return R.editor.formatLine(q,j,M)},H,q,0)}},{key:"formatText",value:function(q,j,C,z,H){var R=this,M=void 0,K=F(q,j,C,z,H),G=v(K,4);return q=G[0],j=G[1],M=G[2],H=G[3],U.call(this,function(){return R.editor.formatText(q,j,M)},H,q,0)}},{key:"getBounds",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=void 0;typeof q=="number"?C=this.selection.getBounds(q,j):C=this.selection.getBounds(q.index,q.length);var z=this.container.getBoundingClientRect();return{bottom:C.bottom-z.top,height:C.height,left:C.left-z.left,right:C.right-z.left,top:C.top-z.top,width:C.width}}},{key:"getContents",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,C=F(q,j),z=v(C,2);return q=z[0],j=z[1],this.editor.getContents(q,j)}},{key:"getFormat",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof q=="number"?this.editor.getFormat(q,j):this.editor.getFormat(q.index,q.length)}},{key:"getIndex",value:function(q){return q.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(q){return this.scroll.leaf(q)}},{key:"getLine",value:function(q){return this.scroll.line(q)}},{key:"getLines",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof q!="number"?this.scroll.lines(q.index,q.length):this.scroll.lines(q,j)}},{key:"getModule",value:function(q){return this.theme.modules[q]}},{key:"getSelection",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return q&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,C=F(q,j),z=v(C,2);return q=z[0],j=z[1],this.editor.getText(q,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(q,j,C){var z=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return U.call(this,function(){return z.editor.insertEmbed(q,j,C)},H,q)}},{key:"insertText",value:function(q,j,C,z,H){var R=this,M=void 0,K=F(q,0,C,z,H),G=v(K,4);return q=G[0],M=G[2],H=G[3],U.call(this,function(){return R.editor.insertText(q,j,M)},H,q,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(q,j,C){this.clipboard.dangerouslyPasteHTML(q,j,C)}},{key:"removeFormat",value:function(q,j,C){var z=this,H=F(q,j,C),R=v(H,4);return q=R[0],j=R[1],C=R[3],U.call(this,function(){return z.editor.removeFormat(q,j)},C,q)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(q){var j=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return U.call(this,function(){q=new b.default(q);var z=j.getLength(),H=j.editor.deleteText(0,z),R=j.editor.applyDelta(q),M=R.ops[R.ops.length-1];M!=null&&typeof M.insert=="string"&&M.insert[M.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),R.delete(1));var K=H.compose(R);return K},C)}},{key:"setSelection",value:function(q,j,C){if(q==null)this.selection.setRange(null,j||D.sources.API);else{var z=F(q,j,C),H=v(z,4);q=H[0],j=H[1],C=H[3],this.selection.setRange(new a.Range(q,j),C),C!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,C=new b.default().insert(q);return this.setContents(C,j)}},{key:"update",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,j=this.scroll.update(q);return this.selection.update(q),j}},{key:"updateContents",value:function(q){var j=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return U.call(this,function(){return q=new b.default(q),j.editor.applyDelta(q,C)},C,!0)}}]),D})();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=t.default.events,P.sources=t.default.sources,P.version="1.3.7",P.imports={delta:b.default,parchment:i.default,"core/module":o.default,"core/theme":S.default};function I(D,L){if(L=(0,h.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===P.DEFAULTS.theme)L.theme=S.default;else if(L.theme=P.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var q=(0,h.default)(!0,{},L.theme.DEFAULTS);[q,L].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(H){z.modules[H]===!0&&(z.modules[H]={})})});var j=Object.keys(q.modules).concat(Object.keys(L.modules)),C=j.reduce(function(z,H){var R=P.import("modules/"+H);return R==null?N.error("Cannot load "+H+" module. Are you sure you registered it?"):z[H]=R.DEFAULTS||{},z},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,h.default)(!0,{},P.DEFAULTS,{modules:C},q,L),["bounds","container","scrollingContainer"].forEach(function(z){typeof L[z]=="string"&&(L[z]=document.querySelector(L[z]))}),L.modules=Object.keys(L.modules).reduce(function(z,H){return L.modules[H]&&(z[H]=L.modules[H]),z},{}),L}function U(D,L,q,j){if(this.options.strict&&!this.isEnabled()&&L===t.default.sources.USER)return new b.default;var C=q==null?null:this.getSelection(),z=this.editor.delta,H=D();if(C!=null&&(q===!0&&(q=C.index),j==null?C=Z(C,H,L):j!==0&&(C=Z(C,q,j,L)),this.setSelection(C,t.default.sources.SILENT)),H.length()>0){var R,M=[t.default.events.TEXT_CHANGE,H,z,L];if((R=this.emitter).emit.apply(R,[t.default.events.EDITOR_CHANGE].concat(M)),L!==t.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,M)}}return H}function F(D,L,q,j,C){var z={};return typeof D.index=="number"&&typeof D.length=="number"?typeof L!="number"?(C=j,j=q,q=L,L=D.length,D=D.index):(L=D.length,D=D.index):typeof L!="number"&&(C=j,j=q,q=L,L=0),(typeof q>"u"?"undefined":_(q))==="object"?(z=q,C=j):typeof q=="string"&&(j!=null?z[q]=j:C=q),C=C||t.default.sources.API,[D,L,z,C]}function Z(D,L,q,j){if(D==null)return null;var C=void 0,z=void 0;if(L instanceof b.default){var H=[D.index,D.index+D.length].map(function(G){return L.transformPosition(G,j!==t.default.sources.USER)}),R=v(H,2);C=R[0],z=R[1]}else{var M=[D.index,D.index+D.length].map(function(G){return G<L||G===L&&j===t.default.sources.USER?G:q>=0?G+q:Math.max(L,G+q)}),K=v(M,2);C=K[0],z=K[1]}return new a.Range(C,z-C)}s.expandConfig=I,s.overload=F,s.default=P}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function l(i,a){for(var c=0;c<a.length;c++){var r=a[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,a,c){return a&&l(i.prototype,a),c&&l(i,c),i}})(),v=function l(i,a,c){i===null&&(i=Function.prototype);var r=Object.getOwnPropertyDescriptor(i,a);if(r===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,a,c)}else{if("value"in r)return r.value;var x=r.get;return x===void 0?void 0:x.call(c)}},g=u(7),m=n(g),b=u(0),d=n(b);function n(l){return l&&l.__esModule?l:{default:l}}function e(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function t(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function f(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var o=(function(l){f(i,l);function i(){return e(this,i),t(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"formatAt",value:function(c,r,h,x){if(i.compare(this.statics.blotName,h)<0&&d.default.query(h,d.default.Scope.BLOT)){var O=this.isolate(c,r);x&&O.wrap(h,x)}else v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"formatAt",this).call(this,c,r,h,x)}},{key:"optimize",value:function(c){if(v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"optimize",this).call(this,c),this.parent instanceof i&&i.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(c,r){var h=i.order.indexOf(c),x=i.order.indexOf(r);return h>=0||x>=0?h-x:c===r?0:c<r?-1:1}}]),i})(d.default.Inline);o.allowedChildren=[o,d.default.Embed,m.default],o.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],s.default=o}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(0),v=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(v.default.Text);s.default=n}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function a(c,r){for(var h=0;h<r.length;h++){var x=r[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,r,h){return r&&a(c.prototype,r),h&&a(c,h),c}})(),v=function a(c,r,h){c===null&&(c=Function.prototype);var x=Object.getOwnPropertyDescriptor(c,r);if(x===void 0){var O=Object.getPrototypeOf(c);return O===null?void 0:a(O,r,h)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(h)}},g=u(54),m=n(g),b=u(10),d=n(b);function n(a){return a&&a.__esModule?a:{default:a}}function e(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}function t(a,c){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:a}function f(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(a,c):a.__proto__=c)}var o=(0,d.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(a){document.addEventListener(a,function(){for(var c=arguments.length,r=Array(c),h=0;h<c;h++)r[h]=arguments[h];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var O;(O=x.__quill.emitter).handleDOM.apply(O,r)}})})});var i=(function(a){f(c,a);function c(){e(this,c);var r=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return r.listeners={},r.on("error",o.error),r}return _(c,[{key:"emit",value:function(){o.log.apply(o,arguments),v(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(h){for(var x=arguments.length,O=Array(x>1?x-1:0),w=1;w<x;w++)O[w-1]=arguments[w];(this.listeners[h.type]||[]).forEach(function(S){var E=S.node,y=S.handler;(h.target===E||E.contains(h.target))&&y.apply(void 0,[h].concat(O))})}},{key:"listenDOM",value:function(h,x,O){this.listeners[h]||(this.listeners[h]=[]),this.listeners[h].push({node:x,handler:O})}}]),c})(m.default);i.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},i.sources={API:"api",SILENT:"silent",USER:"user"},s.default=i}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});function _(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}var v=function g(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_(this,g),this.quill=m,this.options=b};v.DEFAULTS={},s.default=v}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=["error","warn","log","info"],v="warn";function g(b){if(_.indexOf(b)<=_.indexOf(v)){for(var d,n=arguments.length,e=Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];(d=console)[b].apply(d,e)}}function m(b){return _.reduce(function(d,n){return d[n]=g.bind(console,n,b),d},{})}g.level=m.level=function(b){v=b},s.default=m}),(function(p,s,u){var _=Array.prototype.slice,v=u(52),g=u(53),m=p.exports=function(e,t,f){return f||(f={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?f.strict?e===t:e==t:n(e,t,f)};function b(e){return e==null}function d(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function n(e,t,f){var o,l;if(b(e)||b(t)||e.prototype!==t.prototype)return!1;if(g(e))return g(t)?(e=_.call(e),t=_.call(t),m(e,t,f)):!1;if(d(e)){if(!d(t)||e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var i=v(e),a=v(t)}catch{return!1}if(i.length!=a.length)return!1;for(i.sort(),a.sort(),o=i.length-1;o>=0;o--)if(i[o]!=a[o])return!1;for(o=i.length-1;o>=0;o--)if(l=i[o],!m(e[l],t[l],f))return!1;return typeof e==typeof t}}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(1),v=(function(){function g(m,b,d){d===void 0&&(d={}),this.attrName=m,this.keyName=b;var n=_.Scope.TYPE&_.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&_.Scope.LEVEL|n:this.scope=_.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return g.keys=function(m){return[].map.call(m.attributes,function(b){return b.name})},g.prototype.add=function(m,b){return this.canAdd(m,b)?(m.setAttribute(this.keyName,b),!0):!1},g.prototype.canAdd=function(m,b){var d=_.query(m,_.Scope.BLOT&(this.scope|_.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof b=="string"?this.whitelist.indexOf(b.replace(/["']/g,""))>-1:this.whitelist.indexOf(b)>-1},g.prototype.remove=function(m){m.removeAttribute(this.keyName)},g.prototype.value=function(m){var b=m.getAttribute(this.keyName);return this.canAdd(m,b)&&b?b:""},g})();s.default=v}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Code=void 0;var _=(function(){function w(S,E){var y=[],A=!0,N=!1,P=void 0;try{for(var I=S[Symbol.iterator](),U;!(A=(U=I.next()).done)&&(y.push(U.value),!(E&&y.length===E));A=!0);}catch(F){N=!0,P=F}finally{try{!A&&I.return&&I.return()}finally{if(N)throw P}}return y}return function(S,E){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function w(S,E){for(var y=0;y<E.length;y++){var A=E[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,E,y){return E&&w(S.prototype,E),y&&w(S,y),S}})(),g=function w(S,E,y){S===null&&(S=Function.prototype);var A=Object.getOwnPropertyDescriptor(S,E);if(A===void 0){var N=Object.getPrototypeOf(S);return N===null?void 0:w(N,E,y)}else{if("value"in A)return A.value;var P=A.get;return P===void 0?void 0:P.call(y)}},m=u(2),b=a(m),d=u(0),n=a(d),e=u(4),t=a(e),f=u(6),o=a(f),l=u(7),i=a(l);function a(w){return w&&w.__esModule?w:{default:w}}function c(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function r(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function h(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var x=(function(w){h(S,w);function S(){return c(this,S),r(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return S})(o.default);x.blotName="code",x.tagName="CODE";var O=(function(w){h(S,w);function S(){return c(this,S),r(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return v(S,[{key:"delta",value:function(){var y=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(N,P){return N.insert(P).insert(`
`,y.formats())},new b.default)}},{key:"format",value:function(y,A){if(!(y===this.statics.blotName&&A)){var N=this.descendant(i.default,this.length()-1),P=_(N,1),I=P[0];I?.deleteAt(I.length()-1,1),g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,y,A)}}},{key:"formatAt",value:function(y,A,N,P){if(A!==0&&!(n.default.query(N,n.default.Scope.BLOCK)==null||N===this.statics.blotName&&P===this.statics.formats(this.domNode))){var I=this.newlineIndex(y);if(!(I<0||I>=y+A)){var U=this.newlineIndex(y,!0)+1,F=I-U+1,Z=this.isolate(U,F),D=Z.next;Z.format(N,P),D instanceof S&&D.formatAt(0,y-U+A-F,N,P)}}}},{key:"insertAt",value:function(y,A,N){if(N==null){var P=this.descendant(i.default,y),I=_(P,2),U=I[0],F=I[1];U.insertAt(F,A)}}},{key:"length",value:function(){var y=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?y:y+1}},{key:"newlineIndex",value:function(y){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,y).lastIndexOf(`
`);var N=this.domNode.textContent.slice(y).indexOf(`
`);return N>-1?y+N:-1}},{key:"optimize",value:function(y){this.domNode.textContent.endsWith(`
`)||this.appendChild(n.default.create("text",`
`)),g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,y);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(y),A.moveChildren(this),A.remove())}},{key:"replace",value:function(y){g(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,y),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var N=n.default.find(A);N==null?A.parentNode.removeChild(A):N instanceof n.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(y){var A=g(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,y);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),S})(t.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",s.Code=x,s.default=O}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},v=(function(){function D(L,q){var j=[],C=!0,z=!1,H=void 0;try{for(var R=L[Symbol.iterator](),M;!(C=(M=R.next()).done)&&(j.push(M.value),!(q&&j.length===q));C=!0);}catch(K){z=!0,H=K}finally{try{!C&&R.return&&R.return()}finally{if(z)throw H}}return j}return function(L,q){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return D(L,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function D(L,q){for(var j=0;j<q.length;j++){var C=q[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}return function(L,q,j){return q&&D(L.prototype,q),j&&D(L,j),L}})(),m=u(2),b=A(m),d=u(20),n=A(d),e=u(0),t=A(e),f=u(13),o=A(f),l=u(24),i=A(l),a=u(4),c=A(a),r=u(16),h=A(r),x=u(21),O=A(x),w=u(11),S=A(w),E=u(3),y=A(E);function A(D){return D&&D.__esModule?D:{default:D}}function N(D,L,q){return L in D?Object.defineProperty(D,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[L]=q,D}function P(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}var I=/^[ -~]*$/,U=(function(){function D(L){P(this,D),this.scroll=L,this.delta=this.getDelta()}return g(D,[{key:"applyDelta",value:function(q){var j=this,C=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),q=Z(q),q.reduce(function(H,R){var M=R.retain||R.delete||R.insert.length||1,K=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var G=R.insert;G.endsWith(`
`)&&C&&(C=!1,G=G.slice(0,-1)),H>=z&&!G.endsWith(`
`)&&(C=!0),j.scroll.insertAt(H,G);var Y=j.scroll.line(H),te=v(Y,2),ne=te[0],ie=te[1],se=(0,y.default)({},(0,a.bubbleFormats)(ne));if(ne instanceof c.default){var fe=ne.descendant(t.default.Leaf,ie),_e=v(fe,1),pe=_e[0];se=(0,y.default)(se,(0,a.bubbleFormats)(pe))}K=n.default.attributes.diff(se,K)||{}}else if(_(R.insert)==="object"){var W=Object.keys(R.insert)[0];if(W==null)return H;j.scroll.insertAt(H,W,R.insert[W])}z+=M}return Object.keys(K).forEach(function(V){j.scroll.formatAt(H,M,V,K[V])}),H+M},0),q.reduce(function(H,R){return typeof R.delete=="number"?(j.scroll.deleteAt(H,R.delete),H):H+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(q)}},{key:"deleteText",value:function(q,j){return this.scroll.deleteAt(q,j),this.update(new b.default().retain(q).delete(j))}},{key:"formatLine",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(H){if(!(C.scroll.whitelist!=null&&!C.scroll.whitelist[H])){var R=C.scroll.lines(q,Math.max(j,1)),M=j;R.forEach(function(K){var G=K.length();if(!(K instanceof o.default))K.format(H,z[H]);else{var Y=q-K.offset(C.scroll),te=K.newlineIndex(Y+M)-Y+1;K.formatAt(Y,te,H,z[H])}M-=G})}}),this.scroll.optimize(),this.update(new b.default().retain(q).retain(j,(0,O.default)(z)))}},{key:"formatText",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(H){C.scroll.formatAt(q,j,H,z[H])}),this.update(new b.default().retain(q).retain(j,(0,O.default)(z)))}},{key:"getContents",value:function(q,j){return this.delta.slice(q,q+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(q,j){return q.concat(j.delta())},new b.default)}},{key:"getFormat",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=[],z=[];j===0?this.scroll.path(q).forEach(function(R){var M=v(R,1),K=M[0];K instanceof c.default?C.push(K):K instanceof t.default.Leaf&&z.push(K)}):(C=this.scroll.lines(q,j),z=this.scroll.descendants(t.default.Leaf,q,j));var H=[C,z].map(function(R){if(R.length===0)return{};for(var M=(0,a.bubbleFormats)(R.shift());Object.keys(M).length>0;){var K=R.shift();if(K==null)return M;M=F((0,a.bubbleFormats)(K),M)}return M});return y.default.apply(y.default,H)}},{key:"getText",value:function(q,j){return this.getContents(q,j).filter(function(C){return typeof C.insert=="string"}).map(function(C){return C.insert}).join("")}},{key:"insertEmbed",value:function(q,j,C){return this.scroll.insertAt(q,j,C),this.update(new b.default().retain(q).insert(N({},j,C)))}},{key:"insertText",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(q,j),Object.keys(z).forEach(function(H){C.scroll.formatAt(q,j.length,H,z[H])}),this.update(new b.default().retain(q).insert(j,(0,O.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var q=this.scroll.children.head;return q.statics.blotName!==c.default.blotName||q.children.length>1?!1:q.children.head instanceof h.default}},{key:"removeFormat",value:function(q,j){var C=this.getText(q,j),z=this.scroll.line(q+j),H=v(z,2),R=H[0],M=H[1],K=0,G=new b.default;R!=null&&(R instanceof o.default?K=R.newlineIndex(M)-M+1:K=R.length()-M,G=R.delta().slice(M,M+K-1).insert(`
`));var Y=this.getContents(q,j+K),te=Y.diff(new b.default().insert(C).concat(G)),ne=new b.default().retain(q).concat(te);return this.applyDelta(ne)}},{key:"update",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(I)&&t.default.find(j[0].target)){var H=t.default.find(j[0].target),R=(0,a.bubbleFormats)(H),M=H.offset(this.scroll),K=j[0].oldValue.replace(i.default.CONTENTS,""),G=new b.default().insert(K),Y=new b.default().insert(H.value()),te=new b.default().retain(M).concat(G.diff(Y,C));q=te.reduce(function(ne,ie){return ie.insert?ne.insert(ie.insert,R):ne.push(ie)},new b.default),this.delta=z.compose(q)}else this.delta=this.getDelta(),(!q||!(0,S.default)(z.compose(q),this.delta))&&(q=z.diff(this.delta,C));return q}}]),D})();function F(D,L){return Object.keys(L).reduce(function(q,j){return D[j]==null||(L[j]===D[j]?q[j]=L[j]:Array.isArray(L[j])?L[j].indexOf(D[j])<0&&(q[j]=L[j].concat([D[j]])):q[j]=[L[j],D[j]]),q},{})}function Z(D){return D.reduce(function(L,q){if(q.insert===1){var j=(0,O.default)(q.attributes);return delete j.image,L.insert({image:q.attributes.image},j)}if(q.attributes!=null&&(q.attributes.list===!0||q.attributes.bullet===!0)&&(q=(0,O.default)(q),q.attributes.list?q.attributes.list="ordered":(q.attributes.list="bullet",delete q.attributes.bullet)),typeof q.insert=="string"){var C=q.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(C,q.attributes)}return L.push(q)},new b.default)}s.default=U}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Range=void 0;var _=(function(){function w(S,E){var y=[],A=!0,N=!1,P=void 0;try{for(var I=S[Symbol.iterator](),U;!(A=(U=I.next()).done)&&(y.push(U.value),!(E&&y.length===E));A=!0);}catch(F){N=!0,P=F}finally{try{!A&&I.return&&I.return()}finally{if(N)throw P}}return y}return function(S,E){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return w(S,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function w(S,E){for(var y=0;y<E.length;y++){var A=E[y];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,E,y){return E&&w(S.prototype,E),y&&w(S,y),S}})(),g=u(0),m=i(g),b=u(21),d=i(b),n=u(11),e=i(n),t=u(8),f=i(t),o=u(10),l=i(o);function i(w){return w&&w.__esModule?w:{default:w}}function a(w){if(Array.isArray(w)){for(var S=0,E=Array(w.length);S<w.length;S++)E[S]=w[S];return E}else return Array.from(w)}function c(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}var r=(0,l.default)("quill:selection"),h=function w(S){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;c(this,w),this.index=S,this.length=E},x=(function(){function w(S,E){var y=this;c(this,w),this.emitter=E,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=m.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){y.mouseDown||setTimeout(y.update.bind(y,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(A,N){A===f.default.events.TEXT_CHANGE&&N.length()>0&&y.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(y.hasFocus()){var A=y.getNativeRange();A!=null&&A.start.node!==y.cursor.textNode&&y.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{y.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(A,N){if(N.range){var P=N.range,I=P.startNode,U=P.startOffset,F=P.endNode,Z=P.endOffset;y.setNativeRange(I,U,F,Z)}}),this.update(f.default.sources.SILENT)}return v(w,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var y=E.cursor.restore();if(!y)return;setTimeout(function(){E.setNativeRange(y.startNode,y.startOffset,y.endNode,y.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,y){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||m.default.query(E,m.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var N=m.default.find(A.start.node,!1);if(N==null)return;if(N instanceof m.default.Leaf){var P=N.split(A.start.offset);N.parent.insertBefore(this.cursor,P)}else N.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(E,y),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();E=Math.min(E,A-1),y=Math.min(E+y,A-1)-E;var N=void 0,P=this.scroll.leaf(E),I=_(P,2),U=I[0],F=I[1];if(U==null)return null;var Z=U.position(F,!0),D=_(Z,2);N=D[0],F=D[1];var L=document.createRange();if(y>0){L.setStart(N,F);var q=this.scroll.leaf(E+y),j=_(q,2);if(U=j[0],F=j[1],U==null)return null;var C=U.position(F,!0),z=_(C,2);return N=z[0],F=z[1],L.setEnd(N,F),L.getBoundingClientRect()}else{var H="left",R=void 0;return N instanceof Text?(F<N.data.length?(L.setStart(N,F),L.setEnd(N,F+1)):(L.setStart(N,F-1),L.setEnd(N,F),H="right"),R=L.getBoundingClientRect()):(R=U.domNode.getBoundingClientRect(),F>0&&(H="right")),{bottom:R.top+R.height,height:R.height,left:R[H],right:R[H],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var y=E.getRangeAt(0);if(y==null)return null;var A=this.normalizeNative(y);return r.info("getNativeRange",A),A}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var y=this.normalizedToRange(E);return[y,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var y=this,A=[[E.start.node,E.start.offset]];E.native.collapsed||A.push([E.end.node,E.end.offset]);var N=A.map(function(U){var F=_(U,2),Z=F[0],D=F[1],L=m.default.find(Z,!0),q=L.offset(y.scroll);return D===0?q:L instanceof m.default.Container?q+L.length():q+L.index(Z,D)}),P=Math.min(Math.max.apply(Math,a(N)),this.scroll.length()-1),I=Math.min.apply(Math,[P].concat(a(N)));return new h(I,P-I)}},{key:"normalizeNative",value:function(E){if(!O(this.root,E.startContainer)||!E.collapsed&&!O(this.root,E.endContainer))return null;var y={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[y.start,y.end].forEach(function(A){for(var N=A.node,P=A.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>P)N=N.childNodes[P],P=0;else if(N.childNodes.length===P)N=N.lastChild,P=N instanceof Text?N.data.length:N.childNodes.length+1;else break;A.node=N,A.offset=P}),y}},{key:"rangeToNative",value:function(E){var y=this,A=E.collapsed?[E.index]:[E.index,E.index+E.length],N=[],P=this.scroll.length();return A.forEach(function(I,U){I=Math.min(P-1,I);var F=void 0,Z=y.scroll.leaf(I),D=_(Z,2),L=D[0],q=D[1],j=L.position(q,U!==0),C=_(j,2);F=C[0],q=C[1],N.push(F,q)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(E){var y=this.lastRange;if(y!=null){var A=this.getBounds(y.index,y.length);if(A!=null){var N=this.scroll.length()-1,P=this.scroll.line(Math.min(y.index,N)),I=_(P,1),U=I[0],F=U;if(y.length>0){var Z=this.scroll.line(Math.min(y.index+y.length,N)),D=_(Z,1);F=D[0]}if(!(U==null||F==null)){var L=E.getBoundingClientRect();A.top<L.top?E.scrollTop-=L.top-A.top:A.bottom>L.bottom&&(E.scrollTop+=A.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(E,y){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:y,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r.info("setNativeRange",E,y,A,N),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||A.parentNode==null))){var I=document.getSelection();if(I!=null)if(E!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||P||E!==U.startContainer||y!==U.startOffset||A!==U.endContainer||N!==U.endOffset){E.tagName=="BR"&&(y=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),A.tagName=="BR"&&(N=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var F=document.createRange();F.setStart(E,y),F.setEnd(A,N),I.removeAllRanges(),I.addRange(F)}}else I.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;if(typeof y=="string"&&(A=y,y=!1),r.info("setRange",E),E!=null){var N=this.rangeToNative(E);this.setNativeRange.apply(this,a(N).concat([y]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,y=this.lastRange,A=this.getRange(),N=_(A,2),P=N[0],I=N[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(y,this.lastRange)){var U;!this.composing&&I!=null&&I.native.collapsed&&I.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[f.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(y),E];if((U=this.emitter).emit.apply(U,[f.default.events.EDITOR_CHANGE].concat(F)),E!==f.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,F)}}}}]),w})();function O(w,S){try{S.parentNode}catch{return!1}return S instanceof Text&&(S=S.parentNode),w.contains(S)}s.Range=h,s.default=x}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var i=0;i<l.length;i++){var a=l[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,l,i){return l&&f(o.prototype,l),i&&f(o,i),o}})(),v=function f(o,l,i){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,l);if(a===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,i)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(i)}},g=u(0),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function n(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _(o,[{key:"insertInto",value:function(i,a){i.children.length===0?v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"insertInto",this).call(this,i,a):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),o})(m.default.Embed);t.blotName="break",t.tagName="BR",s.default=t}),(function(p,s,u){var _=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){n(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(44),g=u(30),m=u(1),b=(function(n){_(e,n);function e(t){var f=n.call(this,t)||this;return f.build(),f}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){n.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new v.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var o=d(f);t.insertBefore(o,t.children.head||void 0)}catch(l){if(l instanceof m.ParchmentError)return;throw l}})},e.prototype.deleteAt=function(t,f){if(t===0&&f===this.length())return this.remove();this.children.forEachAt(t,f,function(o,l,i){o.deleteAt(l,i)})},e.prototype.descendant=function(t,f){var o=this.children.find(f),l=o[0],i=o[1];return t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t?[l,i]:l instanceof e?l.descendant(t,i):[null,-1]},e.prototype.descendants=function(t,f,o){f===void 0&&(f=0),o===void 0&&(o=Number.MAX_VALUE);var l=[],i=o;return this.children.forEachAt(f,o,function(a,c,r){(t.blotName==null&&t(a)||t.blotName!=null&&a instanceof t)&&l.push(a),a instanceof e&&(l=l.concat(a.descendants(t,c,i))),i-=r}),l},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),n.prototype.detach.call(this)},e.prototype.formatAt=function(t,f,o,l){this.children.forEachAt(t,f,function(i,a,c){i.formatAt(a,c,o,l)})},e.prototype.insertAt=function(t,f,o){var l=this.children.find(t),i=l[0],a=l[1];if(i)i.insertAt(a,f,o);else{var c=o==null?m.create("text",f):m.create(f,o);this.appendChild(c)}},e.prototype.insertBefore=function(t,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(o){return t instanceof o}))throw new m.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,f)},e.prototype.length=function(){return this.children.reduce(function(t,f){return t+f.length()},0)},e.prototype.moveChildren=function(t,f){this.children.forEach(function(o){t.insertBefore(o,f)})},e.prototype.optimize=function(t){if(n.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var f=m.create(this.statics.defaultChild);this.appendChild(f),f.optimize(t)}else this.remove()},e.prototype.path=function(t,f){f===void 0&&(f=!1);var o=this.children.find(t,f),l=o[0],i=o[1],a=[[this,t]];return l instanceof e?a.concat(l.path(i,f)):(l!=null&&a.push([l,i]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),n.prototype.replace.call(this,t)},e.prototype.split=function(t,f){if(f===void 0&&(f=!1),!f){if(t===0)return this;if(t===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(t,this.length(),function(l,i,a){l=l.split(i,f),o.appendChild(l)}),o},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,f){var o=this,l=[],i=[];t.forEach(function(a){a.target===o.domNode&&a.type==="childList"&&(l.push.apply(l,a.addedNodes),i.push.apply(i,a.removedNodes))}),i.forEach(function(a){if(!(a.parentNode!=null&&a.tagName!=="IFRAME"&&document.body.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var c=m.find(a);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===o.domNode)&&c.detach()}}),l.filter(function(a){return a.parentNode==o.domNode}).sort(function(a,c){return a===c?0:a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(a){var c=null;a.nextSibling!=null&&(c=m.find(a.nextSibling));var r=d(a);(r.next!=c||r.next==null)&&(r.parent!=null&&r.parent.removeChild(o),o.insertBefore(r,c||void 0))})},e})(g.default);function d(n){var e=m.find(n);if(e==null)try{e=m.create(n)}catch{e=m.create(m.Scope.INLINE),[].slice.call(n.childNodes).forEach(function(f){e.domNode.appendChild(f)}),n.parentNode&&n.parentNode.replaceChild(e.domNode,n),e.attach()}return e}s.default=b}),(function(p,s,u){var _=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){n(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(12),g=u(31),m=u(17),b=u(1),d=(function(n){_(e,n);function e(t){var f=n.call(this,t)||this;return f.attributes=new g.default(f.domNode),f}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,f){var o=b.query(t);o instanceof v.default?this.attributes.attribute(o,f):f&&o!=null&&(t!==this.statics.blotName||this.formats()[t]!==f)&&this.replaceWith(t,f)},e.prototype.formats=function(){var t=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(t[this.statics.blotName]=f),t},e.prototype.replaceWith=function(t,f){var o=n.prototype.replaceWith.call(this,t,f);return this.attributes.copy(o),o},e.prototype.update=function(t,f){var o=this;n.prototype.update.call(this,t,f),t.some(function(l){return l.target===o.domNode&&l.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,f){var o=n.prototype.wrap.call(this,t,f);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e})(m.default);s.default=d}),(function(p,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(30),g=u(1),m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.value=function(n){return!0},d.prototype.index=function(n,e){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},d.prototype.position=function(n,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return n>0&&(t+=1),[this.parent.domNode,t]},d.prototype.value=function(){var n;return n={},n[this.statics.blotName]=this.statics.value(this.domNode)||!0,n},d.scope=g.Scope.INLINE_BLOT,d})(v.default);s.default=m}),(function(p,s,u){var _=u(11),v=u(3),g={attributes:{compose:function(b,d,n){typeof b!="object"&&(b={}),typeof d!="object"&&(d={});var e=v(!0,{},d);n||(e=Object.keys(e).reduce(function(f,o){return e[o]!=null&&(f[o]=e[o]),f},{}));for(var t in b)b[t]!==void 0&&d[t]===void 0&&(e[t]=b[t]);return Object.keys(e).length>0?e:void 0},diff:function(b,d){typeof b!="object"&&(b={}),typeof d!="object"&&(d={});var n=Object.keys(b).concat(Object.keys(d)).reduce(function(e,t){return _(b[t],d[t])||(e[t]=d[t]===void 0?null:d[t]),e},{});return Object.keys(n).length>0?n:void 0},transform:function(b,d,n){if(typeof b!="object")return d;if(typeof d=="object"){if(!n)return d;var e=Object.keys(d).reduce(function(t,f){return b[f]===void 0&&(t[f]=d[f]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(b){return new m(b)},length:function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}};function m(b){this.ops=b,this.index=0,this.offset=0}m.prototype.hasNext=function(){return this.peekLength()<1/0},m.prototype.next=function(b){b||(b=1/0);var d=this.ops[this.index];if(d){var n=this.offset,e=g.length(d);if(b>=e-n?(b=e-n,this.index+=1,this.offset=0):this.offset+=b,typeof d.delete=="number")return{delete:b};var t={};return d.attributes&&(t.attributes=d.attributes),typeof d.retain=="number"?t.retain=b:typeof d.insert=="string"?t.insert=d.insert.substr(n,b):t.insert=d.insert,t}else return{retain:1/0}},m.prototype.peek=function(){return this.ops[this.index]},m.prototype.peekLength=function(){return this.ops[this.index]?g.length(this.ops[this.index])-this.offset:1/0},m.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},m.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,d=this.index,n=this.next(),e=this.ops.slice(this.index);return this.offset=b,this.index=d,[n].concat(e)}else return[]},p.exports=g}),(function(p,s){var u=(function(){function _(o,l){return l!=null&&o instanceof l}var v;try{v=Map}catch{v=function(){}}var g;try{g=Set}catch{g=function(){}}var m;try{m=Promise}catch{m=function(){}}function b(o,l,i,a,c){typeof l=="object"&&(i=l.depth,a=l.prototype,c=l.includeNonEnumerable,l=l.circular);var r=[],h=[],x=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof i>"u"&&(i=1/0);function O(w,S){if(w===null)return null;if(S===0)return w;var E,y;if(typeof w!="object")return w;if(_(w,v))E=new v;else if(_(w,g))E=new g;else if(_(w,m))E=new m(function(L,q){w.then(function(j){L(O(j,S-1))},function(j){q(O(j,S-1))})});else if(b.__isArray(w))E=[];else if(b.__isRegExp(w))E=new RegExp(w.source,f(w)),w.lastIndex&&(E.lastIndex=w.lastIndex);else if(b.__isDate(w))E=new Date(w.getTime());else{if(x&&Buffer.isBuffer(w))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(w.length):E=new Buffer(w.length),w.copy(E),E;_(w,Error)?E=Object.create(w):typeof a>"u"?(y=Object.getPrototypeOf(w),E=Object.create(y)):(E=Object.create(a),y=a)}if(l){var A=r.indexOf(w);if(A!=-1)return h[A];r.push(w),h.push(E)}_(w,v)&&w.forEach(function(L,q){var j=O(q,S-1),C=O(L,S-1);E.set(j,C)}),_(w,g)&&w.forEach(function(L){var q=O(L,S-1);E.add(q)});for(var N in w){var P;y&&(P=Object.getOwnPropertyDescriptor(y,N)),!(P&&P.set==null)&&(E[N]=O(w[N],S-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(w),N=0;N<I.length;N++){var U=I[N],F=Object.getOwnPropertyDescriptor(w,U);F&&!F.enumerable&&!c||(E[U]=O(w[U],S-1),F.enumerable||Object.defineProperty(E,U,{enumerable:!1}))}if(c)for(var Z=Object.getOwnPropertyNames(w),N=0;N<Z.length;N++){var D=Z[N],F=Object.getOwnPropertyDescriptor(w,D);F&&F.enumerable||(E[D]=O(w[D],S-1),Object.defineProperty(E,D,{enumerable:!1}))}return E}return O(o,i)}b.clonePrototype=function(l){if(l===null)return null;var i=function(){};return i.prototype=l,new i};function d(o){return Object.prototype.toString.call(o)}b.__objToStr=d;function n(o){return typeof o=="object"&&d(o)==="[object Date]"}b.__isDate=n;function e(o){return typeof o=="object"&&d(o)==="[object Array]"}b.__isArray=e;function t(o){return typeof o=="object"&&d(o)==="[object RegExp]"}b.__isRegExp=t;function f(o){var l="";return o.global&&(l+="g"),o.ignoreCase&&(l+="i"),o.multiline&&(l+="m"),l}return b.__getRegExpFlags=f,b})();typeof p=="object"&&p.exports&&(p.exports=u)}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function E(y,A){var N=[],P=!0,I=!1,U=void 0;try{for(var F=y[Symbol.iterator](),Z;!(P=(Z=F.next()).done)&&(N.push(Z.value),!(A&&N.length===A));P=!0);}catch(D){I=!0,U=D}finally{try{!P&&F.return&&F.return()}finally{if(I)throw U}}return N}return function(y,A){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return E(y,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function E(y,A){for(var N=0;N<A.length;N++){var P=A[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,A,N){return A&&E(y.prototype,A),N&&E(y,N),y}})(),g=function E(y,A,N){y===null&&(y=Function.prototype);var P=Object.getOwnPropertyDescriptor(y,A);if(P===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:E(I,A,N)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(N)}},m=u(0),b=r(m),d=u(8),n=r(d),e=u(4),t=r(e),f=u(16),o=r(f),l=u(13),i=r(l),a=u(25),c=r(a);function r(E){return E&&E.__esModule?E:{default:E}}function h(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function x(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function O(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}function w(E){return E instanceof t.default||E instanceof e.BlockEmbed}var S=(function(E){O(y,E);function y(A,N){h(this,y);var P=x(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,A));return P.emitter=N.emitter,Array.isArray(N.whitelist)&&(P.whitelist=N.whitelist.reduce(function(I,U){return I[U]=!0,I},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return v(y,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,P){var I=this.line(N),U=_(I,2),F=U[0],Z=U[1],D=this.line(N+P),L=_(D,1),q=L[0];if(g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"deleteAt",this).call(this,N,P),q!=null&&F!==q&&Z>0){if(F instanceof e.BlockEmbed||q instanceof e.BlockEmbed){this.optimize();return}if(F instanceof i.default){var j=F.newlineIndex(F.length(),!0);if(j>-1&&(F=F.split(j+1),F===q)){this.optimize();return}}else if(q instanceof i.default){var C=q.newlineIndex(0);C>-1&&q.split(C+1)}var z=q.children.head instanceof o.default?null:q.children.head;F.moveChildren(q,z),F.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,P,I,U){this.whitelist!=null&&!this.whitelist[I]||(g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,N,P,I,U),this.optimize())}},{key:"insertAt",value:function(N,P,I){if(!(I!=null&&this.whitelist!=null&&!this.whitelist[P])){if(N>=this.length())if(I==null||b.default.query(P,b.default.Scope.BLOCK)==null){var U=b.default.create(this.statics.defaultChild);this.appendChild(U),I==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),U.insertAt(0,P,I)}else{var F=b.default.create(P,I);this.appendChild(F)}else g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertAt",this).call(this,N,P,I);this.optimize()}}},{key:"insertBefore",value:function(N,P){if(N.statics.scope===b.default.Scope.INLINE_BLOT){var I=b.default.create(this.statics.defaultChild);I.appendChild(N),N=I}g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertBefore",this).call(this,N,P)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(w,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,I=function U(F,Z,D){var L=[],q=D;return F.children.forEachAt(Z,D,function(j,C,z){w(j)?L.push(j):j instanceof b.default.Container&&(L=L.concat(U(j,C,q))),q-=z}),L};return I(this,N,P)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,N,P),N.length>0&&this.emitter.emit(n.default.events.SCROLL_OPTIMIZE,N,P))}},{key:"path",value:function(N){return g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var P=n.default.sources.USER;typeof N=="string"&&(P=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(n.default.events.SCROLL_BEFORE_UPDATE,P,N),g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(n.default.events.SCROLL_UPDATE,P,N)}}}]),y})(b.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[t.default,e.BlockEmbed,c.default],s.default=S}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.SHORTKEY=s.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},v=(function(){function R(M,K){var G=[],Y=!0,te=!1,ne=void 0;try{for(var ie=M[Symbol.iterator](),se;!(Y=(se=ie.next()).done)&&(G.push(se.value),!(K&&G.length===K));Y=!0);}catch(fe){te=!0,ne=fe}finally{try{!Y&&ie.return&&ie.return()}finally{if(te)throw ne}}return G}return function(M,K){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function R(M,K){for(var G=0;G<K.length;G++){var Y=K[G];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,K,G){return K&&R(M.prototype,K),G&&R(M,G),M}})(),m=u(21),b=E(m),d=u(11),n=E(d),e=u(3),t=E(e),f=u(2),o=E(f),l=u(20),i=E(l),a=u(0),c=E(a),r=u(5),h=E(r),x=u(10),O=E(x),w=u(9),S=E(w);function E(R){return R&&R.__esModule?R:{default:R}}function y(R,M,K){return M in R?Object.defineProperty(R,M,{value:K,enumerable:!0,configurable:!0,writable:!0}):R[M]=K,R}function A(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function N(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function P(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var I=(0,O.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=(function(R){P(M,R),g(M,null,[{key:"match",value:function(G,Y){return Y=H(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!Y[te]!==G[te]&&Y[te]!==null})?!1:Y.key===(G.which||G.keyCode)}}]);function M(K,G){A(this,M);var Y=N(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,G));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(te){te==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Y.options.bindings[te]&&Y.addBinding(Y.options.bindings[te])}),Y.addBinding({key:M.keys.ENTER,shiftKey:null},j),Y.addBinding({key:M.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!0},D),Y.addBinding({key:M.keys.DELETE},{collapsed:!0},L)):(Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),Y.addBinding({key:M.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!1},q),Y.addBinding({key:M.keys.DELETE},{collapsed:!1},q),Y.addBinding({key:M.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),Y.listen(),Y}return g(M,[{key:"addBinding",value:function(G){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ne=H(G);if(ne==null||ne.key==null)return I.warn("Attempted to add invalid keyboard binding",ne);typeof Y=="function"&&(Y={handler:Y}),typeof te=="function"&&(te={handler:te}),ne=(0,t.default)(ne,Y,te),this.bindings[ne.key]=this.bindings[ne.key]||[],this.bindings[ne.key].push(ne)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var te=Y.which||Y.keyCode,ne=(G.bindings[te]||[]).filter(function(me){return M.match(Y,me)});if(ne.length!==0){var ie=G.quill.getSelection();if(!(ie==null||!G.quill.hasFocus())){var se=G.quill.getLine(ie.index),fe=v(se,2),_e=fe[0],pe=fe[1],W=G.quill.getLeaf(ie.index),V=v(W,2),$=V[0],ee=V[1],Q=ie.length===0?[$,ee]:G.quill.getLeaf(ie.index+ie.length),ae=v(Q,2),oe=ae[0],le=ae[1],Oe=$ instanceof c.default.Text?$.value().slice(0,ee):"",Ae=oe instanceof c.default.Text?oe.value().slice(le):"",ce={collapsed:ie.length===0,empty:ie.length===0&&_e.length()<=1,format:G.quill.getFormat(ie),offset:pe,prefix:Oe,suffix:Ae},Ue=ne.some(function(me){if(me.collapsed!=null&&me.collapsed!==ce.collapsed||me.empty!=null&&me.empty!==ce.empty||me.offset!=null&&me.offset!==ce.offset)return!1;if(Array.isArray(me.format)){if(me.format.every(function(Se){return ce.format[Se]==null}))return!1}else if(_(me.format)==="object"&&!Object.keys(me.format).every(function(Se){return me.format[Se]===!0?ce.format[Se]!=null:me.format[Se]===!1?ce.format[Se]==null:(0,n.default)(me.format[Se],ce.format[Se])}))return!1;return me.prefix!=null&&!me.prefix.test(ce.prefix)||me.suffix!=null&&!me.suffix.test(ce.suffix)?!1:me.handler.call(G,ie,ce)!==!0});Ue&&Y.preventDefault()}}}})}}]),M})(S.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(M,K){K.format.indent!=null?this.quill.format("indent","-1",h.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(M){this.quill.deleteText(M.index-1,1,h.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(M){this.quill.history.cutoff();var K=new o.default().retain(M.index).delete(M.length).insert("	");this.quill.updateContents(K,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index+1,h.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(M,K){this.quill.format("list",!1,h.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(M){var K=this.quill.getLine(M.index),G=v(K,2),Y=G[0],te=G[1],ne=(0,t.default)({},Y.formats(),{list:"checked"}),ie=new o.default().retain(M.index).insert(`
`,ne).retain(Y.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(ie,h.default.sources.USER),this.quill.setSelection(M.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(M,K){var G=this.quill.getLine(M.index),Y=v(G,2),te=Y[0],ne=Y[1],ie=new o.default().retain(M.index).insert(`
`,K.format).retain(te.length()-ne-1).retain(1,{header:null});this.quill.updateContents(ie,h.default.sources.USER),this.quill.setSelection(M.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(M,K){var G=K.prefix.length,Y=this.quill.getLine(M.index),te=v(Y,2),ne=te[0],ie=te[1];if(ie>G)return!0;var se=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":se="unchecked";break;case"[x]":se="checked";break;case"-":case"*":se="bullet";break;default:se="ordered"}this.quill.insertText(M.index," ",h.default.sources.USER),this.quill.history.cutoff();var fe=new o.default().retain(M.index-ie).delete(G+1).retain(ne.length()-2-ie).retain(1,{list:se});this.quill.updateContents(fe,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index-G,h.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(M){var K=this.quill.getLine(M.index),G=v(K,2),Y=G[0],te=G[1],ne=new o.default().retain(M.index+Y.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ne,h.default.sources.USER)}},"embed left":Z(F.keys.LEFT,!1),"embed left shift":Z(F.keys.LEFT,!0),"embed right":Z(F.keys.RIGHT,!1),"embed right shift":Z(F.keys.RIGHT,!0)}};function Z(R,M){var K,G=R===F.keys.LEFT?"prefix":"suffix";return K={key:R,shiftKey:M,altKey:null},y(K,G,/^$/),y(K,"handler",function(te){var ne=te.index;R===F.keys.RIGHT&&(ne+=te.length+1);var ie=this.quill.getLeaf(ne),se=v(ie,1),fe=se[0];return fe instanceof c.default.Embed?(R===F.keys.LEFT?M?this.quill.setSelection(te.index-1,te.length+1,h.default.sources.USER):this.quill.setSelection(te.index-1,h.default.sources.USER):M?this.quill.setSelection(te.index,te.length+1,h.default.sources.USER):this.quill.setSelection(te.index+te.length+1,h.default.sources.USER),!1):!0}),K}function D(R,M){if(!(R.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(R.index),G=v(K,1),Y=G[0],te={};if(M.offset===0){var ne=this.quill.getLine(R.index-1),ie=v(ne,1),se=ie[0];if(se!=null&&se.length()>1){var fe=Y.formats(),_e=this.quill.getFormat(R.index-1,1);te=i.default.attributes.diff(fe,_e)||{}}}var pe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(M.prefix)?2:1;this.quill.deleteText(R.index-pe,pe,h.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(R.index-pe,pe,te,h.default.sources.USER),this.quill.focus()}}function L(R,M){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(M.suffix)?2:1;if(!(R.index>=this.quill.getLength()-K)){var G={},Y=0,te=this.quill.getLine(R.index),ne=v(te,1),ie=ne[0];if(M.offset>=ie.length()-1){var se=this.quill.getLine(R.index+1),fe=v(se,1),_e=fe[0];if(_e){var pe=ie.formats(),W=this.quill.getFormat(R.index,1);G=i.default.attributes.diff(pe,W)||{},Y=_e.length()}}this.quill.deleteText(R.index,K,h.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(R.index+Y-1,K,G,h.default.sources.USER)}}function q(R){var M=this.quill.getLines(R),K={};if(M.length>1){var G=M[0].formats(),Y=M[M.length-1].formats();K=i.default.attributes.diff(Y,G)||{}}this.quill.deleteText(R,h.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(R.index,1,K,h.default.sources.USER),this.quill.setSelection(R.index,h.default.sources.SILENT),this.quill.focus()}function j(R,M){var K=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var G=Object.keys(M.format).reduce(function(Y,te){return c.default.query(te,c.default.Scope.BLOCK)&&!Array.isArray(M.format[te])&&(Y[te]=M.format[te]),Y},{});this.quill.insertText(R.index,`
`,G,h.default.sources.USER),this.quill.setSelection(R.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(M.format).forEach(function(Y){G[Y]==null&&(Array.isArray(M.format[Y])||Y!=="link"&&K.quill.format(Y,M.format[Y],h.default.sources.USER))})}function C(R){return{key:F.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(K){var G=c.default.query("code-block"),Y=K.index,te=K.length,ne=this.quill.scroll.descendant(G,Y),ie=v(ne,2),se=ie[0],fe=ie[1];if(se!=null){var _e=this.quill.getIndex(se),pe=se.newlineIndex(fe,!0)+1,W=se.newlineIndex(_e+fe+te),V=se.domNode.textContent.slice(pe,W).split(`
`);fe=0,V.forEach(function($,ee){R?(se.insertAt(pe+fe,G.TAB),fe+=G.TAB.length,ee===0?Y+=G.TAB.length:te+=G.TAB.length):$.startsWith(G.TAB)&&(se.deleteAt(pe+fe,G.TAB.length),fe-=G.TAB.length,ee===0?Y-=G.TAB.length:te-=G.TAB.length),fe+=$.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(Y,te,h.default.sources.SILENT)}}}}function z(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(K,G){this.quill.format(R,!G.format[R],h.default.sources.USER)}}}function H(R){if(typeof R=="string"||typeof R=="number")return H({key:R});if((typeof R>"u"?"undefined":_(R))==="object"&&(R=(0,b.default)(R,!1)),typeof R.key=="string")if(F.keys[R.key.toUpperCase()]!=null)R.key=F.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[U]=R.shortKey,delete R.shortKey),R}s.default=F,s.SHORTKEY=U}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function i(a,c){var r=[],h=!0,x=!1,O=void 0;try{for(var w=a[Symbol.iterator](),S;!(h=(S=w.next()).done)&&(r.push(S.value),!(c&&r.length===c));h=!0);}catch(E){x=!0,O=E}finally{try{!h&&w.return&&w.return()}finally{if(x)throw O}}return r}return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return i(a,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=function i(a,c,r){a===null&&(a=Function.prototype);var h=Object.getOwnPropertyDescriptor(a,c);if(h===void 0){var x=Object.getPrototypeOf(a);return x===null?void 0:i(x,c,r)}else{if("value"in h)return h.value;var O=h.get;return O===void 0?void 0:O.call(r)}},g=(function(){function i(a,c){for(var r=0;r<c.length;r++){var h=c[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,c,r){return c&&i(a.prototype,c),r&&i(a,r),a}})(),m=u(0),b=e(m),d=u(7),n=e(d);function e(i){return i&&i.__esModule?i:{default:i}}function t(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function f(i,a){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:i}function o(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(i,a):i.__proto__=a)}var l=(function(i){o(a,i),g(a,null,[{key:"value",value:function(){}}]);function a(c,r){t(this,a);var h=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,c));return h.selection=r,h.textNode=document.createTextNode(a.CONTENTS),h.domNode.appendChild(h.textNode),h._length=0,h}return g(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(r,h){if(this._length!==0)return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,r,h);for(var x=this,O=0;x!=null&&x.statics.scope!==b.default.Scope.BLOCK_BLOT;)O+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=a.CONTENTS.length,x.optimize(),x.formatAt(O,a.CONTENTS.length,r,h),this._length=0)}},{key:"index",value:function(r,h){return r===this.textNode?0:v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,r,h)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var r=this.textNode,h=this.selection.getNativeRange(),x=void 0,O=void 0,w=void 0;if(h!=null&&h.start.node===r&&h.end.node===r){var S=[r,h.start.offset,h.end.offset];x=S[0],O=S[1],w=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==a.CONTENTS){var E=this.textNode.data.split(a.CONTENTS).join("");this.next instanceof n.default?(x=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=a.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(b.default.create(this.textNode),this),this.textNode=document.createTextNode(a.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var y=[O,w].map(function(N){return Math.max(0,Math.min(x.data.length,N-1))}),A=_(y,2);return O=A[0],w=A[1],{startNode:x,startOffset:O,endNode:x,endOffset:w}}}}},{key:"update",value:function(r,h){var x=this;if(r.some(function(w){return w.type==="characterData"&&w.target===x.textNode})){var O=this.restore();O&&(h.range=O)}}},{key:"value",value:function(){return""}}]),a})(b.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",s.default=l}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(0),v=b(_),g=u(4),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function n(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o})(v.default.Container);t.allowedChildren=[m.default,g.BlockEmbed,t],s.default=t}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.ColorStyle=s.ColorClass=s.ColorAttributor=void 0;var _=(function(){function l(i,a){for(var c=0;c<a.length;c++){var r=a[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,a,c){return a&&l(i.prototype,a),c&&l(i,c),i}})(),v=function l(i,a,c){i===null&&(i=Function.prototype);var r=Object.getOwnPropertyDescriptor(i,a);if(r===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,a,c)}else{if("value"in r)return r.value;var x=r.get;return x===void 0?void 0:x.call(c)}},g=u(0),m=b(g);function b(l){return l&&l.__esModule?l:{default:l}}function d(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function n(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function e(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var t=(function(l){e(i,l);function i(){return d(this,i),n(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"value",value:function(c){var r=v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"value",this).call(this,c);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(h){return("00"+parseInt(h).toString(16)).slice(-2)}).join("")):r}}]),i})(m.default.Attributor.Style),f=new m.default.Attributor.Class("color","ql-color",{scope:m.default.Scope.INLINE}),o=new t("color","color",{scope:m.default.Scope.INLINE});s.ColorAttributor=t,s.ColorClass=f,s.ColorStyle=o}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.sanitize=s.default=void 0;var _=(function(){function o(l,i){for(var a=0;a<i.length;a++){var c=i[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(l,i,a){return i&&o(l.prototype,i),a&&o(l,a),l}})(),v=function o(l,i,a){l===null&&(l=Function.prototype);var c=Object.getOwnPropertyDescriptor(l,i);if(c===void 0){var r=Object.getPrototypeOf(l);return r===null?void 0:o(r,i,a)}else{if("value"in c)return c.value;var h=c.get;return h===void 0?void 0:h.call(a)}},g=u(6),m=b(g);function b(o){return o&&o.__esModule?o:{default:o}}function d(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return d(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"format",value:function(a,c){if(a!==this.statics.blotName||!c)return v(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,a,c);c=this.constructor.sanitize(c),this.domNode.setAttribute("href",c)}}],[{key:"create",value:function(a){var c=v(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,a);return a=this.sanitize(a),c.setAttribute("href",a),c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target","_blank"),c}},{key:"formats",value:function(a){return a.getAttribute("href")}},{key:"sanitize",value:function(a){return f(a,this.PROTOCOL_WHITELIST)?a:this.SANITIZED_URL}}]),l})(m.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function f(o,l){var i=document.createElement("a");i.href=o;var a=i.href.slice(0,i.href.indexOf(":"));return l.indexOf(a)>-1}s.default=t,s.sanitize=f}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},v=(function(){function l(i,a){for(var c=0;c<a.length;c++){var r=a[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,a,c){return a&&l(i.prototype,a),c&&l(i,c),i}})(),g=u(23),m=n(g),b=u(107),d=n(b);function n(l){return l&&l.__esModule?l:{default:l}}function e(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}var t=0;function f(l,i){l.setAttribute(i,l.getAttribute(i)!=="true")}var o=(function(){function l(i){var a=this;e(this,l),this.select=i,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){a.togglePicker()}),this.label.addEventListener("keydown",function(c){switch(c.keyCode){case m.default.keys.ENTER:a.togglePicker();break;case m.default.keys.ESCAPE:a.escape(),c.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return v(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(a){var c=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),a.hasAttribute("value")&&r.setAttribute("data-value",a.getAttribute("value")),a.textContent&&r.setAttribute("data-label",a.textContent),r.addEventListener("click",function(){c.selectItem(r,!0)}),r.addEventListener("keydown",function(h){switch(h.keyCode){case m.default.keys.ENTER:c.selectItem(r,!0),h.preventDefault();break;case m.default.keys.ESCAPE:c.escape(),h.preventDefault();break}}),r}},{key:"buildLabel",value:function(){var a=document.createElement("span");return a.classList.add("ql-picker-label"),a.innerHTML=d.default,a.tabIndex="0",a.setAttribute("role","button"),a.setAttribute("aria-expanded","false"),this.container.appendChild(a),a}},{key:"buildOptions",value:function(){var a=this,c=document.createElement("span");c.classList.add("ql-picker-options"),c.setAttribute("aria-hidden","true"),c.tabIndex="-1",c.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",c.id),this.options=c,[].slice.call(this.select.options).forEach(function(r){var h=a.buildItem(r);c.appendChild(h),r.selected===!0&&a.selectItem(h)}),this.container.appendChild(c)}},{key:"buildPicker",value:function(){var a=this;[].slice.call(this.select.attributes).forEach(function(c){a.container.setAttribute(c.name,c.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var a=this;this.close(),setTimeout(function(){return a.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(a){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.container.querySelector(".ql-selected");if(a!==r&&(r?.classList.remove("ql-selected"),a!=null&&(a.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(a.parentNode.children,a),a.hasAttribute("data-value")?this.label.setAttribute("data-value",a.getAttribute("data-value")):this.label.removeAttribute("data-value"),a.hasAttribute("data-label")?this.label.setAttribute("data-label",a.getAttribute("data-label")):this.label.removeAttribute("data-label"),c))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":_(Event))==="object"){var h=document.createEvent("Event");h.initEvent("change",!0,!0),this.select.dispatchEvent(h)}this.close()}}},{key:"update",value:function(){var a=void 0;if(this.select.selectedIndex>-1){var c=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];a=this.select.options[this.select.selectedIndex],this.selectItem(c)}else this.selectItem(null);var r=a!=null&&a!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),l})();s.default=o}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(0),v=I(_),g=u(5),m=I(g),b=u(4),d=I(b),n=u(16),e=I(n),t=u(25),f=I(t),o=u(24),l=I(o),i=u(35),a=I(i),c=u(6),r=I(c),h=u(22),x=I(h),O=u(7),w=I(O),S=u(55),E=I(S),y=u(42),A=I(y),N=u(23),P=I(N);function I(U){return U&&U.__esModule?U:{default:U}}m.default.register({"blots/block":d.default,"blots/block/embed":b.BlockEmbed,"blots/break":e.default,"blots/container":f.default,"blots/cursor":l.default,"blots/embed":a.default,"blots/inline":r.default,"blots/scroll":x.default,"blots/text":w.default,"modules/clipboard":E.default,"modules/history":A.default,"modules/keyboard":P.default}),v.default.register(d.default,e.default,l.default,r.default,x.default,w.default),s.default=m.default}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(1),v=(function(){function g(m){this.domNode=m,this.domNode[_.DATA_KEY]={blot:this}}return Object.defineProperty(g.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),g.create=function(m){if(this.tagName==null)throw new _.ParchmentError("Blot definition missing tagName");var b;return Array.isArray(this.tagName)?(typeof m=="string"&&(m=m.toUpperCase(),parseInt(m).toString()===m&&(m=parseInt(m))),typeof m=="number"?b=document.createElement(this.tagName[m-1]):this.tagName.indexOf(m)>-1?b=document.createElement(m):b=document.createElement(this.tagName[0])):b=document.createElement(this.tagName),this.className&&b.classList.add(this.className),b},g.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},g.prototype.clone=function(){var m=this.domNode.cloneNode(!1);return _.create(m)},g.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[_.DATA_KEY]},g.prototype.deleteAt=function(m,b){var d=this.isolate(m,b);d.remove()},g.prototype.formatAt=function(m,b,d,n){var e=this.isolate(m,b);if(_.query(d,_.Scope.BLOT)!=null&&n)e.wrap(d,n);else if(_.query(d,_.Scope.ATTRIBUTE)!=null){var t=_.create(this.statics.scope);e.wrap(t),t.format(d,n)}},g.prototype.insertAt=function(m,b,d){var n=d==null?_.create("text",b):_.create(b,d),e=this.split(m);this.parent.insertBefore(n,e)},g.prototype.insertInto=function(m,b){b===void 0&&(b=null),this.parent!=null&&this.parent.children.remove(this);var d=null;m.children.insertBefore(this,b),b!=null&&(d=b.domNode),(this.domNode.parentNode!=m.domNode||this.domNode.nextSibling!=d)&&m.domNode.insertBefore(this.domNode,d),this.parent=m,this.attach()},g.prototype.isolate=function(m,b){var d=this.split(m);return d.split(b),d},g.prototype.length=function(){return 1},g.prototype.offset=function(m){return m===void 0&&(m=this.parent),this.parent==null||this==m?0:this.parent.children.offset(this)+this.parent.offset(m)},g.prototype.optimize=function(m){this.domNode[_.DATA_KEY]!=null&&delete this.domNode[_.DATA_KEY].mutations},g.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},g.prototype.replace=function(m){m.parent!=null&&(m.parent.insertBefore(this,m.next),m.remove())},g.prototype.replaceWith=function(m,b){var d=typeof m=="string"?_.create(m,b):m;return d.replace(this),d},g.prototype.split=function(m,b){return m===0?this:this.next},g.prototype.update=function(m,b){},g.prototype.wrap=function(m,b){var d=typeof m=="string"?_.create(m,b):m;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},g.blotName="abstract",g})();s.default=v}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(12),v=u(32),g=u(33),m=u(1),b=(function(){function d(n){this.attributes={},this.domNode=n,this.build()}return d.prototype.attribute=function(n,e){e?n.add(this.domNode,e)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])},d.prototype.build=function(){var n=this;this.attributes={};var e=_.default.keys(this.domNode),t=v.default.keys(this.domNode),f=g.default.keys(this.domNode);e.concat(t).concat(f).forEach(function(o){var l=m.query(o,m.Scope.ATTRIBUTE);l instanceof _.default&&(n.attributes[l.attrName]=l)})},d.prototype.copy=function(n){var e=this;Object.keys(this.attributes).forEach(function(t){var f=e.attributes[t].value(e.domNode);n.format(t,f)})},d.prototype.move=function(n){var e=this;this.copy(n),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},d.prototype.values=function(){var n=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=n.attributes[t].value(n.domNode),e},{})},d})();s.default=b}),(function(p,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(12);function g(b,d){var n=b.getAttribute("class")||"";return n.split(/\s+/).filter(function(e){return e.indexOf(d+"-")===0})}var m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.keys=function(n){return(n.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},d.prototype.add=function(n,e){return this.canAdd(n,e)?(this.remove(n),n.classList.add(this.keyName+"-"+e),!0):!1},d.prototype.remove=function(n){var e=g(n,this.keyName);e.forEach(function(t){n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")},d.prototype.value=function(n){var e=g(n,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(n,t)?t:""},d})(v.default);s.default=m}),(function(p,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(12);function g(b){var d=b.split("-"),n=d.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return d[0]+n}var m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.keys=function(n){return(n.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},d.prototype.add=function(n,e){return this.canAdd(n,e)?(n.style[g(this.keyName)]=e,!0):!1},d.prototype.remove=function(n){n.style[g(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")},d.prototype.value=function(n){var e=n.style[g(this.keyName)];return this.canAdd(n,e)?e:""},d})(v.default);s.default=m}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function m(b,d){for(var n=0;n<d.length;n++){var e=d[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}}return function(b,d,n){return d&&m(b.prototype,d),n&&m(b,n),b}})();function v(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var g=(function(){function m(b,d){v(this,m),this.quill=b,this.options=d,this.modules={}}return _(m,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(n){d.modules[n]==null&&d.addModule(n)})}},{key:"addModule",value:function(d){var n=this.quill.constructor.import("modules/"+d);return this.modules[d]=new n(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),m})();g.DEFAULTS={modules:{}},g.themes={default:g},s.default=g}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function i(a,c){for(var r=0;r<c.length;r++){var h=c[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,c,r){return c&&i(a.prototype,c),r&&i(a,r),a}})(),v=function i(a,c,r){a===null&&(a=Function.prototype);var h=Object.getOwnPropertyDescriptor(a,c);if(h===void 0){var x=Object.getPrototypeOf(a);return x===null?void 0:i(x,c,r)}else{if("value"in h)return h.value;var O=h.get;return O===void 0?void 0:O.call(r)}},g=u(0),m=n(g),b=u(7),d=n(b);function n(i){return i&&i.__esModule?i:{default:i}}function e(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function t(i,a){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:i}function f(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(i,a):i.__proto__=a)}var o="\uFEFF",l=(function(i){f(a,i);function a(c){e(this,a);var r=t(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,c));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(h){r.contentNode.appendChild(h)}),r.leftGuard=document.createTextNode(o),r.rightGuard=document.createTextNode(o),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return _(a,[{key:"index",value:function(r,h){return r===this.leftGuard?0:r===this.rightGuard?1:v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,r,h)}},{key:"restore",value:function(r){var h=void 0,x=void 0,O=r.data.split(o).join("");if(r===this.leftGuard)if(this.prev instanceof d.default){var w=this.prev.length();this.prev.insertAt(w,O),h={startNode:this.prev.domNode,startOffset:w+O.length}}else x=document.createTextNode(O),this.parent.insertBefore(m.default.create(x),this),h={startNode:x,startOffset:O.length};else r===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,O),h={startNode:this.next.domNode,startOffset:O.length}):(x=document.createTextNode(O),this.parent.insertBefore(m.default.create(x),this.next),h={startNode:x,startOffset:O.length}));return r.data=o,h}},{key:"update",value:function(r,h){var x=this;r.forEach(function(O){if(O.type==="characterData"&&(O.target===x.leftGuard||O.target===x.rightGuard)){var w=x.restore(O.target);w&&(h.range=w)}})}}]),a})(m.default.Embed);s.default=l}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.AlignStyle=s.AlignClass=s.AlignAttribute=void 0;var _=u(0),v=g(_);function g(e){return e&&e.__esModule?e:{default:e}}var m={scope:v.default.Scope.BLOCK,whitelist:["right","center","justify"]},b=new v.default.Attributor.Attribute("align","align",m),d=new v.default.Attributor.Class("align","ql-align",m),n=new v.default.Attributor.Style("align","text-align",m);s.AlignAttribute=b,s.AlignClass=d,s.AlignStyle=n}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.BackgroundStyle=s.BackgroundClass=void 0;var _=u(0),v=m(_),g=u(26);function m(n){return n&&n.__esModule?n:{default:n}}var b=new v.default.Attributor.Class("background","ql-bg",{scope:v.default.Scope.INLINE}),d=new g.ColorAttributor("background","background-color",{scope:v.default.Scope.INLINE});s.BackgroundClass=b,s.BackgroundStyle=d}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.DirectionStyle=s.DirectionClass=s.DirectionAttribute=void 0;var _=u(0),v=g(_);function g(e){return e&&e.__esModule?e:{default:e}}var m={scope:v.default.Scope.BLOCK,whitelist:["rtl"]},b=new v.default.Attributor.Attribute("direction","dir",m),d=new v.default.Attributor.Class("direction","ql-direction",m),n=new v.default.Attributor.Style("direction","direction",m);s.DirectionAttribute=b,s.DirectionClass=d,s.DirectionStyle=n}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.FontClass=s.FontStyle=void 0;var _=(function(){function i(a,c){for(var r=0;r<c.length;r++){var h=c[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(a,h.key,h)}}return function(a,c,r){return c&&i(a.prototype,c),r&&i(a,r),a}})(),v=function i(a,c,r){a===null&&(a=Function.prototype);var h=Object.getOwnPropertyDescriptor(a,c);if(h===void 0){var x=Object.getPrototypeOf(a);return x===null?void 0:i(x,c,r)}else{if("value"in h)return h.value;var O=h.get;return O===void 0?void 0:O.call(r)}},g=u(0),m=b(g);function b(i){return i&&i.__esModule?i:{default:i}}function d(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}function n(i,a){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:i}function e(i,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(i,a):i.__proto__=a)}var t={scope:m.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new m.default.Attributor.Class("font","ql-font",t),o=(function(i){e(a,i);function a(){return d(this,a),n(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"value",value:function(r){return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,r).replace(/["']/g,"")}}]),a})(m.default.Attributor.Style),l=new o("font","font-family",t);s.FontStyle=l,s.FontClass=f}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.SizeStyle=s.SizeClass=void 0;var _=u(0),v=g(_);function g(d){return d&&d.__esModule?d:{default:d}}var m=new v.default.Attributor.Class("size","ql-size",{scope:v.default.Scope.INLINE,whitelist:["small","large","huge"]}),b=new v.default.Attributor.Style("size","font-size",{scope:v.default.Scope.INLINE,whitelist:["10px","18px","32px"]});s.SizeClass=m,s.SizeStyle=b}),(function(p,s,u){p.exports={align:{"":u(76),center:u(77),right:u(78),justify:u(79)},background:u(80),blockquote:u(81),bold:u(82),clean:u(83),code:u(58),"code-block":u(58),color:u(84),direction:{"":u(85),rtl:u(86)},float:{center:u(87),full:u(88),left:u(89),right:u(90)},formula:u(91),header:{1:u(92),2:u(93)},italic:u(94),image:u(95),indent:{"+1":u(96),"-1":u(97)},link:u(98),list:{ordered:u(99),bullet:u(100),check:u(101)},script:{sub:u(102),super:u(103)},strike:u(104),underline:u(105),video:u(106)}}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.getLastChangeIndex=s.default=void 0;var _=(function(){function c(r,h){for(var x=0;x<h.length;x++){var O=h[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(r,O.key,O)}}return function(r,h,x){return h&&c(r.prototype,h),x&&c(r,x),r}})(),v=u(0),g=e(v),m=u(5),b=e(m),d=u(9),n=e(d);function e(c){return c&&c.__esModule?c:{default:c}}function t(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function f(c,r){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:c}function o(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);c.prototype=Object.create(r&&r.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(c,r):c.__proto__=r)}var l=(function(c){o(r,c);function r(h,x){t(this,r);var O=f(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,h,x));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(b.default.events.EDITOR_CHANGE,function(w,S,E,y){w!==b.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||y===b.default.sources.USER?O.record(S,E):O.transform(S))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return _(r,[{key:"change",value:function(x,O){if(this.stack[x].length!==0){var w=this.stack[x].pop();this.stack[O].push(w),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(w[x],b.default.sources.USER),this.ignoreChange=!1;var S=a(w[x]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,O){if(x.ops.length!==0){this.stack.redo=[];var w=this.quill.getContents().diff(O),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var E=this.stack.undo.pop();w=w.compose(E.undo),x=E.redo.compose(x)}else this.lastRecorded=S;this.stack.undo.push({redo:x,undo:w}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(O){O.undo=x.transform(O.undo,!0),O.redo=x.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=x.transform(O.undo,!0),O.redo=x.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),r})(n.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function i(c){var r=c.ops[c.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(function(h){return g.default.query(h,g.default.Scope.BLOCK)!=null}):!1}function a(c){var r=c.reduce(function(x,O){return x+=O.delete||0,x},0),h=c.length()-r;return i(c)&&(h-=1),h}s.default=l,s.getLastChangeIndex=a}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BaseTooltip=void 0;var _=(function(){function j(C,z){for(var H=0;H<z.length;H++){var R=z[H];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}return function(C,z,H){return z&&j(C.prototype,z),H&&j(C,H),C}})(),v=function j(C,z,H){C===null&&(C=Function.prototype);var R=Object.getOwnPropertyDescriptor(C,z);if(R===void 0){var M=Object.getPrototypeOf(C);return M===null?void 0:j(M,z,H)}else{if("value"in R)return R.value;var K=R.get;return K===void 0?void 0:K.call(H)}},g=u(3),m=S(g),b=u(2),d=S(b),n=u(8),e=S(n),t=u(23),f=S(t),o=u(34),l=S(o),i=u(59),a=S(i),c=u(60),r=S(c),h=u(28),x=S(h),O=u(61),w=S(O);function S(j){return j&&j.__esModule?j:{default:j}}function E(j,C){if(!(j instanceof C))throw new TypeError("Cannot call a class as a function")}function y(j,C){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:j}function A(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);j.prototype=Object.create(C&&C.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(j,C):j.__proto__=C)}var N=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],U=["1","2","3",!1],F=["small",!1,"large","huge"],Z=(function(j){A(C,j);function C(z,H){E(this,C);var R=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,z,H)),M=function K(G){if(!document.body.contains(z.root))return document.body.removeEventListener("click",K);R.tooltip!=null&&!R.tooltip.root.contains(G.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(Y){Y.container.contains(G.target)||Y.close()})};return z.emitter.listenDOM("click",document.body,M),R}return _(C,[{key:"addModule",value:function(H){var R=v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(H,R){H.forEach(function(M){var K=M.getAttribute("class")||"";K.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),R[G]!=null))if(G==="direction")M.innerHTML=R[G][""]+R[G].rtl;else if(typeof R[G]=="string")M.innerHTML=R[G];else{var Y=M.value||"";Y!=null&&R[G][Y]&&(M.innerHTML=R[G][Y])}})})}},{key:"buildPickers",value:function(H,R){var M=this;this.pickers=H.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&q(G,N),new r.default(G,R.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var Y=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&q(G,P,Y==="background"?"#ffffff":"#000000"),new a.default(G,R[Y])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?q(G,I):G.classList.contains("ql-header")?q(G,U):G.classList.contains("ql-size")&&q(G,F)),new x.default(G)});var K=function(){M.pickers.forEach(function(Y){Y.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,K)}}]),C})(l.default);Z.DEFAULTS=(0,m.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var C=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var H=new FileReader;H.onload=function(R){var M=C.quill.getSelection(!0);C.quill.updateContents(new d.default().retain(M.index).delete(M.length).insert({image:R.target.result}),e.default.sources.USER),C.quill.setSelection(M.index+1,e.default.sources.SILENT),z.value=""},H.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=(function(j){A(C,j);function C(z,H){E(this,C);var R=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,z,H));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return _(C,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(R){f.default.match(R,"enter")?(H.save(),R.preventDefault()):f.default.match(R,"escape")&&(H.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,e.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":H=L(H);case"formula":{if(!H)break;var M=this.quill.getSelection(!0);if(M!=null){var K=M.index+M.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),H,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",e.default.sources.USER),this.quill.setSelection(K+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),C})(w.default);function L(j){var C=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return C?(C[1]||"https")+"://www.youtube.com/embed/"+C[2]+"?showinfo=0":(C=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(C[1]||"https")+"://player.vimeo.com/video/"+C[2]+"/":j}function q(j,C){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;C.forEach(function(H){var R=document.createElement("option");H===z?R.setAttribute("selected","selected"):R.setAttribute("value",H),j.appendChild(R)})}s.BaseTooltip=D,s.default=Z}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function v(){this.head=this.tail=null,this.length=0}return v.prototype.append=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];this.insertBefore(g[0],null),g.length>1&&this.append.apply(this,g.slice(1))},v.prototype.contains=function(g){for(var m,b=this.iterator();m=b();)if(m===g)return!0;return!1},v.prototype.insertBefore=function(g,m){g&&(g.next=m,m!=null?(g.prev=m.prev,m.prev!=null&&(m.prev.next=g),m.prev=g,m===this.head&&(this.head=g)):this.tail!=null?(this.tail.next=g,g.prev=this.tail,this.tail=g):(g.prev=null,this.head=this.tail=g),this.length+=1)},v.prototype.offset=function(g){for(var m=0,b=this.head;b!=null;){if(b===g)return m;m+=b.length(),b=b.next}return-1},v.prototype.remove=function(g){this.contains(g)&&(g.prev!=null&&(g.prev.next=g.next),g.next!=null&&(g.next.prev=g.prev),g===this.head&&(this.head=g.next),g===this.tail&&(this.tail=g.prev),this.length-=1)},v.prototype.iterator=function(g){return g===void 0&&(g=this.head),function(){var m=g;return g!=null&&(g=g.next),m}},v.prototype.find=function(g,m){m===void 0&&(m=!1);for(var b,d=this.iterator();b=d();){var n=b.length();if(g<n||m&&g===n&&(b.next==null||b.next.length()!==0))return[b,g];g-=n}return[null,0]},v.prototype.forEach=function(g){for(var m,b=this.iterator();m=b();)g(m)},v.prototype.forEachAt=function(g,m,b){if(!(m<=0))for(var d=this.find(g),n=d[0],e=d[1],t,f=g-e,o=this.iterator(n);(t=o())&&f<g+m;){var l=t.length();g>f?b(t,g-f,Math.min(m,f+l-g)):b(t,0,Math.min(l,g+m-f)),f+=l}},v.prototype.map=function(g){return this.reduce(function(m,b){return m.push(g(b)),m},[])},v.prototype.reduce=function(g,m){for(var b,d=this.iterator();b=d();)m=g(m,b);return m},v})();s.default=_}),(function(p,s,u){var _=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){n(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(17),g=u(1),m={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},b=100,d=(function(n){_(e,n);function e(t){var f=n.call(this,t)||this;return f.scroll=f,f.observer=new MutationObserver(function(o){f.update(o)}),f.observer.observe(f.domNode,m),f.attach(),f}return e.prototype.detach=function(){n.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,f){this.update(),t===0&&f===this.length()?this.children.forEach(function(o){o.remove()}):n.prototype.deleteAt.call(this,t,f)},e.prototype.formatAt=function(t,f,o,l){this.update(),n.prototype.formatAt.call(this,t,f,o,l)},e.prototype.insertAt=function(t,f,o){this.update(),n.prototype.insertAt.call(this,t,f,o)},e.prototype.optimize=function(t,f){var o=this;t===void 0&&(t=[]),f===void 0&&(f={}),n.prototype.optimize.call(this,f);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var i=function(h,x){x===void 0&&(x=!0),!(h==null||h===o)&&h.domNode.parentNode!=null&&(h.domNode[g.DATA_KEY].mutations==null&&(h.domNode[g.DATA_KEY].mutations=[]),x&&i(h.parent))},a=function(h){h.domNode[g.DATA_KEY]==null||h.domNode[g.DATA_KEY].mutations==null||(h instanceof v.default&&h.children.forEach(a),h.optimize(f))},c=t,r=0;c.length>0;r+=1){if(r>=b)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(h){var x=g.find(h.target,!0);x!=null&&(x.domNode===h.target&&(h.type==="childList"?(i(g.find(h.previousSibling,!1)),[].forEach.call(h.addedNodes,function(O){var w=g.find(O,!1);i(w,!1),w instanceof v.default&&w.children.forEach(function(S){i(S,!1)})})):h.type==="attributes"&&i(x.prev)),i(x))}),this.children.forEach(a),c=[].slice.call(this.observer.takeRecords()),l=c.slice();l.length>0;)t.push(l.pop())}},e.prototype.update=function(t,f){var o=this;f===void 0&&(f={}),t=t||this.observer.takeRecords(),t.map(function(l){var i=g.find(l.target,!0);return i==null?null:i.domNode[g.DATA_KEY].mutations==null?(i.domNode[g.DATA_KEY].mutations=[l],i):(i.domNode[g.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===o||l.domNode[g.DATA_KEY]==null||l.update(l.domNode[g.DATA_KEY].mutations||[],f)}),this.domNode[g.DATA_KEY].mutations!=null&&n.prototype.update.call(this,this.domNode[g.DATA_KEY].mutations,f),this.optimize(t,f)},e.blotName="scroll",e.defaultChild="block",e.scope=g.Scope.BLOCK_BLOT,e.tagName="DIV",e})(v.default);s.default=d}),(function(p,s,u){var _=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(n,e){d(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(18),g=u(1);function m(d,n){if(Object.keys(d).length!==Object.keys(n).length)return!1;for(var e in d)if(d[e]!==n[e])return!1;return!0}var b=(function(d){_(n,d);function n(){return d!==null&&d.apply(this,arguments)||this}return n.formats=function(e){if(e.tagName!==n.tagName)return d.formats.call(this,e)},n.prototype.format=function(e,t){var f=this;e===this.statics.blotName&&!t?(this.children.forEach(function(o){o instanceof v.default||(o=o.wrap(n.blotName,!0)),f.attributes.copy(o)}),this.unwrap()):d.prototype.format.call(this,e,t)},n.prototype.formatAt=function(e,t,f,o){if(this.formats()[f]!=null||g.query(f,g.Scope.ATTRIBUTE)){var l=this.isolate(e,t);l.format(f,o)}else d.prototype.formatAt.call(this,e,t,f,o)},n.prototype.optimize=function(e){d.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var f=this.next;f instanceof n&&f.prev===this&&m(t,f.formats())&&(f.moveChildren(this),f.remove())},n.blotName="inline",n.scope=g.Scope.INLINE_BLOT,n.tagName="SPAN",n})(v.default);s.default=b}),(function(p,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(18),g=u(1),m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.formats=function(n){var e=g.query(d.blotName).tagName;if(n.tagName!==e)return b.formats.call(this,n)},d.prototype.format=function(n,e){g.query(n,g.Scope.BLOCK)!=null&&(n===this.statics.blotName&&!e?this.replaceWith(d.blotName):b.prototype.format.call(this,n,e))},d.prototype.formatAt=function(n,e,t,f){g.query(t,g.Scope.BLOCK)!=null?this.format(t,f):b.prototype.formatAt.call(this,n,e,t,f)},d.prototype.insertAt=function(n,e,t){if(t==null||g.query(e,g.Scope.INLINE)!=null)b.prototype.insertAt.call(this,n,e,t);else{var f=this.split(n),o=g.create(e,t);f.parent.insertBefore(o,f)}},d.prototype.update=function(n,e){navigator.userAgent.match(/Trident/)?this.build():b.prototype.update.call(this,n,e)},d.blotName="block",d.scope=g.Scope.BLOCK_BLOT,d.tagName="P",d})(v.default);s.default=m}),(function(p,s,u){var _=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var n in d)d.hasOwnProperty(n)&&(b[n]=d[n])};return function(b,d){m(b,d);function n(){this.constructor=b}b.prototype=d===null?Object.create(d):(n.prototype=d.prototype,new n)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(19),g=(function(m){_(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b.formats=function(d){},b.prototype.format=function(d,n){m.prototype.formatAt.call(this,0,this.length(),d,n)},b.prototype.formatAt=function(d,n,e,t){d===0&&n===this.length()?this.format(e,t):m.prototype.formatAt.call(this,d,n,e,t)},b.prototype.formats=function(){return this.statics.formats(this.domNode)},b})(v.default);s.default=g}),(function(p,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var v=u(19),g=u(1),m=(function(b){_(d,b);function d(n){var e=b.call(this,n)||this;return e.text=e.statics.value(e.domNode),e}return d.create=function(n){return document.createTextNode(n)},d.value=function(n){var e=n.data;return e.normalize&&(e=e.normalize()),e},d.prototype.deleteAt=function(n,e){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+e)},d.prototype.index=function(n,e){return this.domNode===n?e:-1},d.prototype.insertAt=function(n,e,t){t==null?(this.text=this.text.slice(0,n)+e+this.text.slice(n),this.domNode.data=this.text):b.prototype.insertAt.call(this,n,e,t)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(n){b.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(n,e){return[this.domNode,n]},d.prototype.split=function(n,e){if(e===void 0&&(e=!1),!e){if(n===0)return this;if(n===this.length())return this.next}var t=g.create(this.domNode.splitText(n));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},d.prototype.update=function(n,e){var t=this;n.some(function(f){return f.type==="characterData"&&f.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=g.Scope.INLINE_BLOT,d})(v.default);s.default=m}),(function(p,s,u){var _=document.createElement("div");if(_.classList.toggle("test-class",!1),_.classList.contains("test-class")){var v=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(g,m){return arguments.length>1&&!this.contains(g)==!m?m:v.call(this,g)}}String.prototype.startsWith||(String.prototype.startsWith=function(g,m){return m=m||0,this.substr(m,g.length)===g}),String.prototype.endsWith||(String.prototype.endsWith=function(g,m){var b=this.toString();(typeof m!="number"||!isFinite(m)||Math.floor(m)!==m||m>b.length)&&(m=b.length),m-=g.length;var d=b.indexOf(g,m);return d!==-1&&d===m}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(m){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof m!="function")throw new TypeError("predicate must be a function");for(var b=Object(this),d=b.length>>>0,n=arguments[1],e,t=0;t<d;t++)if(e=b[t],m.call(n,e,t,b))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(p,s){var u=-1,_=1,v=0;function g(r,h,x){if(r==h)return r?[[v,r]]:[];(x<0||r.length<x)&&(x=null);var O=n(r,h),w=r.substring(0,O);r=r.substring(O),h=h.substring(O),O=e(r,h);var S=r.substring(r.length-O);r=r.substring(0,r.length-O),h=h.substring(0,h.length-O);var E=m(r,h);return w&&E.unshift([v,w]),S&&E.push([v,S]),f(E),x!=null&&(E=i(E,x)),E=a(E),E}function m(r,h){var x;if(!r)return[[_,h]];if(!h)return[[u,r]];var O=r.length>h.length?r:h,w=r.length>h.length?h:r,S=O.indexOf(w);if(S!=-1)return x=[[_,O.substring(0,S)],[v,w],[_,O.substring(S+w.length)]],r.length>h.length&&(x[0][0]=x[2][0]=u),x;if(w.length==1)return[[u,r],[_,h]];var E=t(r,h);if(E){var y=E[0],A=E[1],N=E[2],P=E[3],I=E[4],U=g(y,N),F=g(A,P);return U.concat([[v,I]],F)}return b(r,h)}function b(r,h){for(var x=r.length,O=h.length,w=Math.ceil((x+O)/2),S=w,E=2*w,y=new Array(E),A=new Array(E),N=0;N<E;N++)y[N]=-1,A[N]=-1;y[S+1]=0,A[S+1]=0;for(var P=x-O,I=P%2!=0,U=0,F=0,Z=0,D=0,L=0;L<w;L++){for(var q=-L+U;q<=L-F;q+=2){var j=S+q,C;q==-L||q!=L&&y[j-1]<y[j+1]?C=y[j+1]:C=y[j-1]+1;for(var z=C-q;C<x&&z<O&&r.charAt(C)==h.charAt(z);)C++,z++;if(y[j]=C,C>x)F+=2;else if(z>O)U+=2;else if(I){var H=S+P-q;if(H>=0&&H<E&&A[H]!=-1){var R=x-A[H];if(C>=R)return d(r,h,C,z)}}}for(var M=-L+Z;M<=L-D;M+=2){var H=S+M,R;M==-L||M!=L&&A[H-1]<A[H+1]?R=A[H+1]:R=A[H-1]+1;for(var K=R-M;R<x&&K<O&&r.charAt(x-R-1)==h.charAt(O-K-1);)R++,K++;if(A[H]=R,R>x)D+=2;else if(K>O)Z+=2;else if(!I){var j=S+P-M;if(j>=0&&j<E&&y[j]!=-1){var C=y[j],z=S+C-j;if(R=x-R,C>=R)return d(r,h,C,z)}}}}return[[u,r],[_,h]]}function d(r,h,x,O){var w=r.substring(0,x),S=h.substring(0,O),E=r.substring(x),y=h.substring(O),A=g(w,S),N=g(E,y);return A.concat(N)}function n(r,h){if(!r||!h||r.charAt(0)!=h.charAt(0))return 0;for(var x=0,O=Math.min(r.length,h.length),w=O,S=0;x<w;)r.substring(S,w)==h.substring(S,w)?(x=w,S=x):O=w,w=Math.floor((O-x)/2+x);return w}function e(r,h){if(!r||!h||r.charAt(r.length-1)!=h.charAt(h.length-1))return 0;for(var x=0,O=Math.min(r.length,h.length),w=O,S=0;x<w;)r.substring(r.length-w,r.length-S)==h.substring(h.length-w,h.length-S)?(x=w,S=x):O=w,w=Math.floor((O-x)/2+x);return w}function t(r,h){var x=r.length>h.length?r:h,O=r.length>h.length?h:r;if(x.length<4||O.length*2<x.length)return null;function w(F,Z,D){for(var L=F.substring(D,D+Math.floor(F.length/4)),q=-1,j="",C,z,H,R;(q=Z.indexOf(L,q+1))!=-1;){var M=n(F.substring(D),Z.substring(q)),K=e(F.substring(0,D),Z.substring(0,q));j.length<K+M&&(j=Z.substring(q-K,q)+Z.substring(q,q+M),C=F.substring(0,D-K),z=F.substring(D+M),H=Z.substring(0,q-K),R=Z.substring(q+M))}return j.length*2>=F.length?[C,z,H,R,j]:null}var S=w(x,O,Math.ceil(x.length/4)),E=w(x,O,Math.ceil(x.length/2)),y;if(!S&&!E)return null;E?S?y=S[4].length>E[4].length?S:E:y=E:y=S;var A,N,P,I;r.length>h.length?(A=y[0],N=y[1],P=y[2],I=y[3]):(P=y[0],I=y[1],A=y[2],N=y[3]);var U=y[4];return[A,N,P,I,U]}function f(r){r.push([v,""]);for(var h=0,x=0,O=0,w="",S="",E;h<r.length;)switch(r[h][0]){case _:O++,S+=r[h][1],h++;break;case u:x++,w+=r[h][1],h++;break;case v:x+O>1?(x!==0&&O!==0&&(E=n(S,w),E!==0&&(h-x-O>0&&r[h-x-O-1][0]==v?r[h-x-O-1][1]+=S.substring(0,E):(r.splice(0,0,[v,S.substring(0,E)]),h++),S=S.substring(E),w=w.substring(E)),E=e(S,w),E!==0&&(r[h][1]=S.substring(S.length-E)+r[h][1],S=S.substring(0,S.length-E),w=w.substring(0,w.length-E))),x===0?r.splice(h-O,x+O,[_,S]):O===0?r.splice(h-x,x+O,[u,w]):r.splice(h-x-O,x+O,[u,w],[_,S]),h=h-x-O+(x?1:0)+(O?1:0)+1):h!==0&&r[h-1][0]==v?(r[h-1][1]+=r[h][1],r.splice(h,1)):h++,O=0,x=0,w="",S="";break}r[r.length-1][1]===""&&r.pop();var y=!1;for(h=1;h<r.length-1;)r[h-1][0]==v&&r[h+1][0]==v&&(r[h][1].substring(r[h][1].length-r[h-1][1].length)==r[h-1][1]?(r[h][1]=r[h-1][1]+r[h][1].substring(0,r[h][1].length-r[h-1][1].length),r[h+1][1]=r[h-1][1]+r[h+1][1],r.splice(h-1,1),y=!0):r[h][1].substring(0,r[h+1][1].length)==r[h+1][1]&&(r[h-1][1]+=r[h+1][1],r[h][1]=r[h][1].substring(r[h+1][1].length)+r[h+1][1],r.splice(h+1,1),y=!0)),h++;y&&f(r)}var o=g;o.INSERT=_,o.DELETE=u,o.EQUAL=v,p.exports=o;function l(r,h){if(h===0)return[v,r];for(var x=0,O=0;O<r.length;O++){var w=r[O];if(w[0]===u||w[0]===v){var S=x+w[1].length;if(h===S)return[O+1,r];if(h<S){r=r.slice();var E=h-x,y=[w[0],w[1].slice(0,E)],A=[w[0],w[1].slice(E)];return r.splice(O,1,y,A),[O+1,r]}else x=S}}throw new Error("cursor_pos is out of bounds!")}function i(r,h){var x=l(r,h),O=x[1],w=x[0],S=O[w],E=O[w+1];if(S==null)return r;if(S[0]!==v)return r;if(E!=null&&S[1]+E[1]===E[1]+S[1])return O.splice(w,2,E,S),c(O,w,2);if(E!=null&&E[1].indexOf(S[1])===0){O.splice(w,2,[E[0],S[1]],[0,S[1]]);var y=E[1].slice(S[1].length);return y.length>0&&O.splice(w+2,0,[E[0],y]),c(O,w,3)}else return r}function a(r){for(var h=!1,x=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},O=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},w=2;w<r.length;w+=1)r[w-2][0]===v&&O(r[w-2][1])&&r[w-1][0]===u&&x(r[w-1][1])&&r[w][0]===_&&x(r[w][1])&&(h=!0,r[w-1][1]=r[w-2][1].slice(-1)+r[w-1][1],r[w][1]=r[w-2][1].slice(-1)+r[w][1],r[w-2][1]=r[w-2][1].slice(0,-1));if(!h)return r;for(var S=[],w=0;w<r.length;w+=1)r[w][1].length>0&&S.push(r[w]);return S}function c(r,h,x){for(var O=h+x-1;O>=0&&O>=h-1;O--)if(O+1<r.length){var w=r[O],S=r[O+1];w[0]===S[1]&&r.splice(O,2,[w[0],w[1]+S[1]])}return r}}),(function(p,s){s=p.exports=typeof Object.keys=="function"?Object.keys:u,s.shim=u;function u(_){var v=[];for(var g in _)v.push(g);return v}}),(function(p,s){var u=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";s=p.exports=u?_:v,s.supported=_;function _(g){return Object.prototype.toString.call(g)=="[object Arguments]"}s.unsupported=v;function v(g){return g&&typeof g=="object"&&typeof g.length=="number"&&Object.prototype.hasOwnProperty.call(g,"callee")&&!Object.prototype.propertyIsEnumerable.call(g,"callee")||!1}}),(function(p,s){var u=Object.prototype.hasOwnProperty,_="~";function v(){}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(_=!1));function g(b,d,n){this.fn=b,this.context=d,this.once=n||!1}function m(){this._events=new v,this._eventsCount=0}m.prototype.eventNames=function(){var d=[],n,e;if(this._eventsCount===0)return d;for(e in n=this._events)u.call(n,e)&&d.push(_?e.slice(1):e);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(n)):d},m.prototype.listeners=function(d,n){var e=_?_+d:d,t=this._events[e];if(n)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var f=0,o=t.length,l=new Array(o);f<o;f++)l[f]=t[f].fn;return l},m.prototype.emit=function(d,n,e,t,f,o){var l=_?_+d:d;if(!this._events[l])return!1;var i=this._events[l],a=arguments.length,c,r;if(i.fn){switch(i.once&&this.removeListener(d,i.fn,void 0,!0),a){case 1:return i.fn.call(i.context),!0;case 2:return i.fn.call(i.context,n),!0;case 3:return i.fn.call(i.context,n,e),!0;case 4:return i.fn.call(i.context,n,e,t),!0;case 5:return i.fn.call(i.context,n,e,t,f),!0;case 6:return i.fn.call(i.context,n,e,t,f,o),!0}for(r=1,c=new Array(a-1);r<a;r++)c[r-1]=arguments[r];i.fn.apply(i.context,c)}else{var h=i.length,x;for(r=0;r<h;r++)switch(i[r].once&&this.removeListener(d,i[r].fn,void 0,!0),a){case 1:i[r].fn.call(i[r].context);break;case 2:i[r].fn.call(i[r].context,n);break;case 3:i[r].fn.call(i[r].context,n,e);break;case 4:i[r].fn.call(i[r].context,n,e,t);break;default:if(!c)for(x=1,c=new Array(a-1);x<a;x++)c[x-1]=arguments[x];i[r].fn.apply(i[r].context,c)}}return!0},m.prototype.on=function(d,n,e){var t=new g(n,e||this),f=_?_+d:d;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],t]:this._events[f].push(t):(this._events[f]=t,this._eventsCount++),this},m.prototype.once=function(d,n,e){var t=new g(n,e||this,!0),f=_?_+d:d;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],t]:this._events[f].push(t):(this._events[f]=t,this._eventsCount++),this},m.prototype.removeListener=function(d,n,e,t){var f=_?_+d:d;if(!this._events[f])return this;if(!n)return--this._eventsCount===0?this._events=new v:delete this._events[f],this;var o=this._events[f];if(o.fn)o.fn===n&&(!t||o.once)&&(!e||o.context===e)&&(--this._eventsCount===0?this._events=new v:delete this._events[f]);else{for(var l=0,i=[],a=o.length;l<a;l++)(o[l].fn!==n||t&&!o[l].once||e&&o[l].context!==e)&&i.push(o[l]);i.length?this._events[f]=i.length===1?i[0]:i:--this._eventsCount===0?this._events=new v:delete this._events[f]}return this},m.prototype.removeAllListeners=function(d){var n;return d?(n=_?_+d:d,this._events[n]&&(--this._eventsCount===0?this._events=new v:delete this._events[n])):(this._events=new v,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prototype.setMaxListeners=function(){return this},m.prefixed=_,m.EventEmitter=m,typeof p<"u"&&(p.exports=m)}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.matchText=s.matchSpacing=s.matchNewline=s.matchBlot=s.matchAttributor=s.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},v=(function(){function W(V,$){var ee=[],Q=!0,ae=!1,oe=void 0;try{for(var le=V[Symbol.iterator](),Oe;!(Q=(Oe=le.next()).done)&&(ee.push(Oe.value),!($&&ee.length===$));Q=!0);}catch(Ae){ae=!0,oe=Ae}finally{try{!Q&&le.return&&le.return()}finally{if(ae)throw oe}}return ee}return function(V,$){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return W(V,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function W(V,$){for(var ee=0;ee<$.length;ee++){var Q=$[ee];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(V,Q.key,Q)}}return function(V,$,ee){return $&&W(V.prototype,$),ee&&W(V,ee),V}})(),m=u(3),b=A(m),d=u(2),n=A(d),e=u(0),t=A(e),f=u(5),o=A(f),l=u(10),i=A(l),a=u(9),c=A(a),r=u(36),h=u(37),x=u(13),O=A(x),w=u(26),S=u(38),E=u(39),y=u(40);function A(W){return W&&W.__esModule?W:{default:W}}function N(W,V,$){return V in W?Object.defineProperty(W,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):W[V]=$,W}function P(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}function I(W,V){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:W}function U(W,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);W.prototype=Object.create(V&&V.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(W,V):W.__proto__=V)}var F=(0,i.default)("quill:clipboard"),Z="__ql-matcher",D=[[Node.TEXT_NODE,pe],[Node.TEXT_NODE,se],["br",te],[Node.ELEMENT_NODE,se],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,_e],["li",ie],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",ne]],L=[r.AlignAttribute,S.DirectionAttribute].reduce(function(W,V){return W[V.keyName]=V,W},{}),q=[r.AlignStyle,h.BackgroundStyle,w.ColorStyle,S.DirectionStyle,E.FontStyle,y.SizeStyle].reduce(function(W,V){return W[V.keyName]=V,W},{}),j=(function(W){U(V,W);function V($,ee){P(this,V);var Q=I(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,$,ee));return Q.quill.root.addEventListener("paste",Q.onPaste.bind(Q)),Q.container=Q.quill.addContainer("ql-clipboard"),Q.container.setAttribute("contenteditable",!0),Q.container.setAttribute("tabindex",-1),Q.matchers=[],D.concat(Q.options.matchers).forEach(function(ae){var oe=v(ae,2),le=oe[0],Oe=oe[1];!ee.matchVisual&&Oe===fe||Q.addMatcher(le,Oe)}),Q}return g(V,[{key:"addMatcher",value:function(ee,Q){this.matchers.push([ee,Q])}},{key:"convert",value:function(ee){if(typeof ee=="string")return this.container.innerHTML=ee.replace(/\>\r?\n +\</g,"><"),this.convert();var Q=this.quill.getFormat(this.quill.selection.savedRange.index);if(Q[O.default.blotName]){var ae=this.container.innerText;return this.container.innerHTML="",new n.default().insert(ae,N({},O.default.blotName,Q[O.default.blotName]))}var oe=this.prepareMatching(),le=v(oe,2),Oe=le[0],Ae=le[1],ce=M(this.container,Oe,Ae);return H(ce,`
`)&&ce.ops[ce.ops.length-1].attributes==null&&(ce=ce.compose(new n.default().retain(ce.length()-1).delete(1))),F.log("convert",this.container.innerHTML,ce),this.container.innerHTML="",ce}},{key:"dangerouslyPasteHTML",value:function(ee,Q){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof ee=="string")this.quill.setContents(this.convert(ee),Q),this.quill.setSelection(0,o.default.sources.SILENT);else{var oe=this.convert(Q);this.quill.updateContents(new n.default().retain(ee).concat(oe),ae),this.quill.setSelection(ee+oe.length(),o.default.sources.SILENT)}}},{key:"onPaste",value:function(ee){var Q=this;if(!(ee.defaultPrevented||!this.quill.isEnabled())){var ae=this.quill.getSelection(),oe=new n.default().retain(ae.index),le=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(o.default.sources.SILENT),setTimeout(function(){oe=oe.concat(Q.convert()).delete(ae.length),Q.quill.updateContents(oe,o.default.sources.USER),Q.quill.setSelection(oe.length()-ae.length,o.default.sources.SILENT),Q.quill.scrollingContainer.scrollTop=le,Q.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ee=this,Q=[],ae=[];return this.matchers.forEach(function(oe){var le=v(oe,2),Oe=le[0],Ae=le[1];switch(Oe){case Node.TEXT_NODE:ae.push(Ae);break;case Node.ELEMENT_NODE:Q.push(Ae);break;default:[].forEach.call(ee.container.querySelectorAll(Oe),function(ce){ce[Z]=ce[Z]||[],ce[Z].push(Ae)});break}}),[Q,ae]}}]),V})(c.default);j.DEFAULTS={matchers:[],matchVisual:!0};function C(W,V,$){return(typeof V>"u"?"undefined":_(V))==="object"?Object.keys(V).reduce(function(ee,Q){return C(ee,Q,V[Q])},W):W.reduce(function(ee,Q){return Q.attributes&&Q.attributes[V]?ee.push(Q):ee.insert(Q.insert,(0,b.default)({},N({},V,$),Q.attributes))},new n.default)}function z(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var V="__ql-computed-style";return W[V]||(W[V]=window.getComputedStyle(W))}function H(W,V){for(var $="",ee=W.ops.length-1;ee>=0&&$.length<V.length;--ee){var Q=W.ops[ee];if(typeof Q.insert!="string")break;$=Q.insert+$}return $.slice(-1*V.length)===V}function R(W){if(W.childNodes.length===0)return!1;var V=z(W);return["block","list-item"].indexOf(V.display)>-1}function M(W,V,$){return W.nodeType===W.TEXT_NODE?$.reduce(function(ee,Q){return Q(W,ee)},new n.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(ee,Q){var ae=M(Q,V,$);return Q.nodeType===W.ELEMENT_NODE&&(ae=V.reduce(function(oe,le){return le(Q,oe)},ae),ae=(Q[Z]||[]).reduce(function(oe,le){return le(Q,oe)},ae)),ee.concat(ae)},new n.default):new n.default}function K(W,V,$){return C($,W,!0)}function G(W,V){var $=t.default.Attributor.Attribute.keys(W),ee=t.default.Attributor.Class.keys(W),Q=t.default.Attributor.Style.keys(W),ae={};return $.concat(ee).concat(Q).forEach(function(oe){var le=t.default.query(oe,t.default.Scope.ATTRIBUTE);le!=null&&(ae[le.attrName]=le.value(W),ae[le.attrName])||(le=L[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(ae[le.attrName]=le.value(W)||void 0),le=q[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(le=q[oe],ae[le.attrName]=le.value(W)||void 0))}),Object.keys(ae).length>0&&(V=C(V,ae)),V}function Y(W,V){var $=t.default.query(W);if($==null)return V;if($.prototype instanceof t.default.Embed){var ee={},Q=$.value(W);Q!=null&&(ee[$.blotName]=Q,V=new n.default().insert(ee,$.formats(W)))}else typeof $.formats=="function"&&(V=C(V,$.blotName,$.formats(W)));return V}function te(W,V){return H(V,`
`)||V.insert(`
`),V}function ne(){return new n.default}function ie(W,V){var $=t.default.query(W);if($==null||$.blotName!=="list-item"||!H(V,`
`))return V;for(var ee=-1,Q=W.parentNode;!Q.classList.contains("ql-clipboard");)(t.default.query(Q)||{}).blotName==="list"&&(ee+=1),Q=Q.parentNode;return ee<=0?V:V.compose(new n.default().retain(V.length()-1).retain(1,{indent:ee}))}function se(W,V){return H(V,`
`)||(R(W)||V.length()>0&&W.nextSibling&&R(W.nextSibling))&&V.insert(`
`),V}function fe(W,V){if(R(W)&&W.nextElementSibling!=null&&!H(V,`

`)){var $=W.offsetHeight+parseFloat(z(W).marginTop)+parseFloat(z(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+$*1.5&&V.insert(`
`)}return V}function _e(W,V){var $={},ee=W.style||{};return ee.fontStyle&&z(W).fontStyle==="italic"&&($.italic=!0),ee.fontWeight&&(z(W).fontWeight.startsWith("bold")||parseInt(z(W).fontWeight)>=700)&&($.bold=!0),Object.keys($).length>0&&(V=C(V,$)),parseFloat(ee.textIndent||0)>0&&(V=new n.default().insert("	").concat(V)),V}function pe(W,V){var $=W.data;if(W.parentNode.tagName==="O:P")return V.insert($.trim());if($.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return V;if(!z(W.parentNode).whiteSpace.startsWith("pre")){var ee=function(ae,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&ae?" ":oe};$=$.replace(/\r\n/g," ").replace(/\n/g," "),$=$.replace(/\s\s+/g,ee.bind(ee,!0)),(W.previousSibling==null&&R(W.parentNode)||W.previousSibling!=null&&R(W.previousSibling))&&($=$.replace(/^\s+/,ee.bind(ee,!1))),(W.nextSibling==null&&R(W.parentNode)||W.nextSibling!=null&&R(W.nextSibling))&&($=$.replace(/\s+$/,ee.bind(ee,!1)))}return V.insert($)}s.default=j,s.matchAttributor=G,s.matchBlot=Y,s.matchNewline=se,s.matchSpacing=fe,s.matchText=pe}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var i=0;i<l.length;i++){var a=l[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,l,i){return l&&f(o.prototype,l),i&&f(o,i),o}})(),v=function f(o,l,i){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,l);if(a===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,i)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(i)}},g=u(6),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function n(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _(o,[{key:"optimize",value:function(i){v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"optimize",this).call(this,i),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return v(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),o})(m.default);t.blotName="bold",t.tagName=["STRONG","B"],s.default=t}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.addControls=s.default=void 0;var _=(function(){function y(A,N){var P=[],I=!0,U=!1,F=void 0;try{for(var Z=A[Symbol.iterator](),D;!(I=(D=Z.next()).done)&&(P.push(D.value),!(N&&P.length===N));I=!0);}catch(L){U=!0,F=L}finally{try{!I&&Z.return&&Z.return()}finally{if(U)throw F}}return P}return function(A,N){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return y(A,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function y(A,N){for(var P=0;P<N.length;P++){var I=N[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(A,I.key,I)}}return function(A,N,P){return N&&y(A.prototype,N),P&&y(A,P),A}})(),g=u(2),m=i(g),b=u(0),d=i(b),n=u(5),e=i(n),t=u(10),f=i(t),o=u(9),l=i(o);function i(y){return y&&y.__esModule?y:{default:y}}function a(y,A,N){return A in y?Object.defineProperty(y,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):y[A]=N,y}function c(y,A){if(!(y instanceof A))throw new TypeError("Cannot call a class as a function")}function r(y,A){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:y}function h(y,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);y.prototype=Object.create(A&&A.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(y,A):y.__proto__=A)}var x=(0,f.default)("quill:toolbar"),O=(function(y){h(A,y);function A(N,P){c(this,A);var I=r(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,N,P));if(Array.isArray(I.options.container)){var U=document.createElement("div");S(U,I.options.container),N.container.parentNode.insertBefore(U,N.container),I.container=U}else typeof I.options.container=="string"?I.container=document.querySelector(I.options.container):I.container=I.options.container;if(!(I.container instanceof HTMLElement)){var F;return F=x.error("Container required for toolbar",I.options),r(I,F)}return I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(Z){I.addHandler(Z,I.options.handlers[Z])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(Z){I.attach(Z)}),I.quill.on(e.default.events.EDITOR_CHANGE,function(Z,D){Z===e.default.events.SELECTION_CHANGE&&I.update(D)}),I.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var Z=I.quill.selection.getRange(),D=_(Z,1),L=D[0];I.update(L)}),I}return v(A,[{key:"addHandler",value:function(P,I){this.handlers[P]=I}},{key:"attach",value:function(P){var I=this,U=[].find.call(P.classList,function(Z){return Z.indexOf("ql-")===0});if(U){if(U=U.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){x.warn("ignoring attaching to disabled format",U,P);return}if(d.default.query(U)==null){x.warn("ignoring attaching to nonexistent format",U,P);return}}var F=P.tagName==="SELECT"?"change":"click";P.addEventListener(F,function(Z){var D=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var L=P.options[P.selectedIndex];L.hasAttribute("selected")?D=!1:D=L.value||!1}else P.classList.contains("ql-active")?D=!1:D=P.value||!P.hasAttribute("value"),Z.preventDefault();I.quill.focus();var q=I.quill.selection.getRange(),j=_(q,1),C=j[0];if(I.handlers[U]!=null)I.handlers[U].call(I,D);else if(d.default.query(U).prototype instanceof d.default.Embed){if(D=prompt("Enter "+U),!D)return;I.quill.updateContents(new m.default().retain(C.index).delete(C.length).insert(a({},U,D)),e.default.sources.USER)}else I.quill.format(U,D,e.default.sources.USER);I.update(C)}),this.controls.push([U,P])}}},{key:"update",value:function(P){var I=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(U){var F=_(U,2),Z=F[0],D=F[1];if(D.tagName==="SELECT"){var L=void 0;if(P==null)L=null;else if(I[Z]==null)L=D.querySelector("option[selected]");else if(!Array.isArray(I[Z])){var q=I[Z];typeof q=="string"&&(q=q.replace(/\"/g,'\\"')),L=D.querySelector('option[value="'+q+'"]')}L==null?(D.value="",D.selectedIndex=-1):L.selected=!0}else if(P==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var j=I[Z]===D.getAttribute("value")||I[Z]!=null&&I[Z].toString()===D.getAttribute("value")||I[Z]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",j)}else D.classList.toggle("ql-active",I[Z]!=null)})}}]),A})(l.default);O.DEFAULTS={};function w(y,A,N){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+A),N!=null&&(P.value=N),y.appendChild(P)}function S(y,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(N){var P=document.createElement("span");P.classList.add("ql-formats"),N.forEach(function(I){if(typeof I=="string")w(P,I);else{var U=Object.keys(I)[0],F=I[U];Array.isArray(F)?E(P,U,F):w(P,U,F)}}),y.appendChild(P)})}function E(y,A,N){var P=document.createElement("select");P.classList.add("ql-"+A),N.forEach(function(I){var U=document.createElement("option");I!==!1?U.setAttribute("value",I):U.setAttribute("selected","selected"),P.appendChild(U)}),y.appendChild(P)}O.DEFAULTS={container:null,handlers:{clean:function(){var A=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(I){d.default.query(I,d.default.Scope.INLINE)!=null&&A.quill.format(I,!1)})}else this.quill.removeFormat(N,e.default.sources.USER)},direction:function(A){var N=this.quill.getFormat().align;A==="rtl"&&N==null?this.quill.format("align","right",e.default.sources.USER):!A&&N==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",A,e.default.sources.USER)},indent:function(A){var N=this.quill.getSelection(),P=this.quill.getFormat(N),I=parseInt(P.indent||0);if(A==="+1"||A==="-1"){var U=A==="+1"?1:-1;P.direction==="rtl"&&(U*=-1),this.quill.format("indent",I+U,e.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,e.default.sources.USER)},list:function(A){var N=this.quill.getSelection(),P=this.quill.getFormat(N);A==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",A,e.default.sources.USER)}}},s.default=O,s.addControls=S}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var i=0;i<l.length;i++){var a=l[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,l,i){return l&&f(o.prototype,l),i&&f(o,i),o}})(),v=function f(o,l,i){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,l);if(a===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,i)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(i)}},g=u(28),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function n(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(l,i){d(this,o);var a=n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return a.label.innerHTML=i,a.container.classList.add("ql-color-picker"),[].slice.call(a.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(c){c.classList.add("ql-primary")}),a}return _(o,[{key:"buildItem",value:function(i){var a=v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"buildItem",this).call(this,i);return a.style.backgroundColor=i.getAttribute("value")||"",a}},{key:"selectItem",value:function(i,a){v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,i,a);var c=this.label.querySelector(".ql-color-label"),r=i&&i.getAttribute("data-value")||"";c&&(c.tagName==="line"?c.style.stroke=r:c.style.fill=r)}}]),o})(m.default);s.default=t}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var i=0;i<l.length;i++){var a=l[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,l,i){return l&&f(o.prototype,l),i&&f(o,i),o}})(),v=function f(o,l,i){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,l);if(a===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,i)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(i)}},g=u(28),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function n(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(l,i){d(this,o);var a=n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return a.container.classList.add("ql-icon-picker"),[].forEach.call(a.container.querySelectorAll(".ql-picker-item"),function(c){c.innerHTML=i[c.getAttribute("data-value")||""]}),a.defaultItem=a.container.querySelector(".ql-selected"),a.selectItem(a.defaultItem),a}return _(o,[{key:"selectItem",value:function(i,a){v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,i,a),i=i||this.defaultItem,this.label.innerHTML=i.innerHTML}}]),o})(m.default);s.default=t}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function m(b,d){for(var n=0;n<d.length;n++){var e=d[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}}return function(b,d,n){return d&&m(b.prototype,d),n&&m(b,n),b}})();function v(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var g=(function(){function m(b,d){var n=this;v(this,m),this.quill=b,this.boundsContainer=d||document.body,this.root=b.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"}),this.hide()}return _(m,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var n=d.left+d.width/2-this.root.offsetWidth/2,e=d.bottom+this.quill.root.scrollTop;this.root.style.left=n+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),o=0;if(f.right>t.right&&(o=t.right-f.right,this.root.style.left=n+o+"px"),f.left<t.left&&(o=t.left-f.left,this.root.style.left=n+o+"px"),f.bottom>t.bottom){var l=f.bottom-f.top,i=d.bottom-d.top+l;this.root.style.top=e-i+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),m})();s.default=g}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function E(y,A){var N=[],P=!0,I=!1,U=void 0;try{for(var F=y[Symbol.iterator](),Z;!(P=(Z=F.next()).done)&&(N.push(Z.value),!(A&&N.length===A));P=!0);}catch(D){I=!0,U=D}finally{try{!P&&F.return&&F.return()}finally{if(I)throw U}}return N}return function(y,A){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return E(y,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=function E(y,A,N){y===null&&(y=Function.prototype);var P=Object.getOwnPropertyDescriptor(y,A);if(P===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:E(I,A,N)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(N)}},g=(function(){function E(y,A){for(var N=0;N<A.length;N++){var P=A[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,A,N){return A&&E(y.prototype,A),N&&E(y,N),y}})(),m=u(3),b=c(m),d=u(8),n=c(d),e=u(43),t=c(e),f=u(27),o=c(f),l=u(15),i=u(41),a=c(i);function c(E){return E&&E.__esModule?E:{default:E}}function r(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}function h(E,y){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:E}function x(E,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);E.prototype=Object.create(y&&y.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(E,y):E.__proto__=y)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=(function(E){x(y,E);function y(A,N){r(this,y),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=O);var P=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,A,N));return P.quill.container.classList.add("ql-snow"),P}return g(y,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),a.default),this.tooltip=new S(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,I){N.handlers.link.call(N,!I.format.link)})}}]),y})(t.default);w.DEFAULTS=(0,b.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(y){if(y){var A=this.quill.getSelection();if(A==null||A.length==0)return;var N=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var P=this.quill.theme.tooltip;P.edit("link",N)}else this.quill.format("link",!1)}}}}});var S=(function(E){x(y,E);function y(A,N){r(this,y);var P=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,A,N));return P.preview=P.root.querySelector("a.ql-preview"),P}return g(y,[{key:"listen",value:function(){var N=this;v(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(N.linkRange!=null){var I=N.linkRange;N.restoreFocus(),N.quill.formatText(I,"link",!1,n.default.sources.USER),delete N.linkRange}P.preventDefault(),N.hide()}),this.quill.on(n.default.events.SELECTION_CHANGE,function(P,I,U){if(P!=null){if(P.length===0&&U===n.default.sources.USER){var F=N.quill.scroll.descendant(o.default,P.index),Z=_(F,2),D=Z[0],L=Z[1];if(D!=null){N.linkRange=new l.Range(P.index-L,D.length());var q=o.default.formats(D.domNode);N.preview.textContent=q,N.preview.setAttribute("href",q),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){v(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),y})(e.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),s.default=w}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(29),v=Q(_),g=u(36),m=u(38),b=u(64),d=u(65),n=Q(d),e=u(66),t=Q(e),f=u(67),o=Q(f),l=u(37),i=u(26),a=u(39),c=u(40),r=u(56),h=Q(r),x=u(68),O=Q(x),w=u(27),S=Q(w),E=u(69),y=Q(E),A=u(70),N=Q(A),P=u(71),I=Q(P),U=u(72),F=Q(U),Z=u(73),D=Q(Z),L=u(13),q=Q(L),j=u(74),C=Q(j),z=u(75),H=Q(z),R=u(57),M=Q(R),K=u(41),G=Q(K),Y=u(28),te=Q(Y),ne=u(59),ie=Q(ne),se=u(60),fe=Q(se),_e=u(61),pe=Q(_e),W=u(108),V=Q(W),$=u(62),ee=Q($);function Q(ae){return ae&&ae.__esModule?ae:{default:ae}}v.default.register({"attributors/attribute/direction":m.DirectionAttribute,"attributors/class/align":g.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":i.ColorClass,"attributors/class/direction":m.DirectionClass,"attributors/class/font":a.FontClass,"attributors/class/size":c.SizeClass,"attributors/style/align":g.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":i.ColorStyle,"attributors/style/direction":m.DirectionStyle,"attributors/style/font":a.FontStyle,"attributors/style/size":c.SizeStyle},!0),v.default.register({"formats/align":g.AlignClass,"formats/direction":m.DirectionClass,"formats/indent":b.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":i.ColorStyle,"formats/font":a.FontClass,"formats/size":c.SizeClass,"formats/blockquote":n.default,"formats/code-block":q.default,"formats/header":t.default,"formats/list":o.default,"formats/bold":h.default,"formats/code":L.Code,"formats/italic":O.default,"formats/link":S.default,"formats/script":y.default,"formats/strike":N.default,"formats/underline":I.default,"formats/image":F.default,"formats/video":D.default,"formats/list/item":f.ListItem,"modules/formula":C.default,"modules/syntax":H.default,"modules/toolbar":M.default,"themes/bubble":V.default,"themes/snow":ee.default,"ui/icons":G.default,"ui/picker":te.default,"ui/icon-picker":fe.default,"ui/color-picker":ie.default,"ui/tooltip":pe.default},!0),s.default=v.default}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.IndentClass=void 0;var _=(function(){function o(l,i){for(var a=0;a<i.length;a++){var c=i[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(l,i,a){return i&&o(l.prototype,i),a&&o(l,a),l}})(),v=function o(l,i,a){l===null&&(l=Function.prototype);var c=Object.getOwnPropertyDescriptor(l,i);if(c===void 0){var r=Object.getPrototypeOf(l);return r===null?void 0:o(r,i,a)}else{if("value"in c)return c.value;var h=c.get;return h===void 0?void 0:h.call(a)}},g=u(0),m=b(g);function b(o){return o&&o.__esModule?o:{default:o}}function d(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return d(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"add",value:function(a,c){if(c==="+1"||c==="-1"){var r=this.value(a)||0;c=c==="+1"?r+1:r-1}return c===0?(this.remove(a),!0):v(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,a,c)}},{key:"canAdd",value:function(a,c){return v(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,a,c)||v(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,a,parseInt(c))}},{key:"value",value:function(a){return parseInt(v(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,a))||void 0}}]),l})(m.default.Attributor.Class),f=new t("indent","ql-indent",{scope:m.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});s.IndentClass=f}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(4),v=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(v.default);n.blotName="blockquote",n.tagName="blockquote",s.default=n}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function t(f,o){for(var l=0;l<o.length;l++){var i=o[l];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(f,i.key,i)}}return function(f,o,l){return o&&t(f.prototype,o),l&&t(f,l),f}})(),v=u(4),g=m(v);function m(t){return t&&t.__esModule?t:{default:t}}function b(t,f){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}function d(t,f){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:t}function n(t,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);t.prototype=Object.create(f&&f.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(t,f):t.__proto__=f)}var e=(function(t){n(f,t);function f(){return b(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return _(f,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),f})(g.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],s.default=e}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ListItem=void 0;var _=(function(){function r(h,x){for(var O=0;O<x.length;O++){var w=x[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,x,O){return x&&r(h.prototype,x),O&&r(h,O),h}})(),v=function r(h,x,O){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,x);if(w===void 0){var S=Object.getPrototypeOf(h);return S===null?void 0:r(S,x,O)}else{if("value"in w)return w.value;var E=w.get;return E===void 0?void 0:E.call(O)}},g=u(0),m=t(g),b=u(4),d=t(b),n=u(25),e=t(n);function t(r){return r&&r.__esModule?r:{default:r}}function f(r,h,x){return h in r?Object.defineProperty(r,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):r[h]=x,r}function o(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}function l(r,h){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:r}function i(r,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);r.prototype=Object.create(h&&h.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(r,h):r.__proto__=h)}var a=(function(r){i(h,r);function h(){return o(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return _(h,[{key:"format",value:function(O,w){O===c.blotName&&!w?this.replaceWith(m.default.create(this.statics.scope)):v(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,O,w)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():v(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,w){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,w),this):(this.parent.unwrap(),v(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replaceWith",this).call(this,O,w))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:v(h.__proto__||Object.getPrototypeOf(h),"formats",this).call(this,O)}}]),h})(d.default);a.blotName="list-item",a.tagName="LI";var c=(function(r){i(h,r),_(h,null,[{key:"create",value:function(O){var w=O==="ordered"?"OL":"UL",S=v(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,w);return(O==="checked"||O==="unchecked")&&S.setAttribute("data-checked",O==="checked"),S}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function h(x){o(this,h);var O=l(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,x)),w=function(E){if(E.target.parentNode===x){var y=O.statics.formats(x),A=m.default.find(E.target);y==="checked"?A.format("list","unchecked"):y==="unchecked"&&A.format("list","checked")}};return x.addEventListener("touchstart",w),x.addEventListener("mousedown",w),O}return _(h,[{key:"format",value:function(O,w){this.children.length>0&&this.children.tail.format(O,w)}},{key:"formats",value:function(){return f({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,w){if(O instanceof a)v(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,O,w);else{var S=w==null?this.length():w.offset(this),E=this.split(S);E.parent.insertBefore(O,E)}}},{key:"optimize",value:function(O){v(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,O);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&w.domNode.tagName===this.domNode.tagName&&w.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(w.moveChildren(this),w.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var w=m.default.create(this.statics.defaultChild);O.moveChildren(w),this.appendChild(w)}v(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replace",this).call(this,O)}}]),h})(e.default);c.blotName="list",c.scope=m.default.Scope.BLOCK_BLOT,c.tagName=["OL","UL"],c.defaultChild="list-item",c.allowedChildren=[a],s.ListItem=a,s.default=c}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(56),v=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(v.default);n.blotName="italic",n.tagName=["EM","I"],s.default=n}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var i=0;i<l.length;i++){var a=l[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,a.key,a)}}return function(o,l,i){return l&&f(o.prototype,l),i&&f(o,i),o}})(),v=function f(o,l,i){o===null&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,l);if(a===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,i)}else{if("value"in a)return a.value;var r=a.get;return r===void 0?void 0:r.call(i)}},g=u(6),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function n(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _(o,null,[{key:"create",value:function(i){return i==="super"?document.createElement("sup"):i==="sub"?document.createElement("sub"):v(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,i)}},{key:"formats",value:function(i){if(i.tagName==="SUB")return"sub";if(i.tagName==="SUP")return"super"}}]),o})(m.default);t.blotName="script",t.tagName=["SUB","SUP"],s.default=t}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(6),v=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(v.default);n.blotName="strike",n.tagName="S",s.default=n}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(6),v=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(v.default);n.blotName="underline",n.tagName="U",s.default=n}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function l(i,a){for(var c=0;c<a.length;c++){var r=a[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,a,c){return a&&l(i.prototype,a),c&&l(i,c),i}})(),v=function l(i,a,c){i===null&&(i=Function.prototype);var r=Object.getOwnPropertyDescriptor(i,a);if(r===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,a,c)}else{if("value"in r)return r.value;var x=r.get;return x===void 0?void 0:x.call(c)}},g=u(0),m=d(g),b=u(27);function d(l){return l&&l.__esModule?l:{default:l}}function n(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function e(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function t(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var f=["alt","height","width"],o=(function(l){t(i,l);function i(){return n(this,i),e(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"format",value:function(c,r){f.indexOf(c)>-1?r?this.domNode.setAttribute(c,r):this.domNode.removeAttribute(c):v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,c,r)}}],[{key:"create",value:function(c){var r=v(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,c);return typeof c=="string"&&r.setAttribute("src",this.sanitize(c)),r}},{key:"formats",value:function(c){return f.reduce(function(r,h){return c.hasAttribute(h)&&(r[h]=c.getAttribute(h)),r},{})}},{key:"match",value:function(c){return/\.(jpe?g|gif|png)$/.test(c)||/^data:image\/.+;base64/.test(c)}},{key:"sanitize",value:function(c){return(0,b.sanitize)(c,["http","https","data"])?c:"//:0"}},{key:"value",value:function(c){return c.getAttribute("src")}}]),i})(m.default.Embed);o.blotName="image",o.tagName="IMG",s.default=o}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function l(i,a){for(var c=0;c<a.length;c++){var r=a[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(i,r.key,r)}}return function(i,a,c){return a&&l(i.prototype,a),c&&l(i,c),i}})(),v=function l(i,a,c){i===null&&(i=Function.prototype);var r=Object.getOwnPropertyDescriptor(i,a);if(r===void 0){var h=Object.getPrototypeOf(i);return h===null?void 0:l(h,a,c)}else{if("value"in r)return r.value;var x=r.get;return x===void 0?void 0:x.call(c)}},g=u(4),m=u(27),b=d(m);function d(l){return l&&l.__esModule?l:{default:l}}function n(l,i){if(!(l instanceof i))throw new TypeError("Cannot call a class as a function")}function e(l,i){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:l}function t(l,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);l.prototype=Object.create(i&&i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(l,i):l.__proto__=i)}var f=["height","width"],o=(function(l){t(i,l);function i(){return n(this,i),e(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _(i,[{key:"format",value:function(c,r){f.indexOf(c)>-1?r?this.domNode.setAttribute(c,r):this.domNode.removeAttribute(c):v(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,c,r)}}],[{key:"create",value:function(c){var r=v(i.__proto__||Object.getPrototypeOf(i),"create",this).call(this,c);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(c)),r}},{key:"formats",value:function(c){return f.reduce(function(r,h){return c.hasAttribute(h)&&(r[h]=c.getAttribute(h)),r},{})}},{key:"sanitize",value:function(c){return b.default.sanitize(c)}},{key:"value",value:function(c){return c.getAttribute("src")}}]),i})(g.BlockEmbed);o.blotName="video",o.className="ql-video",o.tagName="IFRAME",s.default=o}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.FormulaBlot=void 0;var _=(function(){function c(r,h){for(var x=0;x<h.length;x++){var O=h[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(r,O.key,O)}}return function(r,h,x){return h&&c(r.prototype,h),x&&c(r,x),r}})(),v=function c(r,h,x){r===null&&(r=Function.prototype);var O=Object.getOwnPropertyDescriptor(r,h);if(O===void 0){var w=Object.getPrototypeOf(r);return w===null?void 0:c(w,h,x)}else{if("value"in O)return O.value;var S=O.get;return S===void 0?void 0:S.call(x)}},g=u(35),m=t(g),b=u(5),d=t(b),n=u(9),e=t(n);function t(c){return c&&c.__esModule?c:{default:c}}function f(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function o(c,r){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:c}function l(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);c.prototype=Object.create(r&&r.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(c,r):c.__proto__=r)}var i=(function(c){l(r,c);function r(){return f(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _(r,null,[{key:"create",value:function(x){var O=v(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",x)),O}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),r})(m.default);i.blotName="formula",i.className="ql-formula",i.tagName="SPAN";var a=(function(c){l(r,c),_(r,null,[{key:"register",value:function(){d.default.register(i,!0)}}]);function r(){f(this,r);var h=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return h}return r})(e.default);s.FormulaBlot=i,s.default=a}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CodeToken=s.CodeBlock=void 0;var _=(function(){function x(O,w){for(var S=0;S<w.length;S++){var E=w[S];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(O,E.key,E)}}return function(O,w,S){return w&&x(O.prototype,w),S&&x(O,S),O}})(),v=function x(O,w,S){O===null&&(O=Function.prototype);var E=Object.getOwnPropertyDescriptor(O,w);if(E===void 0){var y=Object.getPrototypeOf(O);return y===null?void 0:x(y,w,S)}else{if("value"in E)return E.value;var A=E.get;return A===void 0?void 0:A.call(S)}},g=u(0),m=o(g),b=u(5),d=o(b),n=u(9),e=o(n),t=u(13),f=o(t);function o(x){return x&&x.__esModule?x:{default:x}}function l(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}function i(x,O){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:x}function a(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(x,O):x.__proto__=O)}var c=(function(x){a(O,x);function O(){return l(this,O),i(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return _(O,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),v(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=S(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),O})(f.default);c.className="ql-syntax";var r=new m.default.Attributor.Class("token","hljs",{scope:m.default.Scope.INLINE}),h=(function(x){a(O,x),_(O,null,[{key:"register",value:function(){d.default.register(r,!0),d.default.register(c,!0)}}]);function O(w,S){l(this,O);var E=i(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,w,S));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var y=null;return E.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(y),y=setTimeout(function(){E.highlight(),y=null},E.options.interval)}),E.highlight(),E}return _(O,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(c).forEach(function(y){y.highlight(S.options.highlight)}),this.quill.update(d.default.sources.SILENT),E!=null&&this.quill.setSelection(E,d.default.sources.SILENT)}}}]),O})(e.default);h.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(x){var O=window.hljs.highlightAuto(x);return O.value}})(),interval:1e3},s.CodeBlock=c,s.CodeToken=r,s.default=h}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(p,s){p.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(p,s){p.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(p,s){p.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(p,s){p.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(p,s){p.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(p,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BubbleTooltip=void 0;var _=function O(w,S,E){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,S);if(y===void 0){var A=Object.getPrototypeOf(w);return A===null?void 0:O(A,S,E)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(E)}},v=(function(){function O(w,S){for(var E=0;E<S.length;E++){var y=S[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,S,E){return S&&O(w.prototype,S),E&&O(w,E),w}})(),g=u(3),m=l(g),b=u(8),d=l(b),n=u(43),e=l(n),t=u(15),f=u(41),o=l(f);function l(O){return O&&O.__esModule?O:{default:O}}function i(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function a(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function c(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}var r=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],h=(function(O){c(w,O);function w(S,E){i(this,w),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=r);var y=a(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,E));return y.quill.container.classList.add("ql-bubble"),y}return v(w,[{key:"extendToolbar",value:function(E){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),o.default)}}]),w})(e.default);h.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){w?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=(function(O){c(w,O);function w(S,E){i(this,w);var y=a(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,S,E));return y.quill.on(d.default.events.EDITOR_CHANGE,function(A,N,P,I){if(A===d.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&I===d.default.sources.USER){y.show(),y.root.style.left="0px",y.root.style.width="",y.root.style.width=y.root.offsetWidth+"px";var U=y.quill.getLines(N.index,N.length);if(U.length===1)y.position(y.quill.getBounds(N));else{var F=U[U.length-1],Z=y.quill.getIndex(F),D=Math.min(F.length()-1,N.index+N.length-Z),L=y.quill.getBounds(new t.Range(Z,D));y.position(L)}}else document.activeElement!==y.textbox&&y.quill.hasFocus()&&y.hide()}),y}return v(w,[{key:"listen",value:function(){var E=this;_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var y=E.quill.getSelection();y!=null&&E.position(E.quill.getBounds(y))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var y=_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"position",this).call(this,E),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",y===0)return y;A.style.marginLeft=-1*y-A.offsetWidth/2+"px"}}]),w})(n.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),s.BubbleTooltip=x,s.default=h}),(function(p,s,u){p.exports=u(63)})]).default})})(Qe)),Qe.exports}var Pe,Wi;function Bl(){if(Wi)return Pe;Wi=1;var T=Pe&&Pe.__extends||(function(){var d=function(n,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,f){t.__proto__=f}||function(t,f){for(var o in f)f.hasOwnProperty(o)&&(t[o]=f[o])},d(n,e)};return function(n,e){d(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})(),k=Pe&&Pe.__assign||function(){return k=Object.assign||function(d){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(d[f]=n[f])}return d},k.apply(this,arguments)},p=Pe&&Pe.__spreadArrays||function(){for(var d=0,n=0,e=arguments.length;n<e;n++)d+=arguments[n].length;for(var t=Array(d),f=0,n=0;n<e;n++)for(var o=arguments[n],l=0,i=o.length;l<i;l++,f++)t[f]=o[l];return t},s=Pe&&Pe.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},u=s(Ma()),_=s(Ba()),v=s(Cl()),g=s(Ml()),m=(function(d){T(n,d);function n(e){var t=d.call(this,e)||this;t.dirtyProps=["modules","formats","bounds","theme","children"],t.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],t.state={generation:0},t.selection=null,t.onEditorChange=function(o,l,i,a){var c,r,h,x;o==="text-change"?(r=(c=t).onEditorChangeText)===null||r===void 0||r.call(c,t.editor.root.innerHTML,l,a,t.unprivilegedEditor):o==="selection-change"&&((x=(h=t).onEditorChangeSelection)===null||x===void 0||x.call(h,l,a,t.unprivilegedEditor))};var f=t.isControlled()?e.value:e.defaultValue;return t.value=f??"",t}return n.prototype.validateProps=function(e){var t;if(u.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(u.default.Children.count(e.children)){var f=u.default.Children.only(e.children);if(((t=f)===null||t===void 0?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},n.prototype.shouldComponentUpdate=function(e,t){var f=this,o;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var l=this.getEditorContents(),i=(o=e.value,o??"");this.isEqualValue(i,l)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),p(this.cleanProps,this.dirtyProps).some(function(a){return!v.default(e[a],f.props[a])})},n.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(f){return!v.default(e[f],t.props[f])})},n.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},n.prototype.componentWillUnmount=function(){this.destroyEditor()},n.prototype.componentDidUpdate=function(e,t){var f=this;if(this.editor&&this.shouldComponentRegenerate(e)){var o=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,o=i.delta,a=i.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),b(function(){return f.setEditorSelection(c,a)})}},n.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},n.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},n.prototype.isControlled=function(){return"value"in this.props},n.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},n.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},n.prototype.createEditor=function(e,t){var f=new g.default(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(f,t.tabIndex),this.hookEditor(f),f},n.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},n.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},n.prototype.getEditorContents=function(){return this.value},n.prototype.getEditorSelection=function(){return this.selection},n.prototype.isDelta=function(e){return e&&e.ops},n.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?v.default(e.ops,t.ops):v.default(e,t)},n.prototype.setEditorContents=function(e,t){var f=this;this.value=t;var o=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert(t)):e.setContents(t),b(function(){return f.setEditorSelection(e,o)})},n.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var f=e.getLength();t.index=Math.max(0,Math.min(t.index,f-1)),t.length=Math.max(0,Math.min(t.length,f-1-t.index)),e.setSelection(t)}},n.prototype.setEditorTabIndex=function(e,t){var f,o;!((o=(f=e)===null||f===void 0?void 0:f.scroll)===null||o===void 0)&&o.domNode&&(e.scroll.domNode.tabIndex=t)},n.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},n.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},n.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=_.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},n.prototype.renderEditingArea=function(){var e=this,t=this.props,f=t.children,o=t.preserveWhitespace,l=this.state.generation,i={key:l,ref:function(a){e.editingArea=a}};return u.default.Children.count(f)?u.default.cloneElement(u.default.Children.only(f),i):o?u.default.createElement("pre",k({},i)):u.default.createElement("div",k({},i))},n.prototype.render=function(){var e;return u.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},n.prototype.onEditorChangeText=function(e,t,f,o){var l,i;if(this.editor){var a=this.isDelta(this.value)?o.getContents():o.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,(i=(l=this.props).onChange)===null||i===void 0||i.call(l,e,t,f,o))}},n.prototype.onEditorChangeSelection=function(e,t,f){var o,l,i,a,c,r;if(this.editor){var h=this.getEditorSelection(),x=!h&&e,O=h&&!e;v.default(e,h)||(this.selection=e,(l=(o=this.props).onChangeSelection)===null||l===void 0||l.call(o,e,t,f),x?(a=(i=this.props).onFocus)===null||a===void 0||a.call(i,e,t,f):O&&((r=(c=this.props).onBlur)===null||r===void 0||r.call(c,h,t,f)))}},n.prototype.focus=function(){this.editor&&this.editor.focus()},n.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},n.displayName="React Quill",n.Quill=g.default,n.defaultProps={theme:"snow",modules:{},readOnly:!1},n})(u.default.Component);function b(d){Promise.resolve().then(d)}return Pe=m,Pe}var je=Bl();const Fl=Fa(je),Ul=za({__proto__:null,default:Fl},[je]);let Vi=!1;const Hl=5*1024*1024,zl=25*1024*1024,Kl="https://wa.me/5591985807373?text=Ol%C3%A1%20Dra.%20Lueine%2C%20gostaria%20de%20agendar%20uma%20consulta.";function Gl(){if(Vi)return;const T=je.Quill.import("blots/block/embed"),k=je.Quill.import("formats/link"),p=je.Quill.import("ui/icons");class s extends k{static blotName="button";static tagName="A";static className="ql-button-link";static create(g){const m=super.create(g);return m.setAttribute("role","button"),m.classList.add("ql-button-link"),m}}class u extends T{static blotName="figureImage";static tagName="figure";static className="quill-figure";static create(g){const m=super.create(),b=document.createElement("img");if(b.setAttribute("src",g?.src||""),g?.alt&&b.setAttribute("alt",g.alt),g?.title&&b.setAttribute("title",g.title),b.setAttribute("loading","lazy"),b.setAttribute("decoding","async"),m.dataset.alt=g?.alt||"",m.dataset.caption=g?.caption||"",m.dataset.source=g?.source||"",m.appendChild(b),!!(g?.caption||g?.source)){const n=document.createElement("figcaption");g?.caption&&g?.source?n.textContent=`Legenda: ${g.caption} - Fonte: ${g.source}`:g?.caption?n.textContent=`Legenda: ${g.caption}`:g?.source&&(n.textContent=`Fonte: ${g.source}`),m.appendChild(n)}return m}static value(g){return{src:g.querySelector("img")?.getAttribute("src")||"",alt:g.dataset.alt||"",caption:g.dataset.caption||"",source:g.dataset.source||""}}}class _ extends T{static blotName="spacer";static tagName="div";static className="quill-spacer"}p.button='<svg viewBox="0 0 448 512" width="18" height="18" aria-hidden="true"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM48 80h352v352H48V80zm256 160h-56v-56c0-4.4-3.6-8-8-8h-32c-4.4 0-8 3.6-8 8v56h-56c-4.4 0-8 3.6-8 8v32c0 4.4 3.6 8 8 8h56v56c0 4.4 3.6 8 8 8h32c4.4 0 8-3.6 8-8v-56h56c4.4 0 8-3.6 8-8v-32c0-4.4-3.6-8-8-8z" fill="currentColor"/></svg>',p.spacer='<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M4 7h16v2H4V7zm0 8h16v2H4v-2z" fill="currentColor"/></svg>',je.Quill.register(s),je.Quill.register(u),je.Quill.register(_),Vi=!0}const Zi={open:!1,type:"",sourceType:"url",fields:{url:"",file:null,alt:"",caption:"",source:"",buttonText:"",buttonUrl:""},errors:{}},Yi=T=>new Promise((k,p)=>{const s=new FileReader;s.onload=()=>k(s.result),s.onerror=u=>p(u),s.readAsDataURL(T)}),Ye=T=>{const k=T.getSelection(!0);return k&&typeof k.index=="number"?k.index:Math.max(T.getLength()-1,0)},ma=T=>{try{return new URL(T)}catch{return null}},Fr=T=>{const k=ma(T.trim());return!k||!["http:","https:"].includes(k.protocol)?"":k.toString()},Qi=T=>{const k=T.trim();if(!k)return"";if(k.startsWith("/")||k.startsWith("#"))return k;const p=ma(k);return!p||!["http:","https:","mailto:","tel:"].includes(p.protocol)?"":p.toString()},Xi=(T,k)=>{if(!T)return k==="image"?"Selecione um arquivo de imagem.":"Selecione um arquivo de video.";if(k==="image"){if(!T.type.startsWith("image/"))return"Arquivo invalido. Use um formato de imagem.";if(T.size>Hl)return"A imagem deve ter no maximo 5MB."}if(k==="video"){if(!T.type.startsWith("video/"))return"Arquivo invalido. Use um formato de video.";if(T.size>zl)return"O video deve ter no maximo 25MB."}return""},Ji=T=>{const k=Fr(T);if(!k)return"";try{const p=new URL(k),s=p.hostname.replace("www.","");if(s==="youtube.com"||s==="m.youtube.com"){const u=p.searchParams.get("v");if(u)return`https://www.youtube.com/embed/${u}`}if(s==="youtu.be"){const u=p.pathname.replace("/","");if(u)return`https://www.youtube.com/embed/${u}`}if(k.includes("/embed/"))return k}catch{return""}return k},Ee=(T,k)=>{!T||!k||(T.setAttribute("title",k),T.setAttribute("aria-label",k))},Wl=T=>{const k=T.querySelector(".ql-picker.ql-header");if(!k)return;const p=k.querySelector(".ql-picker-label");Ee(p,"Nivel de titulo");const s={2:"Titulo H2",3:"Titulo H3",4:"Titulo H4","":"Texto normal"};k.querySelectorAll(".ql-picker-item").forEach(u=>{const _=u.getAttribute("data-value")||"";Ee(u,s[_]||"Titulo")})},Vl=T=>{const k=T.querySelector(".ql-picker.ql-align");if(!k)return;const p=k.querySelector(".ql-picker-label");Ee(p,"Alinhamento");const s={"":"Alinhar a esquerda",center:"Centralizar",right:"Alinhar a direita",justify:"Justificar"};k.querySelectorAll(".ql-picker-item").forEach(u=>{const _=u.getAttribute("data-value")||"";Ee(u,s[_]||"Alinhamento")})},Zl=T=>{Ee(T.querySelector("button.ql-bold"),"Negrito"),Ee(T.querySelector("button.ql-italic"),"Italico"),Ee(T.querySelector("button.ql-underline"),"Sublinhado"),Ee(T.querySelector("button.ql-strike"),"Tachado"),Ee(T.querySelector("button.ql-blockquote"),"Citacao"),Ee(T.querySelector("button.ql-link"),"Inserir link"),Ee(T.querySelector("button.ql-button"),"Inserir botao"),Ee(T.querySelector("button.ql-image"),"Inserir imagem"),Ee(T.querySelector("button.ql-video"),"Inserir video"),Ee(T.querySelector("button.ql-spacer"),"Inserir espaco"),Ee(T.querySelector("button.ql-clean"),"Limpar formatacao"),T.querySelectorAll("button.ql-script").forEach(k=>{const p=k.value||k.getAttribute("value");Ee(k,p==="super"?"Sobrescrito":"Subscrito")}),T.querySelectorAll("button.ql-list").forEach(k=>{const p=k.value||k.getAttribute("value");Ee(k,p==="ordered"?"Lista numerada":"Lista com marcadores")}),Wl(T),Vl(T)};function Yl({setUploading:T}){const k=X.useRef(null),[p,s]=X.useState(Zi);Gl();const u=X.useCallback(({src:o,alt:l,caption:i,source:a})=>{const c=k.current?.getEditor();if(!c)return;const r=Ye(c);c.insertEmbed(r,"figureImage",{src:o,alt:l,caption:i,source:a}),c.setSelection(r+1)},[]),_=X.useCallback(o=>{s({open:!0,type:o,sourceType:"url",fields:{url:"",file:null,alt:"",caption:"",source:"",buttonText:o==="button"?"Agende sua consulta":"",buttonUrl:o==="button"?Kl:""},errors:{}})},[]),v=X.useCallback(()=>{s(Zi)},[]),g=X.useCallback((o,l)=>{s(i=>({...i,fields:{...i.fields,[o]:l},errors:{...i.errors,[o]:""}}))},[]),m=X.useCallback(o=>{s(l=>({...l,fields:{...l.fields,file:o},errors:{...l.errors,file:""}}))},[]),b=X.useCallback(o=>{s(l=>({...l,sourceType:o,fields:{...l.fields,url:"",file:null},errors:{}}))},[]),d=X.useCallback(()=>{const o={},l=p.fields.url.trim(),i=p.fields.buttonText.trim(),a=p.fields.buttonUrl.trim();if(p.type==="image")if(p.sourceType==="url")l?Fr(l)||(o.url="Use uma URL valida iniciando com http:// ou https://."):o.url="Informe a URL da imagem.";else{const c=Xi(p.fields.file,"image");c&&(o.file=c)}if(p.type==="video")if(p.sourceType==="url")l?Ji(l)||(o.url="Use uma URL valida iniciando com http:// ou https://."):o.url="Informe a URL do video.";else{const c=Xi(p.fields.file,"video");c&&(o.file=c)}return p.type==="button"&&(i||(o.buttonText="Informe o texto do botao."),a?Qi(a)||(o.buttonUrl="Use um link valido (https://, mailto:, tel:, / ou #)."):o.buttonUrl="Informe o link do botao."),s(c=>({...c,errors:o})),Object.keys(o).length===0},[p]),n=X.useCallback(async()=>{const o=k.current?.getEditor();if(o&&d()){T(!0);try{if(p.type==="image"){const l=p.fields.alt.trim(),i=p.fields.caption.trim(),a=p.fields.source.trim();if(p.sourceType==="url"){const c=Fr(p.fields.url);if(!c)throw new Error("invalid-image-url");u({src:c,alt:l,caption:i,source:a})}else{const c=await Yi(p.fields.file);u({src:c,alt:l,caption:i,source:a})}}if(p.type==="video"){const l=Ye(o);if(p.sourceType==="url"){const i=Ji(p.fields.url);if(!i)throw new Error("invalid-video-url");o.insertEmbed(l,"video",i)}else{const i=await Yi(p.fields.file);o.insertEmbed(l,"video",i)}o.setSelection(l+1)}if(p.type==="button"){const l=p.fields.buttonText.trim(),i=Qi(p.fields.buttonUrl);if(!l||!i)throw new Error("invalid-button");const a=Ye(o);o.insertText(a,l,"button",i),o.setSelection(a+l.length)}v()}catch(l){console.error(l);let i="Nao foi possivel inserir a midia. Tente novamente.";l?.message==="invalid-image-url"&&(i="URL da imagem invalida."),l?.message==="invalid-video-url"&&(i="URL do video invalida."),l?.message==="invalid-button"&&(i="Dados do botao invalidos."),s(a=>({...a,errors:{...a.errors,form:i}}))}finally{T(!1)}}},[v,u,p,T,d]),e=X.useMemo(()=>({toolbar:{container:[[{header:[2,3,4,!1]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["blockquote"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","button","image","video","spacer"],["clean"]],handlers:{image:()=>_("image"),video:()=>_("video"),button:()=>_("button"),spacer:()=>{const o=k.current?.getEditor();if(!o)return;const l=Ye(o);o.insertEmbed(l,"spacer",!0),o.setSelection(l+1)}}}}),[_]),t=["header","bold","italic","underline","strike","list","bullet","script","blockquote","align","link","button","image","figureImage","video","spacer"],f=X.useCallback(()=>{const l=k.current?.getEditor()?.getModule("toolbar")?.container;return l?(Zl(l),!0):!1},[]);return{quillRef:k,quillModules:e,quillFormats:t,mediaModal:p,closeModal:v,submitModal:n,updateField:g,updateFile:m,updateSourceType:b,attachToolbarTooltips:f}}function Jl(){const[T,k]=X.useState(!1),[p,s]=X.useState(!1),u=X.useRef(null),{user:_,userProfile:v,setUserProfile:g,originalProfile:m,setOriginalProfile:b,editingProfile:d,setEditingProfile:n,handleProfileImageUpload:e,handleProfileImageRemove:t,resetProfileEditState:f,saveUserProfile:o,hasProfileChanged:l}=bo({setUploading:k}),{posts:i,showForm:a,setShowForm:c,isEditing:r,editingStatus:h,activePostTab:x,setActivePostTab:O,postTotals:w,postStats:S,postsLoading:E,title:y,setTitle:A,summary:N,setSummary:P,content:I,setContent:U,featuredImage:F,featuredLinkDraft:Z,canPublish:D,canSaveDraft:L,publishingDraftId:q,bulkActionType:j,selectedPostIds:C,selectedPostsCount:z,allVisiblePostsSelected:H,handleFeaturedLinkChange:R,handleFeaturedLinkApply:M,clearFeaturedImage:K,togglePostSelection:G,toggleSelectAllPosts:Y,clearSelectedPosts:te,handleFeaturedImageSelect:ne,handleSavePost:ie,handlePublishDraft:se,handlePublishSelectedDrafts:fe,handleDelete:_e,handleDeleteSelectedPosts:pe,startEdit:W,resetForm:V}=Eo({user:_,setUploading:k}),{quillRef:$,quillModules:ee,quillFormats:Q,mediaModal:ae,closeModal:oe,submitModal:le,updateField:Oe,updateFile:Ae,updateSourceType:ce,attachToolbarTooltips:Ue}=Yl({setUploading:k});X.useEffect(()=>{const be=window.matchMedia("(max-width: 760px)"),ke=qe=>{qe.matches||s(!1)};return be.addEventListener("change",ke),()=>be.removeEventListener("change",ke)},[]),X.useEffect(()=>{if(!p||!window.matchMedia("(max-width: 760px)").matches)return;const be=qe=>{qe.key==="Escape"&&s(!1)},ke=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",be),()=>{document.body.style.overflow=ke,window.removeEventListener("keydown",be)}},[p]);const me=X.useMemo(()=>{const be=Ce=>{const Yr=aa(Ce);return Yr?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",year:"numeric"}).format(new Date(Yr)):"--"},ke=S.totalPublished,qe=S.totalDrafts,Me=S.postsThisMonth,Re=S.latestPublishedPost;return[{icon:"posts",label:"Total de posts",value:String(ke),note:ke?"Conteudos publicados":"Nenhum conteudo publicado"},{icon:"drafts",label:"Rascunhos",value:String(qe),note:qe?"Conteudos em preparacao":"Nenhum rascunho salvo"},{icon:"month",label:"Publicados no mes",value:String(Me),note:"Ritmo editorial atual"},{icon:"latest",label:"Ultima publicacao",value:Re?be(Re.publishedAt||Re.date):"--",note:Re?.title||"Publique para atualizar este indicador"}]},[S]),Se=!!(y||N||I||F),He=!!v.photoURL,J=r?h===Te.DRAFT?"Editar rascunho":"Editar post":"Novo post",re=r?"Revise o conteudo e atualize as informacoes antes de salvar.":"Estruture o conteudo com clareza para manter o blog organizado e consistente.",ue=(be="published")=>{a&&Se&&!window.confirm("Descartar alteracoes do post?")||(V(),O(be),c(!1),s(!1))},ve=()=>{a&&Se&&!window.confirm("Descartar alteracoes do post?")||(V(),c(!0),s(!1))},ye=async()=>{await ie(Te.PUBLISHED)},ge=async()=>{await ie(Te.DRAFT)},de=()=>{u.current&&u.current.click()},he=()=>{b(v),f(),n(!0)},we=()=>{l()&&!window.confirm("Descartar alteracoes do perfil?")||(g(m),f(),n(!1))},Ne=async()=>{await o(),n(!1)};return _?B.jsxs("section",{className:"admin-shell",children:[B.jsxs("aside",{id:"admin-sidebar-menu",className:`admin-sidebar ${p?"is-open":""}`,children:[B.jsxs("div",{className:`user-profile admin-sidebar-profile ${d?"editing":""}`,children:[B.jsxs("div",{className:"avatar-wrapper",children:[He?B.jsx("img",{src:v.photoURL,alt:"Avatar",className:"avatar"}):B.jsx("div",{className:"avatar avatar-fallback","aria-label":"Avatar padrao",children:B.jsxs("svg",{viewBox:"0 0 64 64",role:"img","aria-hidden":"true",children:[B.jsx("circle",{cx:"32",cy:"24",r:"14"}),B.jsx("path",{d:"M12 58c4-12 16-18 20-18s16 6 20 18"})]})}),d&&He&&B.jsx("button",{type:"button",className:"avatar-action remove",onClick:t,"aria-label":"Remover foto",children:"x"}),d&&!He&&B.jsx("button",{type:"button",className:"avatar-action add",onClick:de,"aria-label":"Adicionar foto",children:"+"}),d&&B.jsx("input",{ref:u,type:"file",accept:"image/*",className:"avatar-input",onChange:e})]}),B.jsx("div",{className:"user-info",children:d?B.jsxs(B.Fragment,{children:[B.jsx("label",{className:"profile-input-label",htmlFor:"sidebar-profile-display-name",children:"Nome exibido"}),B.jsx("input",{id:"sidebar-profile-display-name",type:"text",placeholder:"Seu nome",value:v.displayName,onChange:be=>g({...v,displayName:be.target.value})}),B.jsxs("div",{className:"profile-actions",children:[B.jsx("button",{type:"button",className:"admin-btn primary",disabled:!l()||T,onClick:Ne,children:T?"Enviando...":"Salvar perfil"}),B.jsx("button",{type:"button",className:"admin-btn cancel",onClick:we,children:"Cancelar"})]})]}):B.jsxs(B.Fragment,{children:[B.jsx("strong",{className:"user-name",children:v.displayName||_.email}),B.jsx("small",{className:"user-email",children:_.email}),B.jsx("button",{type:"button",className:"edit-profile-link",onClick:he,children:"Editar perfil"})]})})]}),B.jsxs("nav",{className:"admin-sidebar-nav","aria-label":"Navegacao do painel",children:[B.jsxs("button",{type:"button",className:`admin-side-btn ${!a&&x==="published"?"is-active":""}`,onClick:()=>ue("published"),children:[B.jsx($i,{className:"side-btn-icon","aria-hidden":"true"}),"Gerenciar posts"]}),B.jsxs("button",{type:"button",className:`admin-side-btn ${!a&&x==="drafts"?"is-active":""}`,onClick:()=>ue("drafts"),children:[B.jsx(We,{className:"side-btn-icon","aria-hidden":"true"}),"Rascunhos"]}),B.jsxs("button",{type:"button",className:`admin-side-btn ${a?"is-active":""}`,onClick:ve,children:[B.jsx(ea,{className:"side-btn-icon","aria-hidden":"true"}),r?h===Te.DRAFT?"Editando rascunho":"Editando post":"Novo post"]})]}),B.jsxs("button",{type:"button",className:"admin-logout admin-sidebar-logout",onClick:()=>{s(!1),Ha(na)},children:[B.jsx(Ua,{"aria-hidden":"true"}),"Sair"]})]}),B.jsx("div",{className:`admin-sidebar-overlay ${p?"is-visible":""}`,onClick:()=>s(!1),"aria-hidden":!p}),B.jsx("div",{className:"admin-content",children:B.jsxs("section",{className:"admin-wrapper",children:[B.jsx("button",{type:"button",className:`admin-mobile-menu-btn ${p?"is-open":""}`,"aria-controls":"admin-sidebar-menu","aria-expanded":p,onClick:()=>s(be=>!be),"aria-label":p?"Fechar menu lateral":"Abrir menu lateral",children:B.jsxs("span",{className:"admin-hamburger-icon","aria-hidden":"true",children:[B.jsx("span",{}),B.jsx("span",{}),B.jsx("span",{})]})}),a?B.jsxs("header",{className:"admin-editor-header",children:[B.jsxs("span",{className:"admin-chip",children:[B.jsx(Ur,{"aria-hidden":"true"}),"Area editorial"]}),B.jsx("h1",{children:J}),B.jsx("p",{children:re})]}):B.jsx(Ga,{stats:me}),a&&B.jsx(uo,{isEditing:r,editingStatus:h,hideHeading:!0,title:y,summary:N,content:I,featuredImage:F,featuredLinkDraft:Z,canPublish:D,canSaveDraft:L,uploading:T,onTitleChange:A,onSummaryChange:P,onContentChange:U,onFeaturedSelect:ne,onFeaturedLinkChange:R,onFeaturedLinkApply:M,onRemoveFeatured:K,onSavePost:ye,onSaveDraft:ge,onCancel:()=>{Se&&!window.confirm("Descartar alteracoes do post?")||V()},quillRef:$,quillModules:ee,quillFormats:Q,onAttachQuillTooltips:Ue,mediaModal:ae,onMediaClose:oe,onMediaSubmit:le,onMediaFieldChange:Oe,onMediaFileChange:Ae,onMediaSourceTypeChange:ce}),!a&&B.jsx(po,{posts:i,activeTab:x,totals:w,isLoading:E||S.loading,bulkActionType:j,selectedPostIds:C,selectedPostsCount:z,allVisiblePostsSelected:H,onTabChange:O,onNewPost:ve,onTogglePostSelection:G,onToggleSelectAllPosts:Y,onClearSelectedPosts:te,onPublishSelectedDrafts:fe,onDeleteSelectedPosts:pe,onEdit:W,onDelete:_e,onPublishDraft:se,publishingDraftId:q})]})})]}):B.jsx("p",{className:"loading-text",children:"Carregando painel..."})}export{Jl as default};
