(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rd={exports:{}},vl={},kd={exports:{}},Qe={};var B_;function xI(){if(B_)return Qe;B_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function d(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function E(V,B,K){this.props=V,this.context=B,this.refs=_,this.updater=K||y}E.prototype.isReactComponent={},E.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},E.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function w(){}w.prototype=E.prototype;function T(V,B,K){this.props=V,this.context=B,this.refs=_,this.updater=K||y}var k=T.prototype=new w;k.constructor=T,S(k,E.prototype),k.isPureReactComponent=!0;var b=Array.isArray,D=Object.prototype.hasOwnProperty,F={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(V,B,K){var te,ee={},$=null,X=null;if(B!=null)for(te in B.ref!==void 0&&(X=B.ref),B.key!==void 0&&($=""+B.key),B)D.call(B,te)&&!P.hasOwnProperty(te)&&(ee[te]=B[te]);var se=arguments.length-2;if(se===1)ee.children=K;else if(1<se){for(var ae=Array(se),me=0;me<se;me++)ae[me]=arguments[me+2];ee.children=ae}if(V&&V.defaultProps)for(te in se=V.defaultProps,se)ee[te]===void 0&&(ee[te]=se[te]);return{$$typeof:n,type:V,key:$,ref:X,props:ee,_owner:F.current}}function M(V,B){return{$$typeof:n,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function x(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function I(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(K){return B[K]})}var L=/\/+/g;function N(V,B){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):B.toString(36)}function z(V,B,K,te,ee){var $=typeof V;($==="undefined"||$==="boolean")&&(V=null);var X=!1;if(V===null)X=!0;else switch($){case"string":case"number":X=!0;break;case"object":switch(V.$$typeof){case n:case e:X=!0}}if(X)return X=V,ee=ee(X),V=te===""?"."+N(X,0):te,b(ee)?(K="",V!=null&&(K=V.replace(L,"$&/")+"/"),z(ee,B,K,"",function(me){return me})):ee!=null&&(x(ee)&&(ee=M(ee,K+(!ee.key||X&&X.key===ee.key?"":(""+ee.key).replace(L,"$&/")+"/")+V)),B.push(ee)),1;if(X=0,te=te===""?".":te+":",b(V))for(var se=0;se<V.length;se++){$=V[se];var ae=te+N($,se);X+=z($,B,K,ae,ee)}else if(ae=d(V),typeof ae=="function")for(V=ae.call(V),se=0;!($=V.next()).done;)$=$.value,ae=te+N($,se++),X+=z($,B,K,ae,ee);else if($==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return X}function G(V,B,K){if(V==null)return V;var te=[],ee=0;return z(V,te,"","",function($){return B.call(K,$,ee++)}),te}function ne(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(K){(V._status===0||V._status===-1)&&(V._status=1,V._result=K)},function(K){(V._status===0||V._status===-1)&&(V._status=2,V._result=K)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var re={current:null},oe={transition:null},Y={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:oe,ReactCurrentOwner:F};function W(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:G,forEach:function(V,B,K){G(V,function(){B.apply(this,arguments)},K)},count:function(V){var B=0;return G(V,function(){B++}),B},toArray:function(V){return G(V,function(B){return B})||[]},only:function(V){if(!x(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Qe.Component=E,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=T,Qe.StrictMode=r,Qe.Suspense=f,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Qe.act=W,Qe.cloneElement=function(V,B,K){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var te=S({},V.props),ee=V.key,$=V.ref,X=V._owner;if(B!=null){if(B.ref!==void 0&&($=B.ref,X=F.current),B.key!==void 0&&(ee=""+B.key),V.type&&V.type.defaultProps)var se=V.type.defaultProps;for(ae in B)D.call(B,ae)&&!P.hasOwnProperty(ae)&&(te[ae]=B[ae]===void 0&&se!==void 0?se[ae]:B[ae])}var ae=arguments.length-2;if(ae===1)te.children=K;else if(1<ae){se=Array(ae);for(var me=0;me<ae;me++)se[me]=arguments[me+2];te.children=se}return{$$typeof:n,type:V.type,key:ee,ref:$,props:te,_owner:X}},Qe.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Qe.createElement=R,Qe.createFactory=function(V){var B=R.bind(null,V);return B.type=V,B},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(V){return{$$typeof:c,render:V}},Qe.isValidElement=x,Qe.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ne}},Qe.memo=function(V,B){return{$$typeof:p,type:V,compare:B===void 0?null:B}},Qe.startTransition=function(V){var B=oe.transition;oe.transition={};try{V()}finally{oe.transition=B}},Qe.unstable_act=W,Qe.useCallback=function(V,B){return re.current.useCallback(V,B)},Qe.useContext=function(V){return re.current.useContext(V)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(V){return re.current.useDeferredValue(V)},Qe.useEffect=function(V,B){return re.current.useEffect(V,B)},Qe.useId=function(){return re.current.useId()},Qe.useImperativeHandle=function(V,B,K){return re.current.useImperativeHandle(V,B,K)},Qe.useInsertionEffect=function(V,B){return re.current.useInsertionEffect(V,B)},Qe.useLayoutEffect=function(V,B){return re.current.useLayoutEffect(V,B)},Qe.useMemo=function(V,B){return re.current.useMemo(V,B)},Qe.useReducer=function(V,B,K){return re.current.useReducer(V,B,K)},Qe.useRef=function(V){return re.current.useRef(V)},Qe.useState=function(V){return re.current.useState(V)},Qe.useSyncExternalStore=function(V,B,K){return re.current.useSyncExternalStore(V,B,K)},Qe.useTransition=function(){return re.current.useTransition()},Qe.version="18.3.1",Qe}var z_;function wf(){return z_||(z_=1,kd.exports=xI()),kd.exports}var H_;function CI(){if(H_)return vl;H_=1;var n=wf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var v,m={},d=null,y=null;p!==void 0&&(d=""+p),f.key!==void 0&&(d=""+f.key),f.ref!==void 0&&(y=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(m[v]=f[v]);if(c&&c.defaultProps)for(v in f=c.defaultProps,f)m[v]===void 0&&(m[v]=f[v]);return{$$typeof:e,type:c,key:d,ref:y,props:m,_owner:o.current}}return vl.Fragment=t,vl.jsx=l,vl.jsxs=l,vl}var $_;function OI(){return $_||($_=1,Rd.exports=CI()),Rd.exports}var j=OI(),J=wf();const qt=ya(J);var Ac={},Pd={exports:{}},Tn={},xd={exports:{}},Cd={};var W_;function NI(){return W_||(W_=1,(function(n){function e(oe,Y){var W=oe.length;oe.push(Y);e:for(;0<W;){var V=W-1>>>1,B=oe[V];if(0<o(B,Y))oe[V]=Y,oe[W]=B,W=V;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var Y=oe[0],W=oe.pop();if(W!==Y){oe[0]=W;e:for(var V=0,B=oe.length,K=B>>>1;V<K;){var te=2*(V+1)-1,ee=oe[te],$=te+1,X=oe[$];if(0>o(ee,W))$<B&&0>o(X,ee)?(oe[V]=X,oe[$]=W,V=$):(oe[V]=ee,oe[te]=W,V=te);else if($<B&&0>o(X,W))oe[V]=X,oe[$]=W,V=$;else break e}}return Y}function o(oe,Y){var W=oe.sortIndex-Y.sortIndex;return W!==0?W:oe.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],v=1,m=null,d=3,y=!1,S=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(oe){for(var Y=t(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=oe)r(p),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(p)}}function b(oe){if(_=!1,k(oe),!S)if(t(f)!==null)S=!0,ne(D);else{var Y=t(p);Y!==null&&re(b,Y.startTime-oe)}}function D(oe,Y){S=!1,_&&(_=!1,w(R),R=-1),y=!0;var W=d;try{for(k(Y),m=t(f);m!==null&&(!(m.expirationTime>Y)||oe&&!I());){var V=m.callback;if(typeof V=="function"){m.callback=null,d=m.priorityLevel;var B=V(m.expirationTime<=Y);Y=n.unstable_now(),typeof B=="function"?m.callback=B:m===t(f)&&r(f),k(Y)}else r(f);m=t(f)}if(m!==null)var K=!0;else{var te=t(p);te!==null&&re(b,te.startTime-Y),K=!1}return K}finally{m=null,d=W,y=!1}}var F=!1,P=null,R=-1,M=5,x=-1;function I(){return!(n.unstable_now()-x<M)}function L(){if(P!==null){var oe=n.unstable_now();x=oe;var Y=!0;try{Y=P(!0,oe)}finally{Y?N():(F=!1,P=null)}}else F=!1}var N;if(typeof T=="function")N=function(){T(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=L,N=function(){G.postMessage(null)}}else N=function(){E(L,0)};function ne(oe){P=oe,F||(F=!0,N())}function re(oe,Y){R=E(function(){oe(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){S||y||(S=!0,ne(D))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(oe){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var W=d;d=Y;try{return oe()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,Y){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var W=d;d=oe;try{return Y()}finally{d=W}},n.unstable_scheduleCallback=function(oe,Y,W){var V=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,oe){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,oe={id:v++,callback:Y,priorityLevel:oe,startTime:W,expirationTime:B,sortIndex:-1},W>V?(oe.sortIndex=W,e(p,oe),t(f)===null&&oe===t(p)&&(_?(w(R),R=-1):_=!0,re(b,W-V))):(oe.sortIndex=B,e(f,oe),S||y||(S=!0,ne(D))),oe},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(oe){var Y=d;return function(){var W=d;d=Y;try{return oe.apply(this,arguments)}finally{d=W}}}})(Cd)),Cd}var K_;function LI(){return K_||(K_=1,xd.exports=NI()),xd.exports}var G_;function DI(){if(G_)return Tn;G_=1;var n=wf(),e=LI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function d(i){return f.call(m,i)?!0:f.call(v,i)?!1:p.test(i)?m[i]=!0:(v[i]=!0,!1)}function y(i,s,u,g){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,u,g){if(s===null||typeof s>"u"||y(i,s,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(i,s,u,g,A,C,q){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=A,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=C,this.removeEmptyString=q}var E={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){E[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];E[s]=new _(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){E[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){E[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){E[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){E[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){E[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){E[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){E[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(w,T);E[s]=new _(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(w,T);E[s]=new _(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(w,T);E[s]=new _(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){E[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),E.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){E[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,s,u,g){var A=E.hasOwnProperty(s)?E[s]:null;(A!==null?A.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,u,A,g)&&(u=null),g||A===null?d(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):A.mustUseProperty?i[A.propertyName]=u===null?A.type===3?!1:"":u:(s=A.attributeName,g=A.attributeNamespace,u===null?i.removeAttribute(s):(A=A.type,u=A===3||A===4&&u===!0?"":""+u,g?i.setAttributeNS(g,s,u):i.setAttribute(s,u))))}var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),F=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,V;function B(i){if(V===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+i}var K=!1;function te(i,s){if(!i||K)return"";K=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(fe){var g=fe}Reflect.construct(i,[],s)}else{try{s.call()}catch(fe){g=fe}i.call(s.prototype)}else{try{throw Error()}catch(fe){g=fe}i()}}catch(fe){if(fe&&g&&typeof fe.stack=="string"){for(var A=fe.stack.split(`
`),C=g.stack.split(`
`),q=A.length-1,Q=C.length-1;1<=q&&0<=Q&&A[q]!==C[Q];)Q--;for(;1<=q&&0<=Q;q--,Q--)if(A[q]!==C[Q]){if(q!==1||Q!==1)do if(q--,Q--,0>Q||A[q]!==C[Q]){var Z=`
`+A[q].replace(" at new "," at ");return i.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",i.displayName)),Z}while(1<=q&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?B(i):""}function ee(i){switch(i.tag){case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return i=te(i.type,!1),i;case 11:return i=te(i.type.render,!1),i;case 1:return i=te(i.type,!0),i;default:return""}}function $(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case F:return"Portal";case M:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case z:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case L:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case ne:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}function X(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function se(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ae(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function me(i){var s=ae(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),g=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var A=u.get,C=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(q){g=""+q,C.call(this,q)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(q){g=""+q},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Re(i){i._valueTracker||(i._valueTracker=me(i))}function je(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return i&&(g=ae(i)?i.checked?"true":"false":i.value),i=g,i!==u?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ge(i,s){var u=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function et(i,s){var u=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;u=se(s.value!=null?s.value:u),i._wrapperState={initialChecked:g,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function kt(i,s){s=s.checked,s!=null&&k(i,"checked",s,!1)}function ct(i,s){kt(i,s);var u=se(s.value),g=s.type;if(u!=null)g==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?de(i,s.type,u):s.hasOwnProperty("defaultValue")&&de(i,s.type,se(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pe(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function de(i,s,u){(s!=="number"||Ve(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var we=Array.isArray;function Ae(i,s,u,g){if(i=i.options,s){s={};for(var A=0;A<u.length;A++)s["$"+u[A]]=!0;for(u=0;u<i.length;u++)A=s.hasOwnProperty("$"+i[u].value),i[u].selected!==A&&(i[u].selected=A),A&&g&&(i[u].defaultSelected=!0)}else{for(u=""+se(u),s=null,A=0;A<i.length;A++){if(i[A].value===u){i[A].selected=!0,g&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ve(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function He(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(we(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:se(u)}}function Ke(i,s){var u=se(s.value),g=se(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),g!=null&&(i.defaultValue=""+g)}function Be(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function zt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?zt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var rt,us=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,g,A){MSApp.execUnsafeLocalFunction(function(){return i(s,u,g,A)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=rt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function lt(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hu=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(i){hu.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Gt[s]=Gt[i]})});function Ei(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Gt.hasOwnProperty(i)&&Gt[i]?(""+s).trim():s+"px"}function cs(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var g=u.indexOf("--")===0,A=Ei(u,s[u],g);u==="float"&&(u="cssFloat"),g?i.setProperty(u,A):i[u]=A}}var Pa=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(i,s){if(s){if(Pa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function fs(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function hs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Hr=null,$r=null,It=null;function xa(i){if(i=rl(i)){if(typeof Hr!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Uu(s),Hr(i.stateNode,i.type,s))}}function Ti(i){$r?It?It.push(i):It=[i]:$r=i}function bi(){if($r){var i=$r,s=It;if(It=$r=null,xa(i),s)for(i=0;i<s.length;i++)xa(s[i])}}function du(i,s){return i(s)}function pu(){}var pr=!1;function mu(i,s,u){if(pr)return i(s,u);pr=!0;try{return du(i,s,u)}finally{pr=!1,($r!==null||It!==null)&&(pu(),bi())}}function yo(i,s){var u=i.stateNode;if(u===null)return null;var g=Uu(u);if(g===null)return null;u=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Si=!1;if(c)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Si=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Si=!1}function gu(i,s,u,g,A,C,q,Q,Z){var fe=Array.prototype.slice.call(arguments,3);try{s.apply(u,fe)}catch(Ee){this.onError(Ee)}}var Wr=!1,mr=null,ds=!1,Vn=null,yu={onError:function(i){Wr=!0,mr=i}};function vu(i,s,u,g,A,C,q,Q,Z){Wr=!1,mr=null,gu.apply(yu,arguments)}function Ca(i,s,u,g,A,C,q,Q,Z){if(vu.apply(this,arguments),Wr){if(Wr){var fe=mr;Wr=!1,mr=null}else throw Error(t(198));ds||(ds=!0,Vn=fe)}}function Zn(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Oa(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function _u(i){if(Zn(i)!==i)throw Error(t(188))}function Eu(i){var s=i.alternate;if(!s){if(s=Zn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,g=s;;){var A=u.return;if(A===null)break;var C=A.alternate;if(C===null){if(g=A.return,g!==null){u=g;continue}break}if(A.child===C.child){for(C=A.child;C;){if(C===u)return _u(A),i;if(C===g)return _u(A),s;C=C.sibling}throw Error(t(188))}if(u.return!==g.return)u=A,g=C;else{for(var q=!1,Q=A.child;Q;){if(Q===u){q=!0,u=A,g=C;break}if(Q===g){q=!0,g=A,u=C;break}Q=Q.sibling}if(!q){for(Q=C.child;Q;){if(Q===u){q=!0,u=C,g=A;break}if(Q===g){q=!0,g=C,u=A;break}Q=Q.sibling}if(!q)throw Error(t(189))}}if(u.alternate!==g)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function wu(i){return i=Eu(i),i!==null?vo(i):null}function vo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=vo(i);if(s!==null)return s;i=i.sibling}return null}var Na=e.unstable_scheduleCallback,ps=e.unstable_cancelCallback,_o=e.unstable_shouldYield,Kr=e.unstable_requestPaint,pt=e.unstable_now,ih=e.unstable_getCurrentPriorityLevel,ms=e.unstable_ImmediatePriority,La=e.unstable_UserBlockingPriority,Eo=e.unstable_NormalPriority,Da=e.unstable_LowPriority,gs=e.unstable_IdlePriority,wo=null,In=null;function Tu(i){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(wo,i,void 0,(i.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:To,gr=Math.log,Un=Math.LN2;function To(i){return i>>>=0,i===0?32:31-(gr(i)/Un|0)|0}var yr=64,Ii=4194304;function ot(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Gr(i,s){var u=i.pendingLanes;if(u===0)return 0;var g=0,A=i.suspendedLanes,C=i.pingedLanes,q=u&268435455;if(q!==0){var Q=q&~A;Q!==0?g=ot(Q):(C&=q,C!==0&&(g=ot(C)))}else q=u&~A,q!==0?g=ot(q):C!==0&&(g=ot(C));if(g===0)return 0;if(s!==0&&s!==g&&(s&A)===0&&(A=g&-g,C=s&-s,A>=C||A===16&&(C&4194240)!==0))return s;if((g&4)!==0&&(g|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=g;0<s;)u=31-Rn(s),A=1<<u,g|=i[u],s&=~A;return g}function bo(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(i,s){for(var u=i.suspendedLanes,g=i.pingedLanes,A=i.expirationTimes,C=i.pendingLanes;0<C;){var q=31-Rn(C),Q=1<<q,Z=A[q];Z===-1?((Q&u)===0||(Q&g)!==0)&&(A[q]=bo(Q,s)):Z<=s&&(i.expiredLanes|=Q),C&=~Q}}function Ma(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ja(){var i=yr;return yr<<=1,(yr&4194240)===0&&(yr=64),i}function Va(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ao(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Rn(s),i[s]=u}function oh(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<u;){var A=31-Rn(u),C=1<<A;s[A]=0,g[A]=-1,i[A]=-1,u&=~C}}function Ua(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var g=31-Rn(u),A=1<<g;A&s|i[g]&s&&(i[g]|=s),u&=~A}}var Ze=0;function vr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Fa,ys,qa,Ba,za,_r=!1,vs=[],Er=null,wr=null,Qt=null,Io=new Map,Qr=new Map,kn=[],bu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ri(i,s){switch(i){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Io.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qr.delete(s.pointerId)}}function er(i,s,u,g,A,C){return i===null||i.nativeEvent!==C?(i={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:C,targetContainers:[A]},s!==null&&(s=rl(s),s!==null&&ys(s)),i):(i.eventSystemFlags|=g,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function Su(i,s,u,g,A){switch(s){case"focusin":return Er=er(Er,i,s,u,g,A),!0;case"dragenter":return wr=er(wr,i,s,u,g,A),!0;case"mouseover":return Qt=er(Qt,i,s,u,g,A),!0;case"pointerover":var C=A.pointerId;return Io.set(C,er(Io.get(C)||null,i,s,u,g,A)),!0;case"gotpointercapture":return C=A.pointerId,Qr.set(C,er(Qr.get(C)||null,i,s,u,g,A)),!0}return!1}function _s(i){var s=xo(i.target);if(s!==null){var u=Zn(s);if(u!==null){if(s=u.tag,s===13){if(s=Oa(u),s!==null){i.blockedOn=s,za(i.priority,function(){qa(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ft(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=Es(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);wi=g,u.target.dispatchEvent(g),wi=null}else return s=rl(u),s!==null&&ys(s),i.blockedOn=u,!1;s.shift()}return!0}function Au(i,s,u){ft(i)&&u.delete(s)}function sh(){_r=!1,Er!==null&&ft(Er)&&(Er=null),wr!==null&&ft(wr)&&(wr=null),Qt!==null&&ft(Qt)&&(Qt=null),Io.forEach(Au),Qr.forEach(Au)}function ki(i,s){i.blockedOn===s&&(i.blockedOn=null,_r||(_r=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sh)))}function Pi(i){function s(A){return ki(A,i)}if(0<vs.length){ki(vs[0],i);for(var u=1;u<vs.length;u++){var g=vs[u];g.blockedOn===i&&(g.blockedOn=null)}}for(Er!==null&&ki(Er,i),wr!==null&&ki(wr,i),Qt!==null&&ki(Qt,i),Io.forEach(s),Qr.forEach(s),u=0;u<kn.length;u++)g=kn[u],g.blockedOn===i&&(g.blockedOn=null);for(;0<kn.length&&(u=kn[0],u.blockedOn===null);)_s(u),u.blockedOn===null&&kn.shift()}var Yr=b.ReactCurrentBatchConfig,Xr=!0;function Tr(i,s,u,g){var A=Ze,C=Yr.transition;Yr.transition=null;try{Ze=1,Ha(i,s,u,g)}finally{Ze=A,Yr.transition=C}}function Iu(i,s,u,g){var A=Ze,C=Yr.transition;Yr.transition=null;try{Ze=4,Ha(i,s,u,g)}finally{Ze=A,Yr.transition=C}}function Ha(i,s,u,g){if(Xr){var A=Es(i,s,u,g);if(A===null)yh(i,s,g,br,u),Ri(i,g);else if(Su(A,i,s,u,g))g.stopPropagation();else if(Ri(i,g),s&4&&-1<bu.indexOf(i)){for(;A!==null;){var C=rl(A);if(C!==null&&Fa(C),C=Es(i,s,u,g),C===null&&yh(i,s,g,br,u),C===A)break;A=C}A!==null&&g.stopPropagation()}else yh(i,s,g,null,u)}}var br=null;function Es(i,s,u,g){if(br=null,i=hs(g),i=xo(i),i!==null)if(s=Zn(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Oa(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return br=i,null}function ws(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ih()){case ms:return 1;case La:return 4;case Eo:case Da:return 16;case gs:return 536870912;default:return 16}default:return 16}}var Pn=null,Ts=null,Jr=null;function Ru(){if(Jr)return Jr;var i,s=Ts,u=s.length,g,A="value"in Pn?Pn.value:Pn.textContent,C=A.length;for(i=0;i<u&&s[i]===A[i];i++);var q=u-i;for(g=1;g<=q&&s[u-g]===A[C-g];g++);return Jr=A.slice(i,1<g?1-g:void 0)}function Ro(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Sr(){return!0}function $a(){return!1}function rn(i){function s(u,g,A,C,q){this._reactName=u,this._targetInst=A,this.type=g,this.nativeEvent=C,this.target=q,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(u=i[Q],this[Q]=u?u(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Sr:$a,this.isPropagationStopped=$a,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),s}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=rn(Ar),xi=W({},Ar,{view:0,detail:0}),bs=rn(xi),Ss,As,xn,Po=W({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xn&&(xn&&i.type==="mousemove"?(Ss=i.screenX-xn.screenX,As=i.screenY-xn.screenY):As=Ss=0,xn=i),Ss)},movementY:function(i){return"movementY"in i?i.movementY:As}}),Wa=rn(Po),ku=W({},Po,{dataTransfer:0}),Pu=rn(ku),Is=W({},xi,{relatedTarget:0}),Yt=rn(Is),xu=W({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=rn(xu),Ci=W({},Ar,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=rn(Ci),O=W({},Ar,{data:0}),U=rn(O),H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},he={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Se(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=he[i])?!!s[i]:!1}function $e(){return Se}var Pt=W({},xi,{key:function(i){if(i.key){var s=H[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ue[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),at=rn(Pt),Nt=W({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cn=rn(Nt),Zr=W({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),Ir=rn(Zr),Rr=W({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rs=rn(Rr),Ka=W({},Po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),SA=rn(Ka),AA=[9,13,27,32],ah=c&&"CompositionEvent"in window,Ga=null;c&&"documentMode"in document&&(Ga=document.documentMode);var IA=c&&"TextEvent"in window&&!Ga,Ly=c&&(!ah||Ga&&8<Ga&&11>=Ga),Dy=" ",My=!1;function jy(i,s){switch(i){case"keyup":return AA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ks=!1;function RA(i,s){switch(i){case"compositionend":return Vy(s);case"keypress":return s.which!==32?null:(My=!0,Dy);case"textInput":return i=s.data,i===Dy&&My?null:i;default:return null}}function kA(i,s){if(ks)return i==="compositionend"||!ah&&jy(i,s)?(i=Ru(),Jr=Ts=Pn=null,ks=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ly&&s.locale!=="ko"?null:s.data;default:return null}}var PA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!PA[i.type]:s==="textarea"}function Fy(i,s,u,g){Ti(g),s=Mu(s,"onChange"),0<s.length&&(u=new ko("onChange","change",null,u,g),i.push({event:u,listeners:s}))}var Qa=null,Ya=null;function xA(i){iv(i,0)}function Ou(i){var s=Ns(i);if(je(s))return i}function CA(i,s){if(i==="change")return s}var qy=!1;if(c){var lh;if(c){var uh="oninput"in document;if(!uh){var By=document.createElement("div");By.setAttribute("oninput","return;"),uh=typeof By.oninput=="function"}lh=uh}else lh=!1;qy=lh&&(!document.documentMode||9<document.documentMode)}function zy(){Qa&&(Qa.detachEvent("onpropertychange",Hy),Ya=Qa=null)}function Hy(i){if(i.propertyName==="value"&&Ou(Ya)){var s=[];Fy(s,Ya,i,hs(i)),mu(xA,s)}}function OA(i,s,u){i==="focusin"?(zy(),Qa=s,Ya=u,Qa.attachEvent("onpropertychange",Hy)):i==="focusout"&&zy()}function NA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ou(Ya)}function LA(i,s){if(i==="click")return Ou(s)}function DA(i,s){if(i==="input"||i==="change")return Ou(s)}function MA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var tr=typeof Object.is=="function"?Object.is:MA;function Xa(i,s){if(tr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var A=u[g];if(!f.call(s,A)||!tr(i[A],s[A]))return!1}return!0}function $y(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Wy(i,s){var u=$y(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=s&&g>=s)return{node:u,offset:s-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=$y(u)}}function Ky(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Ky(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Gy(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Ve(i.document)}return s}function ch(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function jA(i){var s=Gy(),u=i.focusedElem,g=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&Ky(u.ownerDocument.documentElement,u)){if(g!==null&&ch(u)){if(s=g.start,i=g.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=u.textContent.length,C=Math.min(g.start,A);g=g.end===void 0?C:Math.min(g.end,A),!i.extend&&C>g&&(A=g,g=C,C=A),A=Wy(u,C);var q=Wy(u,g);A&&q&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==q.node||i.focusOffset!==q.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),C>g?(i.addRange(s),i.extend(q.node,q.offset)):(s.setEnd(q.node,q.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var VA=c&&"documentMode"in document&&11>=document.documentMode,Ps=null,fh=null,Ja=null,hh=!1;function Qy(i,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;hh||Ps==null||Ps!==Ve(g)||(g=Ps,"selectionStart"in g&&ch(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ja&&Xa(Ja,g)||(Ja=g,g=Mu(fh,"onSelect"),0<g.length&&(s=new ko("onSelect","select",null,s,u),i.push({event:s,listeners:g}),s.target=Ps)))}function Nu(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var xs={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},dh={},Yy={};c&&(Yy=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Lu(i){if(dh[i])return dh[i];if(!xs[i])return i;var s=xs[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Yy)return dh[i]=s[u];return i}var Xy=Lu("animationend"),Jy=Lu("animationiteration"),Zy=Lu("animationstart"),ev=Lu("transitionend"),tv=new Map,nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(i,s){tv.set(i,s),a(s,[i])}for(var ph=0;ph<nv.length;ph++){var mh=nv[ph],UA=mh.toLowerCase(),FA=mh[0].toUpperCase()+mh.slice(1);Oi(UA,"on"+FA)}Oi(Xy,"onAnimationEnd"),Oi(Jy,"onAnimationIteration"),Oi(Zy,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(ev,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function rv(i,s,u){var g=i.type||"unknown-event";i.currentTarget=u,Ca(g,s,void 0,i),i.currentTarget=null}function iv(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],A=g.event;g=g.listeners;e:{var C=void 0;if(s)for(var q=g.length-1;0<=q;q--){var Q=g[q],Z=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,Z!==C&&A.isPropagationStopped())break e;rv(A,Q,fe),C=Z}else for(q=0;q<g.length;q++){if(Q=g[q],Z=Q.instance,fe=Q.currentTarget,Q=Q.listener,Z!==C&&A.isPropagationStopped())break e;rv(A,Q,fe),C=Z}}}if(ds)throw i=Vn,ds=!1,Vn=null,i}function mt(i,s){var u=s[bh];u===void 0&&(u=s[bh]=new Set);var g=i+"__bubble";u.has(g)||(ov(s,i,2,!1),u.add(g))}function gh(i,s,u){var g=0;s&&(g|=4),ov(u,i,g,s)}var Du="_reactListening"+Math.random().toString(36).slice(2);function el(i){if(!i[Du]){i[Du]=!0,r.forEach(function(u){u!=="selectionchange"&&(qA.has(u)||gh(u,!1,i),gh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Du]||(s[Du]=!0,gh("selectionchange",!1,s))}}function ov(i,s,u,g){switch(ws(s)){case 1:var A=Tr;break;case 4:A=Iu;break;default:A=Ha}u=A.bind(null,s,u,i),A=void 0,!Si||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),g?A!==void 0?i.addEventListener(s,u,{capture:!0,passive:A}):i.addEventListener(s,u,!0):A!==void 0?i.addEventListener(s,u,{passive:A}):i.addEventListener(s,u,!1)}function yh(i,s,u,g,A){var C=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var q=g.tag;if(q===3||q===4){var Q=g.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(q===4)for(q=g.return;q!==null;){var Z=q.tag;if((Z===3||Z===4)&&(Z=q.stateNode.containerInfo,Z===A||Z.nodeType===8&&Z.parentNode===A))return;q=q.return}for(;Q!==null;){if(q=xo(Q),q===null)return;if(Z=q.tag,Z===5||Z===6){g=C=q;continue e}Q=Q.parentNode}}g=g.return}mu(function(){var fe=C,Ee=hs(u),Te=[];e:{var _e=tv.get(i);if(_e!==void 0){var ke=ko,Ce=i;switch(i){case"keypress":if(Ro(u)===0)break e;case"keydown":case"keyup":ke=at;break;case"focusin":Ce="focus",ke=Yt;break;case"focusout":Ce="blur",ke=Yt;break;case"beforeblur":case"afterblur":ke=Yt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Ir;break;case Xy:case Jy:case Zy:ke=Cu;break;case ev:ke=Rs;break;case"scroll":ke=bs;break;case"wheel":ke=SA;break;case"copy":case"cut":case"paste":ke=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Cn}var Oe=(s&4)!==0,xt=!Oe&&i==="scroll",le=Oe?_e!==null?_e+"Capture":null:_e;Oe=[];for(var ie=fe,ce;ie!==null;){ce=ie;var be=ce.stateNode;if(ce.tag===5&&be!==null&&(ce=be,le!==null&&(be=yo(ie,le),be!=null&&Oe.push(tl(ie,be,ce)))),xt)break;ie=ie.return}0<Oe.length&&(_e=new ke(_e,Ce,null,u,Ee),Te.push({event:_e,listeners:Oe}))}}if((s&7)===0){e:{if(_e=i==="mouseover"||i==="pointerover",ke=i==="mouseout"||i==="pointerout",_e&&u!==wi&&(Ce=u.relatedTarget||u.fromElement)&&(xo(Ce)||Ce[ei]))break e;if((ke||_e)&&(_e=Ee.window===Ee?Ee:(_e=Ee.ownerDocument)?_e.defaultView||_e.parentWindow:window,ke?(Ce=u.relatedTarget||u.toElement,ke=fe,Ce=Ce?xo(Ce):null,Ce!==null&&(xt=Zn(Ce),Ce!==xt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ke=null,Ce=fe),ke!==Ce)){if(Oe=Wa,be="onMouseLeave",le="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Cn,be="onPointerLeave",le="onPointerEnter",ie="pointer"),xt=ke==null?_e:Ns(ke),ce=Ce==null?_e:Ns(Ce),_e=new Oe(be,ie+"leave",ke,u,Ee),_e.target=xt,_e.relatedTarget=ce,be=null,xo(Ee)===fe&&(Oe=new Oe(le,ie+"enter",Ce,u,Ee),Oe.target=ce,Oe.relatedTarget=xt,be=Oe),xt=be,ke&&Ce)t:{for(Oe=ke,le=Ce,ie=0,ce=Oe;ce;ce=Cs(ce))ie++;for(ce=0,be=le;be;be=Cs(be))ce++;for(;0<ie-ce;)Oe=Cs(Oe),ie--;for(;0<ce-ie;)le=Cs(le),ce--;for(;ie--;){if(Oe===le||le!==null&&Oe===le.alternate)break t;Oe=Cs(Oe),le=Cs(le)}Oe=null}else Oe=null;ke!==null&&sv(Te,_e,ke,Oe,!1),Ce!==null&&xt!==null&&sv(Te,xt,Ce,Oe,!0)}}e:{if(_e=fe?Ns(fe):window,ke=_e.nodeName&&_e.nodeName.toLowerCase(),ke==="select"||ke==="input"&&_e.type==="file")var Ne=CA;else if(Uy(_e))if(qy)Ne=DA;else{Ne=NA;var De=OA}else(ke=_e.nodeName)&&ke.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ne=LA);if(Ne&&(Ne=Ne(i,fe))){Fy(Te,Ne,u,Ee);break e}De&&De(i,_e,fe),i==="focusout"&&(De=_e._wrapperState)&&De.controlled&&_e.type==="number"&&de(_e,"number",_e.value)}switch(De=fe?Ns(fe):window,i){case"focusin":(Uy(De)||De.contentEditable==="true")&&(Ps=De,fh=fe,Ja=null);break;case"focusout":Ja=fh=Ps=null;break;case"mousedown":hh=!0;break;case"contextmenu":case"mouseup":case"dragend":hh=!1,Qy(Te,u,Ee);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":Qy(Te,u,Ee)}var Me;if(ah)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ks?jy(i,u)&&(qe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(qe="onCompositionStart");qe&&(Ly&&u.locale!=="ko"&&(ks||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ks&&(Me=Ru()):(Pn=Ee,Ts="value"in Pn?Pn.value:Pn.textContent,ks=!0)),De=Mu(fe,qe),0<De.length&&(qe=new U(qe,i,null,u,Ee),Te.push({event:qe,listeners:De}),Me?qe.data=Me:(Me=Vy(u),Me!==null&&(qe.data=Me)))),(Me=IA?RA(i,u):kA(i,u))&&(fe=Mu(fe,"onBeforeInput"),0<fe.length&&(Ee=new U("onBeforeInput","beforeinput",null,u,Ee),Te.push({event:Ee,listeners:fe}),Ee.data=Me))}iv(Te,s)})}function tl(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Mu(i,s){for(var u=s+"Capture",g=[];i!==null;){var A=i,C=A.stateNode;A.tag===5&&C!==null&&(A=C,C=yo(i,u),C!=null&&g.unshift(tl(i,C,A)),C=yo(i,s),C!=null&&g.push(tl(i,C,A))),i=i.return}return g}function Cs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function sv(i,s,u,g,A){for(var C=s._reactName,q=[];u!==null&&u!==g;){var Q=u,Z=Q.alternate,fe=Q.stateNode;if(Z!==null&&Z===g)break;Q.tag===5&&fe!==null&&(Q=fe,A?(Z=yo(u,C),Z!=null&&q.unshift(tl(u,Z,Q))):A||(Z=yo(u,C),Z!=null&&q.push(tl(u,Z,Q)))),u=u.return}q.length!==0&&i.push({event:s,listeners:q})}var BA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function av(i){return(typeof i=="string"?i:""+i).replace(BA,`
`).replace(zA,"")}function ju(i,s,u){if(s=av(s),av(i)!==s&&u)throw Error(t(425))}function Vu(){}var vh=null,_h=null;function Eh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var wh=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(i){return lv.resolve(null).then(i).catch(WA)}:wh;function WA(i){setTimeout(function(){throw i})}function Th(i,s){var u=s,g=0;do{var A=u.nextSibling;if(i.removeChild(u),A&&A.nodeType===8)if(u=A.data,u==="/$"){if(g===0){i.removeChild(A),Pi(s);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=A}while(u);Pi(s)}function Ni(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function uv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Os=Math.random().toString(36).slice(2),kr="__reactFiber$"+Os,nl="__reactProps$"+Os,ei="__reactContainer$"+Os,bh="__reactEvents$"+Os,KA="__reactListeners$"+Os,GA="__reactHandles$"+Os;function xo(i){var s=i[kr];if(s)return s;for(var u=i.parentNode;u;){if(s=u[ei]||u[kr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=uv(i);i!==null;){if(u=i[kr])return u;i=uv(i)}return s}i=u,u=i.parentNode}return null}function rl(i){return i=i[kr]||i[ei],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ns(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Uu(i){return i[nl]||null}var Sh=[],Ls=-1;function Li(i){return{current:i}}function gt(i){0>Ls||(i.current=Sh[Ls],Sh[Ls]=null,Ls--)}function ht(i,s){Ls++,Sh[Ls]=i.current,i.current=s}var Di={},on=Li(Di),yn=Li(!1),Co=Di;function Ds(i,s){var u=i.type.contextTypes;if(!u)return Di;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var A={},C;for(C in u)A[C]=s[C];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function vn(i){return i=i.childContextTypes,i!=null}function Fu(){gt(yn),gt(on)}function cv(i,s,u){if(on.current!==Di)throw Error(t(168));ht(on,s),ht(yn,u)}function fv(i,s,u){var g=i.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var A in g)if(!(A in s))throw Error(t(108,X(i)||"Unknown",A));return W({},u,g)}function qu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Di,Co=on.current,ht(on,i),ht(yn,yn.current),!0}function hv(i,s,u){var g=i.stateNode;if(!g)throw Error(t(169));u?(i=fv(i,s,Co),g.__reactInternalMemoizedMergedChildContext=i,gt(yn),gt(on),ht(on,i)):gt(yn),ht(yn,u)}var ti=null,Bu=!1,Ah=!1;function dv(i){ti===null?ti=[i]:ti.push(i)}function QA(i){Bu=!0,dv(i)}function Mi(){if(!Ah&&ti!==null){Ah=!0;var i=0,s=Ze;try{var u=ti;for(Ze=1;i<u.length;i++){var g=u[i];do g=g(!0);while(g!==null)}ti=null,Bu=!1}catch(A){throw ti!==null&&(ti=ti.slice(i+1)),Na(ms,Mi),A}finally{Ze=s,Ah=!1}}return null}var Ms=[],js=0,zu=null,Hu=0,Fn=[],qn=0,Oo=null,ni=1,ri="";function No(i,s){Ms[js++]=Hu,Ms[js++]=zu,zu=i,Hu=s}function pv(i,s,u){Fn[qn++]=ni,Fn[qn++]=ri,Fn[qn++]=Oo,Oo=i;var g=ni;i=ri;var A=32-Rn(g)-1;g&=~(1<<A),u+=1;var C=32-Rn(s)+A;if(30<C){var q=A-A%5;C=(g&(1<<q)-1).toString(32),g>>=q,A-=q,ni=1<<32-Rn(s)+A|u<<A|g,ri=C+i}else ni=1<<C|u<<A|g,ri=i}function Ih(i){i.return!==null&&(No(i,1),pv(i,1,0))}function Rh(i){for(;i===zu;)zu=Ms[--js],Ms[js]=null,Hu=Ms[--js],Ms[js]=null;for(;i===Oo;)Oo=Fn[--qn],Fn[qn]=null,ri=Fn[--qn],Fn[qn]=null,ni=Fn[--qn],Fn[qn]=null}var On=null,Nn=null,_t=!1,nr=null;function mv(i,s){var u=$n(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function gv(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,On=i,Nn=Ni(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,On=i,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Oo!==null?{id:ni,overflow:ri}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=$n(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,On=i,Nn=null,!0):!1;default:return!1}}function kh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ph(i){if(_t){var s=Nn;if(s){var u=s;if(!gv(i,s)){if(kh(i))throw Error(t(418));s=Ni(u.nextSibling);var g=On;s&&gv(i,s)?mv(g,u):(i.flags=i.flags&-4097|2,_t=!1,On=i)}}else{if(kh(i))throw Error(t(418));i.flags=i.flags&-4097|2,_t=!1,On=i}}}function yv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;On=i}function $u(i){if(i!==On)return!1;if(!_t)return yv(i),_t=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Eh(i.type,i.memoizedProps)),s&&(s=Nn)){if(kh(i))throw vv(),Error(t(418));for(;s;)mv(i,s),s=Ni(s.nextSibling)}if(yv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Nn=Ni(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Nn=null}}else Nn=On?Ni(i.stateNode.nextSibling):null;return!0}function vv(){for(var i=Nn;i;)i=Ni(i.nextSibling)}function Vs(){Nn=On=null,_t=!1}function xh(i){nr===null?nr=[i]:nr.push(i)}var YA=b.ReactCurrentBatchConfig;function il(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var g=u.stateNode}if(!g)throw Error(t(147,i));var A=g,C=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===C?s.ref:(s=function(q){var Q=A.refs;q===null?delete Q[C]:Q[C]=q},s._stringRef=C,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Wu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function _v(i){var s=i._init;return s(i._payload)}function Ev(i){function s(le,ie){if(i){var ce=le.deletions;ce===null?(le.deletions=[ie],le.flags|=16):ce.push(ie)}}function u(le,ie){if(!i)return null;for(;ie!==null;)s(le,ie),ie=ie.sibling;return null}function g(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function A(le,ie){return le=Hi(le,ie),le.index=0,le.sibling=null,le}function C(le,ie,ce){return le.index=ce,i?(ce=le.alternate,ce!==null?(ce=ce.index,ce<ie?(le.flags|=2,ie):ce):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function q(le){return i&&le.alternate===null&&(le.flags|=2),le}function Q(le,ie,ce,be){return ie===null||ie.tag!==6?(ie=wd(ce,le.mode,be),ie.return=le,ie):(ie=A(ie,ce),ie.return=le,ie)}function Z(le,ie,ce,be){var Ne=ce.type;return Ne===P?Ee(le,ie,ce.props.children,be,ce.key):ie!==null&&(ie.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&_v(Ne)===ie.type)?(be=A(ie,ce.props),be.ref=il(le,ie,ce),be.return=le,be):(be=gc(ce.type,ce.key,ce.props,null,le.mode,be),be.ref=il(le,ie,ce),be.return=le,be)}function fe(le,ie,ce,be){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ce.containerInfo||ie.stateNode.implementation!==ce.implementation?(ie=Td(ce,le.mode,be),ie.return=le,ie):(ie=A(ie,ce.children||[]),ie.return=le,ie)}function Ee(le,ie,ce,be,Ne){return ie===null||ie.tag!==7?(ie=qo(ce,le.mode,be,Ne),ie.return=le,ie):(ie=A(ie,ce),ie.return=le,ie)}function Te(le,ie,ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=wd(""+ie,le.mode,ce),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case D:return ce=gc(ie.type,ie.key,ie.props,null,le.mode,ce),ce.ref=il(le,null,ie),ce.return=le,ce;case F:return ie=Td(ie,le.mode,ce),ie.return=le,ie;case ne:var be=ie._init;return Te(le,be(ie._payload),ce)}if(we(ie)||Y(ie))return ie=qo(ie,le.mode,ce,null),ie.return=le,ie;Wu(le,ie)}return null}function _e(le,ie,ce,be){var Ne=ie!==null?ie.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ne!==null?null:Q(le,ie,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case D:return ce.key===Ne?Z(le,ie,ce,be):null;case F:return ce.key===Ne?fe(le,ie,ce,be):null;case ne:return Ne=ce._init,_e(le,ie,Ne(ce._payload),be)}if(we(ce)||Y(ce))return Ne!==null?null:Ee(le,ie,ce,be,null);Wu(le,ce)}return null}function ke(le,ie,ce,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number")return le=le.get(ce)||null,Q(ie,le,""+be,Ne);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case D:return le=le.get(be.key===null?ce:be.key)||null,Z(ie,le,be,Ne);case F:return le=le.get(be.key===null?ce:be.key)||null,fe(ie,le,be,Ne);case ne:var De=be._init;return ke(le,ie,ce,De(be._payload),Ne)}if(we(be)||Y(be))return le=le.get(ce)||null,Ee(ie,le,be,Ne,null);Wu(ie,be)}return null}function Ce(le,ie,ce,be){for(var Ne=null,De=null,Me=ie,qe=ie=0,Wt=null;Me!==null&&qe<ce.length;qe++){Me.index>qe?(Wt=Me,Me=null):Wt=Me.sibling;var it=_e(le,Me,ce[qe],be);if(it===null){Me===null&&(Me=Wt);break}i&&Me&&it.alternate===null&&s(le,Me),ie=C(it,ie,qe),De===null?Ne=it:De.sibling=it,De=it,Me=Wt}if(qe===ce.length)return u(le,Me),_t&&No(le,qe),Ne;if(Me===null){for(;qe<ce.length;qe++)Me=Te(le,ce[qe],be),Me!==null&&(ie=C(Me,ie,qe),De===null?Ne=Me:De.sibling=Me,De=Me);return _t&&No(le,qe),Ne}for(Me=g(le,Me);qe<ce.length;qe++)Wt=ke(Me,le,qe,ce[qe],be),Wt!==null&&(i&&Wt.alternate!==null&&Me.delete(Wt.key===null?qe:Wt.key),ie=C(Wt,ie,qe),De===null?Ne=Wt:De.sibling=Wt,De=Wt);return i&&Me.forEach(function($i){return s(le,$i)}),_t&&No(le,qe),Ne}function Oe(le,ie,ce,be){var Ne=Y(ce);if(typeof Ne!="function")throw Error(t(150));if(ce=Ne.call(ce),ce==null)throw Error(t(151));for(var De=Ne=null,Me=ie,qe=ie=0,Wt=null,it=ce.next();Me!==null&&!it.done;qe++,it=ce.next()){Me.index>qe?(Wt=Me,Me=null):Wt=Me.sibling;var $i=_e(le,Me,it.value,be);if($i===null){Me===null&&(Me=Wt);break}i&&Me&&$i.alternate===null&&s(le,Me),ie=C($i,ie,qe),De===null?Ne=$i:De.sibling=$i,De=$i,Me=Wt}if(it.done)return u(le,Me),_t&&No(le,qe),Ne;if(Me===null){for(;!it.done;qe++,it=ce.next())it=Te(le,it.value,be),it!==null&&(ie=C(it,ie,qe),De===null?Ne=it:De.sibling=it,De=it);return _t&&No(le,qe),Ne}for(Me=g(le,Me);!it.done;qe++,it=ce.next())it=ke(Me,le,qe,it.value,be),it!==null&&(i&&it.alternate!==null&&Me.delete(it.key===null?qe:it.key),ie=C(it,ie,qe),De===null?Ne=it:De.sibling=it,De=it);return i&&Me.forEach(function(PI){return s(le,PI)}),_t&&No(le,qe),Ne}function xt(le,ie,ce,be){if(typeof ce=="object"&&ce!==null&&ce.type===P&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case D:e:{for(var Ne=ce.key,De=ie;De!==null;){if(De.key===Ne){if(Ne=ce.type,Ne===P){if(De.tag===7){u(le,De.sibling),ie=A(De,ce.props.children),ie.return=le,le=ie;break e}}else if(De.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&_v(Ne)===De.type){u(le,De.sibling),ie=A(De,ce.props),ie.ref=il(le,De,ce),ie.return=le,le=ie;break e}u(le,De);break}else s(le,De);De=De.sibling}ce.type===P?(ie=qo(ce.props.children,le.mode,be,ce.key),ie.return=le,le=ie):(be=gc(ce.type,ce.key,ce.props,null,le.mode,be),be.ref=il(le,ie,ce),be.return=le,le=be)}return q(le);case F:e:{for(De=ce.key;ie!==null;){if(ie.key===De)if(ie.tag===4&&ie.stateNode.containerInfo===ce.containerInfo&&ie.stateNode.implementation===ce.implementation){u(le,ie.sibling),ie=A(ie,ce.children||[]),ie.return=le,le=ie;break e}else{u(le,ie);break}else s(le,ie);ie=ie.sibling}ie=Td(ce,le.mode,be),ie.return=le,le=ie}return q(le);case ne:return De=ce._init,xt(le,ie,De(ce._payload),be)}if(we(ce))return Ce(le,ie,ce,be);if(Y(ce))return Oe(le,ie,ce,be);Wu(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ie!==null&&ie.tag===6?(u(le,ie.sibling),ie=A(ie,ce),ie.return=le,le=ie):(u(le,ie),ie=wd(ce,le.mode,be),ie.return=le,le=ie),q(le)):u(le,ie)}return xt}var Us=Ev(!0),wv=Ev(!1),Ku=Li(null),Gu=null,Fs=null,Ch=null;function Oh(){Ch=Fs=Gu=null}function Nh(i){var s=Ku.current;gt(Ku),i._currentValue=s}function Lh(i,s,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),i===u)break;i=i.return}}function qs(i,s){Gu=i,Ch=Fs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(_n=!0),i.firstContext=null)}function Bn(i){var s=i._currentValue;if(Ch!==i)if(i={context:i,memoizedValue:s,next:null},Fs===null){if(Gu===null)throw Error(t(308));Fs=i,Gu.dependencies={lanes:0,firstContext:i}}else Fs=Fs.next=i;return s}var Lo=null;function Dh(i){Lo===null?Lo=[i]:Lo.push(i)}function Tv(i,s,u,g){var A=s.interleaved;return A===null?(u.next=u,Dh(s)):(u.next=A.next,A.next=u),s.interleaved=u,ii(i,g)}function ii(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ji=!1;function Mh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function oi(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(i,s,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var A=g.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),g.pending=s,ii(i,u)}return A=g.interleaved,A===null?(s.next=s,Dh(g)):(s.next=A.next,A.next=s),g.interleaved=s,ii(i,u)}function Qu(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,Ua(i,u)}}function Sv(i,s){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var A=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var q={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};C===null?A=C=q:C=C.next=q,u=u.next}while(u!==null);C===null?A=C=s:C=C.next=s}else A=C=s;u={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:C,shared:g.shared,effects:g.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Yu(i,s,u,g){var A=i.updateQueue;ji=!1;var C=A.firstBaseUpdate,q=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var Z=Q,fe=Z.next;Z.next=null,q===null?C=fe:q.next=fe,q=Z;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,Q=Ee.lastBaseUpdate,Q!==q&&(Q===null?Ee.firstBaseUpdate=fe:Q.next=fe,Ee.lastBaseUpdate=Z))}if(C!==null){var Te=A.baseState;q=0,Ee=fe=Z=null,Q=C;do{var _e=Q.lane,ke=Q.eventTime;if((g&_e)===_e){Ee!==null&&(Ee=Ee.next={eventTime:ke,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Ce=i,Oe=Q;switch(_e=s,ke=u,Oe.tag){case 1:if(Ce=Oe.payload,typeof Ce=="function"){Te=Ce.call(ke,Te,_e);break e}Te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Oe.payload,_e=typeof Ce=="function"?Ce.call(ke,Te,_e):Ce,_e==null)break e;Te=W({},Te,_e);break e;case 2:ji=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,_e=A.effects,_e===null?A.effects=[Q]:_e.push(Q))}else ke={eventTime:ke,lane:_e,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ee===null?(fe=Ee=ke,Z=Te):Ee=Ee.next=ke,q|=_e;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;_e=Q,Q=_e.next,_e.next=null,A.lastBaseUpdate=_e,A.shared.pending=null}}while(!0);if(Ee===null&&(Z=Te),A.baseState=Z,A.firstBaseUpdate=fe,A.lastBaseUpdate=Ee,s=A.shared.interleaved,s!==null){A=s;do q|=A.lane,A=A.next;while(A!==s)}else C===null&&(A.shared.lanes=0);jo|=q,i.lanes=q,i.memoizedState=Te}}function Av(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var g=i[s],A=g.callback;if(A!==null){if(g.callback=null,g=u,typeof A!="function")throw Error(t(191,A));A.call(g)}}}var ol={},Pr=Li(ol),sl=Li(ol),al=Li(ol);function Do(i){if(i===ol)throw Error(t(174));return i}function jh(i,s){switch(ht(al,s),ht(sl,i),ht(Pr,ol),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:nn(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=nn(s,i)}gt(Pr),ht(Pr,s)}function Bs(){gt(Pr),gt(sl),gt(al)}function Iv(i){Do(al.current);var s=Do(Pr.current),u=nn(s,i.type);s!==u&&(ht(sl,i),ht(Pr,u))}function Vh(i){sl.current===i&&(gt(Pr),gt(sl))}var Tt=Li(0);function Xu(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Uh=[];function Fh(){for(var i=0;i<Uh.length;i++)Uh[i]._workInProgressVersionPrimary=null;Uh.length=0}var Ju=b.ReactCurrentDispatcher,qh=b.ReactCurrentBatchConfig,Mo=0,bt=null,Ut=null,Ht=null,Zu=!1,ll=!1,ul=0,XA=0;function sn(){throw Error(t(321))}function Bh(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!tr(i[u],s[u]))return!1;return!0}function zh(i,s,u,g,A,C){if(Mo=C,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ju.current=i===null||i.memoizedState===null?tI:nI,i=u(g,A),ll){C=0;do{if(ll=!1,ul=0,25<=C)throw Error(t(301));C+=1,Ht=Ut=null,s.updateQueue=null,Ju.current=rI,i=u(g,A)}while(ll)}if(Ju.current=nc,s=Ut!==null&&Ut.next!==null,Mo=0,Ht=Ut=bt=null,Zu=!1,s)throw Error(t(300));return i}function Hh(){var i=ul!==0;return ul=0,i}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?bt.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function zn(){if(Ut===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var s=Ht===null?bt.memoizedState:Ht.next;if(s!==null)Ht=s,Ut=i;else{if(i===null)throw Error(t(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Ht===null?bt.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function cl(i,s){return typeof s=="function"?s(i):s}function $h(i){var s=zn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var g=Ut,A=g.baseQueue,C=u.pending;if(C!==null){if(A!==null){var q=A.next;A.next=C.next,C.next=q}g.baseQueue=A=C,u.pending=null}if(A!==null){C=A.next,g=g.baseState;var Q=q=null,Z=null,fe=C;do{var Ee=fe.lane;if((Mo&Ee)===Ee)Z!==null&&(Z=Z.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),g=fe.hasEagerState?fe.eagerState:i(g,fe.action);else{var Te={lane:Ee,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};Z===null?(Q=Z=Te,q=g):Z=Z.next=Te,bt.lanes|=Ee,jo|=Ee}fe=fe.next}while(fe!==null&&fe!==C);Z===null?q=g:Z.next=Q,tr(g,s.memoizedState)||(_n=!0),s.memoizedState=g,s.baseState=q,s.baseQueue=Z,u.lastRenderedState=g}if(i=u.interleaved,i!==null){A=i;do C=A.lane,bt.lanes|=C,jo|=C,A=A.next;while(A!==i)}else A===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Wh(i){var s=zn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var g=u.dispatch,A=u.pending,C=s.memoizedState;if(A!==null){u.pending=null;var q=A=A.next;do C=i(C,q.action),q=q.next;while(q!==A);tr(C,s.memoizedState)||(_n=!0),s.memoizedState=C,s.baseQueue===null&&(s.baseState=C),u.lastRenderedState=C}return[C,g]}function Rv(){}function kv(i,s){var u=bt,g=zn(),A=s(),C=!tr(g.memoizedState,A);if(C&&(g.memoizedState=A,_n=!0),g=g.queue,Kh(Cv.bind(null,u,g,i),[i]),g.getSnapshot!==s||C||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,fl(9,xv.bind(null,u,g,A,s),void 0,null),$t===null)throw Error(t(349));(Mo&30)!==0||Pv(u,s,A)}return A}function Pv(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function xv(i,s,u,g){s.value=u,s.getSnapshot=g,Ov(s)&&Nv(i)}function Cv(i,s,u){return u(function(){Ov(s)&&Nv(i)})}function Ov(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!tr(i,u)}catch{return!0}}function Nv(i){var s=ii(i,1);s!==null&&sr(s,i,1,-1)}function Lv(i){var s=xr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:i},s.queue=i,i=i.dispatch=eI.bind(null,bt,i),[s.memoizedState,i]}function fl(i,s,u,g){return i={tag:i,create:s,destroy:u,deps:g,next:null},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,s.lastEffect=i)),i}function Dv(){return zn().memoizedState}function ec(i,s,u,g){var A=xr();bt.flags|=i,A.memoizedState=fl(1|s,u,void 0,g===void 0?null:g)}function tc(i,s,u,g){var A=zn();g=g===void 0?null:g;var C=void 0;if(Ut!==null){var q=Ut.memoizedState;if(C=q.destroy,g!==null&&Bh(g,q.deps)){A.memoizedState=fl(s,u,C,g);return}}bt.flags|=i,A.memoizedState=fl(1|s,u,C,g)}function Mv(i,s){return ec(8390656,8,i,s)}function Kh(i,s){return tc(2048,8,i,s)}function jv(i,s){return tc(4,2,i,s)}function Vv(i,s){return tc(4,4,i,s)}function Uv(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Fv(i,s,u){return u=u!=null?u.concat([i]):null,tc(4,4,Uv.bind(null,s,i),u)}function Gh(){}function qv(i,s){var u=zn();s=s===void 0?null:s;var g=u.memoizedState;return g!==null&&s!==null&&Bh(s,g[1])?g[0]:(u.memoizedState=[i,s],i)}function Bv(i,s){var u=zn();s=s===void 0?null:s;var g=u.memoizedState;return g!==null&&s!==null&&Bh(s,g[1])?g[0]:(i=i(),u.memoizedState=[i,s],i)}function zv(i,s,u){return(Mo&21)===0?(i.baseState&&(i.baseState=!1,_n=!0),i.memoizedState=u):(tr(u,s)||(u=ja(),bt.lanes|=u,jo|=u,i.baseState=!0),s)}function JA(i,s){var u=Ze;Ze=u!==0&&4>u?u:4,i(!0);var g=qh.transition;qh.transition={};try{i(!1),s()}finally{Ze=u,qh.transition=g}}function Hv(){return zn().memoizedState}function ZA(i,s,u){var g=Bi(i);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},$v(i))Wv(s,u);else if(u=Tv(i,s,u,g),u!==null){var A=pn();sr(u,i,g,A),Kv(u,s,g)}}function eI(i,s,u){var g=Bi(i),A={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if($v(i))Wv(s,A);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=s.lastRenderedReducer,C!==null))try{var q=s.lastRenderedState,Q=C(q,u);if(A.hasEagerState=!0,A.eagerState=Q,tr(Q,q)){var Z=s.interleaved;Z===null?(A.next=A,Dh(s)):(A.next=Z.next,Z.next=A),s.interleaved=A;return}}catch{}u=Tv(i,s,A,g),u!==null&&(A=pn(),sr(u,i,g,A),Kv(u,s,g))}}function $v(i){var s=i.alternate;return i===bt||s!==null&&s===bt}function Wv(i,s){ll=Zu=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Kv(i,s,u){if((u&4194240)!==0){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,Ua(i,u)}}var nc={readContext:Bn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},tI={readContext:Bn,useCallback:function(i,s){return xr().memoizedState=[i,s===void 0?null:s],i},useContext:Bn,useEffect:Mv,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,ec(4194308,4,Uv.bind(null,s,i),u)},useLayoutEffect:function(i,s){return ec(4194308,4,i,s)},useInsertionEffect:function(i,s){return ec(4,2,i,s)},useMemo:function(i,s){var u=xr();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var g=xr();return s=u!==void 0?u(s):s,g.memoizedState=g.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},g.queue=i,i=i.dispatch=ZA.bind(null,bt,i),[g.memoizedState,i]},useRef:function(i){var s=xr();return i={current:i},s.memoizedState=i},useState:Lv,useDebugValue:Gh,useDeferredValue:function(i){return xr().memoizedState=i},useTransition:function(){var i=Lv(!1),s=i[0];return i=JA.bind(null,i[1]),xr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var g=bt,A=xr();if(_t){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),$t===null)throw Error(t(349));(Mo&30)!==0||Pv(g,s,u)}A.memoizedState=u;var C={value:u,getSnapshot:s};return A.queue=C,Mv(Cv.bind(null,g,C,i),[i]),g.flags|=2048,fl(9,xv.bind(null,g,C,u,s),void 0,null),u},useId:function(){var i=xr(),s=$t.identifierPrefix;if(_t){var u=ri,g=ni;u=(g&~(1<<32-Rn(g)-1)).toString(32)+u,s=":"+s+"R"+u,u=ul++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=XA++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},nI={readContext:Bn,useCallback:qv,useContext:Bn,useEffect:Kh,useImperativeHandle:Fv,useInsertionEffect:jv,useLayoutEffect:Vv,useMemo:Bv,useReducer:$h,useRef:Dv,useState:function(){return $h(cl)},useDebugValue:Gh,useDeferredValue:function(i){var s=zn();return zv(s,Ut.memoizedState,i)},useTransition:function(){var i=$h(cl)[0],s=zn().memoizedState;return[i,s]},useMutableSource:Rv,useSyncExternalStore:kv,useId:Hv,unstable_isNewReconciler:!1},rI={readContext:Bn,useCallback:qv,useContext:Bn,useEffect:Kh,useImperativeHandle:Fv,useInsertionEffect:jv,useLayoutEffect:Vv,useMemo:Bv,useReducer:Wh,useRef:Dv,useState:function(){return Wh(cl)},useDebugValue:Gh,useDeferredValue:function(i){var s=zn();return Ut===null?s.memoizedState=i:zv(s,Ut.memoizedState,i)},useTransition:function(){var i=Wh(cl)[0],s=zn().memoizedState;return[i,s]},useMutableSource:Rv,useSyncExternalStore:kv,useId:Hv,unstable_isNewReconciler:!1};function rr(i,s){if(i&&i.defaultProps){s=W({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Qh(i,s,u,g){s=i.memoizedState,u=u(g,s),u=u==null?s:W({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var rc={isMounted:function(i){return(i=i._reactInternals)?Zn(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var g=pn(),A=Bi(i),C=oi(g,A);C.payload=s,u!=null&&(C.callback=u),s=Vi(i,C,A),s!==null&&(sr(s,i,A,g),Qu(s,i,A))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var g=pn(),A=Bi(i),C=oi(g,A);C.tag=1,C.payload=s,u!=null&&(C.callback=u),s=Vi(i,C,A),s!==null&&(sr(s,i,A,g),Qu(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=pn(),g=Bi(i),A=oi(u,g);A.tag=2,s!=null&&(A.callback=s),s=Vi(i,A,g),s!==null&&(sr(s,i,g,u),Qu(s,i,g))}};function Gv(i,s,u,g,A,C,q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,C,q):s.prototype&&s.prototype.isPureReactComponent?!Xa(u,g)||!Xa(A,C):!0}function Qv(i,s,u){var g=!1,A=Di,C=s.contextType;return typeof C=="object"&&C!==null?C=Bn(C):(A=vn(s)?Co:on.current,g=s.contextTypes,C=(g=g!=null)?Ds(i,A):Di),s=new s(u,C),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=rc,i.stateNode=s,s._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=C),s}function Yv(i,s,u,g){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==i&&rc.enqueueReplaceState(s,s.state,null)}function Yh(i,s,u,g){var A=i.stateNode;A.props=u,A.state=i.memoizedState,A.refs={},Mh(i);var C=s.contextType;typeof C=="object"&&C!==null?A.context=Bn(C):(C=vn(s)?Co:on.current,A.context=Ds(i,C)),A.state=i.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Qh(i,s,C,u),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&rc.enqueueReplaceState(A,A.state,null),Yu(i,u,A,g),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function zs(i,s){try{var u="",g=s;do u+=ee(g),g=g.return;while(g);var A=u}catch(C){A=`
Error generating stack: `+C.message+`
`+C.stack}return{value:i,source:s,stack:A,digest:null}}function Xh(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Jh(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var iI=typeof WeakMap=="function"?WeakMap:Map;function Xv(i,s,u){u=oi(-1,u),u.tag=3,u.payload={element:null};var g=s.value;return u.callback=function(){cc||(cc=!0,dd=g),Jh(i,s)},u}function Jv(i,s,u){u=oi(-1,u),u.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var A=s.value;u.payload=function(){return g(A)},u.callback=function(){Jh(i,s)}}var C=i.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(u.callback=function(){Jh(i,s),typeof g!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var q=s.stack;this.componentDidCatch(s.value,{componentStack:q!==null?q:""})}),u}function Zv(i,s,u){var g=i.pingCache;if(g===null){g=i.pingCache=new iI;var A=new Set;g.set(s,A)}else A=g.get(s),A===void 0&&(A=new Set,g.set(s,A));A.has(u)||(A.add(u),i=vI.bind(null,i,s,u),s.then(i,i))}function e_(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function t_(i,s,u,g,A){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=oi(-1,1),s.tag=2,Vi(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=A,i)}var oI=b.ReactCurrentOwner,_n=!1;function dn(i,s,u,g){s.child=i===null?wv(s,null,u,g):Us(s,i.child,u,g)}function n_(i,s,u,g,A){u=u.render;var C=s.ref;return qs(s,A),g=zh(i,s,u,g,C,A),u=Hh(),i!==null&&!_n?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,si(i,s,A)):(_t&&u&&Ih(s),s.flags|=1,dn(i,s,g,A),s.child)}function r_(i,s,u,g,A){if(i===null){var C=u.type;return typeof C=="function"&&!Ed(C)&&C.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=C,i_(i,s,C,g,A)):(i=gc(u.type,null,g,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(C=i.child,(i.lanes&A)===0){var q=C.memoizedProps;if(u=u.compare,u=u!==null?u:Xa,u(q,g)&&i.ref===s.ref)return si(i,s,A)}return s.flags|=1,i=Hi(C,g),i.ref=s.ref,i.return=s,s.child=i}function i_(i,s,u,g,A){if(i!==null){var C=i.memoizedProps;if(Xa(C,g)&&i.ref===s.ref)if(_n=!1,s.pendingProps=g=C,(i.lanes&A)!==0)(i.flags&131072)!==0&&(_n=!0);else return s.lanes=i.lanes,si(i,s,A)}return Zh(i,s,u,g,A)}function o_(i,s,u){var g=s.pendingProps,A=g.children,C=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht($s,Ln),Ln|=u;else{if((u&1073741824)===0)return i=C!==null?C.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,ht($s,Ln),Ln|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=C!==null?C.baseLanes:u,ht($s,Ln),Ln|=g}else C!==null?(g=C.baseLanes|u,s.memoizedState=null):g=u,ht($s,Ln),Ln|=g;return dn(i,s,A,u),s.child}function s_(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Zh(i,s,u,g,A){var C=vn(u)?Co:on.current;return C=Ds(s,C),qs(s,A),u=zh(i,s,u,g,C,A),g=Hh(),i!==null&&!_n?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,si(i,s,A)):(_t&&g&&Ih(s),s.flags|=1,dn(i,s,u,A),s.child)}function a_(i,s,u,g,A){if(vn(u)){var C=!0;qu(s)}else C=!1;if(qs(s,A),s.stateNode===null)oc(i,s),Qv(s,u,g),Yh(s,u,g,A),g=!0;else if(i===null){var q=s.stateNode,Q=s.memoizedProps;q.props=Q;var Z=q.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=Bn(fe):(fe=vn(u)?Co:on.current,fe=Ds(s,fe));var Ee=u.getDerivedStateFromProps,Te=typeof Ee=="function"||typeof q.getSnapshotBeforeUpdate=="function";Te||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==g||Z!==fe)&&Yv(s,q,g,fe),ji=!1;var _e=s.memoizedState;q.state=_e,Yu(s,g,q,A),Z=s.memoizedState,Q!==g||_e!==Z||yn.current||ji?(typeof Ee=="function"&&(Qh(s,u,Ee,g),Z=s.memoizedState),(Q=ji||Gv(s,u,Q,g,_e,Z,fe))?(Te||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(s.flags|=4194308)):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=Z),q.props=g,q.state=Z,q.context=fe,g=Q):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{q=s.stateNode,bv(i,s),Q=s.memoizedProps,fe=s.type===s.elementType?Q:rr(s.type,Q),q.props=fe,Te=s.pendingProps,_e=q.context,Z=u.contextType,typeof Z=="object"&&Z!==null?Z=Bn(Z):(Z=vn(u)?Co:on.current,Z=Ds(s,Z));var ke=u.getDerivedStateFromProps;(Ee=typeof ke=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==Te||_e!==Z)&&Yv(s,q,g,Z),ji=!1,_e=s.memoizedState,q.state=_e,Yu(s,g,q,A);var Ce=s.memoizedState;Q!==Te||_e!==Ce||yn.current||ji?(typeof ke=="function"&&(Qh(s,u,ke,g),Ce=s.memoizedState),(fe=ji||Gv(s,u,fe,g,_e,Ce,Z)||!1)?(Ee||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(g,Ce,Z),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(g,Ce,Z)),typeof q.componentDidUpdate=="function"&&(s.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof q.componentDidUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=Ce),q.props=g,q.state=Ce,q.context=Z,g=fe):(typeof q.componentDidUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),g=!1)}return ed(i,s,u,g,C,A)}function ed(i,s,u,g,A,C){s_(i,s);var q=(s.flags&128)!==0;if(!g&&!q)return A&&hv(s,u,!1),si(i,s,C);g=s.stateNode,oI.current=s;var Q=q&&typeof u.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,i!==null&&q?(s.child=Us(s,i.child,null,C),s.child=Us(s,null,Q,C)):dn(i,s,Q,C),s.memoizedState=g.state,A&&hv(s,u,!0),s.child}function l_(i){var s=i.stateNode;s.pendingContext?cv(i,s.pendingContext,s.pendingContext!==s.context):s.context&&cv(i,s.context,!1),jh(i,s.containerInfo)}function u_(i,s,u,g,A){return Vs(),xh(A),s.flags|=256,dn(i,s,u,g),s.child}var td={dehydrated:null,treeContext:null,retryLane:0};function nd(i){return{baseLanes:i,cachePool:null,transitions:null}}function c_(i,s,u){var g=s.pendingProps,A=Tt.current,C=!1,q=(s.flags&128)!==0,Q;if((Q=q)||(Q=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Q?(C=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),ht(Tt,A&1),i===null)return Ph(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(q=g.children,i=g.fallback,C?(g=s.mode,C=s.child,q={mode:"hidden",children:q},(g&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=q):C=yc(q,g,0,null),i=qo(i,g,u,null),C.return=s,i.return=s,C.sibling=i,s.child=C,s.child.memoizedState=nd(u),s.memoizedState=td,i):rd(s,q));if(A=i.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return sI(i,s,q,g,Q,A,u);if(C){C=g.fallback,q=s.mode,A=i.child,Q=A.sibling;var Z={mode:"hidden",children:g.children};return(q&1)===0&&s.child!==A?(g=s.child,g.childLanes=0,g.pendingProps=Z,s.deletions=null):(g=Hi(A,Z),g.subtreeFlags=A.subtreeFlags&14680064),Q!==null?C=Hi(Q,C):(C=qo(C,q,u,null),C.flags|=2),C.return=s,g.return=s,g.sibling=C,s.child=g,g=C,C=s.child,q=i.child.memoizedState,q=q===null?nd(u):{baseLanes:q.baseLanes|u,cachePool:null,transitions:q.transitions},C.memoizedState=q,C.childLanes=i.childLanes&~u,s.memoizedState=td,g}return C=i.child,i=C.sibling,g=Hi(C,{mode:"visible",children:g.children}),(s.mode&1)===0&&(g.lanes=u),g.return=s,g.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=g,s.memoizedState=null,g}function rd(i,s){return s=yc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ic(i,s,u,g){return g!==null&&xh(g),Us(s,i.child,null,u),i=rd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function sI(i,s,u,g,A,C,q){if(u)return s.flags&256?(s.flags&=-257,g=Xh(Error(t(422))),ic(i,s,q,g)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(C=g.fallback,A=s.mode,g=yc({mode:"visible",children:g.children},A,0,null),C=qo(C,A,q,null),C.flags|=2,g.return=s,C.return=s,g.sibling=C,s.child=g,(s.mode&1)!==0&&Us(s,i.child,null,q),s.child.memoizedState=nd(q),s.memoizedState=td,C);if((s.mode&1)===0)return ic(i,s,q,null);if(A.data==="$!"){if(g=A.nextSibling&&A.nextSibling.dataset,g)var Q=g.dgst;return g=Q,C=Error(t(419)),g=Xh(C,g,void 0),ic(i,s,q,g)}if(Q=(q&i.childLanes)!==0,_n||Q){if(g=$t,g!==null){switch(q&-q){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(g.suspendedLanes|q))!==0?0:A,A!==0&&A!==C.retryLane&&(C.retryLane=A,ii(i,A),sr(g,i,A,-1))}return _d(),g=Xh(Error(t(421))),ic(i,s,q,g)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=_I.bind(null,i),A._reactRetry=s,null):(i=C.treeContext,Nn=Ni(A.nextSibling),On=s,_t=!0,nr=null,i!==null&&(Fn[qn++]=ni,Fn[qn++]=ri,Fn[qn++]=Oo,ni=i.id,ri=i.overflow,Oo=s),s=rd(s,g.children),s.flags|=4096,s)}function f_(i,s,u){i.lanes|=s;var g=i.alternate;g!==null&&(g.lanes|=s),Lh(i.return,s,u)}function id(i,s,u,g,A){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:A}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=g,C.tail=u,C.tailMode=A)}function h_(i,s,u){var g=s.pendingProps,A=g.revealOrder,C=g.tail;if(dn(i,s,g.children,u),g=Tt.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&f_(i,u,s);else if(i.tag===19)f_(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ht(Tt,g),(s.mode&1)===0)s.memoizedState=null;else switch(A){case"forwards":for(u=s.child,A=null;u!==null;)i=u.alternate,i!==null&&Xu(i)===null&&(A=u),u=u.sibling;u=A,u===null?(A=s.child,s.child=null):(A=u.sibling,u.sibling=null),id(s,!1,A,u,C);break;case"backwards":for(u=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&Xu(i)===null){s.child=A;break}i=A.sibling,A.sibling=u,u=A,A=i}id(s,!0,u,null,C);break;case"together":id(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function si(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),jo|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=Hi(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Hi(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function aI(i,s,u){switch(s.tag){case 3:l_(s),Vs();break;case 5:Iv(s);break;case 1:vn(s.type)&&qu(s);break;case 4:jh(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,A=s.memoizedProps.value;ht(Ku,g._currentValue),g._currentValue=A;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(ht(Tt,Tt.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?c_(i,s,u):(ht(Tt,Tt.current&1),i=si(i,s,u),i!==null?i.sibling:null);ht(Tt,Tt.current&1);break;case 19:if(g=(u&s.childLanes)!==0,(i.flags&128)!==0){if(g)return h_(i,s,u);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ht(Tt,Tt.current),g)break;return null;case 22:case 23:return s.lanes=0,o_(i,s,u)}return si(i,s,u)}var d_,od,p_,m_;d_=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},od=function(){},p_=function(i,s,u,g){var A=i.memoizedProps;if(A!==g){i=s.stateNode,Do(Pr.current);var C=null;switch(u){case"input":A=Ge(i,A),g=Ge(i,g),C=[];break;case"select":A=W({},A,{value:void 0}),g=W({},g,{value:void 0}),C=[];break;case"textarea":A=ve(i,A),g=ve(i,g),C=[];break;default:typeof A.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Vu)}Jn(u,g);var q;u=null;for(fe in A)if(!g.hasOwnProperty(fe)&&A.hasOwnProperty(fe)&&A[fe]!=null)if(fe==="style"){var Q=A[fe];for(q in Q)Q.hasOwnProperty(q)&&(u||(u={}),u[q]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(o.hasOwnProperty(fe)?C||(C=[]):(C=C||[]).push(fe,null));for(fe in g){var Z=g[fe];if(Q=A?.[fe],g.hasOwnProperty(fe)&&Z!==Q&&(Z!=null||Q!=null))if(fe==="style")if(Q){for(q in Q)!Q.hasOwnProperty(q)||Z&&Z.hasOwnProperty(q)||(u||(u={}),u[q]="");for(q in Z)Z.hasOwnProperty(q)&&Q[q]!==Z[q]&&(u||(u={}),u[q]=Z[q])}else u||(C||(C=[]),C.push(fe,u)),u=Z;else fe==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Q=Q?Q.__html:void 0,Z!=null&&Q!==Z&&(C=C||[]).push(fe,Z)):fe==="children"?typeof Z!="string"&&typeof Z!="number"||(C=C||[]).push(fe,""+Z):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(fe)?(Z!=null&&fe==="onScroll"&&mt("scroll",i),C||Q===Z||(C=[])):(C=C||[]).push(fe,Z))}u&&(C=C||[]).push("style",u);var fe=C;(s.updateQueue=fe)&&(s.flags|=4)}},m_=function(i,s,u,g){u!==g&&(s.flags|=4)};function hl(i,s){if(!_t)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function an(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(s)for(var A=i.child;A!==null;)u|=A.lanes|A.childLanes,g|=A.subtreeFlags&14680064,g|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)u|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=g,i.childLanes=u,s}function lI(i,s,u){var g=s.pendingProps;switch(Rh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(s),null;case 1:return vn(s.type)&&Fu(),an(s),null;case 3:return g=s.stateNode,Bs(),gt(yn),gt(on),Fh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&($u(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nr!==null&&(gd(nr),nr=null))),od(i,s),an(s),null;case 5:Vh(s);var A=Do(al.current);if(u=s.type,i!==null&&s.stateNode!=null)p_(i,s,u,g,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(t(166));return an(s),null}if(i=Do(Pr.current),$u(s)){g=s.stateNode,u=s.type;var C=s.memoizedProps;switch(g[kr]=s,g[nl]=C,i=(s.mode&1)!==0,u){case"dialog":mt("cancel",g),mt("close",g);break;case"iframe":case"object":case"embed":mt("load",g);break;case"video":case"audio":for(A=0;A<Za.length;A++)mt(Za[A],g);break;case"source":mt("error",g);break;case"img":case"image":case"link":mt("error",g),mt("load",g);break;case"details":mt("toggle",g);break;case"input":et(g,C),mt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!C.multiple},mt("invalid",g);break;case"textarea":He(g,C),mt("invalid",g)}Jn(u,C),A=null;for(var q in C)if(C.hasOwnProperty(q)){var Q=C[q];q==="children"?typeof Q=="string"?g.textContent!==Q&&(C.suppressHydrationWarning!==!0&&ju(g.textContent,Q,i),A=["children",Q]):typeof Q=="number"&&g.textContent!==""+Q&&(C.suppressHydrationWarning!==!0&&ju(g.textContent,Q,i),A=["children",""+Q]):o.hasOwnProperty(q)&&Q!=null&&q==="onScroll"&&mt("scroll",g)}switch(u){case"input":Re(g),pe(g,C,!0);break;case"textarea":Re(g),Be(g);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(g.onclick=Vu)}g=A,s.updateQueue=g,g!==null&&(s.flags|=4)}else{q=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=zt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=q.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=q.createElement(u,{is:g.is}):(i=q.createElement(u),u==="select"&&(q=i,g.multiple?q.multiple=!0:g.size&&(q.size=g.size))):i=q.createElementNS(i,u),i[kr]=s,i[nl]=g,d_(i,s,!1,!1),s.stateNode=i;e:{switch(q=fs(u,g),u){case"dialog":mt("cancel",i),mt("close",i),A=g;break;case"iframe":case"object":case"embed":mt("load",i),A=g;break;case"video":case"audio":for(A=0;A<Za.length;A++)mt(Za[A],i);A=g;break;case"source":mt("error",i),A=g;break;case"img":case"image":case"link":mt("error",i),mt("load",i),A=g;break;case"details":mt("toggle",i),A=g;break;case"input":et(i,g),A=Ge(i,g),mt("invalid",i);break;case"option":A=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},A=W({},g,{value:void 0}),mt("invalid",i);break;case"textarea":He(i,g),A=ve(i,g),mt("invalid",i);break;default:A=g}Jn(u,A),Q=A;for(C in Q)if(Q.hasOwnProperty(C)){var Z=Q[C];C==="style"?cs(i,Z):C==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&us(i,Z)):C==="children"?typeof Z=="string"?(u!=="textarea"||Z!=="")&&lt(i,Z):typeof Z=="number"&&lt(i,""+Z):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(o.hasOwnProperty(C)?Z!=null&&C==="onScroll"&&mt("scroll",i):Z!=null&&k(i,C,Z,q))}switch(u){case"input":Re(i),pe(i,g,!1);break;case"textarea":Re(i),Be(i);break;case"option":g.value!=null&&i.setAttribute("value",""+se(g.value));break;case"select":i.multiple=!!g.multiple,C=g.value,C!=null?Ae(i,!!g.multiple,C,!1):g.defaultValue!=null&&Ae(i,!!g.multiple,g.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=Vu)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return an(s),null;case 6:if(i&&s.stateNode!=null)m_(i,s,i.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(t(166));if(u=Do(al.current),Do(Pr.current),$u(s)){if(g=s.stateNode,u=s.memoizedProps,g[kr]=s,(C=g.nodeValue!==u)&&(i=On,i!==null))switch(i.tag){case 3:ju(g.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ju(g.nodeValue,u,(i.mode&1)!==0)}C&&(s.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[kr]=s,s.stateNode=g}return an(s),null;case 13:if(gt(Tt),g=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_t&&Nn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)vv(),Vs(),s.flags|=98560,C=!1;else if(C=$u(s),g!==null&&g.dehydrated!==null){if(i===null){if(!C)throw Error(t(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[kr]=s}else Vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),C=!1}else nr!==null&&(gd(nr),nr=null),C=!0;if(!C)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Tt.current&1)!==0?Ft===0&&(Ft=3):_d())),s.updateQueue!==null&&(s.flags|=4),an(s),null);case 4:return Bs(),od(i,s),i===null&&el(s.stateNode.containerInfo),an(s),null;case 10:return Nh(s.type._context),an(s),null;case 17:return vn(s.type)&&Fu(),an(s),null;case 19:if(gt(Tt),C=s.memoizedState,C===null)return an(s),null;if(g=(s.flags&128)!==0,q=C.rendering,q===null)if(g)hl(C,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(q=Xu(i),q!==null){for(s.flags|=128,hl(C,!1),g=q.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=u,u=s.child;u!==null;)C=u,i=g,C.flags&=14680066,q=C.alternate,q===null?(C.childLanes=0,C.lanes=i,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=q.childLanes,C.lanes=q.lanes,C.child=q.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=q.memoizedProps,C.memoizedState=q.memoizedState,C.updateQueue=q.updateQueue,C.type=q.type,i=q.dependencies,C.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ht(Tt,Tt.current&1|2),s.child}i=i.sibling}C.tail!==null&&pt()>Ws&&(s.flags|=128,g=!0,hl(C,!1),s.lanes=4194304)}else{if(!g)if(i=Xu(q),i!==null){if(s.flags|=128,g=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),hl(C,!0),C.tail===null&&C.tailMode==="hidden"&&!q.alternate&&!_t)return an(s),null}else 2*pt()-C.renderingStartTime>Ws&&u!==1073741824&&(s.flags|=128,g=!0,hl(C,!1),s.lanes=4194304);C.isBackwards?(q.sibling=s.child,s.child=q):(u=C.last,u!==null?u.sibling=q:s.child=q,C.last=q)}return C.tail!==null?(s=C.tail,C.rendering=s,C.tail=s.sibling,C.renderingStartTime=pt(),s.sibling=null,u=Tt.current,ht(Tt,g?u&1|2:u&1),s):(an(s),null);case 22:case 23:return vd(),g=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(s.flags|=8192),g&&(s.mode&1)!==0?(Ln&1073741824)!==0&&(an(s),s.subtreeFlags&6&&(s.flags|=8192)):an(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function uI(i,s){switch(Rh(s),s.tag){case 1:return vn(s.type)&&Fu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Bs(),gt(yn),gt(on),Fh(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return Vh(s),null;case 13:if(gt(Tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Vs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return gt(Tt),null;case 4:return Bs(),null;case 10:return Nh(s.type._context),null;case 22:case 23:return vd(),null;case 24:return null;default:return null}}var sc=!1,ln=!1,cI=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Hs(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){Rt(i,s,g)}else u.current=null}function sd(i,s,u){try{u()}catch(g){Rt(i,s,g)}}var g_=!1;function fI(i,s){if(vh=Xr,i=Gy(),ch(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var A=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var q=0,Q=-1,Z=-1,fe=0,Ee=0,Te=i,_e=null;t:for(;;){for(var ke;Te!==u||A!==0&&Te.nodeType!==3||(Q=q+A),Te!==C||g!==0&&Te.nodeType!==3||(Z=q+g),Te.nodeType===3&&(q+=Te.nodeValue.length),(ke=Te.firstChild)!==null;)_e=Te,Te=ke;for(;;){if(Te===i)break t;if(_e===u&&++fe===A&&(Q=q),_e===C&&++Ee===g&&(Z=q),(ke=Te.nextSibling)!==null)break;Te=_e,_e=Te.parentNode}Te=ke}u=Q===-1||Z===-1?null:{start:Q,end:Z}}else u=null}u=u||{start:0,end:0}}else u=null;for(_h={focusedElem:i,selectionRange:u},Xr=!1,xe=s;xe!==null;)if(s=xe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,xe=i;else for(;xe!==null;){s=xe;try{var Ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Oe=Ce.memoizedProps,xt=Ce.memoizedState,le=s.stateNode,ie=le.getSnapshotBeforeUpdate(s.elementType===s.type?Oe:rr(s.type,Oe),xt);le.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var ce=s.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(be){Rt(s,s.return,be)}if(i=s.sibling,i!==null){i.return=s.return,xe=i;break}xe=s.return}return Ce=g_,g_=!1,Ce}function dl(i,s,u){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var A=g=g.next;do{if((A.tag&i)===i){var C=A.destroy;A.destroy=void 0,C!==void 0&&sd(s,u,C)}A=A.next}while(A!==g)}}function ac(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var g=u.create;u.destroy=g()}u=u.next}while(u!==s)}}function ad(i){var s=i.ref;if(s!==null){var u=i.stateNode;i.tag,i=u,typeof s=="function"?s(i):s.current=i}}function y_(i){var s=i.alternate;s!==null&&(i.alternate=null,y_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[kr],delete s[nl],delete s[bh],delete s[KA],delete s[GA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function v_(i){return i.tag===5||i.tag===3||i.tag===4}function __(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||v_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ld(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Vu));else if(g!==4&&(i=i.child,i!==null))for(ld(i,s,u),i=i.sibling;i!==null;)ld(i,s,u),i=i.sibling}function ud(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(ud(i,s,u),i=i.sibling;i!==null;)ud(i,s,u),i=i.sibling}var Xt=null,ir=!1;function Ui(i,s,u){for(u=u.child;u!==null;)E_(i,s,u),u=u.sibling}function E_(i,s,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(wo,u)}catch{}switch(u.tag){case 5:ln||Hs(u,s);case 6:var g=Xt,A=ir;Xt=null,Ui(i,s,u),Xt=g,ir=A,Xt!==null&&(ir?(i=Xt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Xt.removeChild(u.stateNode));break;case 18:Xt!==null&&(ir?(i=Xt,u=u.stateNode,i.nodeType===8?Th(i.parentNode,u):i.nodeType===1&&Th(i,u),Pi(i)):Th(Xt,u.stateNode));break;case 4:g=Xt,A=ir,Xt=u.stateNode.containerInfo,ir=!0,Ui(i,s,u),Xt=g,ir=A;break;case 0:case 11:case 14:case 15:if(!ln&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){A=g=g.next;do{var C=A,q=C.destroy;C=C.tag,q!==void 0&&((C&2)!==0||(C&4)!==0)&&sd(u,s,q),A=A.next}while(A!==g)}Ui(i,s,u);break;case 1:if(!ln&&(Hs(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(Q){Rt(u,s,Q)}Ui(i,s,u);break;case 21:Ui(i,s,u);break;case 22:u.mode&1?(ln=(g=ln)||u.memoizedState!==null,Ui(i,s,u),ln=g):Ui(i,s,u);break;default:Ui(i,s,u)}}function w_(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new cI),s.forEach(function(g){var A=EI.bind(null,i,g);u.has(g)||(u.add(g),g.then(A,A))})}}function or(i,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var A=u[g];try{var C=i,q=s,Q=q;e:for(;Q!==null;){switch(Q.tag){case 5:Xt=Q.stateNode,ir=!1;break e;case 3:Xt=Q.stateNode.containerInfo,ir=!0;break e;case 4:Xt=Q.stateNode.containerInfo,ir=!0;break e}Q=Q.return}if(Xt===null)throw Error(t(160));E_(C,q,A),Xt=null,ir=!1;var Z=A.alternate;Z!==null&&(Z.return=null),A.return=null}catch(fe){Rt(A,s,fe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)T_(s,i),s=s.sibling}function T_(i,s){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(or(s,i),Cr(i),g&4){try{dl(3,i,i.return),ac(3,i)}catch(Oe){Rt(i,i.return,Oe)}try{dl(5,i,i.return)}catch(Oe){Rt(i,i.return,Oe)}}break;case 1:or(s,i),Cr(i),g&512&&u!==null&&Hs(u,u.return);break;case 5:if(or(s,i),Cr(i),g&512&&u!==null&&Hs(u,u.return),i.flags&32){var A=i.stateNode;try{lt(A,"")}catch(Oe){Rt(i,i.return,Oe)}}if(g&4&&(A=i.stateNode,A!=null)){var C=i.memoizedProps,q=u!==null?u.memoizedProps:C,Q=i.type,Z=i.updateQueue;if(i.updateQueue=null,Z!==null)try{Q==="input"&&C.type==="radio"&&C.name!=null&&kt(A,C),fs(Q,q);var fe=fs(Q,C);for(q=0;q<Z.length;q+=2){var Ee=Z[q],Te=Z[q+1];Ee==="style"?cs(A,Te):Ee==="dangerouslySetInnerHTML"?us(A,Te):Ee==="children"?lt(A,Te):k(A,Ee,Te,fe)}switch(Q){case"input":ct(A,C);break;case"textarea":Ke(A,C);break;case"select":var _e=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!C.multiple;var ke=C.value;ke!=null?Ae(A,!!C.multiple,ke,!1):_e!==!!C.multiple&&(C.defaultValue!=null?Ae(A,!!C.multiple,C.defaultValue,!0):Ae(A,!!C.multiple,C.multiple?[]:"",!1))}A[nl]=C}catch(Oe){Rt(i,i.return,Oe)}}break;case 6:if(or(s,i),Cr(i),g&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,C=i.memoizedProps;try{A.nodeValue=C}catch(Oe){Rt(i,i.return,Oe)}}break;case 3:if(or(s,i),Cr(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Pi(s.containerInfo)}catch(Oe){Rt(i,i.return,Oe)}break;case 4:or(s,i),Cr(i);break;case 13:or(s,i),Cr(i),A=i.child,A.flags&8192&&(C=A.memoizedState!==null,A.stateNode.isHidden=C,!C||A.alternate!==null&&A.alternate.memoizedState!==null||(hd=pt())),g&4&&w_(i);break;case 22:if(Ee=u!==null&&u.memoizedState!==null,i.mode&1?(ln=(fe=ln)||Ee,or(s,i),ln=fe):or(s,i),Cr(i),g&8192){if(fe=i.memoizedState!==null,(i.stateNode.isHidden=fe)&&!Ee&&(i.mode&1)!==0)for(xe=i,Ee=i.child;Ee!==null;){for(Te=xe=Ee;xe!==null;){switch(_e=xe,ke=_e.child,_e.tag){case 0:case 11:case 14:case 15:dl(4,_e,_e.return);break;case 1:Hs(_e,_e.return);var Ce=_e.stateNode;if(typeof Ce.componentWillUnmount=="function"){g=_e,u=_e.return;try{s=g,Ce.props=s.memoizedProps,Ce.state=s.memoizedState,Ce.componentWillUnmount()}catch(Oe){Rt(g,u,Oe)}}break;case 5:Hs(_e,_e.return);break;case 22:if(_e.memoizedState!==null){A_(Te);continue}}ke!==null?(ke.return=_e,xe=ke):A_(Te)}Ee=Ee.sibling}e:for(Ee=null,Te=i;;){if(Te.tag===5){if(Ee===null){Ee=Te;try{A=Te.stateNode,fe?(C=A.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(Q=Te.stateNode,Z=Te.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,Q.style.display=Ei("display",q))}catch(Oe){Rt(i,i.return,Oe)}}}else if(Te.tag===6){if(Ee===null)try{Te.stateNode.nodeValue=fe?"":Te.memoizedProps}catch(Oe){Rt(i,i.return,Oe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===i)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===i)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===i)break e;Ee===Te&&(Ee=null),Te=Te.return}Ee===Te&&(Ee=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:or(s,i),Cr(i),g&4&&w_(i);break;case 21:break;default:or(s,i),Cr(i)}}function Cr(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(v_(u)){var g=u;break e}u=u.return}throw Error(t(160))}switch(g.tag){case 5:var A=g.stateNode;g.flags&32&&(lt(A,""),g.flags&=-33);var C=__(i);ud(i,C,A);break;case 3:case 4:var q=g.stateNode.containerInfo,Q=__(i);ld(i,Q,q);break;default:throw Error(t(161))}}catch(Z){Rt(i,i.return,Z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hI(i,s,u){xe=i,b_(i)}function b_(i,s,u){for(var g=(i.mode&1)!==0;xe!==null;){var A=xe,C=A.child;if(A.tag===22&&g){var q=A.memoizedState!==null||sc;if(!q){var Q=A.alternate,Z=Q!==null&&Q.memoizedState!==null||ln;Q=sc;var fe=ln;if(sc=q,(ln=Z)&&!fe)for(xe=A;xe!==null;)q=xe,Z=q.child,q.tag===22&&q.memoizedState!==null?I_(A):Z!==null?(Z.return=q,xe=Z):I_(A);for(;C!==null;)xe=C,b_(C),C=C.sibling;xe=A,sc=Q,ln=fe}S_(i)}else(A.subtreeFlags&8772)!==0&&C!==null?(C.return=A,xe=C):S_(i)}}function S_(i){for(;xe!==null;){var s=xe;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ln||ac(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!ln)if(u===null)g.componentDidMount();else{var A=s.elementType===s.type?u.memoizedProps:rr(s.type,u.memoizedProps);g.componentDidUpdate(A,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var C=s.updateQueue;C!==null&&Av(s,C,g);break;case 3:var q=s.updateQueue;if(q!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Av(s,q,u)}break;case 5:var Q=s.stateNode;if(u===null&&s.flags&4){u=Q;var Z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&u.focus();break;case"img":Z.src&&(u.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var fe=s.alternate;if(fe!==null){var Ee=fe.memoizedState;if(Ee!==null){var Te=Ee.dehydrated;Te!==null&&Pi(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||s.flags&512&&ad(s)}catch(_e){Rt(s,s.return,_e)}}if(s===i){xe=null;break}if(u=s.sibling,u!==null){u.return=s.return,xe=u;break}xe=s.return}}function A_(i){for(;xe!==null;){var s=xe;if(s===i){xe=null;break}var u=s.sibling;if(u!==null){u.return=s.return,xe=u;break}xe=s.return}}function I_(i){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{ac(4,s)}catch(Z){Rt(s,u,Z)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var A=s.return;try{g.componentDidMount()}catch(Z){Rt(s,A,Z)}}var C=s.return;try{ad(s)}catch(Z){Rt(s,C,Z)}break;case 5:var q=s.return;try{ad(s)}catch(Z){Rt(s,q,Z)}}}catch(Z){Rt(s,s.return,Z)}if(s===i){xe=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,xe=Q;break}xe=s.return}}var dI=Math.ceil,lc=b.ReactCurrentDispatcher,cd=b.ReactCurrentOwner,Hn=b.ReactCurrentBatchConfig,nt=0,$t=null,Lt=null,Jt=0,Ln=0,$s=Li(0),Ft=0,pl=null,jo=0,uc=0,fd=0,ml=null,En=null,hd=0,Ws=1/0,ai=null,cc=!1,dd=null,Fi=null,fc=!1,qi=null,hc=0,gl=0,pd=null,dc=-1,pc=0;function pn(){return(nt&6)!==0?pt():dc!==-1?dc:dc=pt()}function Bi(i){return(i.mode&1)===0?1:(nt&2)!==0&&Jt!==0?Jt&-Jt:YA.transition!==null?(pc===0&&(pc=ja()),pc):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:ws(i.type)),i)}function sr(i,s,u,g){if(50<gl)throw gl=0,pd=null,Error(t(185));Ao(i,u,g),((nt&2)===0||i!==$t)&&(i===$t&&((nt&2)===0&&(uc|=u),Ft===4&&zi(i,Jt)),wn(i,g),u===1&&nt===0&&(s.mode&1)===0&&(Ws=pt()+500,Bu&&Mi()))}function wn(i,s){var u=i.callbackNode;So(i,s);var g=Gr(i,i===$t?Jt:0);if(g===0)u!==null&&ps(u),i.callbackNode=null,i.callbackPriority=0;else if(s=g&-g,i.callbackPriority!==s){if(u!=null&&ps(u),s===1)i.tag===0?QA(k_.bind(null,i)):dv(k_.bind(null,i)),$A(function(){(nt&6)===0&&Mi()}),u=null;else{switch(vr(g)){case 1:u=ms;break;case 4:u=La;break;case 16:u=Eo;break;case 536870912:u=gs;break;default:u=Eo}u=M_(u,R_.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function R_(i,s){if(dc=-1,pc=0,(nt&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Ks()&&i.callbackNode!==u)return null;var g=Gr(i,i===$t?Jt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||s)s=mc(i,g);else{s=g;var A=nt;nt|=2;var C=x_();($t!==i||Jt!==s)&&(ai=null,Ws=pt()+500,Uo(i,s));do try{gI();break}catch(Q){P_(i,Q)}while(!0);Oh(),lc.current=C,nt=A,Lt!==null?s=0:($t=null,Jt=0,s=Ft)}if(s!==0){if(s===2&&(A=Ma(i),A!==0&&(g=A,s=md(i,A))),s===1)throw u=pl,Uo(i,0),zi(i,g),wn(i,pt()),u;if(s===6)zi(i,g);else{if(A=i.current.alternate,(g&30)===0&&!pI(A)&&(s=mc(i,g),s===2&&(C=Ma(i),C!==0&&(g=C,s=md(i,C))),s===1))throw u=pl,Uo(i,0),zi(i,g),wn(i,pt()),u;switch(i.finishedWork=A,i.finishedLanes=g,s){case 0:case 1:throw Error(t(345));case 2:Fo(i,En,ai);break;case 3:if(zi(i,g),(g&130023424)===g&&(s=hd+500-pt(),10<s)){if(Gr(i,0)!==0)break;if(A=i.suspendedLanes,(A&g)!==g){pn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=wh(Fo.bind(null,i,En,ai),s);break}Fo(i,En,ai);break;case 4:if(zi(i,g),(g&4194240)===g)break;for(s=i.eventTimes,A=-1;0<g;){var q=31-Rn(g);C=1<<q,q=s[q],q>A&&(A=q),g&=~C}if(g=A,g=pt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*dI(g/1960))-g,10<g){i.timeoutHandle=wh(Fo.bind(null,i,En,ai),g);break}Fo(i,En,ai);break;case 5:Fo(i,En,ai);break;default:throw Error(t(329))}}}return wn(i,pt()),i.callbackNode===u?R_.bind(null,i):null}function md(i,s){var u=ml;return i.current.memoizedState.isDehydrated&&(Uo(i,s).flags|=256),i=mc(i,s),i!==2&&(s=En,En=u,s!==null&&gd(s)),i}function gd(i){En===null?En=i:En.push.apply(En,i)}function pI(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var A=u[g],C=A.getSnapshot;A=A.value;try{if(!tr(C(),A))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(i,s){for(s&=~fd,s&=~uc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Rn(s),g=1<<u;i[u]=-1,s&=~g}}function k_(i){if((nt&6)!==0)throw Error(t(327));Ks();var s=Gr(i,0);if((s&1)===0)return wn(i,pt()),null;var u=mc(i,s);if(i.tag!==0&&u===2){var g=Ma(i);g!==0&&(s=g,u=md(i,g))}if(u===1)throw u=pl,Uo(i,0),zi(i,s),wn(i,pt()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Fo(i,En,ai),wn(i,pt()),null}function yd(i,s){var u=nt;nt|=1;try{return i(s)}finally{nt=u,nt===0&&(Ws=pt()+500,Bu&&Mi())}}function Vo(i){qi!==null&&qi.tag===0&&(nt&6)===0&&Ks();var s=nt;nt|=1;var u=Hn.transition,g=Ze;try{if(Hn.transition=null,Ze=1,i)return i()}finally{Ze=g,Hn.transition=u,nt=s,(nt&6)===0&&Mi()}}function vd(){Ln=$s.current,gt($s)}function Uo(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,HA(u)),Lt!==null)for(u=Lt.return;u!==null;){var g=u;switch(Rh(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fu();break;case 3:Bs(),gt(yn),gt(on),Fh();break;case 5:Vh(g);break;case 4:Bs();break;case 13:gt(Tt);break;case 19:gt(Tt);break;case 10:Nh(g.type._context);break;case 22:case 23:vd()}u=u.return}if($t=i,Lt=i=Hi(i.current,null),Jt=Ln=s,Ft=0,pl=null,fd=uc=jo=0,En=ml=null,Lo!==null){for(s=0;s<Lo.length;s++)if(u=Lo[s],g=u.interleaved,g!==null){u.interleaved=null;var A=g.next,C=u.pending;if(C!==null){var q=C.next;C.next=A,g.next=q}u.pending=g}Lo=null}return i}function P_(i,s){do{var u=Lt;try{if(Oh(),Ju.current=nc,Zu){for(var g=bt.memoizedState;g!==null;){var A=g.queue;A!==null&&(A.pending=null),g=g.next}Zu=!1}if(Mo=0,Ht=Ut=bt=null,ll=!1,ul=0,cd.current=null,u===null||u.return===null){Ft=1,pl=s,Lt=null;break}e:{var C=i,q=u.return,Q=u,Z=s;if(s=Jt,Q.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var fe=Z,Ee=Q,Te=Ee.tag;if((Ee.mode&1)===0&&(Te===0||Te===11||Te===15)){var _e=Ee.alternate;_e?(Ee.updateQueue=_e.updateQueue,Ee.memoizedState=_e.memoizedState,Ee.lanes=_e.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var ke=e_(q);if(ke!==null){ke.flags&=-257,t_(ke,q,Q,C,s),ke.mode&1&&Zv(C,fe,s),s=ke,Z=fe;var Ce=s.updateQueue;if(Ce===null){var Oe=new Set;Oe.add(Z),s.updateQueue=Oe}else Ce.add(Z);break e}else{if((s&1)===0){Zv(C,fe,s),_d();break e}Z=Error(t(426))}}else if(_t&&Q.mode&1){var xt=e_(q);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),t_(xt,q,Q,C,s),xh(zs(Z,Q));break e}}C=Z=zs(Z,Q),Ft!==4&&(Ft=2),ml===null?ml=[C]:ml.push(C),C=q;do{switch(C.tag){case 3:C.flags|=65536,s&=-s,C.lanes|=s;var le=Xv(C,Z,s);Sv(C,le);break e;case 1:Q=Z;var ie=C.type,ce=C.stateNode;if((C.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Fi===null||!Fi.has(ce)))){C.flags|=65536,s&=-s,C.lanes|=s;var be=Jv(C,Q,s);Sv(C,be);break e}}C=C.return}while(C!==null)}O_(u)}catch(Ne){s=Ne,Lt===u&&u!==null&&(Lt=u=u.return);continue}break}while(!0)}function x_(){var i=lc.current;return lc.current=nc,i===null?nc:i}function _d(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),$t===null||(jo&268435455)===0&&(uc&268435455)===0||zi($t,Jt)}function mc(i,s){var u=nt;nt|=2;var g=x_();($t!==i||Jt!==s)&&(ai=null,Uo(i,s));do try{mI();break}catch(A){P_(i,A)}while(!0);if(Oh(),nt=u,lc.current=g,Lt!==null)throw Error(t(261));return $t=null,Jt=0,Ft}function mI(){for(;Lt!==null;)C_(Lt)}function gI(){for(;Lt!==null&&!_o();)C_(Lt)}function C_(i){var s=D_(i.alternate,i,Ln);i.memoizedProps=i.pendingProps,s===null?O_(i):Lt=s,cd.current=null}function O_(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=lI(u,s,Ln),u!==null){Lt=u;return}}else{if(u=uI(u,s),u!==null){u.flags&=32767,Lt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ft=6,Lt=null;return}}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=i}while(s!==null);Ft===0&&(Ft=5)}function Fo(i,s,u){var g=Ze,A=Hn.transition;try{Hn.transition=null,Ze=1,yI(i,s,u,g)}finally{Hn.transition=A,Ze=g}return null}function yI(i,s,u,g){do Ks();while(qi!==null);if((nt&6)!==0)throw Error(t(327));u=i.finishedWork;var A=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var C=u.lanes|u.childLanes;if(oh(i,C),i===$t&&(Lt=$t=null,Jt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||fc||(fc=!0,M_(Eo,function(){return Ks(),null})),C=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||C){C=Hn.transition,Hn.transition=null;var q=Ze;Ze=1;var Q=nt;nt|=4,cd.current=null,fI(i,u),T_(u,i),jA(_h),Xr=!!vh,_h=vh=null,i.current=u,hI(u),Kr(),nt=Q,Ze=q,Hn.transition=C}else i.current=u;if(fc&&(fc=!1,qi=i,hc=A),C=i.pendingLanes,C===0&&(Fi=null),Tu(u.stateNode),wn(i,pt()),s!==null)for(g=i.onRecoverableError,u=0;u<s.length;u++)A=s[u],g(A.value,{componentStack:A.stack,digest:A.digest});if(cc)throw cc=!1,i=dd,dd=null,i;return(hc&1)!==0&&i.tag!==0&&Ks(),C=i.pendingLanes,(C&1)!==0?i===pd?gl++:(gl=0,pd=i):gl=0,Mi(),null}function Ks(){if(qi!==null){var i=vr(hc),s=Hn.transition,u=Ze;try{if(Hn.transition=null,Ze=16>i?16:i,qi===null)var g=!1;else{if(i=qi,qi=null,hc=0,(nt&6)!==0)throw Error(t(331));var A=nt;for(nt|=4,xe=i.current;xe!==null;){var C=xe,q=C.child;if((xe.flags&16)!==0){var Q=C.deletions;if(Q!==null){for(var Z=0;Z<Q.length;Z++){var fe=Q[Z];for(xe=fe;xe!==null;){var Ee=xe;switch(Ee.tag){case 0:case 11:case 15:dl(8,Ee,C)}var Te=Ee.child;if(Te!==null)Te.return=Ee,xe=Te;else for(;xe!==null;){Ee=xe;var _e=Ee.sibling,ke=Ee.return;if(y_(Ee),Ee===fe){xe=null;break}if(_e!==null){_e.return=ke,xe=_e;break}xe=ke}}}var Ce=C.alternate;if(Ce!==null){var Oe=Ce.child;if(Oe!==null){Ce.child=null;do{var xt=Oe.sibling;Oe.sibling=null,Oe=xt}while(Oe!==null)}}xe=C}}if((C.subtreeFlags&2064)!==0&&q!==null)q.return=C,xe=q;else e:for(;xe!==null;){if(C=xe,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:dl(9,C,C.return)}var le=C.sibling;if(le!==null){le.return=C.return,xe=le;break e}xe=C.return}}var ie=i.current;for(xe=ie;xe!==null;){q=xe;var ce=q.child;if((q.subtreeFlags&2064)!==0&&ce!==null)ce.return=q,xe=ce;else e:for(q=ie;xe!==null;){if(Q=xe,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:ac(9,Q)}}catch(Ne){Rt(Q,Q.return,Ne)}if(Q===q){xe=null;break e}var be=Q.sibling;if(be!==null){be.return=Q.return,xe=be;break e}xe=Q.return}}if(nt=A,Mi(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(wo,i)}catch{}g=!0}return g}finally{Ze=u,Hn.transition=s}}return!1}function N_(i,s,u){s=zs(u,s),s=Xv(i,s,1),i=Vi(i,s,1),s=pn(),i!==null&&(Ao(i,1,s),wn(i,s))}function Rt(i,s,u){if(i.tag===3)N_(i,i,u);else for(;s!==null;){if(s.tag===3){N_(s,i,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Fi===null||!Fi.has(g))){i=zs(u,i),i=Jv(s,i,1),s=Vi(s,i,1),i=pn(),s!==null&&(Ao(s,1,i),wn(s,i));break}}s=s.return}}function vI(i,s,u){var g=i.pingCache;g!==null&&g.delete(s),s=pn(),i.pingedLanes|=i.suspendedLanes&u,$t===i&&(Jt&u)===u&&(Ft===4||Ft===3&&(Jt&130023424)===Jt&&500>pt()-hd?Uo(i,0):fd|=u),wn(i,s)}function L_(i,s){s===0&&((i.mode&1)===0?s=1:(s=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var u=pn();i=ii(i,s),i!==null&&(Ao(i,s,u),wn(i,u))}function _I(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),L_(i,u)}function EI(i,s){var u=0;switch(i.tag){case 13:var g=i.stateNode,A=i.memoizedState;A!==null&&(u=A.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(s),L_(i,u)}var D_;D_=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||yn.current)_n=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return _n=!1,aI(i,s,u);_n=(i.flags&131072)!==0}else _n=!1,_t&&(s.flags&1048576)!==0&&pv(s,Hu,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;oc(i,s),i=s.pendingProps;var A=Ds(s,on.current);qs(s,u),A=zh(null,s,g,i,A,u);var C=Hh();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(g)?(C=!0,qu(s)):C=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Mh(s),A.updater=rc,s.stateNode=A,A._reactInternals=s,Yh(s,g,i,u),s=ed(null,s,g,!0,C,u)):(s.tag=0,_t&&C&&Ih(s),dn(null,s,A,u),s=s.child),s;case 16:g=s.elementType;e:{switch(oc(i,s),i=s.pendingProps,A=g._init,g=A(g._payload),s.type=g,A=s.tag=TI(g),i=rr(g,i),A){case 0:s=Zh(null,s,g,i,u);break e;case 1:s=a_(null,s,g,i,u);break e;case 11:s=n_(null,s,g,i,u);break e;case 14:s=r_(null,s,g,rr(g.type,i),u);break e}throw Error(t(306,g,""))}return s;case 0:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),Zh(i,s,g,A,u);case 1:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),a_(i,s,g,A,u);case 3:e:{if(l_(s),i===null)throw Error(t(387));g=s.pendingProps,C=s.memoizedState,A=C.element,bv(i,s),Yu(s,g,null,u);var q=s.memoizedState;if(g=q.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},s.updateQueue.baseState=C,s.memoizedState=C,s.flags&256){A=zs(Error(t(423)),s),s=u_(i,s,g,u,A);break e}else if(g!==A){A=zs(Error(t(424)),s),s=u_(i,s,g,u,A);break e}else for(Nn=Ni(s.stateNode.containerInfo.firstChild),On=s,_t=!0,nr=null,u=wv(s,null,g,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Vs(),g===A){s=si(i,s,u);break e}dn(i,s,g,u)}s=s.child}return s;case 5:return Iv(s),i===null&&Ph(s),g=s.type,A=s.pendingProps,C=i!==null?i.memoizedProps:null,q=A.children,Eh(g,A)?q=null:C!==null&&Eh(g,C)&&(s.flags|=32),s_(i,s),dn(i,s,q,u),s.child;case 6:return i===null&&Ph(s),null;case 13:return c_(i,s,u);case 4:return jh(s,s.stateNode.containerInfo),g=s.pendingProps,i===null?s.child=Us(s,null,g,u):dn(i,s,g,u),s.child;case 11:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),n_(i,s,g,A,u);case 7:return dn(i,s,s.pendingProps,u),s.child;case 8:return dn(i,s,s.pendingProps.children,u),s.child;case 12:return dn(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(g=s.type._context,A=s.pendingProps,C=s.memoizedProps,q=A.value,ht(Ku,g._currentValue),g._currentValue=q,C!==null)if(tr(C.value,q)){if(C.children===A.children&&!yn.current){s=si(i,s,u);break e}}else for(C=s.child,C!==null&&(C.return=s);C!==null;){var Q=C.dependencies;if(Q!==null){q=C.child;for(var Z=Q.firstContext;Z!==null;){if(Z.context===g){if(C.tag===1){Z=oi(-1,u&-u),Z.tag=2;var fe=C.updateQueue;if(fe!==null){fe=fe.shared;var Ee=fe.pending;Ee===null?Z.next=Z:(Z.next=Ee.next,Ee.next=Z),fe.pending=Z}}C.lanes|=u,Z=C.alternate,Z!==null&&(Z.lanes|=u),Lh(C.return,u,s),Q.lanes|=u;break}Z=Z.next}}else if(C.tag===10)q=C.type===s.type?null:C.child;else if(C.tag===18){if(q=C.return,q===null)throw Error(t(341));q.lanes|=u,Q=q.alternate,Q!==null&&(Q.lanes|=u),Lh(q,u,s),q=C.sibling}else q=C.child;if(q!==null)q.return=C;else for(q=C;q!==null;){if(q===s){q=null;break}if(C=q.sibling,C!==null){C.return=q.return,q=C;break}q=q.return}C=q}dn(i,s,A.children,u),s=s.child}return s;case 9:return A=s.type,g=s.pendingProps.children,qs(s,u),A=Bn(A),g=g(A),s.flags|=1,dn(i,s,g,u),s.child;case 14:return g=s.type,A=rr(g,s.pendingProps),A=rr(g.type,A),r_(i,s,g,A,u);case 15:return i_(i,s,s.type,s.pendingProps,u);case 17:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),oc(i,s),s.tag=1,vn(g)?(i=!0,qu(s)):i=!1,qs(s,u),Qv(s,g,A),Yh(s,g,A,u),ed(null,s,g,!0,i,u);case 19:return h_(i,s,u);case 22:return o_(i,s,u)}throw Error(t(156,s.tag))};function M_(i,s){return Na(i,s)}function wI(i,s,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,s,u,g){return new wI(i,s,u,g)}function Ed(i){return i=i.prototype,!(!i||!i.isReactComponent)}function TI(i){if(typeof i=="function")return Ed(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===G)return 14}return 2}function Hi(i,s){var u=i.alternate;return u===null?(u=$n(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function gc(i,s,u,g,A,C){var q=2;if(g=i,typeof i=="function")Ed(i)&&(q=1);else if(typeof i=="string")q=5;else e:switch(i){case P:return qo(u.children,A,C,s);case R:q=8,A|=8;break;case M:return i=$n(12,u,s,A|2),i.elementType=M,i.lanes=C,i;case N:return i=$n(13,u,s,A),i.elementType=N,i.lanes=C,i;case z:return i=$n(19,u,s,A),i.elementType=z,i.lanes=C,i;case re:return yc(u,A,C,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:q=10;break e;case I:q=9;break e;case L:q=11;break e;case G:q=14;break e;case ne:q=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=$n(q,u,s,A),s.elementType=i,s.type=g,s.lanes=C,s}function qo(i,s,u,g){return i=$n(7,i,g,s),i.lanes=u,i}function yc(i,s,u,g){return i=$n(22,i,g,s),i.elementType=re,i.lanes=u,i.stateNode={isHidden:!1},i}function wd(i,s,u){return i=$n(6,i,null,s),i.lanes=u,i}function Td(i,s,u){return s=$n(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function bI(i,s,u,g,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=g,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function bd(i,s,u,g,A,C,q,Q,Z){return i=new bI(i,s,u,Q,Z),s===1?(s=1,C===!0&&(s|=8)):s=0,C=$n(3,null,null,s),i.current=C,C.stateNode=i,C.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mh(C),i}function SI(i,s,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:g==null?null:""+g,children:i,containerInfo:s,implementation:u}}function j_(i){if(!i)return Di;i=i._reactInternals;e:{if(Zn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(vn(u))return fv(i,u,s)}return s}function V_(i,s,u,g,A,C,q,Q,Z){return i=bd(u,g,!0,i,A,C,q,Q,Z),i.context=j_(null),u=i.current,g=pn(),A=Bi(u),C=oi(g,A),C.callback=s??null,Vi(u,C,A),i.current.lanes=A,Ao(i,A,g),wn(i,g),i}function vc(i,s,u,g){var A=s.current,C=pn(),q=Bi(A);return u=j_(u),s.context===null?s.context=u:s.pendingContext=u,s=oi(C,q),s.payload={element:i},g=g===void 0?null:g,g!==null&&(s.callback=g),i=Vi(A,s,q),i!==null&&(sr(i,A,q,C),Qu(i,A,q)),q}function _c(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function U_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function Sd(i,s){U_(i,s),(i=i.alternate)&&U_(i,s)}function AI(){return null}var F_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ad(i){this._internalRoot=i}Ec.prototype.render=Ad.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));vc(i,s,null,null)},Ec.prototype.unmount=Ad.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Vo(function(){vc(null,i,null,null)}),s[ei]=null}};function Ec(i){this._internalRoot=i}Ec.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ba();i={blockedOn:null,target:i,priority:s};for(var u=0;u<kn.length&&s!==0&&s<kn[u].priority;u++);kn.splice(u,0,i),u===0&&_s(i)}};function Id(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function q_(){}function II(i,s,u,g,A){if(A){if(typeof g=="function"){var C=g;g=function(){var fe=_c(q);C.call(fe)}}var q=V_(s,g,i,0,null,!1,!1,"",q_);return i._reactRootContainer=q,i[ei]=q.current,el(i.nodeType===8?i.parentNode:i),Vo(),q}for(;A=i.lastChild;)i.removeChild(A);if(typeof g=="function"){var Q=g;g=function(){var fe=_c(Z);Q.call(fe)}}var Z=bd(i,0,!1,null,null,!1,!1,"",q_);return i._reactRootContainer=Z,i[ei]=Z.current,el(i.nodeType===8?i.parentNode:i),Vo(function(){vc(s,Z,u,g)}),Z}function Tc(i,s,u,g,A){var C=u._reactRootContainer;if(C){var q=C;if(typeof A=="function"){var Q=A;A=function(){var Z=_c(q);Q.call(Z)}}vc(s,q,i,A)}else q=II(u,s,i,A,g);return _c(q)}Fa=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=ot(s.pendingLanes);u!==0&&(Ua(s,u|1),wn(s,pt()),(nt&6)===0&&(Ws=pt()+500,Mi()))}break;case 13:Vo(function(){var g=ii(i,1);if(g!==null){var A=pn();sr(g,i,1,A)}}),Sd(i,1)}},ys=function(i){if(i.tag===13){var s=ii(i,134217728);if(s!==null){var u=pn();sr(s,i,134217728,u)}Sd(i,134217728)}},qa=function(i){if(i.tag===13){var s=Bi(i),u=ii(i,s);if(u!==null){var g=pn();sr(u,i,s,g)}Sd(i,s)}},Ba=function(){return Ze},za=function(i,s){var u=Ze;try{return Ze=i,s()}finally{Ze=u}},Hr=function(i,s,u){switch(s){case"input":if(ct(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==i&&g.form===i.form){var A=Uu(g);if(!A)throw Error(t(90));je(g),ct(g,A)}}}break;case"textarea":Ke(i,u);break;case"select":s=u.value,s!=null&&Ae(i,!!u.multiple,s,!1)}},du=yd,pu=Vo;var RI={usingClientEntryPoint:!1,Events:[rl,Ns,Uu,Ti,bi,yd]},yl={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kI={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=wu(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||AI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{wo=bc.inject(kI),In=bc}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RI,Tn.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Id(s))throw Error(t(200));return SI(i,s,null,u)},Tn.createRoot=function(i,s){if(!Id(i))throw Error(t(299));var u=!1,g="",A=F_;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=bd(i,1,!1,null,null,u,!1,g,A),i[ei]=s.current,el(i.nodeType===8?i.parentNode:i),new Ad(s)},Tn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=wu(s),i=i===null?null:i.stateNode,i},Tn.flushSync=function(i){return Vo(i)},Tn.hydrate=function(i,s,u){if(!wc(s))throw Error(t(200));return Tc(null,i,s,!0,u)},Tn.hydrateRoot=function(i,s,u){if(!Id(i))throw Error(t(405));var g=u!=null&&u.hydratedSources||null,A=!1,C="",q=F_;if(u!=null&&(u.unstable_strictMode===!0&&(A=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onRecoverableError!==void 0&&(q=u.onRecoverableError)),s=V_(s,null,i,1,u??null,A,!1,C,q),i[ei]=s.current,el(i),g)for(i=0;i<g.length;i++)u=g[i],A=u._getVersion,A=A(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,A]:s.mutableSourceEagerHydrationData.push(u,A);return new Ec(s)},Tn.render=function(i,s,u){if(!wc(s))throw Error(t(200));return Tc(null,i,s,!1,u)},Tn.unmountComponentAtNode=function(i){if(!wc(i))throw Error(t(40));return i._reactRootContainer?(Vo(function(){Tc(null,null,i,!1,function(){i._reactRootContainer=null,i[ei]=null})}),!0):!1},Tn.unstable_batchedUpdates=yd,Tn.unstable_renderSubtreeIntoContainer=function(i,s,u,g){if(!wc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Tc(i,s,u,!1,g)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var Q_;function Fw(){if(Q_)return Pd.exports;Q_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pd.exports=DI(),Pd.exports}var Y_;function MI(){if(Y_)return Ac;Y_=1;var n=Fw();return Ac.createRoot=n.createRoot,Ac.hydrateRoot=n.hydrateRoot,Ac}var jI=MI();const VI=ya(jI);var X_="popstate";function UI(n={}){function e(r,o){let{pathname:a,search:l,hash:c}=r.location;return Dm("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Ul(o)}return qI(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FI(){return Math.random().toString(36).substring(2,10)}function J_(n,e){return{usr:n.state,key:n.key,idx:e}}function Dm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:t,key:e&&e.key||r||FI()}}function Ul({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function va(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function qI(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,c="POP",f=null,p=v();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function v(){return(l.state||{idx:null}).idx}function m(){c="POP";let E=v(),w=E==null?null:E-p;p=E,f&&f({action:c,location:_.location,delta:w})}function d(E,w){c="PUSH";let T=Dm(_.location,E,w);p=v()+1;let k=J_(T,p),b=_.createHref(T);try{l.pushState(k,"",b)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(b)}a&&f&&f({action:c,location:_.location,delta:1})}function y(E,w){c="REPLACE";let T=Dm(_.location,E,w);p=v();let k=J_(T,p),b=_.createHref(T);l.replaceState(k,"",b),a&&f&&f({action:c,location:_.location,delta:0})}function S(E){return BI(E)}let _={get action(){return c},get location(){return n(o,l)},listen(E){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(X_,m),f=E,()=>{o.removeEventListener(X_,m),f=null}},createHref(E){return e(o,E)},createURL:S,encodeLocation(E){let w=S(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:d,replace:y,go(E){return l.go(E)}};return _}function BI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Et(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ul(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function qw(n,e,t="/"){return zI(n,e,t,!1)}function zI(n,e,t,r){let o=typeof e=="string"?va(e):e,a=di(o.pathname||"/",t);if(a==null)return null;let l=Bw(n);HI(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=t2(a);c=ZI(l[f],p,r)}return c}function Bw(n,e=[],t=[],r="",o=!1){let a=(l,c,f=o,p)=>{let v={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Et(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let m=ci([r,v.relativePath]),d=t.concat(v);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Bw(l.children,e,d,m,f)),!(l.path==null&&!l.index)&&e.push({path:m,score:XI(m,l.index),routesMeta:d})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of zw(l.path))a(l,c,!0,f)}),e}function zw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=zw(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),o&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function HI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:JI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var $I=/^:[\w-]+$/,WI=3,KI=2,GI=1,QI=10,YI=-2,Z_=n=>n==="*";function XI(n,e){let t=n.split("/"),r=t.length;return t.some(Z_)&&(r+=YI),e&&(r+=KI),t.filter(o=>!Z_(o)).reduce((o,a)=>o+($I.test(a)?WI:a===""?GI:QI),r)}function JI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function ZI(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",m=Xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),d=f.route;if(!m&&p&&t&&!r[r.length-1].route.index&&(m=Xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!m)return null;Object.assign(o,m.params),l.push({params:o,pathname:ci([a,m.pathname]),pathnameBase:o2(ci([a,m.pathnameBase])),route:d}),m.pathnameBase!=="/"&&(a=ci([a,m.pathnameBase]))}return l}function Xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=e2(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:m},d)=>{if(v==="*"){let S=c[d]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const y=c[d];return m&&!y?p[v]=void 0:p[v]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function e2(n,e=!1,t=!0){Yn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function t2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function di(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n2=n=>Hw.test(n);function r2(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?va(n):n,a;if(t)if(n2(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=e1(t.substring(1),"/"):a=e1(t,e)}else a=e;return{pathname:a,search:s2(r),hash:a2(o)}}function e1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Od(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function i2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function gg(n){let e=i2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function yg(n,e,t,r=!1){let o;typeof n=="string"?o=va(n):(o={...n},Et(!o.pathname||!o.pathname.includes("?"),Od("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),Od("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),Od("#","search","hash",o)));let a=n===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),m-=1;o.pathname=d.join("/")}c=m>=0?e[m]:"/"}let f=r2(o,c),p=l&&l!=="/"&&l.endsWith("/"),v=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var ci=n=>n.join("/").replace(/\/\/+/g,"/"),o2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),s2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,a2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,l2=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function u2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function c2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $w=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ww(n,e){let t=n;if(typeof t!="string"||!Hw.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if($w)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),c=di(l.pathname,e);l.origin===a.origin&&c!=null?t=c+l.search+l.hash:o=!0}catch{Yn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Kw=["POST","PUT","PATCH","DELETE"];new Set(Kw);var f2=["GET",...Kw];new Set(f2);var _a=J.createContext(null);_a.displayName="DataRouter";var Tf=J.createContext(null);Tf.displayName="DataRouterState";var h2=J.createContext(!1),Gw=J.createContext({isTransitioning:!1});Gw.displayName="ViewTransition";var d2=J.createContext(new Map);d2.displayName="Fetchers";var p2=J.createContext(null);p2.displayName="Await";var jn=J.createContext(null);jn.displayName="Navigation";var Xl=J.createContext(null);Xl.displayName="Location";var Xn=J.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var vg=J.createContext(null);vg.displayName="RouteError";var Qw="REACT_ROUTER_ERROR",m2="REDIRECT",g2="ROUTE_ERROR_RESPONSE";function y2(n){if(n.startsWith(`${Qw}:${m2}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function v2(n){if(n.startsWith(`${Qw}:${g2}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new l2(e.status,e.statusText,e.data)}catch{}}function _2(n,{relative:e}={}){Et(Ea(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=J.useContext(jn),{hash:o,pathname:a,search:l}=Zl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:ci([t,a])),r.createHref({pathname:c,search:l,hash:o})}function Ea(){return J.useContext(Xl)!=null}function vi(){return Et(Ea(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(Xl).location}var Yw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Xw(n){J.useContext(jn).static||J.useLayoutEffect(n)}function Jl(){let{isDataRoute:n}=J.useContext(Xn);return n?D2():E2()}function E2(){Et(Ea(),"useNavigate() may be used only in the context of a <Router> component.");let n=J.useContext(_a),{basename:e,navigator:t}=J.useContext(jn),{matches:r}=J.useContext(Xn),{pathname:o}=vi(),a=JSON.stringify(gg(r)),l=J.useRef(!1);return Xw(()=>{l.current=!0}),J.useCallback((f,p={})=>{if(Yn(l.current,Yw),!l.current)return;if(typeof f=="number"){t.go(f);return}let v=yg(f,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ci([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,o,n])}var w2=J.createContext(null);function T2(n){let e=J.useContext(Xn).outlet;return J.useMemo(()=>e&&J.createElement(w2.Provider,{value:n},e),[e,n])}function b2(){let{matches:n}=J.useContext(Xn),e=n[n.length-1];return e?e.params:{}}function Zl(n,{relative:e}={}){let{matches:t}=J.useContext(Xn),{pathname:r}=vi(),o=JSON.stringify(gg(t));return J.useMemo(()=>yg(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function S2(n,e){return Jw(n,e)}function Jw(n,e,t,r,o){Et(Ea(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=J.useContext(jn),{matches:l}=J.useContext(Xn),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",v=c?c.pathnameBase:"/",m=c&&c.route;{let T=m&&m.path||"";eT(p,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let d=vi(),y;if(e){let T=typeof e=="string"?va(e):e;Et(v==="/"||T.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${T.pathname}" was given in the \`location\` prop.`),y=T}else y=d;let S=y.pathname||"/",_=S;if(v!=="/"){let T=v.replace(/^\//,"").split("/");_="/"+S.replace(/^\//,"").split("/").slice(T.length).join("/")}let E=qw(n,{pathname:_});Yn(m||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Yn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let w=P2(E&&E.map(T=>Object.assign({},T,{params:Object.assign({},f,T.params),pathname:ci([v,a.encodeLocation?a.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?v:ci([v,a.encodeLocation?a.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),l,t,r,o);return e&&w?J.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},w):w}function A2(){let n=L2(),e=u2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:a},"ErrorBoundary")," or"," ",J.createElement("code",{style:a},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},e),t?J.createElement("pre",{style:o},t):null,l)}var I2=J.createElement(A2,null),Zw=class extends J.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=v2(n.digest);t&&(n=t)}let e=n!==void 0?J.createElement(Xn.Provider,{value:this.props.routeContext},J.createElement(vg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?J.createElement(R2,{error:n},e):e}};Zw.contextType=h2;var Nd=new WeakMap;function R2({children:n,error:e}){let{basename:t}=J.useContext(jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=y2(e.digest);if(r){let o=Nd.get(e);if(o)throw o;let a=Ww(r.location,t);if($w&&!Nd.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Nd.set(e,l),l}return J.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function k2({routeContext:n,match:e,children:t}){let r=J.useContext(_a);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),J.createElement(Xn.Provider,{value:n},t)}function P2(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let v=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let c=!1,f=-1;if(t)for(let v=0;v<a.length;v++){let m=a[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=v),m.route.id){let{loaderData:d,errors:y}=t,S=m.route.loader&&!d.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let p=t&&r?(v,m)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:c2(t.matches),errorInfo:m})}:void 0;return a.reduceRight((v,m,d)=>{let y,S=!1,_=null,E=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,_=m.route.errorElement||I2,c&&(f<0&&d===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,E=null):f===d&&(S=!0,E=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,d+1)),T=()=>{let k;return y?k=_:S?k=E:m.route.Component?k=J.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=v,J.createElement(k2,{match:m,routeContext:{outlet:v,matches:w,isDataRoute:t!=null},children:k})};return t&&(m.route.ErrorBoundary||m.route.errorElement||d===0)?J.createElement(Zw,{location:t.location,revalidation:t.revalidation,component:_,error:y,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0},onError:p}):T()},null)}function _g(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x2(n){let e=J.useContext(_a);return Et(e,_g(n)),e}function C2(n){let e=J.useContext(Tf);return Et(e,_g(n)),e}function O2(n){let e=J.useContext(Xn);return Et(e,_g(n)),e}function Eg(n){let e=O2(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function N2(){return Eg("useRouteId")}function L2(){let n=J.useContext(vg),e=C2("useRouteError"),t=Eg("useRouteError");return n!==void 0?n:e.errors?.[t]}function D2(){let{router:n}=x2("useNavigate"),e=Eg("useNavigate"),t=J.useRef(!1);return Xw(()=>{t.current=!0}),J.useCallback(async(o,a={})=>{Yn(t.current,Yw),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var t1={};function eT(n,e,t){!e&&!t1[n]&&(t1[n]=!0,Yn(!1,t))}J.memo(M2);function M2({routes:n,future:e,state:t,onError:r}){return Jw(n,void 0,t,r,e)}function j2({to:n,replace:e,state:t,relative:r}){Et(Ea(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=J.useContext(jn);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=J.useContext(Xn),{pathname:l}=vi(),c=Jl(),f=yg(n,gg(a),l,r==="path"),p=JSON.stringify(f);return J.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function tT(n){return T2(n.context)}function Bo(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1,unstable_useTransitions:l}){Et(!Ea(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=J.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[c,o,a,l]);typeof t=="string"&&(t=va(t));let{pathname:p="/",search:v="",hash:m="",state:d=null,key:y="default"}=t,S=J.useMemo(()=>{let _=di(p,c);return _==null?null:{location:{pathname:_,search:v,hash:m,state:d,key:y},navigationType:r}},[c,p,v,m,d,y,r]);return Yn(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:J.createElement(jn.Provider,{value:f},J.createElement(Xl.Provider,{children:e,value:S}))}function U2({children:n,location:e}){return S2(Mm(n),e)}function Mm(n,e=[]){let t=[];return J.Children.forEach(n,(r,o)=>{if(!J.isValidElement(r))return;let a=[...e,o];if(r.type===J.Fragment){t.push.apply(t,Mm(r.props.children,a));return}Et(r.type===Bo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Mm(r.props.children,a)),t.push(l)}),t}var Mc="get",jc="application/x-www-form-urlencoded";function bf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function F2(n){return bf(n)&&n.tagName.toLowerCase()==="button"}function q2(n){return bf(n)&&n.tagName.toLowerCase()==="form"}function B2(n){return bf(n)&&n.tagName.toLowerCase()==="input"}function z2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function H2(n,e){return n.button===0&&(!e||e==="_self")&&!z2(n)}var Ic=null;function $2(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var W2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ld(n){return n!=null&&!W2.has(n)?(Yn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):n}function K2(n,e){let t,r,o,a,l;if(q2(n)){let c=n.getAttribute("action");r=c?di(c,e):null,t=n.getAttribute("method")||Mc,o=Ld(n.getAttribute("enctype"))||jc,a=new FormData(n)}else if(F2(n)||B2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?di(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Mc,o=Ld(n.getAttribute("formenctype"))||Ld(c.getAttribute("enctype"))||jc,a=new FormData(c,n),!$2()){let{name:p,type:v,value:m}=n;if(v==="image"){let d=p?`${p}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else p&&a.append(p,m)}}else{if(bf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mc,r=null,o=jc,l=n}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function G2(n,e,t,r){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&di(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function Q2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function X2(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await Q2(a,t);return l.links?l.links():[]}return[]}));return tR(r.flat(1).filter(Y2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function n1(n,e,t,r,o,a){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let m=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function J2(n,e,{includeHydrateFallback:t}={}){return Z2(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function Z2(n){return[...new Set(n)]}function eR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function tR(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(eR(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function nT(){let n=J.useContext(_a);return wg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nR(){let n=J.useContext(Tf);return wg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tg=J.createContext(void 0);Tg.displayName="FrameworkContext";function rT(){let n=J.useContext(Tg);return wg(n,"You must render this element inside a <HydratedRouter> element"),n}function rR(n,e){let t=J.useContext(Tg),[r,o]=J.useState(!1),[a,l]=J.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:m}=e,d=J.useRef(null);J.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let _=w=>{w.forEach(T=>{l(T.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return d.current&&E.observe(d.current),()=>{E.disconnect()}}},[n]),J.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let y=()=>{o(!0)},S=()=>{o(!1),l(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:_l(c,y),onBlur:_l(f,S),onMouseEnter:_l(p,y),onMouseLeave:_l(v,S),onTouchStart:_l(m,y)}]:[!1,d,{}]}function _l(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iR({page:n,...e}){let{router:t}=nT(),r=J.useMemo(()=>qw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?J.createElement(sR,{page:n,matches:r,...e}):null}function oR(n){let{manifest:e,routeModules:t}=rT(),[r,o]=J.useState([]);return J.useEffect(()=>{let a=!1;return X2(n,e,t).then(l=>{a||o(l)}),()=>{a=!0}},[n,e,t]),r}function sR({page:n,matches:e,...t}){let r=vi(),{future:o,manifest:a,routeModules:l}=rT(),{basename:c}=nT(),{loaderData:f,matches:p}=nR(),v=J.useMemo(()=>n1(n,e,p,a,r,"data"),[n,e,p,a,r]),m=J.useMemo(()=>n1(n,e,p,a,r,"assets"),[n,e,p,a,r]),d=J.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(e.forEach(T=>{let k=a.routes[T.route.id];!k||!k.hasLoader||(!v.some(b=>b.route.id===T.route.id)&&T.route.id in f&&l[T.route.id]?.shouldRevalidate||k.hasClientLoader?E=!0:_.add(T.route.id))}),_.size===0)return[];let w=G2(n,c,o.unstable_trailingSlashAwareDataRequests,"data");return E&&_.size>0&&w.searchParams.set("_routes",e.filter(T=>_.has(T.route.id)).map(T=>T.route.id).join(",")),[w.pathname+w.search]},[c,o.unstable_trailingSlashAwareDataRequests,f,r,a,v,e,n,l]),y=J.useMemo(()=>J2(m,a),[m,a]),S=oR(m);return J.createElement(J.Fragment,null,d.map(_=>J.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),y.map(_=>J.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),S.map(({key:_,link:E})=>J.createElement("link",{key:_,nonce:t.nonce,...E})))}function aR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lR&&(window.__reactRouterVersion="7.12.0")}catch{}function uR({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=J.useRef();o.current==null&&(o.current=UI({window:r,v5Compat:!0}));let a=o.current,[l,c]=J.useState({action:a.action,location:a.location}),f=J.useCallback(p=>{t===!1?c(p):J.startTransition(()=>c(p))},[t]);return J.useLayoutEffect(()=>a.listen(f),[a,f]),J.createElement(V2,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Go=J.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d,...y},S){let{basename:_,unstable_useTransitions:E}=J.useContext(jn),w=typeof p=="string"&&iT.test(p),T=Ww(p,_);p=T.to;let k=_2(p,{relative:o}),[b,D,F]=rR(r,y),P=dR(p,{replace:l,state:c,target:f,preventScrollReset:v,relative:o,viewTransition:m,unstable_defaultShouldRevalidate:d,unstable_useTransitions:E});function R(x){e&&e(x),x.defaultPrevented||P(x)}let M=J.createElement("a",{...y,...F,href:T.absoluteURL||k,onClick:T.isExternal||a?e:R,ref:aR(S,D),target:f,"data-discover":!w&&t==="render"?"true":void 0});return b&&!w?J.createElement(J.Fragment,null,M,J.createElement(iR,{page:k})):M});Go.displayName="Link";var cR=J.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:c,children:f,...p},v){let m=Zl(l,{relative:p.relative}),d=vi(),y=J.useContext(Tf),{navigator:S,basename:_}=J.useContext(jn),E=y!=null&&vR(m)&&c===!0,w=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,T=d.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(T=T.toLowerCase(),k=k?k.toLowerCase():null,w=w.toLowerCase()),k&&_&&(k=di(k,_)||k);const b=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=T===w||!o&&T.startsWith(w)&&T.charAt(b)==="/",F=k!=null&&(k===w||!o&&k.startsWith(w)&&k.charAt(w.length)==="/"),P={isActive:D,isPending:F,isTransitioning:E},R=D?e:void 0,M;typeof r=="function"?M=r(P):M=[r,D?"active":null,F?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(P):a;return J.createElement(Go,{...p,"aria-current":R,className:M,ref:v,style:x,to:l,viewTransition:c},typeof f=="function"?f(P):f)});cR.displayName="NavLink";var fR=J.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:l=Mc,action:c,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d,...y},S)=>{let{unstable_useTransitions:_}=J.useContext(jn),E=gR(),w=yR(c,{relative:p}),T=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&iT.test(c),b=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let F=D.nativeEvent.submitter,P=F?.getAttribute("formmethod")||l,R=()=>E(F||D.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:o,state:a,relative:p,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d});_&&t!==!1?J.startTransition(()=>R()):R()};return J.createElement("form",{ref:S,method:T,action:w,onSubmit:r?f:b,...y,"data-discover":!k&&n==="render"?"true":void 0})});fR.displayName="Form";function hR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oT(n){let e=J.useContext(_a);return Et(e,hR(n)),e}function dR(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let p=Jl(),v=vi(),m=Zl(n,{relative:a});return J.useCallback(d=>{if(H2(d,e)){d.preventDefault();let y=t!==void 0?t:Ul(v)===Ul(m),S=()=>p(n,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});f?J.startTransition(()=>S()):S()}},[v,p,m,t,r,e,n,o,a,l,c,f])}var pR=0,mR=()=>`__${String(++pR)}__`;function gR(){let{router:n}=oT("useSubmit"),{basename:e}=J.useContext(jn),t=N2(),r=n.fetch,o=n.navigate;return J.useCallback(async(a,l={})=>{let{action:c,method:f,encType:p,formData:v,body:m}=K2(a,e);if(l.navigate===!1){let d=l.fetcherKey||mR();await r(d,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:v,body:m,formMethod:l.method||f,formEncType:l.encType||p,flushSync:l.flushSync})}else await o(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:v,body:m,formMethod:l.method||f,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,o,e,t])}function yR(n,{relative:e}={}){let{basename:t}=J.useContext(jn),r=J.useContext(Xn);Et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},l=vi();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(v=>v==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let v=c.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ci([t,a.pathname])),Ul(a)}function vR(n,{relative:e}={}){let t=J.useContext(Gw);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=oT("useViewTransitionState"),o=Zl(n,{relative:e});if(!t.isTransitioning)return!1;let a=di(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=di(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Xc(o.pathname,l)!=null||Xc(o.pathname,a)!=null}var sT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r1=qt.createContext&&qt.createContext(sT),_R=["attr","size","title"];function ER(n,e){if(n==null)return{};var t=wR(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function wR(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Jc(){return Jc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jc.apply(this,arguments)}function i1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Zc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?i1(Object(t),!0).forEach(function(r){TR(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TR(n,e,t){return e=bR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bR(n){var e=SR(n,"string");return typeof e=="symbol"?e:e+""}function SR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function aT(n){return n&&n.map((e,t)=>qt.createElement(e.tag,Zc({key:t},e.attr),aT(e.child)))}function ut(n){return e=>qt.createElement(AR,Jc({attr:Zc({},n.attr)},e),aT(n.child))}function AR(n){var e=t=>{var{attr:r,size:o,title:a}=n,l=ER(n,_R),c=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),qt.createElement("svg",Jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:f,style:Zc(Zc({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&qt.createElement("title",null,a),n.children)};return r1!==void 0?qt.createElement(r1.Consumer,null,t=>e(t)):e(sT)}function IR(n){return ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function RR(n){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function kR(n){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function PR(n){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function bg(n){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function xR(n){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}function Dt({text:n="Agende sua consulta",className:e="",phone:t="5591985807373",message:r="Ol Dra. Lueine, gostaria de agendar uma consulta."}){const o=`https://wa.me/${t}?text=${encodeURIComponent(r)}`;return j.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:e,children:[n,j.jsx(bg,{size:20})]})}function CR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"},child:[]}]})(n)}function OR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m6 9 6 6 6-6"},child:[]}]})(n)}function NR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m7 6 5 5 5-5"},child:[]},{tag:"path",attr:{d:"m7 13 5 5 5-5"},child:[]}]})(n)}function LR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h13"},child:[]},{tag:"path",attr:{d:"M18 8c0-2.5-2-2.5-2-5"},child:[]},{tag:"path",attr:{d:"m2 2 20 20"},child:[]},{tag:"path",attr:{d:"M21 12a1 1 0 0 1 1 1v2a1 1 0 0 1-.5.866"},child:[]},{tag:"path",attr:{d:"M22 8c0-2.5-2-2.5-2-5"},child:[]},{tag:"path",attr:{d:"M7 12v4"},child:[]}]})(n)}function DR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"path",attr:{d:"m9 14 2 2 4-4"},child:[]}]})(n)}function MR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"},child:[]}]})(n)}function jR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m12 14 4-4"},child:[]},{tag:"path",attr:{d:"M3.34 19a10 10 0 1 1 17.32 0"},child:[]}]})(n)}function VR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"},child:[]},{tag:"path",attr:{d:"m12 13-1-1 2-2-3-3 2-2"},child:[]}]})(n)}function o1(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"},child:[]},{tag:"path",attr:{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27"},child:[]}]})(n)}function UR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"},child:[]}]})(n)}function FR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(n)}function qR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"},child:[]},{tag:"path",attr:{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"},child:[]},{tag:"path",attr:{d:"M7 21h10"},child:[]},{tag:"path",attr:{d:"M12 3v18"},child:[]},{tag:"path",attr:{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"},child:[]}]})(n)}function BR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"},child:[]},{tag:"path",attr:{d:"m4.243 5.21 14.39 12.472"},child:[]}]})(n)}function zR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 2v2"},child:[]},{tag:"path",attr:{d:"M5 2v2"},child:[]},{tag:"path",attr:{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"},child:[]},{tag:"path",attr:{d:"M8 15a6 6 0 0 0 12 0v-3"},child:[]},{tag:"circle",attr:{cx:"20",cy:"10",r:"2"},child:[]}]})(n)}function HR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3"},child:[]},{tag:"path",attr:{d:"m16 2 6 6"},child:[]},{tag:"path",attr:{d:"M12 16H4"},child:[]}]})(n)}function $R(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"},child:[]},{tag:"path",attr:{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"},child:[]},{tag:"path",attr:{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"},child:[]}]})(n)}function WR(){const[n,e]=J.useState(null),t=[{question:"Quais so os mtodos de pagamento aceitos?",answer:"Aceitamos Pix, carto de crdito, carto de dbito e dinheiro, para sua maior comodidade."},{question:"Quando tempo dura a consulta?",answer:"A consulta tem durao aproximada de 60 minutos, pois envolve uma avaliao clnica detalhada, incluindo histrico mdico, fatores de risco cardiovasculares, hbitos de vida e definio de um plano de cuidado individualizado."},{question:"H contato telefnico aps a consulta?",answer:"O contato  realizado exclusivamente para orientaes administrativas e esclarecimento de dvidas pontuais, quando necessrio. Demandas clnicas so avaliadas em consulta, garantindo segurana e qualidade do cuidado."}];function r(o){e(n===o?null:o)}return j.jsx("section",{id:"faq",className:"faq",children:j.jsxs("div",{className:"faq-container",children:[j.jsxs("div",{className:"faq-info",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"FAQ"}),j.jsx("h2",{children:"Perguntas frequentes"})]}),j.jsxs("p",{children:["No encontrou a resposta que procurava?",j.jsx("br",{}),"Entre em contato pelo WhatsApp para um atendimento personalizado."]}),j.jsx(Dt,{className:"faq-button",text:"Enviar mensagem",message:"Ol Dra. Lueine, estou com dvidas."})]}),j.jsx("div",{className:"faq-list",children:t.map((o,a)=>j.jsxs("div",{className:`faq-item ${n===a?"active":""}`,children:[j.jsxs("button",{type:"button",className:"faq-question",onClick:()=>r(a),"aria-expanded":n===a,"aria-controls":`faq-answer-${a}`,id:`faq-question-${a}`,children:[j.jsx("span",{children:o.question}),j.jsx("span",{className:"arrow","aria-hidden":"true",children:j.jsx(OR,{})})]}),j.jsx("div",{className:"faq-answer",id:`faq-answer-${a}`,role:"region","aria-labelledby":`faq-question-${a}`,"aria-hidden":n!==a,children:j.jsx("p",{children:o.answer})})]},a))})]})})}const KR="/assets/avaliacao-medica-1-BkL1CoUd.webp",GR="/assets/avaliacao-medica-2-Bwh3OgOv.webp",QR="/assets/dralueinebarradas-DWpK2tKZ.webp",s1="/assets/lueine-barradas-mXUlYlyg.webp",YR=()=>{};var a1={};const lT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},XR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],l=n[t++],c=n[t++],f=((o&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],l=o+1<n.length,c=l?n[o+1]:0,f=o+2<n.length,p=f?n[o+2]:0,v=a>>2,m=(a&3)<<4|c>>4;let d=(c&15)<<2|p>>6,y=p&63;f||(y=64,l||(d=64)),r.push(t[v],t[m],t[d],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(lT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):XR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],c=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const m=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||c==null||p==null||m==null)throw new JR;const d=a<<2|c>>4;if(r.push(d),p!==64){const y=c<<4&240|p>>2;if(r.push(y),m!==64){const S=p<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class JR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZR=function(n){const e=lT(n);return uT.encodeByteArray(e,!0)},ef=function(n){return ZR(n).replace(/\./g,"")},cT=function(n){try{return uT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ek(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tk=()=>ek().__FIREBASE_DEFAULTS__,nk=()=>{if(typeof process>"u"||typeof a1>"u")return;const n=a1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},rk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cT(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return YR()||tk()||nk()||rk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},fT=n=>Sf()?.emulatorHosts?.[n],hT=n=>{const e=fT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dT=()=>Sf()?.config,pT=n=>Sf()?.[`_${n}`];class ik{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function fo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sg(n){return(await fetch(n,{credentials:"include"})).ok}function mT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ef(JSON.stringify(t)),ef(JSON.stringify(l)),""].join(".")}const Ol={};function ok(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?n.emulator.push(e):n.prod.push(e);return n}function sk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let l1=!1;function Ag(n,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Ol[n]===e||Ol[n]||l1)return;Ol[n]=e;function t(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=ok().prod.length>0;function l(){const d=document.getElementById(r);d&&d.remove()}function c(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function f(d,y){d.setAttribute("width","24"),d.setAttribute("id",y),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function p(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{l1=!0,l()},d}function v(d,y){d.setAttribute("id",y),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function m(){const d=sk(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),_=t("learnmore"),E=document.getElementById(_)||document.createElement("a"),w=t("preprendIcon"),T=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const k=d.element;c(k),v(E,_);const b=p();f(T,w),k.append(T,S,E,b),document.body.appendChild(k)}a?(S.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ak(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function lk(){const n=Sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ck(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hk(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dk(){return!lk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pk(){try{return typeof indexedDB=="object"}catch{return!1}}function mk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const gk="FirebaseError";class Br extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=gk,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?yk(a,r):"Error",c=`${this.serviceName}: ${l} (${o}).`;return new Br(o,c,r)}}function yk(n,e){return n.replace(vk,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const vk=/\{\$([^}]+)}/g;function _k(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],l=e[o];if(u1(a)&&u1(l)){if(!Qo(a,l))return!1}else if(a!==l)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function u1(n){return n!==null&&typeof n=="object"}function tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ek(n,e){const t=new wk(n,e);return t.subscribe.bind(t)}class wk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Tk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Dd),o.error===void 0&&(o.error=Dd),o.complete===void 0&&(o.complete=Dd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dd(){}function wt(n){return n&&n._delegate?n._delegate:n}class io{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zo="[DEFAULT]";class bk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ik;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ak(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Sk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sk(n){return n===zo?void 0:n}function Ak(n){return n.instantiationMode==="EAGER"}class Ik{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const Rk={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},kk=Ye.INFO,Pk={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},xk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=Pk[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ig{constructor(e){this.name=e,this._logLevel=kk,this._logHandler=xk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Ck=(n,e)=>e.some(t=>n instanceof t);let c1,f1;function Ok(){return c1||(c1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nk(){return f1||(f1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,jm=new WeakMap,yT=new WeakMap,Md=new WeakMap,Rg=new WeakMap;function Lk(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Zi(n.result)),o()},l=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,n)}).catch(()=>{}),Rg.set(e,n),e}function Dk(n){if(jm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),o()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});jm.set(n,e)}let Vm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return jm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Mk(n){Vm=n(Vm)}function jk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(jd(this),e,...t);return yT.set(r,e.sort?e.sort():[e]),Zi(r)}:Nk().includes(n)?function(...e){return n.apply(jd(this),e),Zi(gT.get(this))}:function(...e){return Zi(n.apply(jd(this),e))}}function Vk(n){return typeof n=="function"?jk(n):(n instanceof IDBTransaction&&Dk(n),Ck(n,Ok())?new Proxy(n,Vm):n)}function Zi(n){if(n instanceof IDBRequest)return Lk(n);if(Md.has(n))return Md.get(n);const e=Vk(n);return e!==n&&(Md.set(n,e),Rg.set(e,n)),e}const jd=n=>Rg.get(n);function Uk(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const l=indexedDB.open(n,e),c=Zi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Zi(l.result),f.oldVersion,f.newVersion,Zi(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Fk=["get","getKey","getAll","getAllKeys","count"],qk=["put","add","delete","clear"],Vd=new Map;function h1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vd.get(e))return Vd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=qk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Fk.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),o&&f.done]))[0]};return Vd.set(e,a),a}Mk(n=>({...n,get:(e,t,r)=>h1(e,t)||n.get(e,t,r),has:(e,t)=>!!h1(e,t)||n.has(e,t)}));class Bk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function zk(n){return n.getComponent()?.type==="VERSION"}const Um="@firebase/app",d1="0.14.7";const pi=new Ig("@firebase/app"),Hk="@firebase/app-compat",$k="@firebase/analytics-compat",Wk="@firebase/analytics",Kk="@firebase/app-check-compat",Gk="@firebase/app-check",Qk="@firebase/auth",Yk="@firebase/auth-compat",Xk="@firebase/database",Jk="@firebase/data-connect",Zk="@firebase/database-compat",eP="@firebase/functions",tP="@firebase/functions-compat",nP="@firebase/installations",rP="@firebase/installations-compat",iP="@firebase/messaging",oP="@firebase/messaging-compat",sP="@firebase/performance",aP="@firebase/performance-compat",lP="@firebase/remote-config",uP="@firebase/remote-config-compat",cP="@firebase/storage",fP="@firebase/storage-compat",hP="@firebase/firestore",dP="@firebase/ai",pP="@firebase/firestore-compat",mP="firebase",gP="12.8.0";const Fm="[DEFAULT]",yP={[Um]:"fire-core",[Hk]:"fire-core-compat",[Wk]:"fire-analytics",[$k]:"fire-analytics-compat",[Gk]:"fire-app-check",[Kk]:"fire-app-check-compat",[Qk]:"fire-auth",[Yk]:"fire-auth-compat",[Xk]:"fire-rtdb",[Jk]:"fire-data-connect",[Zk]:"fire-rtdb-compat",[eP]:"fire-fn",[tP]:"fire-fn-compat",[nP]:"fire-iid",[rP]:"fire-iid-compat",[iP]:"fire-fcm",[oP]:"fire-fcm-compat",[sP]:"fire-perf",[aP]:"fire-perf-compat",[lP]:"fire-rc",[uP]:"fire-rc-compat",[cP]:"fire-gcs",[fP]:"fire-gcs-compat",[hP]:"fire-fst",[pP]:"fire-fst-compat",[dP]:"fire-vertex","fire-js":"fire-js",[mP]:"fire-js-all"};const tf=new Map,vP=new Map,qm=new Map;function p1(n,e){try{n.container.addComponent(e)}catch(t){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(qm.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;qm.set(e,n);for(const t of tf.values())p1(t,n);for(const t of vP.values())p1(t,n);return!0}function Af(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}const _P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new eu("app","Firebase",_P);class EP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}const rs=gP;function vT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Fm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw eo.create("bad-app-name",{appName:String(o)});if(t||(t=dT()),!t)throw eo.create("no-options");const a=tf.get(o);if(a){if(Qo(t,a.options)&&Qo(r,a.config))return a;throw eo.create("duplicate-app",{appName:o})}const l=new Ik(o);for(const f of qm.values())l.addComponent(f);const c=new EP(t,r,l);return tf.set(o,c),c}function kg(n=Fm){const e=tf.get(n);if(!e&&n===Fm&&dT())return vT();if(!e)throw eo.create("no-app",{appName:n});return e}function Lr(n,e,t){let r=yP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}Yo(new io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const wP="firebase-heartbeat-database",TP=1,Fl="firebase-heartbeat-store";let Ud=null;function _T(){return Ud||(Ud=Uk(wP,TP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw eo.create("idb-open",{originalErrorMessage:n.message})})),Ud}async function bP(n){try{const t=(await _T()).transaction(Fl),r=await t.objectStore(Fl).get(ET(n));return await t.done,r}catch(e){if(e instanceof Br)pi.warn(e.message);else{const t=eo.create("idb-get",{originalErrorMessage:e?.message});pi.warn(t.message)}}}async function m1(n,e){try{const r=(await _T()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,ET(n)),await r.done}catch(t){if(t instanceof Br)pi.warn(t.message);else{const r=eo.create("idb-set",{originalErrorMessage:t?.message});pi.warn(r.message)}}}function ET(n){return`${n.name}!${n.options.appId}`}const SP=1024,AP=30;class IP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=g1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>AP){const o=PP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=g1(),{heartbeatsToSend:t,unsentEntries:r}=RP(this._heartbeatsCache.heartbeats),o=ef(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pi.warn(e),""}}}function g1(){return new Date().toISOString().substring(0,10)}function RP(n,e=SP){const t=[];let r=n.slice();for(const o of n){const a=t.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),y1(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),y1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pk()?mk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return m1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function y1(n){return ef(JSON.stringify({version:2,heartbeats:n})).length}function PP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function xP(n){Yo(new io("platform-logger",e=>new Bk(e),"PRIVATE")),Yo(new io("heartbeat",e=>new IP(e),"PRIVATE")),Lr(Um,d1,n),Lr(Um,d1,"esm2020"),Lr("fire-js","")}xP("");var v1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var to,wT;(function(){var n;function e(P,R){function M(){}M.prototype=R.prototype,P.F=R.prototype,P.prototype=new M,P.prototype.constructor=P,P.D=function(x,I,L){for(var N=Array(arguments.length-2),z=2;z<arguments.length;z++)N[z-2]=arguments[z];return R.prototype[I].apply(x,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,M){M||(M=0);const x=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)x[I]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(I=0;I<16;++I)x[I]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=P.g[0],M=P.g[1],I=P.g[2];let L=P.g[3],N;N=R+(L^M&(I^L))+x[0]+3614090360&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[2]+606105819&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[3]+3250441966&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+x[4]+4118548399&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[6]+2821735955&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[7]+4249261313&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+x[8]+1770035416&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[10]+4294925233&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[11]+2304563134&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+x[12]+1804603682&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[14]+2792965006&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[15]+1236535329&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(I^L&(M^I))+x[1]+4129170786&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[11]+643717713&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[0]+3921069994&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+x[5]+3593408605&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[15]+3634488961&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[4]+3889429448&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+x[9]+568446438&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[3]+4107603335&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[8]+1163531501&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+x[13]+2850285829&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[7]+1735328473&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[12]+2368359562&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(M^I^L)+x[5]+4294588738&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[11]+1839030562&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[14]+4259657740&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+x[1]+2763975236&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[7]+4139469664&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[10]+3200236656&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+x[13]+681279174&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[3]+3572445317&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[6]+76029189&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+x[9]+3654602809&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[15]+530742520&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[2]+3299628645&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(I^(M|~L))+x[0]+4096336452&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[14]+2878612391&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[5]+4237533241&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+x[12]+1700485571&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[10]+4293915773&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[1]+2240044497&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+x[8]+1873313359&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[6]+2734768916&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[13]+1309151649&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+x[4]+4149444226&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[2]+718787259&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+L&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const M=R-this.blockSize,x=this.C;let I=this.h,L=0;for(;L<R;){if(I==0)for(;L<=M;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<R;)if(x[I++]=P.charCodeAt(L++),I==this.blockSize){o(this,x),I=0;break}}else for(;L<R;)if(x[I++]=P[L++],I==this.blockSize){o(this,x),I=0;break}}this.h=I,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var M=P.length-8;M<P.length;++M)P[M]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,M=0;M<4;++M)for(let x=0;x<32;x+=8)P[R++]=this.g[M]>>>x&255;return P};function a(P,R){var M=c;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=R(P)}function l(P,R){this.h=R;const M=[];let x=!0;for(let I=P.length-1;I>=0;I--){const L=P[I]|0;x&&L==R||(M[I]=L,x=!1)}this.g=M}var c={};function f(P){return-128<=P&&P<128?a(P,function(R){return new l([R|0],R<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return E(p(-P));const R=[];let M=1;for(let x=0;P>=M;x++)R[x]=P/M|0,M*=4294967296;return new l(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return E(v(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(R,8));let x=m;for(let L=0;L<P.length;L+=8){var I=Math.min(8,P.length-L);const N=parseInt(P.substring(L,L+I),R);I<8?(I=p(Math.pow(R,I)),x=x.j(I).add(p(N))):(x=x.j(M),x=x.add(p(N)))}return x}var m=f(0),d=f(1),y=f(16777216);n=l.prototype,n.m=function(){if(_(this))return-E(this).m();let P=0,R=1;for(let M=0;M<this.g.length;M++){const x=this.i(M);P+=(x>=0?x:4294967296+x)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(_(this))return"-"+E(this).toString(P);const R=p(Math.pow(P,6));var M=this;let x="";for(;;){const I=b(M,R).g;M=w(M,I.j(R));let L=((M.g.length>0?M.g[0]:M.h)>>>0).toString(P);if(M=I,S(M))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function _(P){return P.h==-1}n.l=function(P){return P=w(this,P),_(P)?-1:S(P)?0:1};function E(P){const R=P.g.length,M=[];for(let x=0;x<R;x++)M[x]=~P.g[x];return new l(M,~P.h).add(d)}n.abs=function(){return _(this)?E(this):this},n.add=function(P){const R=Math.max(this.g.length,P.g.length),M=[];let x=0;for(let I=0;I<=R;I++){let L=x+(this.i(I)&65535)+(P.i(I)&65535),N=(L>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);x=N>>>16,L&=65535,N&=65535,M[I]=N<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function w(P,R){return P.add(E(R))}n.j=function(P){if(S(this)||S(P))return m;if(_(this))return _(P)?E(this).j(E(P)):E(E(this).j(P));if(_(P))return E(this.j(E(P)));if(this.l(y)<0&&P.l(y)<0)return p(this.m()*P.m());const R=this.g.length+P.g.length,M=[];for(var x=0;x<2*R;x++)M[x]=0;for(x=0;x<this.g.length;x++)for(let I=0;I<P.g.length;I++){const L=this.i(x)>>>16,N=this.i(x)&65535,z=P.i(I)>>>16,G=P.i(I)&65535;M[2*x+2*I]+=N*G,T(M,2*x+2*I),M[2*x+2*I+1]+=L*G,T(M,2*x+2*I+1),M[2*x+2*I+1]+=N*z,T(M,2*x+2*I+1),M[2*x+2*I+2]+=L*z,T(M,2*x+2*I+2)}for(P=0;P<R;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=R;P<2*R;P++)M[P]=0;return new l(M,0)};function T(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function k(P,R){this.g=P,this.h=R}function b(P,R){if(S(R))throw Error("division by zero");if(S(P))return new k(m,m);if(_(P))return R=b(E(P),R),new k(E(R.g),E(R.h));if(_(R))return R=b(P,E(R)),new k(E(R.g),R.h);if(P.g.length>30){if(_(P)||_(R))throw Error("slowDivide_ only works with positive integers.");for(var M=d,x=R;x.l(P)<=0;)M=D(M),x=D(x);var I=F(M,1),L=F(x,1);for(x=F(x,2),M=F(M,2);!S(x);){var N=L.add(x);N.l(P)<=0&&(I=I.add(M),L=N),x=F(x,1),M=F(M,1)}return R=w(P,I.j(R)),new k(I,R)}for(I=m;P.l(R)>=0;){for(M=Math.max(1,Math.floor(P.m()/R.m())),x=Math.ceil(Math.log(M)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=p(M),N=L.j(R);_(N)||N.l(P)>0;)M-=x,L=p(M),N=L.j(R);S(L)&&(L=d),I=I.add(L),P=w(P,N)}return new k(I,P)}n.B=function(P){return b(this,P).h},n.and=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let x=0;x<R;x++)M[x]=this.i(x)&P.i(x);return new l(M,this.h&P.h)},n.or=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let x=0;x<R;x++)M[x]=this.i(x)|P.i(x);return new l(M,this.h|P.h)},n.xor=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let x=0;x<R;x++)M[x]=this.i(x)^P.i(x);return new l(M,this.h^P.h)};function D(P){const R=P.g.length+1,M=[];for(let x=0;x<R;x++)M[x]=P.i(x)<<1|P.i(x-1)>>>31;return new l(M,P.h)}function F(P,R){const M=R>>5;R%=32;const x=P.g.length-M,I=[];for(let L=0;L<x;L++)I[L]=R>0?P.i(L+M)>>>R|P.i(L+M+1)<<32-R:P.i(L+M);return new l(I,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=v,to=l}).apply(typeof v1<"u"?v1:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TT,Il,bT,Vc,Bm,ST,AT,IT;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var O=0;O<h.length;++O){var U=h[O];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=t(this);function o(h,O){if(O)e:{var U=r;h=h.split(".");for(var H=0;H<h.length-1;H++){var ue=h[H];if(!(ue in U))break e;U=U[ue]}h=h[h.length-1],H=U[h],O=O(H),O!=H&&O!=null&&e(U,h,{configurable:!0,writable:!0,value:O})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(O){var U=[],H;for(H in O)Object.prototype.hasOwnProperty.call(O,H)&&U.push([H,O[H]]);return U}});var a=a||{},l=this||self;function c(h){var O=typeof h;return O=="object"&&h!=null||O=="function"}function f(h,O,U){return h.call.apply(h.bind,arguments)}function p(h,O,U){return p=f,p.apply(null,arguments)}function v(h,O){var U=Array.prototype.slice.call(arguments,1);return function(){var H=U.slice();return H.push.apply(H,arguments),h.apply(this,H)}}function m(h,O){function U(){}U.prototype=O.prototype,h.Z=O.prototype,h.prototype=new U,h.prototype.constructor=h,h.Ob=function(H,ue,he){for(var Se=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Se[$e-2]=arguments[$e];return O.prototype[ue].apply(H,Se)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function y(h){const O=h.length;if(O>0){const U=Array(O);for(let H=0;H<O;H++)U[H]=h[H];return U}return[]}function S(h,O){for(let H=1;H<arguments.length;H++){const ue=arguments[H];var U=typeof ue;if(U=U!="object"?U:ue?Array.isArray(ue)?"array":U:"null",U=="array"||U=="object"&&typeof ue.length=="number"){U=h.length||0;const he=ue.length||0;h.length=U+he;for(let Se=0;Se<he;Se++)h[U+Se]=ue[Se]}else h.push(ue)}}class _{constructor(O,U){this.i=O,this.j=U,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function E(h){l.setTimeout(()=>{throw h},0)}function w(){var h=P;let O=null;return h.g&&(O=h.g,h.g=h.g.next,h.g||(h.h=null),O.next=null),O}class T{constructor(){this.h=this.g=null}add(O,U){const H=k.get();H.set(O,U),this.h?this.h.next=H:this.g=H,this.h=H}}var k=new _(()=>new b,h=>h.reset());class b{constructor(){this.next=this.g=this.h=null}set(O,U){this.h=O,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let D,F=!1,P=new T,R=()=>{const h=Promise.resolve(void 0);D=()=>{h.then(M)}};function M(){for(var h;h=w();){try{h.h.call(h.g)}catch(U){E(U)}var O=k;O.j(h),O.h<100&&(O.h++,h.next=O.g,O.g=h)}F=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,O){this.type=h,this.g=this.target=O,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,O=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const U=()=>{};l.addEventListener("test",U,O),l.removeEventListener("test",U,O)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function z(h,O){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,O)}m(z,I),z.prototype.init=function(h,O){const U=this.type=h.type,H=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=O,O=h.relatedTarget,O||(U=="mouseover"?O=h.fromElement:U=="mouseout"&&(O=h.toElement)),this.relatedTarget=O,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),ne=0;function re(h,O,U,H,ue){this.listener=h,this.proxy=null,this.src=O,this.type=U,this.capture=!!H,this.ha=ue,this.key=++ne,this.da=this.fa=!1}function oe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Y(h,O,U){for(const H in h)O.call(U,h[H],H,h)}function W(h,O){for(const U in h)O.call(void 0,h[U],U,h)}function V(h){const O={};for(const U in h)O[U]=h[U];return O}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(h,O){let U,H;for(let ue=1;ue<arguments.length;ue++){H=arguments[ue];for(U in H)h[U]=H[U];for(let he=0;he<B.length;he++)U=B[he],Object.prototype.hasOwnProperty.call(H,U)&&(h[U]=H[U])}}function te(h){this.src=h,this.g={},this.h=0}te.prototype.add=function(h,O,U,H,ue){const he=h.toString();h=this.g[he],h||(h=this.g[he]=[],this.h++);const Se=$(h,O,H,ue);return Se>-1?(O=h[Se],U||(O.fa=!1)):(O=new re(O,this.src,he,!!H,ue),O.fa=U,h.push(O)),O};function ee(h,O){const U=O.type;if(U in h.g){var H=h.g[U],ue=Array.prototype.indexOf.call(H,O,void 0),he;(he=ue>=0)&&Array.prototype.splice.call(H,ue,1),he&&(oe(O),h.g[U].length==0&&(delete h.g[U],h.h--))}}function $(h,O,U,H){for(let ue=0;ue<h.length;++ue){const he=h[ue];if(!he.da&&he.listener==O&&he.capture==!!U&&he.ha==H)return ue}return-1}var X="closure_lm_"+(Math.random()*1e6|0),se={};function ae(h,O,U,H,ue){if(Array.isArray(O)){for(let he=0;he<O.length;he++)ae(h,O[he],U,H,ue);return null}return U=pe(U),h&&h[G]?h.J(O,U,c(H)?!!H.capture:!1,ue):me(h,O,U,!1,H,ue)}function me(h,O,U,H,ue,he){if(!O)throw Error("Invalid event type");const Se=c(ue)?!!ue.capture:!!ue;let $e=kt(h);if($e||(h[X]=$e=new te(h)),U=$e.add(O,U,H,Se,he),U.proxy)return U;if(H=Re(),U.proxy=H,H.src=h,H.listener=U,h.addEventListener)L||(ue=Se),ue===void 0&&(ue=!1),h.addEventListener(O.toString(),H,ue);else if(h.attachEvent)h.attachEvent(Ge(O.toString()),H);else if(h.addListener&&h.removeListener)h.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Re(){function h(U){return O.call(h.src,h.listener,U)}const O=et;return h}function je(h,O,U,H,ue){if(Array.isArray(O))for(var he=0;he<O.length;he++)je(h,O[he],U,H,ue);else H=c(H)?!!H.capture:!!H,U=pe(U),h&&h[G]?(h=h.i,he=String(O).toString(),he in h.g&&(O=h.g[he],U=$(O,U,H,ue),U>-1&&(oe(O[U]),Array.prototype.splice.call(O,U,1),O.length==0&&(delete h.g[he],h.h--)))):h&&(h=kt(h))&&(O=h.g[O.toString()],h=-1,O&&(h=$(O,U,H,ue)),(U=h>-1?O[h]:null)&&Ve(U))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var O=h.src;if(O&&O[G])ee(O.i,h);else{var U=h.type,H=h.proxy;O.removeEventListener?O.removeEventListener(U,H,h.capture):O.detachEvent?O.detachEvent(Ge(U),H):O.addListener&&O.removeListener&&O.removeListener(H),(U=kt(O))?(ee(U,h),U.h==0&&(U.src=null,O[X]=null)):oe(h)}}}function Ge(h){return h in se?se[h]:se[h]="on"+h}function et(h,O){if(h.da)h=!0;else{O=new z(O,this);const U=h.listener,H=h.ha||h.src;h.fa&&Ve(h),h=U.call(H,O)}return h}function kt(h){return h=h[X],h instanceof te?h:null}var ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function pe(h){return typeof h=="function"?h:(h[ct]||(h[ct]=function(O){return h.handleEvent(O)}),h[ct])}function de(){x.call(this),this.i=new te(this),this.M=this,this.G=null}m(de,x),de.prototype[G]=!0,de.prototype.removeEventListener=function(h,O,U,H){je(this,h,O,U,H)};function we(h,O){var U,H=h.G;if(H)for(U=[];H;H=H.G)U.push(H);if(h=h.M,H=O.type||O,typeof O=="string")O=new I(O,h);else if(O instanceof I)O.target=O.target||h;else{var ue=O;O=new I(H,h),K(O,ue)}ue=!0;let he,Se;if(U)for(Se=U.length-1;Se>=0;Se--)he=O.g=U[Se],ue=Ae(he,H,!0,O)&&ue;if(he=O.g=h,ue=Ae(he,H,!0,O)&&ue,ue=Ae(he,H,!1,O)&&ue,U)for(Se=0;Se<U.length;Se++)he=O.g=U[Se],ue=Ae(he,H,!1,O)&&ue}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var h=this.i;for(const O in h.g){const U=h.g[O];for(let H=0;H<U.length;H++)oe(U[H]);delete h.g[O],h.h--}}this.G=null},de.prototype.J=function(h,O,U,H){return this.i.add(String(h),O,!1,U,H)},de.prototype.K=function(h,O,U,H){return this.i.add(String(h),O,!0,U,H)};function Ae(h,O,U,H){if(O=h.i.g[String(O)],!O)return!0;O=O.concat();let ue=!0;for(let he=0;he<O.length;++he){const Se=O[he];if(Se&&!Se.da&&Se.capture==U){const $e=Se.listener,Pt=Se.ha||Se.src;Se.fa&&ee(h.i,Se),ue=$e.call(Pt,H)!==!1&&ue}}return ue&&!H.defaultPrevented}function ve(h,O){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:l.setTimeout(h,O||0)}function He(h){h.g=ve(()=>{h.g=null,h.i&&(h.i=!1,He(h))},h.l);const O=h.h;h.h=null,h.m.apply(null,O)}class Ke extends x{constructor(O,U){super(),this.m=O,this.l=U,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(h){x.call(this),this.h=h,this.g={}}m(Be,x);var zt=[];function nn(h){Y(h.g,function(O,U){this.g.hasOwnProperty(U)&&Ve(O)},h),h.g={}}Be.prototype.N=function(){Be.Z.N.call(this),nn(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=l.JSON.stringify,us=l.JSON.parse,lt=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Gt(){}function hu(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cs(){I.call(this,"d")}m(cs,I);function Pa(){I.call(this,"c")}m(Pa,I);var Jn={},fs=null;function wi(){return fs=fs||new de}Jn.Ia="serverreachability";function hs(h){I.call(this,Jn.Ia,h)}m(hs,I);function Hr(h){const O=wi();we(O,new hs(O))}Jn.STAT_EVENT="statevent";function $r(h,O){I.call(this,Jn.STAT_EVENT,h),this.stat=O}m($r,I);function It(h){const O=wi();we(O,new $r(O,h))}Jn.Ja="timingevent";function xa(h,O){I.call(this,Jn.Ja,h),this.size=O}m(xa,I);function Ti(h,O){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},O)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function du(h,O,U,H,ue,he){h.info(function(){if(h.g)if(he){var Se="",$e=he.split("&");for(let at=0;at<$e.length;at++){var Pt=$e[at].split("=");if(Pt.length>1){const Nt=Pt[0];Pt=Pt[1];const Cn=Nt.split("_");Se=Cn.length>=2&&Cn[1]=="type"?Se+(Nt+"="+Pt+"&"):Se+(Nt+"=redacted&")}}}else Se=null;else Se=he;return"XMLHTTP REQ ("+H+") [attempt "+ue+"]: "+O+`
`+U+`
`+Se})}function pu(h,O,U,H,ue,he,Se){h.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ue+"]: "+O+`
`+U+`
`+he+" "+Se})}function pr(h,O,U,H){h.info(function(){return"XMLHTTP TEXT ("+O+"): "+yo(h,U)+(H?" "+H:"")})}function mu(h,O){h.info(function(){return"TIMEOUT: "+O})}bi.prototype.info=function(){};function yo(h,O){if(!h.g)return O;if(!O)return null;try{const he=JSON.parse(O);if(he){for(h=0;h<he.length;h++)if(Array.isArray(he[h])){var U=he[h];if(!(U.length<2)){var H=U[1];if(Array.isArray(H)&&!(H.length<1)){var ue=H[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let Se=1;Se<H.length;Se++)H[Se]=""}}}}return rt(he)}catch{return O}}var Si={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ai={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gu;function Wr(){}m(Wr,Gt),Wr.prototype.g=function(){return new XMLHttpRequest},gu=new Wr;function mr(h){return encodeURIComponent(String(h))}function ds(h){var O=1;h=h.split(":");const U=[];for(;O>0&&h.length;)U.push(h.shift()),O--;return h.length&&U.push(h.join(":")),U}function Vn(h,O,U,H){this.j=h,this.i=O,this.l=U,this.S=H||1,this.V=new Be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var vu={},Ca={};function Zn(h,O,U){h.M=1,h.A=Gr(Un(O)),h.u=U,h.R=!0,Oa(h,null)}function Oa(h,O){h.F=Date.now(),vo(h),h.B=Un(h.A);var U=h.B,H=h.S;Array.isArray(H)||(H=[String(H)]),Ba(U.i,"t",H),h.C=0,U=h.j.L,h.h=new yu,h.g=ku(h.j,U?O:null,!h.u),h.P>0&&(h.O=new Ke(p(h.Y,h,h.g),h.P)),O=h.V,U=h.g,H=h.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(zt[0]=ue.toString()),ue=zt);for(let he=0;he<ue.length;he++){const Se=ae(U,ue[he],H||O.handleEvent,!1,O.h||O);if(!Se)break;O.g[Se.key]=Se}O=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,O)):(h.v="GET",h.g.ea(h.B,h.v,null,O)),Hr(),du(h.i,h.v,h.B,h.l,h.S,h.u)}Vn.prototype.ba=function(h){h=h.target;const O=this.O;O&&Tr(h)==3?O.j():this.Y(h)},Vn.prototype.Y=function(h){try{if(h==this.g)e:{const $e=Tr(this.g),Pt=this.g.ya(),at=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Iu(this.g)))){this.K||$e!=4||Pt==7||(Pt==8||at<=0?Hr(3):Hr(2)),ps(this);var O=this.g.ca();this.X=O;var U=_u(this);if(this.o=O==200,pu(this.i,this.v,this.B,this.l,this.S,$e,O),this.o){if(this.U&&!this.L){t:{if(this.g){var H,ue=this.g;if((H=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(H)){var he=H;break t}}he=null}if(h=he)pr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,h);else{this.o=!1,this.m=3,It(12),Kr(this),_o(this);break e}}if(this.R){h=!0;let Nt;for(;!this.K&&this.C<U.length;)if(Nt=wu(this,U),Nt==Ca){$e==4&&(this.m=4,It(14),h=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==vu){this.m=4,It(15),pr(this.i,this.l,U,"[Invalid Chunk]"),h=!1;break}else pr(this.i,this.l,Nt,null),pt(this,Nt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||U.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)pr(this.i,this.l,U,"[Invalid Chunked Response]"),Kr(this),_o(this);else if(U.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ko(Se),Se.P=!0,It(11))}}else pr(this.i,this.l,U,null),pt(this,U);$e==4&&Kr(this),this.o&&!this.K&&($e==4?Ss(this.j,this):(this.o=!1,vo(this)))}else Ha(this.g),O==400&&U.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Kr(this),_o(this)}}}catch{}};function _u(h){if(!Eu(h))return h.g.la();const O=Iu(h.g);if(O==="")return"";let U="";const H=O.length,ue=Tr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Kr(h),_o(h),"";h.h.i=new l.TextDecoder}for(let he=0;he<H;he++)h.h.h=!0,U+=h.h.i.decode(O[he],{stream:!(ue&&he==H-1)});return O.length=0,h.h.g+=U,h.C=0,h.h.g}function Eu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function wu(h,O){var U=h.C,H=O.indexOf(`
`,U);return H==-1?Ca:(U=Number(O.substring(U,H)),isNaN(U)?vu:(H+=1,H+U>O.length?Ca:(O=O.slice(H,H+U),h.C=H+U,O)))}Vn.prototype.cancel=function(){this.K=!0,Kr(this)};function vo(h){h.T=Date.now()+h.H,Na(h,h.H)}function Na(h,O){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(p(h.aa,h),O)}function ps(h){h.D&&(l.clearTimeout(h.D),h.D=null)}Vn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(mu(this.i,this.B),this.M!=2&&(Hr(),It(17)),Kr(this),this.m=2,_o(this)):Na(this,this.T-h)};function _o(h){h.j.I==0||h.K||Ss(h.j,h)}function Kr(h){ps(h);var O=h.O;O&&typeof O.dispose=="function"&&O.dispose(),h.O=null,nn(h.V),h.g&&(O=h.g,h.g=null,O.abort(),O.dispose())}function pt(h,O){try{var U=h.j;if(U.I!=0&&(U.g==h||Da(U.h,h))){if(!h.L&&Da(U.h,h)&&U.I==3){try{var H=U.Ba.g.parse(O)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ue=H;if(ue[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<h.F)bs(U),Pn(U);else break e;Ar(U),It(18)}}else U.xa=ue[1],0<U.xa-U.K&&ue[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=Ti(p(U.Va,U),6e3));Eo(U.h)<=1&&U.ta&&(U.ta=void 0)}else xn(U,11)}else if((h.L||U.g==h)&&bs(U),!N(O))for(ue=U.Ba.g.parse(O),O=0;O<ue.length;O++){let at=ue[O];const Nt=at[0];if(!(Nt<=U.K))if(U.K=Nt,at=at[1],U.I==2)if(at[0]=="c"){U.M=at[1],U.ba=at[2];const Cn=at[3];Cn!=null&&(U.ka=Cn,U.j.info("VER="+U.ka));const Zr=at[4];Zr!=null&&(U.za=Zr,U.j.info("SVER="+U.za));const Ir=at[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(H=1.5*Ir,U.O=H,U.j.info("backChannelRequestTimeoutMs_="+H)),H=U;const Rr=h.g;if(Rr){const Rs=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var he=H.h;he.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(gs(he,he.h),he.h=null))}if(H.G){const Ka=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(H.wa=Ka,ot(H.J,H.G,Ka))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-h.F,U.j.info("Handshake RTT: "+U.T+"ms")),H=U;var Se=h;if(H.na=Wa(H,H.L?H.ba:null,H.W),Se.L){wo(H.h,Se);var $e=Se,Pt=H.O;Pt&&($e.H=Pt),$e.D&&(ps($e),vo($e)),H.g=Se}else rn(H);U.i.length>0&&Jr(U)}else at[0]!="stop"&&at[0]!="close"||xn(U,7);else U.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?xn(U,7):ws(U):at[0]!="noop"&&U.l&&U.l.qa(at),U.A=0)}}Hr(4)}catch{}}var ih=class{constructor(h,O){this.g=h,this.map=O}};function ms(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Eo(h){return h.h?1:h.g?h.g.size:0}function Da(h,O){return h.h?h.h==O:h.g?h.g.has(O):!1}function gs(h,O){h.g?h.g.add(O):h.h=O}function wo(h,O){h.h&&h.h==O?h.h=null:h.g&&h.g.has(O)&&h.g.delete(O)}ms.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function In(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let O=h.i;for(const U of h.g.values())O=O.concat(U.G);return O}return y(h.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rn(h,O){if(h){h=h.split("&");for(let U=0;U<h.length;U++){const H=h[U].indexOf("=");let ue,he=null;H>=0?(ue=h[U].substring(0,H),he=h[U].substring(H+1)):ue=h[U],O(ue,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function gr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;h instanceof gr?(this.l=h.l,To(this,h.j),this.o=h.o,this.g=h.g,yr(this,h.u),this.h=h.h,Ii(this,za(h.i)),this.m=h.m):h&&(O=String(h).match(Tu))?(this.l=!1,To(this,O[1]||"",!0),this.o=bo(O[2]||""),this.g=bo(O[3]||"",!0),yr(this,O[4]),this.h=bo(O[5]||"",!0),Ii(this,O[6]||"",!0),this.m=bo(O[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}gr.prototype.toString=function(){const h=[];var O=this.j;O&&h.push(So(O,ja,!0),":");var U=this.g;return(U||O=="file")&&(h.push("//"),(O=this.o)&&h.push(So(O,ja,!0),"@"),h.push(mr(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&h.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&h.push("/"),h.push(So(U,U.charAt(0)=="/"?Ao:Va,!0))),(U=this.i.toString())&&h.push("?",U),(U=this.m)&&h.push("#",So(U,Ua)),h.join("")},gr.prototype.resolve=function(h){const O=Un(this);let U=!!h.j;U?To(O,h.j):U=!!h.o,U?O.o=h.o:U=!!h.g,U?O.g=h.g:U=h.u!=null;var H=h.h;if(U)yr(O,h.u);else if(U=!!h.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var ue=O.h.lastIndexOf("/");ue!=-1&&(H=O.h.slice(0,ue+1)+H)}if(ue=H,ue==".."||ue==".")H="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){H=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const he=[];for(let Se=0;Se<ue.length;){const $e=ue[Se++];$e=="."?H&&Se==ue.length&&he.push(""):$e==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),H&&Se==ue.length&&he.push("")):(he.push($e),H=!0)}H=he.join("/")}else H=ue}return U?O.h=H:U=h.i.toString()!=="",U?Ii(O,za(h.i)):U=!!h.m,U&&(O.m=h.m),O};function Un(h){return new gr(h)}function To(h,O,U){h.j=U?bo(O,!0):O,h.j&&(h.j=h.j.replace(/:$/,""))}function yr(h,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);h.u=O}else h.u=null}function Ii(h,O,U){O instanceof Ze?(h.i=O,vs(h.i,h.l)):(U||(O=So(O,oh)),h.i=new Ze(O,h.l))}function ot(h,O,U){h.i.set(O,U)}function Gr(h){return ot(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function bo(h,O){return h?O?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function So(h,O,U){return typeof h=="string"?(h=encodeURI(h).replace(O,Ma),U&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ma(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ja=/[#\/\?@]/g,Va=/[#\?:]/g,Ao=/[#\?]/g,oh=/[#\?@]/g,Ua=/#/g;function Ze(h,O){this.h=this.g=null,this.i=h||null,this.j=!!O}function vr(h){h.g||(h.g=new Map,h.h=0,h.i&&Rn(h.i,function(O,U){h.add(decodeURIComponent(O.replace(/\+/g," ")),U)}))}n=Ze.prototype,n.add=function(h,O){vr(this),this.i=null,h=_r(this,h);let U=this.g.get(h);return U||this.g.set(h,U=[]),U.push(O),this.h+=1,this};function Fa(h,O){vr(h),O=_r(h,O),h.g.has(O)&&(h.i=null,h.h-=h.g.get(O).length,h.g.delete(O))}function ys(h,O){return vr(h),O=_r(h,O),h.g.has(O)}n.forEach=function(h,O){vr(this),this.g.forEach(function(U,H){U.forEach(function(ue){h.call(O,ue,H,this)},this)},this)};function qa(h,O){vr(h);let U=[];if(typeof O=="string")ys(h,O)&&(U=U.concat(h.g.get(_r(h,O))));else for(h=Array.from(h.g.values()),O=0;O<h.length;O++)U=U.concat(h[O]);return U}n.set=function(h,O){return vr(this),this.i=null,h=_r(this,h),ys(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[O]),this.h+=1,this},n.get=function(h,O){return h?(h=qa(this,h),h.length>0?String(h[0]):O):O};function Ba(h,O,U){Fa(h,O),U.length>0&&(h.i=null,h.g.set(_r(h,O),y(U)),h.h+=U.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],O=Array.from(this.g.keys());for(let H=0;H<O.length;H++){var U=O[H];const ue=mr(U);U=qa(this,U);for(let he=0;he<U.length;he++){let Se=ue;U[he]!==""&&(Se+="="+mr(U[he])),h.push(Se)}}return this.i=h.join("&")};function za(h){const O=new Ze;return O.i=h.i,h.g&&(O.g=new Map(h.g),O.h=h.h),O}function _r(h,O){return O=String(O),h.j&&(O=O.toLowerCase()),O}function vs(h,O){O&&!h.j&&(vr(h),h.i=null,h.g.forEach(function(U,H){const ue=H.toLowerCase();H!=ue&&(Fa(this,H),Ba(this,ue,U))},h)),h.j=O}function Er(h,O){const U=new bi;if(l.Image){const H=new Image;H.onload=v(Qt,U,"TestLoadImage: loaded",!0,O,H),H.onerror=v(Qt,U,"TestLoadImage: error",!1,O,H),H.onabort=v(Qt,U,"TestLoadImage: abort",!1,O,H),H.ontimeout=v(Qt,U,"TestLoadImage: timeout",!1,O,H),l.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=h}else O(!1)}function wr(h,O){const U=new bi,H=new AbortController,ue=setTimeout(()=>{H.abort(),Qt(U,"TestPingServer: timeout",!1,O)},1e4);fetch(h,{signal:H.signal}).then(he=>{clearTimeout(ue),he.ok?Qt(U,"TestPingServer: ok",!0,O):Qt(U,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(ue),Qt(U,"TestPingServer: error",!1,O)})}function Qt(h,O,U,H,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),H(U)}catch{}}function Io(){this.g=new lt}function Qr(h){this.i=h.Sb||null,this.h=h.ab||!1}m(Qr,Gt),Qr.prototype.g=function(){return new kn(this.i,this.h)};function kn(h,O){de.call(this),this.H=h,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(kn,de),n=kn.prototype,n.open=function(h,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=O,this.readyState=1,er(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(O.body=h),(this.H||l).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function bu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var O=h.value?h.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!h.done}))&&(this.response=this.responseText+=O)}h.done?Ri(this):er(this),this.readyState==3&&bu(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ri(this))},n.Na=function(h){this.g&&(this.response=h,Ri(this))},n.ga=function(){this.g&&Ri(this)};function Ri(h){h.readyState=4,h.l=null,h.j=null,h.B=null,er(h)}n.setRequestHeader=function(h,O){this.A.append(h,O)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],O=this.h.entries();for(var U=O.next();!U.done;)U=U.value,h.push(U[0]+": "+U[1]),U=O.next();return h.join(`\r
`)};function er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Su(h){let O="";return Y(h,function(U,H){O+=H,O+=":",O+=U,O+=`\r
`}),O}function _s(h,O,U){e:{for(H in U){var H=!1;break e}H=!0}H||(U=Su(U),typeof h=="string"?U!=null&&mr(U):ot(h,O,U))}function ft(h){de.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(ft,de);var Au=/^https?$/i,sh=["POST","PUT"];n=ft.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,O,U,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);O=O?O.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gu.g(),this.g.onreadystatechange=d(p(this.Ca,this));try{this.B=!0,this.g.open(O,String(h),!0),this.B=!1}catch(he){ki(this,he);return}if(h=U||"",U=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ue in H)U.set(ue,H[ue]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const he of H.keys())U.set(he,H.get(he));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(U.keys()).find(he=>he.toLowerCase()=="content-type"),ue=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(sh,O,void 0)>=0)||H||ue||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Se]of U)this.g.setRequestHeader(he,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(he){ki(this,he)}};function ki(h,O){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=O,h.o=5,Pi(h),Xr(h)}function Pi(h){h.A||(h.A=!0,we(h,"complete"),we(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,we(this,"complete"),we(this,"abort"),Xr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xr(this,!0)),ft.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Yr(this):this.Xa())},n.Xa=function(){Yr(this)};function Yr(h){if(h.h&&typeof a<"u"){if(h.v&&Tr(h)==4)setTimeout(h.Ca.bind(h),0);else if(we(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const he=h.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var U;if(!(U=O)){var H;if(H=he===0){let Se=String(h.D).match(Tu)[1]||null;!Se&&l.self&&l.self.location&&(Se=l.self.location.protocol.slice(0,-1)),H=!Au.test(Se?Se.toLowerCase():"")}U=H}if(U)we(h,"complete"),we(h,"success");else{h.o=6;try{var ue=Tr(h)>2?h.g.statusText:""}catch{ue=""}h.l=ue+" ["+h.ca()+"]",Pi(h)}}finally{Xr(h)}}}}function Xr(h,O){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const U=h.g;h.g=null,O||we(h,"ready");try{U.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var O=this.g.responseText;return h&&O.indexOf(h)==0&&(O=O.substring(h.length)),us(O)}};function Iu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(h){const O={};h=(h.g&&Tr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<h.length;H++){if(N(h[H]))continue;var U=ds(h[H]);const ue=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const he=O[ue]||[];O[ue]=he,he.push(U)}W(O,function(H){return H.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(h,O,U){return U&&U.internalChannelParams&&U.internalChannelParams[h]||O}function Es(h){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=br("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=br("baseRetryDelayMs",5e3,h),this.Za=br("retryDelaySeedMs",1e4,h),this.Ta=br("forwardChannelMaxRetries",2,h),this.va=br("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ms(h&&h.concurrentRequestLimit),this.Ba=new Io,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Es.prototype,n.ka=8,n.I=1,n.connect=function(h,O,U,H){It(0),this.W=h,this.H=O||{},U&&H!==void 0&&(this.H.OSID=U,this.H.OAID=H),this.F=this.X,this.J=Wa(this,null,this.W),Jr(this)};function ws(h){if(Ts(h),h.I==3){var O=h.V++,U=Un(h.J);if(ot(U,"SID",h.M),ot(U,"RID",O),ot(U,"TYPE","terminate"),Sr(h,U),O=new Vn(h,h.j,O),O.M=2,O.A=Gr(Un(U)),U=!1,l.navigator&&l.navigator.sendBeacon)try{U=l.navigator.sendBeacon(O.A.toString(),"")}catch{}!U&&l.Image&&(new Image().src=O.A,U=!0),U||(O.g=ku(O.j,null),O.g.ea(O.A)),O.F=Date.now(),vo(O)}Po(h)}function Pn(h){h.g&&(ko(h),h.g.cancel(),h.g=null)}function Ts(h){Pn(h),h.v&&(l.clearTimeout(h.v),h.v=null),bs(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function Jr(h){if(!La(h.h)&&!h.m){h.m=!0;var O=h.Ea;D||R(),F||(D(),F=!0),P.add(O,h),h.D=0}}function Ru(h,O){return Eo(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=O.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(p(h.Ea,h,O),As(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const ue=new Vn(this,this.j,h);let he=this.o;if(this.U&&(he?(he=V(he),K(he,this.U)):he=this.U),this.u!==null||this.R||(ue.J=he,he=null),this.S)e:{for(var O=0,U=0;U<this.i.length;U++){t:{var H=this.i[U];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(O+=H,O>4096){O=U;break e}if(O===4096||U===this.i.length-1){O=U+1;break e}}O=1e3}else O=1e3;O=$a(this,ue,O),U=Un(this.J),ot(U,"RID",h),ot(U,"CVER",22),this.G&&ot(U,"X-HTTP-Session-Id",this.G),Sr(this,U),he&&(this.R?O="headers="+mr(Su(he))+"&"+O:this.u&&_s(U,this.u,he)),gs(this.h,ue),this.Ra&&ot(U,"TYPE","init"),this.S?(ot(U,"$req",O),ot(U,"SID","null"),ue.U=!0,Zn(ue,U,null)):Zn(ue,U,O),this.I=2}}else this.I==3&&(h?Ro(this,h):this.i.length==0||La(this.h)||Ro(this))};function Ro(h,O){var U;O?U=O.l:U=h.V++;const H=Un(h.J);ot(H,"SID",h.M),ot(H,"RID",U),ot(H,"AID",h.K),Sr(h,H),h.u&&h.o&&_s(H,h.u,h.o),U=new Vn(h,h.j,U,h.D+1),h.u===null&&(U.J=h.o),O&&(h.i=O.G.concat(h.i)),O=$a(h,U,1e3),U.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),gs(h.h,U),Zn(U,H,O)}function Sr(h,O){h.H&&Y(h.H,function(U,H){ot(O,H,U)}),h.l&&Y({},function(U,H){ot(O,H,U)})}function $a(h,O,U){U=Math.min(h.i.length,U);const H=h.l?p(h.l.Ka,h.l,h):null;e:{var ue=h.i;let $e=-1;for(;;){const Pt=["count="+U];$e==-1?U>0?($e=ue[0].g,Pt.push("ofs="+$e)):$e=0:Pt.push("ofs="+$e);let at=!0;for(let Nt=0;Nt<U;Nt++){var he=ue[Nt].g;const Cn=ue[Nt].map;if(he-=$e,he<0)$e=Math.max(0,ue[Nt].g-100),at=!1;else try{he="req"+he+"_"||"";try{var Se=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Zr,Ir]of Se){let Rr=Ir;c(Ir)&&(Rr=rt(Ir)),Pt.push(he+Zr+"="+encodeURIComponent(Rr))}}catch(Zr){throw Pt.push(he+"type="+encodeURIComponent("_badmap")),Zr}}catch{H&&H(Cn)}}if(at){Se=Pt.join("&");break e}}Se=void 0}return h=h.i.splice(0,U),O.G=h,Se}function rn(h){if(!h.g&&!h.v){h.Y=1;var O=h.Da;D||R(),F||(D(),F=!0),P.add(O,h),h.A=0}}function Ar(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(p(h.Da,h),As(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,xi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Pn(this),xi(this))};function ko(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function xi(h){h.g=new Vn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var O=Un(h.na);ot(O,"RID","rpc"),ot(O,"SID",h.M),ot(O,"AID",h.K),ot(O,"CI",h.F?"0":"1"),!h.F&&h.ia&&ot(O,"TO",h.ia),ot(O,"TYPE","xmlhttp"),Sr(h,O),h.u&&h.o&&_s(O,h.u,h.o),h.O&&(h.g.H=h.O);var U=h.g;h=h.ba,U.M=1,U.A=Gr(Un(O)),U.u=null,U.R=!0,Oa(U,h)}n.Va=function(){this.C!=null&&(this.C=null,Pn(this),Ar(this),It(19))};function bs(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Ss(h,O){var U=null;if(h.g==O){bs(h),ko(h),h.g=null;var H=2}else if(Da(h.h,O))U=O.G,wo(h.h,O),H=1;else return;if(h.I!=0){if(O.o)if(H==1){U=O.u?O.u.length:0,O=Date.now()-O.F;var ue=h.D;H=wi(),we(H,new xa(H,U)),Jr(h)}else rn(h);else if(ue=O.m,ue==3||ue==0&&O.X>0||!(H==1&&Ru(h,O)||H==2&&Ar(h)))switch(U&&U.length>0&&(O=h.h,O.i=O.i.concat(U)),ue){case 1:xn(h,5);break;case 4:xn(h,10);break;case 3:xn(h,6);break;default:xn(h,2)}}}function As(h,O){let U=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(U*=2),U*O}function xn(h,O){if(h.j.info("Error code "+O),O==2){var U=p(h.bb,h),H=h.Ua;const ue=!H;H=new gr(H||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||To(H,"https"),Gr(H),ue?Er(H.toString(),U):wr(H.toString(),U)}else It(2);h.I=0,h.l&&h.l.pa(O),Po(h),Ts(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Po(h){if(h.I=0,h.ja=[],h.l){const O=In(h.h);(O.length!=0||h.i.length!=0)&&(S(h.ja,O),S(h.ja,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.oa()}}function Wa(h,O,U){var H=U instanceof gr?Un(U):new gr(U);if(H.g!="")O&&(H.g=O+"."+H.g),yr(H,H.u);else{var ue=l.location;H=ue.protocol,O=O?O+"."+ue.hostname:ue.hostname,ue=+ue.port;const he=new gr(null);H&&To(he,H),O&&(he.g=O),ue&&yr(he,ue),U&&(he.h=U),H=he}return U=h.G,O=h.wa,U&&O&&ot(H,U,O),ot(H,"VER",h.ka),Sr(h,H),H}function ku(h,O,U){if(O&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=h.Aa&&!h.ma?new ft(new Qr({ab:U})):new ft(h.ma),O.Fa(h.L),O}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}n=Pu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Is(){}Is.prototype.g=function(h,O){return new Yt(h,O)};function Yt(h,O){de.call(this),this.g=new Es(O),this.l=h,this.h=O&&O.messageUrlParams||null,h=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(h?h["X-WebChannel-Content-Type"]=O.messageContentType:h={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(h?h["X-WebChannel-Client-Profile"]=O.sa:h={"X-WebChannel-Client-Profile":O.sa}),this.g.U=h,(h=O&&O.Qb)&&!N(h)&&(this.g.u=h),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!N(O)&&(this.g.G=O,h=this.h,h!==null&&O in h&&(h=this.h,O in h&&delete h[O])),this.j=new Ci(this)}m(Yt,de),Yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){ws(this.g)},Yt.prototype.o=function(h){var O=this.g;if(typeof h=="string"){var U={};U.__data__=h,h=U}else this.v&&(U={},U.__data__=rt(h),h=U);O.i.push(new ih(O.Ya++,h)),O.I==3&&Jr(O)},Yt.prototype.N=function(){this.g.l=null,delete this.j,ws(this.g),delete this.g,Yt.Z.N.call(this)};function xu(h){cs.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var O=h.__sm__;if(O){e:{for(const U in O){h=U;break e}h=void 0}(this.i=h)&&(h=this.i,O=O!==null&&h in O?O[h]:void 0),this.data=O}else this.data=h}m(xu,cs);function Cu(){Pa.call(this),this.status=1}m(Cu,Pa);function Ci(h){this.g=h}m(Ci,Pu),Ci.prototype.ra=function(){we(this.g,"a")},Ci.prototype.qa=function(h){we(this.g,new xu(h))},Ci.prototype.pa=function(h){we(this.g,new Cu)},Ci.prototype.oa=function(){we(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,IT=function(){return new Is},AT=function(){return wi()},ST=Jn,Bm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,Vc=Si,Ai.COMPLETE="complete",bT=Ai,hu.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",de.prototype.listen=de.prototype.J,Il=hu,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,TT=ft}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let wa="12.8.0";function CP(n){wa=n}const Xo=new Ig("@firebase/firestore");function Ys(){return Xo.logLevel}function Pe(n,...e){if(Xo.logLevel<=Ye.DEBUG){const t=e.map(Pg);Xo.debug(`Firestore (${wa}): ${n}`,...t)}}function mi(n,...e){if(Xo.logLevel<=Ye.ERROR){const t=e.map(Pg);Xo.error(`Firestore (${wa}): ${n}`,...t)}}function ua(n,...e){if(Xo.logLevel<=Ye.WARN){const t=e.map(Pg);Xo.warn(`Firestore (${wa}): ${n}`,...t)}}function Pg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,RT(n,r,t)}function RT(n,e,t){let r=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mi(r),new Error(r)}function st(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||RT(e,o,r)}function We(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Br{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class kT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class NP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class LP{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new fi,e.enqueueRetryable((()=>o(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},c=f=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new fi)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new kT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class DP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class MP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const r=a=>{a.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new _1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=VP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function zm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Fd(o)===Fd(a)?Xe(o,a):Fd(o)?1:-1}return Xe(n.length,e.length)}const UP=55296,FP=57343;function Fd(n){const e=n.charCodeAt(0);return e>=UP&&e<=FP}function ca(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}const E1="__name__";class Or{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Or.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Xe(e.length,t.length)}static compareSegments(e,t){const r=Or.isNumericId(e),o=Or.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Or.extractNumericId(e).compare(Or.extractNumericId(t)):zm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return to.fromString(e.substring(4,e.length-2))}}class dt extends Or{construct(e,t,r){return new dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const qP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Or{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return qP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===E1}static keyField(){return new en([E1])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Ie(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else c==="`"?(l=!l,o++):c!=="."||l?(r+=c,o++):(a(),o++)}if(a(),l)throw new Ie(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(dt.fromString(e))}static fromName(e){return new Le(dt.fromString(e).popFirst(5))}static empty(){return new Le(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new dt(e.slice()))}}function PT(n,e,t){if(!t)throw new Ie(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BP(n,e,t,r){if(e===!0&&r===!0)throw new Ie(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function w1(n){if(!Le.isDocumentKey(n))throw new Ie(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function T1(n){if(Le.isDocumentKey(n))throw new Ie(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function If(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=If(n);throw new Ie(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function nu(n,e){if(!xT(n))throw new Ie(ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(o&&typeof l!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Ie(ge.INVALID_ARGUMENT,t);return!0}const b1=-62135596800,S1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*S1);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<b1)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/S1}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Vt("string",yt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new yt(0,0))}static max(){return new ze(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function zP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new oo(o,Le.empty(),e)}function HP(n){return new oo(n.readTime,n.key,ql)}class oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oo(ze.min(),Le.empty(),ql)}static max(){return new oo(ze.max(),Le.empty(),ql)}}function $P(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}const WP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ta(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==WP)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,r)=>{t(e)}))}static reject(e){return new ye(((t,r)=>{r(e)}))}static waitFor(e){return new ye(((t,r)=>{let o=0,a=0,l=!1;e.forEach((c=>{++o,c.next((()=>{++a,l&&a===o&&t()}),(f=>r(f)))})),l=!0,a===o&&t()}))}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next((o=>o?ye.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new ye(((r,o)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((v=>{l[p]=v,++c,c===a&&r(l)}),(v=>o(v)))}}))}static doWhile(e,t){return new ye(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function GP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ba(n){return n.name==="IndexedDbTransactionError"}class Rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;const Cg=-1;function kf(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function QP(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const CT="";function YP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=A1(e)),e=XP(n.get(t),e);return A1(e)}function XP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case CT:t+="";break;default:t+=a}}return t}function A1(n){return n+CT+""}function I1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R1(this.data.getIterator())}getIteratorFrom(e){return new R1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class R1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Bt(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ca(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class NT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new NT("Invalid base64 string: "+a):a}})(e);return new tn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a})(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const JP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if(st(!!n,39018),typeof n=="string"){let e=0;const t=JP.exec(n);if(st(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ao(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const LT="server_timestamp",DT="__type__",MT="__previous_value__",jT="__local_write_time__";function Og(n){return(n?.mapValue?.fields||{})[DT]?.stringValue===LT}function Pf(n){const e=n.mapValue.fields[MT];return Og(e)?Pf(e):e}function Bl(n){const e=so(n.mapValue.fields[jT].timestampValue);return new yt(e.seconds,e.nanos)}class ZP{constructor(e,t,r,o,a,l,c,f,p,v,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=m}}const rf="(default)";class zl{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function ex(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ie(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(n.options.projectId,e)}const VT="__type__",tx="__max__",Pc={mapValue:{}},UT="__vector__",of="value";function lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Og(n)?4:rx(n)?9007199254740991:nx(n)?10:11:Fe(28295,{value:n})}function qr(n,e){if(n===e)return!0;const t=lo(n);if(t!==lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bl(n).isEqual(Bl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=so(o.timestampValue),c=so(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return ao(o.bytesValue).isEqual(ao(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Ct(o.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Ct(o.integerValue)===Ct(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=Ct(o.doubleValue),c=Ct(a.doubleValue);return l===c?nf(l)===nf(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return ca(n.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return(function(o,a){const l=o.mapValue.fields||{},c=a.mapValue.fields||{};if(I1(l)!==I1(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!qr(l[f],c[f])))return!1;return!0})(n,e);default:return Fe(52216,{left:n})}}function Hl(n,e){return(n.values||[]).find((t=>qr(t,e)))!==void 0}function fa(n,e){if(n===e)return 0;const t=lo(n),r=lo(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Ct(a.integerValue||a.doubleValue),f=Ct(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return k1(n.timestampValue,e.timestampValue);case 4:return k1(Bl(n),Bl(e));case 5:return zm(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=ao(a),f=ao(l);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const v=Xe(c[p],f[p]);if(v!==0)return v}return Xe(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Xe(Ct(a.latitude),Ct(l.latitude));return c!==0?c:Xe(Ct(a.longitude),Ct(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return P1(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},f=l.fields||{},p=c[of]?.arrayValue,v=f[of]?.arrayValue,m=Xe(p?.values?.length||0,v?.values?.length||0);return m!==0?m:P1(p,v)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Pc.mapValue&&l===Pc.mapValue)return 0;if(a===Pc.mapValue)return 1;if(l===Pc.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let m=0;m<f.length&&m<v.length;++m){const d=zm(f[m],v[m]);if(d!==0)return d;const y=fa(c[f[m]],p[v[m]]);if(y!==0)return y}return Xe(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Fe(23264,{he:t})}}function k1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=so(n),r=so(e),o=Xe(t.seconds,r.seconds);return o!==0?o:Xe(t.nanos,r.nanos)}function P1(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=fa(t[o],r[o]);if(a)return a}return Xe(t.length,r.length)}function ha(n){return Hm(n)}function Hm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=so(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ao(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Le.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Hm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const l of r)a?a=!1:o+=",",o+=`${l}:${Hm(t.fields[l])}`;return o+"}"})(n.mapValue):Fe(61005,{value:n})}function Uc(n){switch(lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(n);return e?16+Uc(e):16;case 5:return 2*n.stringValue.length;case 6:return ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Uc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return ho(r.fields,((a,l)=>{o+=a.length+Uc(l)})),o})(n.mapValue);default:throw Fe(13486,{value:n})}}function x1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $m(n){return!!n&&"integerValue"in n}function Ng(n){return!!n&&"arrayValue"in n}function C1(n){return!!n&&"nullValue"in n}function O1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fc(n){return!!n&&"mapValue"in n}function nx(n){return(n?.mapValue?.fields||{})[VT]?.stringValue===UT}function Nl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ho(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Nl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return{...n}}function rx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tx}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=en.emptyPath(),r={},o=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=c.popLast()}l?r[c.lastSegment()]=Nl(l):o.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ho(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new An(Nl(this.value))}}function FT(n){const e=[];return ho(n.fields,((t,r)=>{const o=new en([t]);if(Fc(r)){const a=FT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)})),new Dn(e)}class fn{constructor(e,t,r,o,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new fn(e,0,ze.min(),ze.min(),ze.min(),An.empty(),0)}static newFoundDocument(e,t,r,o){return new fn(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new fn(e,2,t,ze.min(),ze.min(),An.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,ze.min(),ze.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(e,t){this.position=e,this.inclusive=t}}function N1(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],l=n.position[o];if(a.field.isKeyField()?r=Le.comparator(Le.fromName(l.referenceValue),t.key):r=fa(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function L1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qr(n.position[t],e.position[t]))return!1;return!0}class $l{constructor(e,t="asc"){this.field=e,this.dir=t}}function ix(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class qT{}class jt extends qT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sx(e,t,r):t==="array-contains"?new ux(e,r):t==="in"?new cx(e,r):t==="not-in"?new fx(e,r):t==="array-contains-any"?new hx(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ax(e,r):new lx(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(fa(t,this.value)):t!==null&&lo(this.value)===lo(t)&&this.matchesComparison(fa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends qT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hr(e,t)}matches(e){return BT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BT(n){return n.op==="and"}function zT(n){return ox(n)&&BT(n)}function ox(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function Wm(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+ha(n.value);if(zT(n))return n.filters.map((e=>Wm(e))).join(",");{const e=n.filters.map((t=>Wm(t))).join(",");return`${n.op}(${e})`}}function HT(n,e){return n instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&qr(r.value,o.value)})(n,e):n instanceof hr?(function(r,o){return o instanceof hr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,l,c)=>a&&HT(l,o.filters[c])),!0):!1})(n,e):void Fe(19439)}function $T(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ha(t.value)}`})(n):n instanceof hr?(function(t){return t.op.toString()+" {"+t.getFilters().map($T).join(" ,")+"}"})(n):"Filter"}class sx extends jt{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class ax extends jt{constructor(e,t){super(e,"in",t),this.keys=WT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lx extends jt{constructor(e,t){super(e,"not-in",t),this.keys=WT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function WT(n,e){return(e.arrayValue?.values||[]).map((t=>Le.fromName(t.referenceValue)))}class ux extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ng(t)&&Hl(t.arrayValue,this.value)}}class cx extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class fx extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hl(this.value.arrayValue,t)}}class hx extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ng(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Hl(this.value.arrayValue,r)))}}class dx{constructor(e,t=null,r=[],o=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function D1(n,e=null,t=[],r=[],o=null,a=null,l=null){return new dx(n,e,t,r,o,a,l)}function Lg(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Wm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),kf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ha(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ha(r))).join(",")),e.Te=t}return e.Te}function Dg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ix(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!HT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!L1(n.startAt,e.startAt)&&L1(n.endAt,e.endAt)}function Km(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Sa{constructor(e,t=null,r=[],o=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function px(n,e,t,r,o,a,l,c){return new Sa(n,e,t,r,o,a,l,c)}function Mg(n){return new Sa(n)}function M1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function mx(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function KT(n){return n.collectionGroup!==null}function Ll(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Bt(en.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $l(a,r))})),t.has(en.keyField().canonicalString())||e.Ie.push(new $l(en.keyField(),r))}return e.Ie}function Dr(n){const e=We(n);return e.Ee||(e.Ee=gx(e,Ll(n))),e.Ee}function gx(n,e){if(n.limitType==="F")return D1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new $l(o.field,a)}));const t=n.endAt?new sf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sf(n.startAt.position,n.startAt.inclusive):null;return D1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gm(n,e){const t=n.filters.concat([e]);return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function yx(n,e){const t=n.explicitOrderBy.concat([e]);return new Sa(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function af(n,e,t){return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return Dg(Dr(n),Dr(e))&&n.limitType===e.limitType}function GT(n){return`${Lg(Dr(n))}|lt:${n.limitType}`}function Xs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>$T(o))).join(", ")}]`),kf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ha(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ha(o))).join(",")),`Target(${r})`})(Dr(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Le.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Ll(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(l,c,f){const p=N1(l,c,f);return l.inclusive?p<=0:p<0})(r.startAt,Ll(r),o)||r.endAt&&!(function(l,c,f){const p=N1(l,c,f);return l.inclusive?p>=0:p>0})(r.endAt,Ll(r),o))})(n,e)}function vx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QT(n){return(e,t)=>{let r=!1;for(const o of Ll(n)){const a=_x(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function _x(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):(function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?fa(f,p):Fe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}class is{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}const Ex=new St(Le.comparator);function gi(){return Ex}const YT=new St(Le.comparator);function Rl(...n){let e=YT;for(const t of n)e=e.insert(t.key,t);return e}function XT(n){let e=YT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function $o(){return Dl()}function JT(){return Dl()}function Dl(){return new is((n=>n.toString()),((n,e)=>n.isEqual(e)))}const wx=new St(Le.comparator),Tx=new Bt(Le.comparator);function Je(...n){let e=Tx;for(const t of n)e=e.add(t);return e}const bx=new Bt(Xe);function Sx(){return bx}function jg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function ZT(n){return{integerValue:""+n}}function Ax(n,e){return QP(e)?ZT(e):jg(n,e)}class Of{constructor(){this._=void 0}}function Ix(n,e,t){return n instanceof Wl?(function(o,a){const l={fields:{[DT]:{stringValue:LT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Og(a)&&(a=Pf(a)),a&&(l.fields[MT]=a),{mapValue:l}})(t,e):n instanceof Kl?tb(n,e):n instanceof Gl?nb(n,e):(function(o,a){const l=eb(o,a),c=j1(l)+j1(o.Ae);return $m(l)&&$m(o.Ae)?ZT(c):jg(o.serializer,c)})(n,e)}function Rx(n,e,t){return n instanceof Kl?tb(n,e):n instanceof Gl?nb(n,e):t}function eb(n,e){return n instanceof lf?(function(r){return $m(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Wl extends Of{}class Kl extends Of{constructor(e){super(),this.elements=e}}function tb(n,e){const t=rb(e);for(const r of n.elements)t.some((o=>qr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Gl extends Of{constructor(e){super(),this.elements=e}}function nb(n,e){let t=rb(e);for(const r of n.elements)t=t.filter((o=>!qr(o,r)));return{arrayValue:{values:t}}}class lf extends Of{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function j1(n){return Ct(n.integerValue||n.doubleValue)}function rb(n){return Ng(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class kx{constructor(e,t){this.field=e,this.transform=t}}function Px(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Kl&&o instanceof Kl||r instanceof Gl&&o instanceof Gl?ca(r.elements,o.elements,qr):r instanceof lf&&o instanceof lf?qr(r.Ae,o.Ae):r instanceof Wl&&o instanceof Wl})(n.transform,e.transform)}class xx{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Nf{}function ib(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vg(n.key,Qn.none()):new ru(n.key,n.data,Qn.none());{const t=n.data,r=An.empty();let o=new Bt(en.comparator);for(let a of e.fields)if(!o.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),o=o.add(a)}return new po(n.key,r,new Dn(o.toArray()),Qn.none())}}function Cx(n,e,t){n instanceof ru?(function(o,a,l){const c=o.value.clone(),f=U1(o.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof po?(function(o,a,l){if(!qc(o.precondition,a))return void a.convertToUnknownDocument(l.version);const c=U1(o.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(ob(o)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Ml(n,e,t,r){return n instanceof ru?(function(a,l,c,f){if(!qc(a.precondition,l))return c;const p=a.value.clone(),v=F1(a.fieldTransforms,f,l);return p.setAll(v),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof po?(function(a,l,c,f){if(!qc(a.precondition,l))return c;const p=F1(a.fieldTransforms,f,l),v=l.data;return v.setAll(ob(a)),v.setAll(p),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(a,l,c){return qc(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function Ox(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=eb(r.transform,o||null);a!=null&&(t===null&&(t=An.empty()),t.set(r.field,a))}return t||null}function V1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ca(r,o,((a,l)=>Px(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ru extends Nf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class po extends Nf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ob(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function U1(n,e,t){const r=new Map;st(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const a=n[o],l=a.transform,c=e.data.field(a.field);r.set(a.field,Rx(l,c,t[o]))}return r}function F1(n,e,t){const r=new Map;for(const o of n){const a=o.transform,l=t.data.field(o.field);r.set(o.field,Ix(a,l,e))}return r}class Vg extends Nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx extends Nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lx{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&Cx(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=JT();return this.mutations.forEach((o=>{const a=e.get(o.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(o.key)?null:c;const f=ib(l,c);f!==null&&r.set(o.key,f),l.isValidDocument()||l.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&ca(this.mutations,e.mutations,((t,r)=>V1(t,r)))&&ca(this.baseMutations,e.baseMutations,((t,r)=>V1(t,r)))}}class Ug{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return wx})();const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new Ug(e,t,r,o)}}class Dx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Mx{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mt,tt;function jx(n){switch(n){case ge.OK:return Fe(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function sb(n){if(n===void 0)return mi("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Mt.OK:return ge.OK;case Mt.CANCELLED:return ge.CANCELLED;case Mt.UNKNOWN:return ge.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ge.INTERNAL;case Mt.UNAVAILABLE:return ge.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ge.NOT_FOUND;case Mt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Mt.ABORTED:return ge.ABORTED;case Mt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Mt.DATA_LOSS:return ge.DATA_LOSS;default:return Fe(39323,{code:n})}}(tt=Mt||(Mt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function Vx(){return new TextEncoder}const Ux=new to([4294967295,4294967295],0);function q1(n){const e=Vx().encode(n),t=new wT;return t.update(e),new Uint8Array(t.digest())}function B1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new to([t,r],0),new to([o,a],0)]}class Fg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kl(`Invalid padding: ${t}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new kl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=to.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(to.fromNumber(r)));return o.compare(Ux)===1&&(o=new to([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=q1(e),[r,o]=B1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,o,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Fg(a,o,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=q1(e),[r,o]=B1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,o,a);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lf(ze.min(),o,new St(Xe),gi(),Je())}}class iu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new iu(r,t,Je(),Je(),Je())}}class Bc{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=o}}class ab{constructor(e,t){this.targetId=e,this.Ce=t}}class lb{constructor(e,t,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class z1{constructor(){this.ve=0,this.Fe=H1(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),r=Je();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new iu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=H1()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Fx{constructor(e){this.Ge=e,this.ze=new Map,this.je=gi(),this.He=xc(),this.Je=xc(),this.Ze=new St(Xe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Km(a))if(r===0){const l=new Le(a.path);this.et(t,l,fn.newNoDocument(l,ze.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let l,c;try{l=ao(r).toUint8Array()}catch(f){if(f instanceof NT)return ua("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Fg(l,o,a)}catch(f){return ua(f instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Km(c.target)){const f=new Le(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,fn.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.Ke())}}));let r=Je();this.Je.forEach(((a,l)=>{let c=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const o=new Lf(e,t,this.Ze,this.je,r);return this.je=gi(),this.He=xc(),this.Je=xc(),this.Ze=new St(Xe),o}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new z1,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Bt(Xe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Bt(Xe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xc(){return new St(Le.comparator)}function H1(){return new St(Le.comparator)}const qx={asc:"ASCENDING",desc:"DESCENDING"},Bx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zx={and:"AND",or:"OR"};class Hx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qm(n,e){return n.useProto3Json||kf(e)?e:{value:e}}function uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ub(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $x(n,e){return uf(n,e.toTimestamp())}function Mr(n){return st(!!n,49232),ze.fromTimestamp((function(t){const r=so(t);return new yt(r.seconds,r.nanos)})(n))}function qg(n,e){return Ym(n,e).canonicalString()}function Ym(n,e){const t=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function cb(n){const e=dt.fromString(n);return st(mb(e),10190,{key:e.toString()}),e}function Xm(n,e){return qg(n.databaseId,e.path)}function qd(n,e){const t=cb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(hb(t))}function fb(n,e){return qg(n.databaseId,e)}function Wx(n){const e=cb(n);return e.length===4?dt.emptyPath():hb(e)}function Jm(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hb(n){return st(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function $1(n,e,t){return{name:Xm(n,e),fields:t.value.mapValue.fields}}function Kx(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Fe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,v){return p.useProto3Json?(st(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const v=p.code===void 0?ge.UNKNOWN:sb(p.code);return new Ie(v,p.message||"")})(l);t=new lb(r,o,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=qd(n,r.document.name),a=Mr(r.document.updateTime),l=r.document.createTime?Mr(r.document.createTime):ze.min(),c=new An({mapValue:{fields:r.document.fields}}),f=fn.newFoundDocument(o,a,l,c),p=r.targetIds||[],v=r.removedTargetIds||[];t=new Bc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=qd(n,r.document),a=r.readTime?Mr(r.readTime):ze.min(),l=fn.newNoDocument(o,a),c=r.removedTargetIds||[];t=new Bc([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=qd(n,r.document),a=r.removedTargetIds||[];t=new Bc([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,l=new Mx(o,a),c=r.targetId;t=new ab(c,l)}}return t}function Gx(n,e){let t;if(e instanceof ru)t={update:$1(n,e.key,e.value)};else if(e instanceof Vg)t={delete:Xm(n,e.key)};else if(e instanceof po)t={update:$1(n,e.key,e.data),updateMask:rC(e.fieldMask)};else{if(!(e instanceof Nx))return Fe(16599,{dt:e.type});t={verify:Xm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Wl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Kl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lf)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Fe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:$x(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(n,e.precondition)),t}function Qx(n,e){return n&&n.length>0?(st(e!==void 0,14353),n.map((t=>(function(o,a){let l=o.updateTime?Mr(o.updateTime):Mr(a);return l.isEqual(ze.min())&&(l=Mr(a)),new xx(l,o.transformResults||[])})(t,e)))):[]}function Yx(n,e){return{documents:[fb(n,e.path)]}}function Xx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fb(n,o);const a=(function(p){if(p.length!==0)return pb(hr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((v=>(function(d){return{field:Js(d.field),direction:eC(d.dir)}})(v)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Qm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function Jx(n){let e=Wx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){st(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(m){const d=db(m);return d instanceof hr&&zT(d)?d.getFilters():[d]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((d=>(function(S){return new $l(Zs(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(d)))})(t.orderBy));let c=null;t.limit&&(c=(function(m){let d;return d=typeof m=="object"?m.value:m,kf(d)?null:d})(t.limit));let f=null;t.startAt&&(f=(function(m){const d=!!m.before,y=m.values||[];return new sf(y,d)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const d=!m.before,y=m.values||[];return new sf(y,d)})(t.endAt)),px(e,o,l,a,c,"F",f,p)}function Zx(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function db(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zs(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Zs(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zs(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zs(t.unaryFilter.field);return jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(Zs(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hr.create(t.compositeFilter.filters.map((r=>db(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(t.compositeFilter.op))})(n):Fe(30097,{filter:n})}function eC(n){return qx[n]}function tC(n){return Bx[n]}function nC(n){return zx[n]}function Js(n){return{fieldPath:n.canonicalString()}}function Zs(n){return en.fromServerFormat(n.fieldPath)}function pb(n){return n instanceof jt?(function(t){if(t.op==="=="){if(O1(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NAN"}};if(C1(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(O1(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NAN"}};if(C1(t.value))return{unaryFilter:{field:Js(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(t.field),op:tC(t.op),value:t.value}}})(n):n instanceof hr?(function(t){const r=t.getFilters().map((o=>pb(o)));return r.length===1?r[0]:{compositeFilter:{op:nC(t.op),filters:r}}})(n):Fe(54877,{filter:n})}function rC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function mb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function gb(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ji{constructor(e,t,r,o,a=ze.min(),l=ze.min(),c=tn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iC{constructor(e){this.yt=e}}function oC(n){const e=Jx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?af(e,e.limit,"L"):e}class sC{constructor(){this.Sn=new aC}addToCollectionParentIndex(e,t){return this.Sn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(oo.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class aC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Bt(dt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bt(dt.comparator)).toArray()}}const W1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yb=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(yb,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class da{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new da(0)}static ar(){return new da(-1)}}const K1="LruGarbageCollector",lC=1048576;function G1([n,e],[t,r]){const o=Xe(n,t);return o===0?Xe(e,r):o}class uC{constructor(e){this.Pr=e,this.buffer=new Bt(G1),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();G1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class cC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Pe(K1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ba(t)?Pe(K1,"Ignoring IndexedDB error during garbage collection: ",t):await Ta(t)}await this.Ar(3e5)}))}}class fC{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(Rf.ce);const r=new uC(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(W1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),W1):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,o,a,l,c,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),o=this.params.maximumSequenceNumbersToCollect):o=m,l=Date.now(),this.nthSequenceNumber(e,o)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,t)))).next((m=>(a=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Ys()<=Ye.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${o} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:m}))))}}function hC(n,e){return new fC(n,e)}class dC{constructor(){this.changes=new is((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class mC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Ml(r.mutation,o,Dn.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Je()){const o=$o();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let l=Rl();return a.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=$o();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Je())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,o){let a=gi();const l=Dl(),c=(function(){return Dl()})();return t.forEach(((f,p)=>{const v=r.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof po)?a=a.insert(p.key,p):v!==void 0?(l.set(p.key,v.mutation.getFieldMask()),Ml(v.mutation,p,v.mutation.getFieldMask(),yt.now())):l.set(p.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,v)=>l.set(p,v))),t.forEach(((p,v)=>c.set(p,new pC(v,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Dl();let o=new St(((l,c)=>l-c)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||Dn.empty();v=c.applyToLocalView(p,v),r.set(f,v);const m=(o.get(c.batchId)||Je()).add(f);o=o.insert(c.batchId,m)}))})).next((()=>{const l=[],c=o.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,v=f.value,m=JT();v.forEach((d=>{if(!a.has(d)){const y=ib(t.get(d),r.get(d));y!==null&&m.set(d,y),a=a.add(d)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return ye.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return mx(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):KT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ye.resolve($o());let c=ql,f=a;return l.next((p=>ye.forEach(p,((v,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),a.get(v)?ye.resolve():this.remoteDocumentCache.getEntry(e,v).next((d=>{f=f.insert(v,d)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Je()))).next((v=>({batchId:c,changes:XT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next((r=>{let o=Rl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let l=Rl();return this.indexManager.getCollectionParents(e,a).next((c=>ye.forEach(c,(f=>{const p=(function(m,d){return new Sa(d,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((v=>{v.forEach(((m,d)=>{l=l.insert(m,d)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((l=>{a.forEach(((f,p)=>{const v=p.getKey();l.get(v)===null&&(l=l.insert(v,fn.newInvalidDocument(v)))}));let c=Rl();return l.forEach(((f,p)=>{const v=a.get(f);v!==void 0&&Ml(v.mutation,p,Dn.empty(),yt.now()),Cf(t,p)&&(c=c.insert(f,p))})),c}))}}class gC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ye.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:oC(o.bundledQuery),readTime:Mr(o.readTime)}})(t)),ye.resolve()}}class yC{constructor(){this.overlays=new St(Le.comparator),this.Lr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$o();return ye.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.bt(e,t,a)})),ye.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const o=$o(),a=t.length+1,l=new Le(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new St(((p,v)=>p-v));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=$o(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const c=$o(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>c.set(p,v))),!(c.size()>=o)););return ye.resolve(c)}bt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const l=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Dx(t,r));let a=this.Lr.get(t);a===void 0&&(a=Je(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class vC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}class Bg{constructor(){this.kr=new Bt(Kt.Kr),this.qr=new Bt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Kt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Le(new dt([])),r=new Kt(t,e),o=new Kt(t,e+1),a=[];return this.qr.forEachInRange([r,o],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Le(new dt([])),r=new Kt(t,e),o=new Kt(t,e+1);let a=Je();return this.qr.forEachInRange([r,o],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Kt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Le.comparator(e.key,t.key)||Xe(e.Hr,t.Hr)}static Ur(e,t){return Xe(e.Hr,t.Hr)||Le.comparator(e.key,t.key)}}class _C{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Kt.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lx(a,t,r,o);this.mutationQueue.push(l);for(const c of o)this.Jr=this.Jr.add(new Kt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,t){return ye.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Cg:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,o],(l=>{const c=this.Zr(l.Hr);a.push(c)})),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Xe);return t.forEach((o=>{const a=new Kt(o,0),l=new Kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(c=>{r=r.add(c.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Le.isDocumentKey(a)||(a=a.child(""));const l=new Kt(new Le(a),0);let c=new Bt(Xe);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(c=c.add(f.Hr)),!0)}),l),ye.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){st(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(t.mutations,(o=>{const a=new Kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Kt(t,0),o=this.Jr.firstAfterOrEqual(r);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class EC{constructor(e){this.ti=e,this.docs=(function(){return new St(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=gi();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():fn.newInvalidDocument(o))})),ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=gi();const l=t.path,c=new Le(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||$P(HP(v),r)<=0||(o.has(v.key)||Cf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe(9500)}ni(e,t){return ye.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new wC(this)}getSize(e){return ye.resolve(this.size)}}class wC extends dC{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ye.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class TC{constructor(e){this.persistence=e,this.ri=new is((t=>Lg(t)),Dg),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new Bg,this.targetCount=0,this.oi=da._r()}forEachTarget(e,t){return this.ri.forEach(((r,o)=>t(o))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ye.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new da(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.lr(t),ye.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)})),ye.waitFor(a).next((()=>o))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((l=>{a.push(o.markPotentiallyOrphaned(e,l))})),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.si.containsKey(t))}}class vb{constructor(e,t){this._i={},this.overlays={},this.ai=new Rf(0),this.ui=!1,this.ui=!0,this.ci=new vC,this.referenceDelegate=e(this),this.li=new TC(this),this.indexManager=new sC,this.remoteDocumentCache=(function(o){return new EC(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new iC(t),this.Pi=new gC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new _C(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new bC(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class bC extends KP{constructor(e){super(),this.currentSequenceNumber=e}}class zg{constructor(e){this.persistence=e,this.Ri=new Bg,this.Ai=null}static Vi(e){return new zg(e)}get di(){if(this.Ai)return this.Ai;throw Fe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const o=Le.fromPath(r);return this.mi(e,o).next((a=>{a||t.removeEntry(o,ze.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class cf{constructor(e,t){this.persistence=e,this.fi=new is((r=>YP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=hC(this,t)}static Vi(e,t){return new cf(e,t)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ye.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((a=>a?ye.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(l=>this.wr(e,l,t).next((c=>{c||(r++,a.removeEntry(l,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uc(e.data.value)),t}wr(e,t,r){return ye.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ye.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=o}static Es(e,t){let r=Je(),o=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Hg(e,t.fromCache,r,o)}}class SC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class AC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dk()?8:GP(hn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.gs(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,t,o,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new SC;return this.ys(e,t,l).next((c=>{if(a.result=c,this.As)return this.ws(e,t,l,c.size)}))})).next((()=>a.result))}ws(e,t,r,o){return r.documentReadCount<this.Vs?(Ys()<=Ye.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(Ys()<=Ye.DEBUG&&Pe("QueryEngine","Query:",Xs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Ys()<=Ye.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):ye.resolve())}gs(e,t){if(M1(t))return ye.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=af(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Je(...a);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(t,c);return this.Ss(t,p,l,f.readTime)?this.gs(e,af(t,null,"F")):this.Ds(e,p,t,f)}))))})))))}ps(e,t,r,o){return M1(t)||o.isEqual(ze.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ss(t,l,r,o)?ye.resolve(null):(Ys()<=Ye.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xs(t)),this.Ds(e,l,t,zP(o,ql)).next((c=>c)))}))}bs(e,t){let r=new Bt(QT(e));return t.forEach(((o,a)=>{Cf(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,t,r){return Ys()<=Ye.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Xs(t)),this.fs.getDocumentsMatchingQuery(e,t,oo.min(),r)}Ds(e,t,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const $g="LocalStore",IC=3e8;class RC{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new St(Xe),this.Fs=new is((a=>Lg(a)),Dg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function kC(n,e,t,r){return new RC(n,e,t,r)}async function _b(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let f=Je();for(const p of o){l.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function PC(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,p,v){const m=p.batch,d=m.keys();let y=ye.resolve();return d.forEach((S=>{y=y.next((()=>v.getEntry(f,S))).next((_=>{const E=p.docVersions.get(S);st(E!==null,48541),_.version.compareTo(E)<0&&(m.applyToRemoteDocument(_,p),_.isValidDocument()&&(_.setReadTime(p.commitVersion),v.addEntry(_)))}))})),y.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function Eb(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function xC(n,e){const t=We(n),r=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const c=[];e.targetChanges.forEach(((v,m)=>{const d=o.get(m);if(!d)return;c.push(t.li.removeMatchingKeys(a,v.removedDocuments,m).next((()=>t.li.addMatchingKeys(a,v.addedDocuments,m))));let y=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(v.resumeToken,r)),o=o.insert(m,y),(function(_,E,w){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=IC?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(d,y,v)&&c.push(t.li.updateTargetData(a,y))}));let f=gi(),p=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),c.push(CC(a,l,e.documentUpdates).next((v=>{f=v.Bs,p=v.Ls}))),!r.isEqual(ze.min())){const v=t.li.getLastRemoteSnapshotVersion(a).next((m=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(v)}return ye.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.vs=o,a)))}function CC(n,e,t){let r=Je(),o=Je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=gi();return t.forEach(((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(c)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Pe($g,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)})),{Bs:l,Ls:o}}))}function OC(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Cg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function NC(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.li.getTargetData(r,e).next((a=>a?(o=a,ye.resolve(o)):t.li.allocateTargetId(r).next((l=>(o=new Ji(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Zm(n,e,t){const r=We(n),o=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!ba(l))throw l;Pe($g,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function Q1(n,e,t){const r=We(n);let o=ze.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,v){const m=We(f),d=m.Fs.get(v);return d!==void 0?ye.resolve(m.vs.get(d)):m.li.getTargetData(p,v)})(r,l,Dr(e)).next((c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?o:ze.min(),t?a:Je()))).next((c=>(LC(r,vx(e),c),{documents:c,ks:a})))))}function LC(n,e,t){let r=n.Ms.get(e)||ze.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class Y1{constructor(){this.activeTargetIds=Sx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DC{constructor(){this.vo=new Y1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Y1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MC{Mo(e){}shutdown(){}}const X1="ConnectivityMonitor";class J1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Pe(X1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Pe(X1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function eg(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const Bd="RestConnection",jC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class VC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const l=eg(),c=this.Qo(e,t.toUriEncodedString());Pe(Bd,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,o,a);const{host:p}=new URL(c),v=fo(p);return this.zo(e,c,f,r,v).then((m=>(Pe(Bd,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw ua(Bd,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}jo(e,t,r,o,a,l){return this.Wo(e,t,r,o,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Qo(e,t){const r=jC[e];let o=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class UC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",El=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ta extends VC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!ta.c_){const e=AT();El(e,ST.STAT_EVENT,(t=>{t.stat===Bm.PROXY?Pe(un,"STAT_EVENT: detected buffering proxy"):t.stat===Bm.NOPROXY&&Pe(un,"STAT_EVENT: detected no buffering proxy")})),ta.c_=!0}}zo(e,t,r,o,a){const l=eg();return new Promise(((c,f)=>{const p=new TT;p.setWithCredentials(!0),p.listenOnce(bT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Vc.NO_ERROR:const m=p.getResponseJson();Pe(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Vc.TIMEOUT:Pe(un,`RPC '${e}' ${l} timed out`),f(new Ie(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const d=p.getStatus();if(Pe(un,`RPC '${e}' ${l} failed with status:`,d,"response text:",p.getResponseText()),d>0){let y=p.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y?.error;if(S&&S.status&&S.message){const _=(function(w){const T=w.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(T)>=0?T:ge.UNKNOWN})(S.status);f(new Ie(_,S.message))}else f(new Ie(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ie(ge.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Pe(un,`RPC '${e}' ${l} completed.`)}}));const v=JSON.stringify(o);Pe(un,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const o=eg(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");Pe(un,`Creating RPC '${e}' stream ${o}: ${p}`,c);const v=l.createWebChannel(p,c);this.I_(v);let m=!1,d=!1;const y=new UC({Ho:S=>{d?Pe(un,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(m||(Pe(un,`Opening RPC '${e}' stream ${o} transport.`),v.open(),m=!0),Pe(un,`RPC '${e}' stream ${o} sending:`,S),v.send(S))},Jo:()=>v.close()});return El(v,Il.EventType.OPEN,(()=>{d||(Pe(un,`RPC '${e}' stream ${o} transport opened.`),y.i_())})),El(v,Il.EventType.CLOSE,(()=>{d||(d=!0,Pe(un,`RPC '${e}' stream ${o} transport closed`),y.o_(),this.E_(v))})),El(v,Il.EventType.ERROR,(S=>{d||(d=!0,ua(un,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),y.o_(new Ie(ge.UNAVAILABLE,"The operation could not be completed")))})),El(v,Il.EventType.MESSAGE,(S=>{if(!d){const _=S.data[0];st(!!_,16349);const E=_,w=E?.error||E[0]?.error;if(w){Pe(un,`RPC '${e}' stream ${o} received error:`,w);const T=w.status;let k=(function(F){const P=Mt[F];if(P!==void 0)return sb(P)})(T),b=w.message;k===void 0&&(k=ge.INTERNAL,b="Unknown error status: "+T+" with message "+w.message),d=!0,y.o_(new Ie(k,b)),v.close()}else Pe(un,`RPC '${e}' stream ${o} received:`,_),y.__(_)}})),ta.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return IT()}}function FC(n){return new ta(n)}function zd(){return typeof document<"u"?document:null}function Df(n){return new Hx(n,!0)}ta.c_=!1;class wb{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Z1="PersistentStream";class Tb{constructor(e,t,r,o,a,l,c,f){this.Ci=e,this.b_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new Ie(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(Z1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Pe(Z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class qC extends Tb{constructor(e,t,r,o,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Kx(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Mr(l.readTime):ze.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Jm(this.serializer),t.addTarget=(function(a,l){let c;const f=l.target;if(c=Km(f)?{documents:Yx(a,f)}:{query:Xx(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ub(a,l.resumeToken);const p=Qm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ze.min())>0){c.readTime=uf(a,l.snapshotVersion.toTimestamp());const p=Qm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=Zx(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Jm(this.serializer),t.removeTarget=e,this.K_(t)}}class BC extends Tb{constructor(e,t,r,o,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Qx(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Jm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Gx(this.serializer,r)))};this.K_(t)}}class zC{}class HC extends zC{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Ym(t,r),o,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ge.UNKNOWN,a.toString())}))}jo(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,Ym(t,r),o,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(ge.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function $C(n,e,t,r){return new HC(n,e,t,r)}class WC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(t),this.aa=!1):Pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jo="RemoteStore";class KC{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{os(this)&&(Pe(Jo,"Restarting streams for network reachability change."),await(async function(f){const p=We(f);p.Ea.add(4),await ou(p),p.Va.set("Unknown"),p.Ea.delete(4),await Mf(p)})(this))}))})),this.Va=new WC(r,o)}}async function Mf(n){if(os(n))for(const e of n.Ra)await e(!0)}async function ou(n){for(const e of n.Ra)await e(!1)}function bb(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Qg(t)?Gg(t):Aa(t).O_()&&Kg(t,e))}function Wg(n,e){const t=We(n),r=Aa(t);t.Ia.delete(e),r.O_()&&Sb(t,e),t.Ia.size===0&&(r.O_()?r.L_():os(t)&&t.Va.set("Unknown"))}function Kg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).Z_(e)}function Sb(n,e){n.da.$e(e),Aa(n).X_(e)}function Gg(n){n.da=new Fx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Va.ua()}function Qg(n){return os(n)&&!Aa(n).x_()&&n.Ia.size>0}function os(n){return We(n).Ea.size===0}function Ab(n){n.da=void 0}async function GC(n){n.Va.set("Online")}async function QC(n){n.Ia.forEach(((e,t)=>{Kg(n,e)}))}async function YC(n,e){Ab(n),Qg(n)?(n.Va.ha(e),Gg(n)):n.Va.set("Unknown")}async function XC(n,e,t){if(n.Va.set("Online"),e instanceof lb&&e.state===2&&e.cause)try{await(async function(o,a){const l=a.cause;for(const c of a.targetIds)o.Ia.has(c)&&(await o.remoteSyncer.rejectListen(c,l),o.Ia.delete(c),o.da.removeTarget(c))})(n,e)}catch(r){Pe(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ff(n,r)}else if(e instanceof Bc?n.da.Xe(e):e instanceof ab?n.da.st(e):n.da.tt(e),!t.isEqual(ze.min()))try{const r=await Eb(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.da.Tt(l);return c.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,p)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),Sb(a,f);const m=new Ji(v.target,f,p,v.sequenceNumber);Kg(a,m)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Pe(Jo,"Failed to raise snapshot:",r),await ff(n,r)}}async function ff(n,e,t){if(!ba(e))throw e;n.Ea.add(1),await ou(n),n.Va.set("Offline"),t||(t=()=>Eb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Pe(Jo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Mf(n)}))}function Ib(n,e){return e().catch((t=>ff(n,t,e)))}async function jf(n){const e=We(n),t=uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cg;for(;JC(e);)try{const o=await OC(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,ZC(e,o)}catch(o){await ff(e,o)}Rb(e)&&kb(e)}function JC(n){return os(n)&&n.Ta.length<10}function ZC(n,e){n.Ta.push(e);const t=uo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Rb(n){return os(n)&&!uo(n).x_()&&n.Ta.length>0}function kb(n){uo(n).start()}async function eO(n){uo(n).ra()}async function tO(n){const e=uo(n);for(const t of n.Ta)e.ea(t.mutations)}async function nO(n,e,t){const r=n.Ta.shift(),o=Ug.from(r,e,t);await Ib(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await jf(n)}async function rO(n,e){e&&uo(n).Y_&&await(async function(r,o){if((function(l){return jx(l)&&l!==ge.ABORTED})(o.code)){const a=r.Ta.shift();uo(r).B_(),await Ib(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await jf(r)}})(n,e),Rb(n)&&kb(n)}async function e0(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Pe(Jo,"RemoteStore received new credentials");const r=os(t);t.Ea.add(3),await ou(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Mf(t)}async function iO(n,e){const t=We(n);e?(t.Ea.delete(2),await Mf(t)):e||(t.Ea.add(2),await ou(t),t.Va.set("Unknown"))}function Aa(n){return n.ma||(n.ma=(function(t,r,o){const a=We(t);return a.sa(),new qC(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:GC.bind(null,n),Yo:QC.bind(null,n),t_:YC.bind(null,n),J_:XC.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Qg(n)?Gg(n):n.Va.set("Unknown")):(await n.ma.stop(),Ab(n))}))),n.ma}function uo(n){return n.fa||(n.fa=(function(t,r,o){const a=We(t);return a.sa(),new BC(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:eO.bind(null,n),t_:rO.bind(null,n),ta:tO.bind(null,n),na:nO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await jf(n)):(await n.fa.stop(),n.Ta.length>0&&(Pe(Jo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Yg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const l=Date.now()+r,c=new Yg(e,t,l,o,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xg(n,e){if(mi("AsyncQueue",`${e}: ${n}`),ba(n))return new Ie(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Rl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class t0{constructor(){this.ga=new St(Le.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Fe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class pa{constructor(e,t,r,o,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new pa(e,t,na.emptySet(t),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class oO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class sO{constructor(){this.queries=n0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=We(t),a=o.queries;o.queries=n0(),a.forEach(((l,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new Ie(ge.ABORTED,"Firestore shutting down"))}}function n0(){return new is((n=>GT(n)),xf)}async function Pb(n,e){const t=We(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.Da()&&(r=2):(a=new oO,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(l){const c=Xg(l,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(c)}t.queries.set(o,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Jg(t)}async function xb(n,e){const t=We(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function aO(n,e){const t=We(n);let r=!1;for(const o of e){const a=o.query,l=t.queries.get(a);if(l){for(const c of l.ba)c.Fa(o)&&(r=!0);l.wa=o}}r&&Jg(t)}function lO(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const a of o.ba)a.onError(t);r.queries.delete(e)}function Jg(n){n.Ca.forEach((e=>{e.next()}))}var tg,r0;(r0=tg||(tg={})).Ma="default",r0.Cache="cache";class Cb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tg.Cache}}class Ob{constructor(e){this.key=e}}class Nb{constructor(e){this.key=e}}class uO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=QT(e),this.tu=new na(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new t0,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=o,c=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,m)=>{const d=o.get(v),y=Cf(this.query,m)?m:null,S=!!d&&this.mutatedKeys.has(d.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;d&&y?d.data.isEqual(y.data)?S!==_&&(r.track({type:3,doc:y}),E=!0):this.su(d,y)||(r.track({type:2,doc:y}),E=!0,(f&&this.eu(y,f)>0||p&&this.eu(y,p)<0)&&(c=!0)):!d&&y?(r.track({type:0,doc:y}),E=!0):d&&!y&&(r.track({type:1,doc:d}),E=!0,(f||p)&&(c=!0)),E&&(y?(l=l.add(y),a=_?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:l,iu:r,Ss:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((v,m)=>(function(y,S){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:E})}};return _(y)-_(S)})(v.type,m.type)||this.eu(v.doc,m.doc))),this.ou(r),o=o??!1;const c=t&&!o?this._u():[],f=this.Ya.size===0&&this.current&&!o?1:0,p=f!==this.Xa;return this.Xa=f,l.length!==0||p?{snapshot:new pa(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new t0,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new Nb(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new Ob(r))})),t}cu(e){this.Za=e.ks,this.Ya=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Zg="SyncEngine";class cO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fO{constructor(e){this.key=e,this.hu=!1}}class hO{constructor(e,t,r,o,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new is((c=>GT(c)),xf),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(Le.comparator),this.Au=new Map,this.Vu=new Bg,this.du={},this.mu=new Map,this.fu=da.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dO(n,e,t=!0){const r=Ub(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await Lb(r,e,t,!0),o}async function pO(n,e){const t=Ub(n);await Lb(t,e,!0,!1)}async function Lb(n,e,t,r){const o=await NC(n.localStore,Dr(e)),a=o.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await mO(n,e,a,l==="current",o.resumeToken)),n.isPrimaryClient&&t&&bb(n.remoteStore,o),c}async function mO(n,e,t,r,o){n.pu=(m,d,y)=>(async function(_,E,w,T){let k=E.view.ru(w);k.Ss&&(k=await Q1(_.localStore,E.query,!1).then((({documents:P})=>E.view.ru(P,k))));const b=T&&T.targetChanges.get(E.targetId),D=T&&T.targetMismatches.get(E.targetId)!=null,F=E.view.applyChanges(k,_.isPrimaryClient,b,D);return o0(_,E.targetId,F.au),F.snapshot})(n,m,d,y);const a=await Q1(n.localStore,e,!0),l=new uO(e,a.ks),c=l.ru(a.documents),f=iu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=l.applyChanges(c,n.isPrimaryClient,f);o0(n,t,p.au);const v=new cO(e,t,l);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function gO(n,e,t){const r=We(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((l=>!xf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Zm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Wg(r.remoteStore,o.targetId),ng(r,o.targetId)})).catch(Ta)):(ng(r,o.targetId),await Zm(r.localStore,o.targetId,!0))}async function yO(n,e){const t=We(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wg(t.remoteStore,r.targetId))}async function vO(n,e,t){const r=AO(n);try{const o=await(function(l,c){const f=We(l),p=yt.now(),v=c.reduce(((y,S)=>y.add(S.key)),Je());let m,d;return f.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let S=gi(),_=Je();return f.xs.getEntries(y,v).next((E=>{S=E,S.forEach(((w,T)=>{T.isValidDocument()||(_=_.add(w))}))})).next((()=>f.localDocuments.getOverlayedDocuments(y,S))).next((E=>{m=E;const w=[];for(const T of c){const k=Ox(T,m.get(T.key).overlayedDocument);k!=null&&w.push(new po(T.key,k,FT(k.value.mapValue),Qn.exists(!0)))}return f.mutationQueue.addMutationBatch(y,p,w,c)})).next((E=>{d=E;const w=E.applyToLocalDocumentSet(m,_);return f.documentOverlayCache.saveOverlays(y,E.batchId,w)}))})).then((()=>({batchId:d.batchId,changes:XT(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(l,c,f){let p=l.du[l.currentUser.toKey()];p||(p=new St(Xe)),p=p.insert(c,f),l.du[l.currentUser.toKey()]=p})(r,o.batchId,t),await su(r,o.changes),await jf(r.remoteStore)}catch(o){const a=Xg(o,"Failed to persist write");t.reject(a)}}async function Db(n,e){const t=We(n);try{const r=await xC(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const l=t.Au.get(a);l&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.hu=!0:o.modifiedDocuments.size>0?st(l.hu,14607):o.removedDocuments.size>0&&(st(l.hu,42227),l.hu=!1))})),await su(t,r,e)}catch(r){await Ta(r)}}function i0(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&o.push(c.snapshot)})),(function(l,c){const f=We(l);f.onlineState=c;let p=!1;f.queries.forEach(((v,m)=>{for(const d of m.ba)d.va(c)&&(p=!0)})),p&&Jg(f)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _O(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let l=new St(Le.comparator);l=l.insert(a,fn.newNoDocument(a,ze.min()));const c=Je().add(a),f=new Lf(ze.min(),new Map,new St(Xe),l,c);await Db(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),ey(r)}else await Zm(r.localStore,e,!1).then((()=>ng(r,e,t))).catch(Ta)}async function EO(n,e){const t=We(n),r=e.batch.batchId;try{const o=await PC(t.localStore,e);jb(t,r,null),Mb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await su(t,o)}catch(o){await Ta(o)}}async function wO(n,e,t){const r=We(n);try{const o=await(function(l,c){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,c).next((m=>(st(m!==null,37113),v=m.keys(),f.mutationQueue.removeMutationBatch(p,m)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);jb(r,e,t),Mb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await su(r,o)}catch(o){await Ta(o)}}function Mb(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function jb(n,e,t){const r=We(n);let o=r.du[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||Vb(n,r)}))}function Vb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Wg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),ey(n))}function o0(n,e,t){for(const r of t)r instanceof Ob?(n.Vu.addReference(r.key,e),TO(n,r)):r instanceof Nb?(Pe(Zg,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||Vb(n,r.key)):Fe(19791,{wu:r})}function TO(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Pe(Zg,"New document in limbo: "+t),n.Eu.add(r),ey(n))}function ey(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Le(dt.fromString(e)),r=n.fu.next();n.Au.set(r,new fO(t)),n.Ru=n.Ru.insert(t,r),bb(n.remoteStore,new Ji(Dr(Mg(t.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function su(n,e,t){const r=We(n),o=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Hg.Es(f.targetId,p);a.push(v)}})))})),await Promise.all(l),r.Pu.J_(o),await(async function(f,p){const v=We(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ye.forEach(p,(d=>ye.forEach(d.Ts,(y=>v.persistence.referenceDelegate.addReference(m,d.targetId,y))).next((()=>ye.forEach(d.Is,(y=>v.persistence.referenceDelegate.removeReference(m,d.targetId,y)))))))))}catch(m){if(!ba(m))throw m;Pe($g,"Failed to update sequence numbers: "+m)}for(const m of p){const d=m.targetId;if(!m.fromCache){const y=v.vs.get(d),S=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(S);v.vs=v.vs.insert(d,_)}}})(r.localStore,a))}async function bO(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Pe(Zg,"User change. New user:",e.toKey());const r=await _b(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((f=>{f.reject(new Ie(ge.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(t,r.Ns)}}function SO(n,e){const t=We(n),r=t.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let o=Je();const a=t.Iu.get(e);if(!a)return o;for(const l of a){const c=t.Tu.get(l);o=o.unionWith(c.view.nu)}return o}}function Ub(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Db.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_O.bind(null,e),e.Pu.J_=aO.bind(null,e.eventManager),e.Pu.yu=lO.bind(null,e.eventManager),e}function AO(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wO.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kC(this.persistence,new AC,e.initialUser,this.serializer)}Cu(e){return new vb(zg.Vi,this.serializer)}Du(e){return new DC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class IO extends hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cC(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new vb((r=>cf.Vi(r,t)),this.serializer)}}class rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>i0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bO.bind(null,this.syncEngine),await iO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new sO})()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),r=FC(e.databaseInfo);return $C(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,l,c){return new KC(r,o,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>i0(this.syncEngine,t,0)),(function(){return J1.v()?new J1:new MC})())}createSyncEngine(e,t){return(function(o,a,l,c,f,p,v){const m=new hO(o,a,l,c,f,p);return v&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=We(t);Pe(Jo,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rg.provider={build:()=>new rg};class Fb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const co="FirestoreClient";class RO{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Pe(co,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Pe(co,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Xg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hd(n,e){n.asyncQueue.verifyOperationInProgress(),Pe(co,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await _b(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function s0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await kO(n);Pe(co,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>e0(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>e0(e.remoteStore,o))),n._onlineComponents=e}async function kO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe(co,"Using user provided OfflineComponentProvider");try{await Hd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ge.FAILED_PRECONDITION||o.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ua("Error using user provided cache. Falling back to memory cache: "+t),await Hd(n,new hf)}}else Pe(co,"Using default OfflineComponentProvider"),await Hd(n,new IO(void 0));return n._offlineComponents}async function qb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe(co,"Using user provided OnlineComponentProvider"),await s0(n,n._uninitializedComponentsProvider._online)):(Pe(co,"Using default OnlineComponentProvider"),await s0(n,new rg))),n._onlineComponents}function PO(n){return qb(n).then((e=>e.syncEngine))}async function Bb(n){const e=await qb(n),t=e.eventManager;return t.onListen=dO.bind(null,e.syncEngine),t.onUnlisten=gO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=pO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yO.bind(null,e.syncEngine),t}function xO(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const v=new Fb({next:d=>{v.Nu(),l.enqueueAndForget((()=>xb(a,m)));const y=d.docs.has(c);!y&&d.fromCache?p.reject(new Ie(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&d.fromCache&&f&&f.source==="server"?p.reject(new Ie(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(d)},error:d=>p.reject(d)}),m=new Cb(Mg(c.path),v,{includeMetadataChanges:!0,Ka:!0});return Pb(a,m)})(await Bb(n),n.asyncQueue,e,t,r))),r.promise}function CO(n,e,t={}){const r=new fi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const v=new Fb({next:d=>{v.Nu(),l.enqueueAndForget((()=>xb(a,m))),d.fromCache&&f.source==="server"?p.reject(new Ie(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(d)},error:d=>p.reject(d)}),m=new Cb(c,v,{includeMetadataChanges:!0,Ka:!0});return Pb(a,m)})(await Bb(n),n.asyncQueue,e,t,r))),r.promise}function OO(n,e){const t=new fi;return n.asyncQueue.enqueueAndForget((async()=>vO(await PO(n),e,t))),t.promise}function zb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const NO="ComponentProvider",a0=new Map;function LO(n,e,t,r,o){return new ZP(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,zb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Hb="firestore.googleapis.com",l0=!0;class u0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Hb,this.ssl=l0}else this.host=e.host,this.ssl=e.ssl??l0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lC)throw new Ie(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new OP;switch(r.type){case"firstParty":return new MP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=a0.get(t);r&&(Pe(NO,"Removing Datastore"),a0.delete(t),r.terminate())})(this),Promise.resolve()}}function DO(n,e,t,r={}){n=fr(n,Vf);const o=fo(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;o&&(Sg(`https://${c}`),Ag("Firestore",!0)),a.host!==Hb&&a.host!==c&&ua("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:o,emulatorOptions:r};if(!Qo(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=cn.MOCK_USER;else{p=mT(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ie(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(m)}n._authCredentials=new NP(new kT(p,v))}}class mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(nu(t,Ot._jsonSchema))return new Ot(e,r||null,new Le(dt.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Vt("string",Ot._jsonSchemaVersion),referencePath:Vt("string")};class no extends mo{constructor(e,t,r){super(e,t,Mg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Le(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Uf(n,e,...t){if(n=wt(n),PT("collection","path",e),n instanceof Vf){const r=dt.fromString(e,...t);return T1(r),new no(n,null,r)}{if(!(n instanceof Ot||n instanceof no))throw new Ie(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return T1(r),new no(n.firestore,null,r)}}function Zo(n,e,...t){if(n=wt(n),arguments.length===1&&(e=xg.newId()),PT("doc","path",e),n instanceof Vf){const r=dt.fromString(e,...t);return w1(r),new Ot(n,null,new Le(r))}{if(!(n instanceof Ot||n instanceof no))throw new Ie(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return w1(r),new Ot(n.firestore,n instanceof no?n.converter:null,new Le(r))}}const c0="AsyncQueue";class f0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wb(this,"async_queue_retry"),this._c=()=>{const r=zd();r&&Pe(c0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=zd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=zd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new fi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ba(e))throw e;Pe(c0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",h0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Yg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Fe(47125,{Pc:h0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function h0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class ss extends Vf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new f0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f0(e),this._firestoreClient=void 0,await e}}}function MO(n,e){const t=typeof n=="object"?n:kg(),r=typeof n=="string"?n:rf,o=Af(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=hT("firestore");a&&DO(o,...a)}return o}function ty(n){if(n._terminated)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jO(n),n._firestoreClient}function jO(n){const e=n._freezeSettings(),t=LO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new RO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(tn.fromBase64String(e))}catch(t){throw new Ie(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Vt("string",Gn._jsonSchemaVersion),bytes:Vt("string")};class ny{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ff{constructor(e){this._methodName=e}}class jr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(nu(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:Vt("string",jr._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class cr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cr(e.vectorValues);throw new Ie(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Vt("string",cr._jsonSchemaVersion),vectorValues:Vt("object")};const VO=/^__.*__$/;class UO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,t,this.fieldTransforms):new ru(e,this.data,t,this.fieldTransforms)}}class $b{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new po(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Wb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{dataSource:n})}}class ry{constructor(e,t,r,o,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ry({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return df(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Wb(this.dataSource)&&VO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class FO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}createContext(e,t,r,o=!1){return new ry({dataSource:e,methodName:t,targetDoc:r,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(n){const e=n._freezeSettings(),t=Df(n._databaseId);return new FO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Kb(n,e,t,r,o,a={}){const l=n.createContext(a.merge||a.mergeFields?2:0,e,t,o);oy("Data must be an object, but it was:",l,r);const c=Gb(r,l);let f,p;if(a.merge)f=new Dn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const v=[];for(const m of a.mergeFields){const d=es(e,m,t);if(!l.contains(d))throw new Ie(ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Xb(v,d)||v.push(d)}f=new Dn(v),p=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,p=l.fieldTransforms;return new UO(new An(c),f,p)}class Bf extends Ff{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}class iy extends Ff{_toFieldTransform(e){return new kx(e.path,new Wl)}isEqual(e){return e instanceof iy}}function qO(n,e,t,r){const o=n.createContext(1,e,t);oy("Data must be an object, but it was:",o,r);const a=[],l=An.empty();ho(r,((f,p)=>{const v=Yb(e,f,t);p=wt(p);const m=o.childContextForFieldPath(v);if(p instanceof Bf)a.push(v);else{const d=au(p,m);d!=null&&(a.push(v),l.set(v,d))}}));const c=new Dn(a);return new $b(l,c,o.fieldTransforms)}function BO(n,e,t,r,o,a){const l=n.createContext(1,e,t),c=[es(e,r,t)],f=[o];if(a.length%2!=0)throw new Ie(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)c.push(es(e,a[d])),f.push(a[d+1]);const p=[],v=An.empty();for(let d=c.length-1;d>=0;--d)if(!Xb(p,c[d])){const y=c[d];let S=f[d];S=wt(S);const _=l.childContextForFieldPath(y);if(S instanceof Bf)p.push(y);else{const E=au(S,_);E!=null&&(p.push(y),v.set(y,E))}}const m=new Dn(p);return new $b(v,m,l.fieldTransforms)}function zO(n,e,t,r=!1){return au(t,n.createContext(r?4:3,e))}function au(n,e){if(Qb(n=wt(n)))return oy("Unsupported field value:",e,n),Gb(n,e);if(n instanceof Ff)return(function(r,o){if(!Wb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const a=[];let l=0;for(const c of r){let f=au(c,o.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ax(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yt.fromDate(r);return{timestampValue:uf(o.serializer,a)}}if(r instanceof yt){const a=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,a)}}if(r instanceof jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:ub(o.serializer,r._byteString)};if(r instanceof Ot){const a=o.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw o.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof cr)return(function(l,c){const f=l instanceof cr?l.toArray():l;return{mapValue:{fields:{[VT]:{stringValue:UT},[of]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw c.createError("VectorValues must only contain numeric values.");return jg(c.serializer,v)}))}}}}}})(r,o);if(gb(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${If(r)}`)})(n,e)}function Gb(n,e){const t={};return OT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(n,((r,o)=>{const a=au(o,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Qb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof jr||n instanceof Gn||n instanceof Ot||n instanceof Ff||n instanceof cr||gb(n))}function oy(n,e,t){if(!Qb(t)||!xT(t)){const r=If(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function es(n,e,t){if((e=wt(e))instanceof ny)return e._internalPath;if(typeof e=="string")return Yb(n,e);throw df("Field path arguments must be of type string or ",n,!1,void 0,t)}const HO=new RegExp("[~\\*/\\[\\]]");function Yb(n,e,t){if(e.search(HO)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ny(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function df(n,e,t,r,o){const a=r&&!r.isEmpty(),l=o!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${o}`),f+=")"),new Ie(ge.INVALID_ARGUMENT,c+n+f)}function Xb(n,e){return n.some((t=>t.isEqual(e)))}class $O{convertValue(e,t="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ho(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[of].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new cr(t)}convertGeoPoint(e){return new jr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const t=so(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dt.fromString(e);st(mb(r),9688,{name:e});const o=new zl(r.get(1),r.get(3)),a=new Le(r.popFirst(5));return o.isEqual(t)||mi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class Jb extends $O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function Zb(){return new iy("serverTimestamp")}const d0="@firebase/firestore",p0="4.10.0";class eS{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(es("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WO extends eS{data(){return super.data()}}function KO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sy{}class ay extends sy{}function ly(n,e,...t){let r=[];e instanceof sy&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof uy)).length,c=a.filter((f=>f instanceof zf)).length;if(l>1||l>0&&c>0)throw new Ie(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class zf extends ay{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new zf(e,t,r)}_apply(e){const t=this._parse(e);return nS(e._query,t),new mo(e.firestore,e.converter,Gm(e._query,t))}_parse(e){const t=qf(e.firestore);return(function(a,l,c,f,p,v,m){let d;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ie(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){g0(m,v);const S=[];for(const _ of m)S.push(m0(f,a,_));d={arrayValue:{values:S}}}else d=m0(f,a,m)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||g0(m,v),d=zO(c,l,m,v==="in"||v==="not-in");return jt.create(p,v,d)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function GO(n,e,t){const r=e,o=es("where",n);return zf._create(o,r,t)}class uy extends sy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uy(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let l=o;const c=a.getFlattenedFilters();for(const f of c)nS(l,f),l=Gm(l,f)})(e._query,t),new mo(e.firestore,e.converter,Gm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cy extends ay{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cy(e,t)}_apply(e){const t=(function(o,a,l){if(o.startAt!==null)throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(a,l)})(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,yx(e._query,t))}}function tS(n,e="asc"){const t=e,r=es("orderBy",n);return cy._create(r,t)}class fy extends ay{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new fy(e,t,r)}_apply(e){return new mo(e.firestore,e.converter,af(e._query,this._limit,this._limitType))}}function QO(n){return fy._create("limit",n,"F")}function m0(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(e)&&t.indexOf("/")!==-1)throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dt.fromString(t));if(!Le.isDocumentKey(r))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return x1(n,new Le(r))}if(t instanceof Ot)return x1(n,t._key);throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(t)}.`)}function g0(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nS(n,e){const t=(function(o,a){for(const l of o)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ie(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends eS{constructor(e,t,r,o,a,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(es("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Wo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:Vt("string",Wo._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class zc extends Wo{data(e={}){return super.data(e)}}class ra{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new zc(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map((c=>{const f=new zc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Pl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const f=new zc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Pl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),v=l.indexOf(c.doc.key)),{type:YO(c.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Vt("string",ra._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function ig(n){n=fr(n,Ot);const e=fr(n.firestore,ss),t=ty(e);return xO(t,n._key).then((r=>tN(e,n,r)))}function hy(n){n=fr(n,mo);const e=fr(n.firestore,ss),t=ty(e),r=new Jb(e);return KO(n._query),CO(t,n._query).then((o=>new ra(e,r,n,o)))}function XO(n,e,t){n=fr(n,Ot);const r=fr(n.firestore,ss),o=rS(n.converter,e,t),a=qf(r);return Hf(r,[Kb(a,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Qn.none())])}function JO(n,e,t,...r){n=fr(n,Ot);const o=fr(n.firestore,ss),a=qf(o);let l;return l=typeof(e=wt(e))=="string"||e instanceof ny?BO(a,"updateDoc",n._key,e,t,r):qO(a,"updateDoc",n._key,e),Hf(o,[l.toMutation(n._key,Qn.exists(!0))])}function ZO(n){return Hf(fr(n.firestore,ss),[new Vg(n._key,Qn.none())])}function eN(n,e){const t=fr(n.firestore,ss),r=Zo(n),o=rS(n.converter,e),a=qf(n.firestore);return Hf(t,[Kb(a,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then((()=>r))}function Hf(n,e){const t=ty(n);return OO(t,e)}function tN(n,e,t){const r=t.docs.get(e._key),o=new Jb(n);return new Wo(n,o,e._key,r,new Pl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){CP(rs),Yo(new io("firestore",((r,{instanceIdentifier:o,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new ss(new LP(r.getProvider("auth-internal")),new jP(l,r.getProvider("app-check-internal")),ex(l,o),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Lr(d0,p0,e),Lr(d0,p0,"esm2020")})();var nN="firebase",rN="12.8.0";Lr(nN,rN,"app");function iS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iN=iS,oS=new eu("auth","Firebase",iS());const pf=new Ig("@firebase/auth");function oN(n,...e){pf.logLevel<=Ye.WARN&&pf.warn(`Auth (${rs}): ${n}`,...e)}function Hc(n,...e){pf.logLevel<=Ye.ERROR&&pf.error(`Auth (${rs}): ${n}`,...e)}function dr(n,...e){throw dy(n,...e)}function Vr(n,...e){return dy(n,...e)}function sS(n,e,t){const r={...iN(),[e]:t};return new eu("auth","Firebase",r).create(e,{appName:n.name})}function ro(n){return sS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return oS.create(n,...e)}function Ue(n,e,...t){if(!n)throw dy(e,...t)}function li(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hc(e),new Error(e)}function yi(n,e){n||li(e)}function og(){return typeof self<"u"&&self.location?.href||""}function sN(){return y0()==="http:"||y0()==="https:"}function y0(){return typeof self<"u"&&self.location?.protocol||null}function aN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sN()||ck()||"connection"in navigator)?navigator.onLine:!0}function lN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=ak()||fk()}get(){return aN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function py(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class aS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fN=new lu(3e4,6e4);function go(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function zr(n,e,t,r,o={}){return lS(n,o,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=tu({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return uk()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&fo(n.emulatorConfig.host)&&(p.credentials="include"),aS.fetch()(await uS(n,n.config.apiHost,t,c),p)})}async function lS(n,e,t){n._canInitEmulator=!1;const r={...uN,...e};try{const o=new dN(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Oc(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Oc(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Oc(n,"user-disabled",l);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw sS(n,v,p);dr(n,v)}}catch(o){if(o instanceof Br)throw o;dr(n,"network-request-failed",{message:String(o)})}}async function $f(n,e,t,r,o={}){const a=await zr(n,e,t,r,o);return"mfaPendingCredential"in a&&dr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function uS(n,e,t,r){const o=`${e}${t}?${r}`,a=n,l=a.config.emulator?py(n.config,o):`${n.config.apiScheme}://${o}`;return cN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function hN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),fN.get())})}}function Oc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Vr(n,e,r);return o.customData._tokenResponse=t,o}function v0(n){return n!==void 0&&n.enterprise!==void 0}class pN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mN(n,e){return zr(n,"GET","/v2/recaptchaConfig",go(n,e))}async function gN(n,e){return zr(n,"POST","/v1/accounts:delete",e)}async function mf(n,e){return zr(n,"POST","/v1/accounts:lookup",e)}function jl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yN(n,e=!1){const t=wt(n),r=await t.getIdToken(e),o=my(r);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,l=a?.sign_in_provider;return{claims:o,token:r,authTime:jl($d(o.auth_time)),issuedAtTime:jl($d(o.iat)),expirationTime:jl($d(o.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function $d(n){return Number(n)*1e3}function my(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(t);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function _0(n){const e=my(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ma(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Br&&vN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function vN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class _N{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class sg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gf(n){const e=n.auth,t=await n.getIdToken(),r=await ma(n,mf(e,{idToken:t}));Ue(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?cS(o.providerUserInfo):[],l=wN(n.providerData,a),c=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!l?.length,p=c?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new sg(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function EN(n){const e=wt(n);await gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wN(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function cS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function TN(n,e){const t=await lS(n,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,l=await uS(n,o,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&fo(n.emulatorConfig.host)&&(f.credentials="include"),aS.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bN(n,e){return zr(n,"POST","/v2/accounts:revokeToken",go(n,e))}class ia{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=_0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await TN(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,l=new ia;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),o&&(Ue(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ia,this.toJSON())}_performRefresh(){return li("not implemented")}}function Wi(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new _N(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ma(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return yN(this,e)}reload(){return EN(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await gf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await ma(this,gN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:m,emailVerified:d,isAnonymous:y,providerData:S,stsTokenManager:_}=t;Ue(m&&_,e,"internal-error");const E=ia.fromJSON(this.name,_);Ue(typeof m=="string",e,"internal-error"),Wi(r,e.name),Wi(o,e.name),Ue(typeof d=="boolean",e,"internal-error"),Ue(typeof y=="boolean",e,"internal-error"),Wi(a,e.name),Wi(l,e.name),Wi(c,e.name),Wi(f,e.name),Wi(p,e.name),Wi(v,e.name);const w=new lr({uid:m,auth:e,email:o,emailVerified:d,displayName:r,isAnonymous:y,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:E,createdAt:p,lastLoginAt:v});return S&&Array.isArray(S)&&(w.providerData=S.map(T=>({...T}))),f&&(w._redirectEventId=f),w}static async _fromIdTokenResponse(e,t,r=!1){const o=new ia;o.updateFromServerResponse(t);const a=new lr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await gf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?cS(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!a?.length,c=new ia;c.updateFromIdToken(r);const f=new lr({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new sg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const E0=new Map;function ui(n){yi(n instanceof Function,"Expected a class definition");let e=E0.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,E0.set(n,e),e)}class fS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fS.type="NONE";const w0=fS;function $c(n,e,t){return`firebase:${n}:${e}:${t}`}class oa{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,a),this.fullPersistenceKey=$c("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mf(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new oa(ui(w0),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||ui(w0);const l=$c(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const v=await p._get(l);if(v){let m;if(typeof v=="string"){const d=await mf(e,{idToken:v}).catch(()=>{});if(!d)break;m=await lr._fromGetAccountInfoResponse(e,d,v)}else m=lr._fromJSON(e,v);p!==a&&(c=m),a=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new oa(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new oa(a,e,r))}}function T0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yS(e))return"Blackberry";if(vS(e))return"Webos";if(dS(e))return"Safari";if((e.includes("chrome/")||pS(e))&&!e.includes("edge/"))return"Chrome";if(gS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function hS(n=hn()){return/firefox\//i.test(n)}function dS(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pS(n=hn()){return/crios\//i.test(n)}function mS(n=hn()){return/iemobile/i.test(n)}function gS(n=hn()){return/android/i.test(n)}function yS(n=hn()){return/blackberry/i.test(n)}function vS(n=hn()){return/webos/i.test(n)}function gy(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SN(n=hn()){return gy(n)&&!!window.navigator?.standalone}function AN(){return hk()&&document.documentMode===10}function _S(n=hn()){return gy(n)||gS(n)||vS(n)||yS(n)||/windows phone/i.test(n)||mS(n)}function ES(n,e=[]){let t;switch(n){case"Browser":t=T0(hn());break;case"Worker":t=`${T0(hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${rs}/${r}`}class IN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function RN(n,e={}){return zr(n,"GET","/v2/passwordPolicy",go(n,e))}const kN=6;class PN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class xN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b0(this),this.idTokenSubscription=new b0(this),this.beforeStateQueue=new IN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await oa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mf(this,{idToken:e}),r=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ro(this));const t=e?wt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RN(this),t=new PN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await oa.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ES(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&oN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function as(n){return wt(n)}class b0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ek(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CN(n){Wf=n}function wS(n){return Wf.loadJS(n)}function ON(){return Wf.recaptchaEnterpriseScript}function NN(){return Wf.gapiScript}function LN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class DN{constructor(){this.enterprise=new MN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jN="recaptcha-enterprise",TS="NO_RECAPTCHA";class VN{constructor(e){this.type=jN,this.auth=as(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{mN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new pN(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function o(a,l,c){const f=window.grecaptcha;v0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(TS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&v0(window.grecaptcha))o(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=ON();f.length!==0&&(f+=c),wS(f).then(()=>{o(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function S0(n,e,t,r=!1,o=!1){const a=new VN(n);let l;if(o)l=TS;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function ag(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await S0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await S0(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)})}function UN(n,e){const t=Af(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Qo(a,e??{}))return o;dr(o,"already-initialized")}return t.initialize({options:e})}function FN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ui);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function qN(n,e,t){const r=as(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=bS(e),{host:l,port:c}=BN(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},v=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Qo(p,r.config.emulator)&&Qo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,fo(l)?(Sg(`${a}//${l}${f}`),Ag("Auth",!0)):zN()}function bS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function BN(n){const e=bS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:A0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:A0(l)}}}function A0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class yy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,t){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function HN(n,e){return zr(n,"POST","/v1/accounts:signUp",e)}async function $N(n,e){return $f(n,"POST","/v1/accounts:signInWithPassword",go(n,e))}async function WN(n,e){return zr(n,"POST","/v1/accounts:sendOobCode",go(n,e))}async function KN(n,e){return WN(n,e)}async function GN(n,e){return $f(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}async function QN(n,e){return $f(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}class Ql extends yy{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ql(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ql(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,t,"signInWithPassword",$N);case"emailLink":return GN(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ag(e,r,"signUpPassword",HN);case"emailLink":return QN(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function sa(n,e){return $f(n,"POST","/v1/accounts:signInWithIdp",go(n,e))}const YN="http://localhost";class ts extends yy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const l=new ts(r,o);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return sa(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,sa(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,sa(e,t)}buildRequest(){const e={requestUri:YN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}function XN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JN(n){const e=Sl(Al(n)).link,t=e?Sl(Al(e)).deep_link_id:null,r=Sl(Al(n)).deep_link_id;return(r?Sl(Al(r)).link:null)||r||t||e||n}class vy{constructor(e){const t=Sl(Al(e)),r=t.apiKey??null,o=t.oobCode??null,a=XN(t.mode??null);Ue(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=JN(e);try{return new vy(t)}catch{return null}}}class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return Ql._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=vy.parseLink(t);return Ue(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class SS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends SS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki extends uu{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";class Gi extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ts._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Gi.credential(t,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";class Qi extends uu{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";class Yi extends uu{constructor(){super("twitter.com")}static credential(e,t){return ts._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yi.credential(t,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await lr._fromIdTokenResponse(e,r,o),l=I0(r);return new ga({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=I0(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function I0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class yf extends Br{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new yf(e,t,r,o)}}function AS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(n,a,e,r):a})}async function ZN(n,e,t=!1){const r=await ma(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ga._forOperation(n,"link",r)}async function e4(n,e,t=!1){const{auth:r}=n;if(Kn(r.app))return Promise.reject(ro(r));const o="reauthenticate";try{const a=await ma(n,AS(r,o,e,n),t);Ue(a.idToken,r,"internal-error");const l=my(a.idToken);Ue(l,r,"internal-error");const{sub:c}=l;return Ue(n.uid===c,r,"user-mismatch"),ga._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&dr(r,"user-mismatch"),a}}async function IS(n,e,t=!1){if(Kn(n.app))return Promise.reject(ro(n));const r="signIn",o=await AS(n,r,e),a=await ga._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function t4(n,e){return IS(as(n),e)}async function n4(n){const e=as(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function r4(n,e,t){const r=as(n);await ag(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",KN)}function i4(n,e,t){return Kn(n.app)?Promise.reject(ro(n)):t4(wt(n),Ia.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&n4(n),r})}async function o4(n,e){return zr(n,"POST","/v1/accounts:update",e)}async function RS(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=wt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await ma(r,o4(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function s4(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function a4(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function kS(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function l4(n){return wt(n).signOut()}const vf="__sak";class PS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const u4=1e3,c4=10;class xS extends PS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_S(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);AN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,c4):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}xS.type="LOCAL";const f4=xS;class CS extends PS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}CS.type="SESSION";const OS=CS;function h4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Kf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,l=this.handlersMap[o];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await h4(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kf.receivers=[];function _y(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class d4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=_y("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:o,onMessage(m){const d=m;if(d.data.eventId===p)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(d.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ur(){return window}function p4(n){Ur().location.href=n}function NS(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function m4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function g4(){return navigator?.serviceWorker?.controller||null}function y4(){return NS()?self:null}const LS="firebaseLocalStorageDb",v4=1,_f="firebaseLocalStorage",DS="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gf(n,e){return n.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function _4(){const n=indexedDB.deleteDatabase(LS);return new cu(n).toPromise()}function lg(){const n=indexedDB.open(LS,v4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(_f,{keyPath:DS})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(_f)?e(r):(r.close(),await _4(),e(await lg()))})})}async function R0(n,e,t){const r=Gf(n,!0).put({[DS]:e,value:t});return new cu(r).toPromise()}async function E4(n,e){const t=Gf(n,!1).get(e),r=await new cu(t).toPromise();return r===void 0?null:r.value}function k0(n,e){const t=Gf(n,!0).delete(e);return new cu(t).toPromise()}const w4=800,T4=3;class MS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>T4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kf._getInstance(y4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await m4(),!this.activeServiceWorker)return;this.sender=new d4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||g4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lg();return await R0(e,vf,"1"),await k0(e,vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>R0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>E4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>k0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Gf(o,!1).getAll();return new cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),w4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MS.type="LOCAL";const b4=MS;new lu(3e4,6e4);function S4(n,e){return e?ui(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Ey extends yy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function A4(n){return IS(n.auth,new Ey(n),n.bypassAuthState)}function I4(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),e4(t,new Ey(n),n.bypassAuthState)}async function R4(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),ZN(t,new Ey(n),n.bypassAuthState)}class jS{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A4;case"linkViaPopup":case"linkViaRedirect":return R4;case"reauthViaPopup":case"reauthViaRedirect":return I4;default:dr(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const k4=new lu(2e3,1e4);class ea extends jS{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=_y();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,k4.get())};e()}}ea.currentPopupAction=null;const P4="pendingRedirect",Wc=new Map;class x4 extends jS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await C4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function C4(n,e){const t=L4(e),r=N4(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function O4(n,e){Wc.set(n._key(),e)}function N4(n){return ui(n._redirectPersistence)}function L4(n){return $c(P4,n.config.apiKey,n.name)}async function D4(n,e,t=!1){if(Kn(n.app))return Promise.reject(ro(n));const r=as(n),o=S4(r,e),l=await new x4(r,o,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const M4=600*1e3;class j4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!VS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=M4&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(e))}saveEventToCache(e){this.cachedEventUids.add(P0(e)),this.lastProcessedEventTime=Date.now()}}function P0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function V4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VS(n);default:return!1}}async function U4(n,e={}){return zr(n,"GET","/v1/projects",e)}const F4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,q4=/^https?/;async function B4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await U4(n);for(const t of e)try{if(z4(t))return}catch{}dr(n,"unauthorized-domain")}function z4(n){const e=og(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!q4.test(t))return!1;if(F4.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const H4=new lu(3e4,6e4);function x0(){const n=Ur().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $4(n){return new Promise((e,t)=>{function r(){x0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x0(),t(Vr(n,"network-request-failed"))},timeout:H4.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)r();else{const o=LN("iframefcb");return Ur()[o]=()=>{gapi.load?r():t(Vr(n,"network-request-failed"))},wS(`${NN()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function W4(n){return Kc=Kc||$4(n),Kc}const K4=new lu(5e3,15e3),G4="__/auth/iframe",Q4="emulator/auth/iframe",Y4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J4(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?py(e,Q4):`https://${n.config.authDomain}/${G4}`,r={apiKey:e.apiKey,appName:n.name,v:rs},o=X4.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${tu(r).slice(1)}`}async function Z4(n){const e=await W4(n),t=Ur().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:J4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y4,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const l=Vr(n,"network-request-failed"),c=Ur().setTimeout(()=>{a(l)},K4.get());function f(){Ur().clearTimeout(c),o(r)}r.ping(f).then(f,()=>{a(l)})}))}const eL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tL=500,nL=600,rL="_blank",iL="http://localhost";class C0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oL(n,e,t,r=tL,o=nL){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...eL,width:r.toString(),height:o.toString(),top:a,left:l},p=hn().toLowerCase();t&&(c=pS(p)?rL:t),hS(p)&&(e=e||iL,f.scrollbars="yes");const v=Object.entries(f).reduce((d,[y,S])=>`${d}${y}=${S},`,"");if(SN(p)&&c!=="_self")return sL(e||"",c),new C0(null);const m=window.open(e||"",c,v);Ue(m,n,"popup-blocked");try{m.focus()}catch{}return new C0(m)}function sL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const aL="__/auth/handler",lL="emulator/auth/handler",uL=encodeURIComponent("fac");async function O0(n,e,t,r,o,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:rs,eventId:o};if(e instanceof SS){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",_k(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,m]of Object.entries({}))l[v]=m}if(e instanceof uu){const v=e.getScopes().filter(m=>m!=="");v.length>0&&(l.scopes=v.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const v of Object.keys(c))c[v]===void 0&&delete c[v];const f=await n._getAppCheckToken(),p=f?`#${uL}=${encodeURIComponent(f)}`:"";return`${cL(n)}?${tu(c).slice(1)}${p}`}function cL({config:n}){return n.emulator?py(n,lL):`https://${n.authDomain}/${aL}`}const Wd="webStorageSupport";class fL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OS,this._completeRedirectFn=D4,this._overrideRedirectResult=O4}async _openPopup(e,t,r,o){yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await O0(e,t,r,og(),o);return oL(e,a,_y())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await O0(e,t,r,og(),o);return p4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(yi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Z4(e),r=new j4(e);return t.register("authEvent",o=>(Ue(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wd,{type:Wd},o=>{const a=o?.[0]?.[Wd];a!==void 0&&t(!!a),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=B4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _S()||dS()||gy()}}const hL=fL;var N0="@firebase/auth",L0="1.12.0";class dL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mL(n){Yo(new io("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ES(n)},p=new xN(r,o,a,f);return FN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new io("auth-internal",e=>{const t=as(e.getProvider("auth").getImmediate());return(r=>new dL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(N0,L0,pL(n)),Lr(N0,L0,"esm2020")}const gL=300,yL=pT("authIdTokenMaxAge")||gL;let D0=null;const vL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>yL)return;const o=t?.token;D0!==o&&(D0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _L(n=kg()){const e=Af(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UN(n,{popupRedirectResolver:hL,persistence:[b4,f4,OS]}),r=pT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=vL(a.toString());a4(t,l,()=>l(t.currentUser)),s4(t,c=>l(c))}}const o=fT("auth");return o&&qN(t,`http://${o}`),t}function EL(){return document.getElementsByTagName("head")?.[0]??document}CN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Vr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",EL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mL("Browser");const US="firebasestorage.googleapis.com",FS="storageBucket",wL=120*1e3,TL=600*1e3,bL=1e3;class At extends Br{constructor(e,t,r=0){super(Kd(e),`Firebase Storage: ${t} (${Kd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Kd(n){return"storage/"+n}function wy(){const n="An unknown error occurred, please check the error payload for server response.";return new At(vt.UNKNOWN,n)}function SL(n){return new At(vt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function AL(n){return new At(vt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(vt.UNAUTHENTICATED,n)}function RL(){return new At(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function kL(n){return new At(vt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function qS(){return new At(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BS(){return new At(vt.CANCELED,"User canceled the upload/download.")}function PL(n){return new At(vt.INVALID_URL,"Invalid URL '"+n+"'.")}function xL(n){return new At(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function CL(){return new At(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FS+"' property when initializing the app?")}function zS(){return new At(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function OL(){return new At(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function NL(){return new At(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LL(n){return new At(vt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ug(n){return new At(vt.INVALID_ARGUMENT,n)}function HS(){return new At(vt.APP_DELETED,"The Firebase app was deleted.")}function DL(n){return new At(vt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vl(n,e){return new At(vt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wl(n){throw new At(vt.INTERNAL_ERROR,"Internal error: "+n)}class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(r.path==="")return r;throw xL(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+o+l,"i"),f={bucket:1,path:3};function p(b){b.path_=decodeURIComponent(b.path)}const v="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${v}/b/${o}/o${d}`,"i"),S={bucket:1,path:3},_=t===US?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",w=new RegExp(`^https?://${_}/${o}/${E}`,"i"),k=[{regex:c,indices:f,postModify:a},{regex:y,indices:S,postModify:p},{regex:w,indices:{bucket:1,path:2},postModify:p}];for(let b=0;b<k.length;b++){const D=k[b],F=D.regex.exec(e);if(F){const P=F[D.indices.bucket];let R=F[D.indices.path];R||(R=""),r=new Mn(P,R),D.postModify(r);break}}if(r==null)throw PL(e);return r}}class ML{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function jL(n,e,t){let r=1,o=null,a=null,l=!1,c=0;function f(){return c===2}let p=!1;function v(...E){p||(p=!0,e.apply(null,E))}function m(E){o=setTimeout(()=>{o=null,n(y,f())},E)}function d(){a&&clearTimeout(a)}function y(E,...w){if(p){d();return}if(E){d(),v.call(null,E,...w);return}if(f()||l){d(),v.call(null,E,...w);return}r<64&&(r*=2);let k;c===1?(c=2,k=0):k=(r+Math.random())*1e3,m(k)}let S=!1;function _(E){S||(S=!0,d(),!p&&(o!==null?(E||(c=2),clearTimeout(o),m(0)):E||(c=1)))}return m(0),a=setTimeout(()=>{l=!0,_(!0)},t),_}function VL(n){n(!1)}function UL(n){return n!==void 0}function FL(n){return typeof n=="function"}function qL(n){return typeof n=="object"&&!Array.isArray(n)}function Qf(n){return typeof n=="string"||n instanceof String}function M0(n){return Ty()&&n instanceof Blob}function Ty(){return typeof Blob<"u"}function j0(n,e,t,r){if(r<e)throw ug(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ug(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ra(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function $S(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ko;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ko||(Ko={}));function WS(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}class BL{constructor(e,t,r,o,a,l,c,f,p,v,m,d=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=m,this.retry=d,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,_)=>{this.resolve_=S,this.reject_=_,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Nc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Ko.NO_ERROR,f=a.getStatus();if(!c||WS(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Ko.ABORT;r(!1,new Nc(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Nc(p,a))})},t=(r,o)=>{const a=this.resolve_,l=this.reject_,c=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());UL(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=wy();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(o.canceled){const f=this.appDelete_?HS():BS();l(f)}else{const f=qS();l(f)}};this.canceled_?t(!1,new Nc(!1,null,!0)):this.backoffId_=jL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&VL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function zL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function HL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $L(n,e){e&&(n["X-Firebase-GMPID"]=e)}function WL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function KL(n,e,t,r,o,a,l=!0,c=!1){const f=$S(n.urlParams),p=n.url+f,v=Object.assign({},n.headers);return $L(v,e),zL(v,t),HL(v,a),WL(v,r),new BL(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,l,c)}function GL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QL(...n){const e=GL();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Ty())return new Blob(n);throw new At(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function XL(n){if(typeof atob>"u")throw LL("base-64");return atob(n)}const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gd{constructor(e,t){this.data=e,this.contentType=t||null}}function JL(n,e){switch(n){case Nr.RAW:return new Gd(KS(e));case Nr.BASE64:case Nr.BASE64URL:return new Gd(GS(n,e));case Nr.DATA_URL:return new Gd(eD(e),tD(e))}throw wy()}function KS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ZL(n){let e;try{e=decodeURIComponent(n)}catch{throw Vl(Nr.DATA_URL,"Malformed data URL.")}return KS(e)}function GS(n,e){switch(n){case Nr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Vl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Vl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=XL(e)}catch(o){throw o.message.includes("polyfill")?o:Vl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class QS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Vl(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=nD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function eD(n){const e=new QS(n);return e.base64?GS(Nr.BASE64,e.rest):ZL(e.rest)}function tD(n){return new QS(n).contentType}function nD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Xi{constructor(e,t){let r=0,o="";M0(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(M0(this.data_)){const r=this.data_,o=YL(r,e,t);return o===null?null:new Xi(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Xi(r,!0)}}static getBlob(...e){if(Ty()){const t=e.map(r=>r instanceof Xi?r.data_:r);return new Xi(QL.apply(null,t))}else{const t=e.map(l=>Qf(l)?JL(Nr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)o[a++]=l[c]}),new Xi(o,!0)}}uploadData(){return this.data_}}function YS(n){let e;try{e=JSON.parse(n)}catch{return null}return qL(e)?e:null}function rD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function iD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function XS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function oD(n,e){return e}class mn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||oD}}let Lc=null;function sD(n){return!Qf(n)||n.length<2?n:XS(n)}function JS(){if(Lc)return Lc;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function e(a,l){return sD(l)}const t=new mn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const o=new mn("size");return o.xform=r,n.push(o),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),Lc=n,Lc}function aD(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Mn(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function lD(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return aD(r,n),r}function ZS(n,e,t){const r=YS(e);return r===null?null:lD(n,r,t)}function uD(n,e,t,r){const o=YS(e);if(o===null||!Qf(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const v=n.bucket,m=n.fullPath,d="/b/"+l(v)+"/o/"+l(m),y=Ra(d,t,r),S=$S({alt:"media",token:p});return y+S})[0]}function eA(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class ls{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function hi(n){if(!n)throw wy()}function by(n,e){function t(r,o){const a=ZS(n,o,e);return hi(a!==null),a}return t}function cD(n,e){function t(r,o){const a=ZS(n,o,e);return hi(a!==null),uD(a,o,n.host,n._protocol)}return t}function fu(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=RL():o=IL():t.getStatus()===402?o=AL(n.bucket):t.getStatus()===403?o=kL(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Sy(n){const e=fu(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=SL(n.path)),a.serverResponse=o.serverResponse,a}return t}function fD(n,e,t){const r=e.fullServerUrl(),o=Ra(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new ls(o,a,by(n,t),l);return c.errorHandler=Sy(e),c}function hD(n,e,t){const r=e.fullServerUrl(),o=Ra(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new ls(o,a,cD(n,t),l);return c.errorHandler=Sy(e),c}function dD(n,e){const t=e.fullServerUrl(),r=Ra(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function l(f,p){}const c=new ls(r,o,l,a);return c.successCodes=[200,204],c.errorHandler=Sy(e),c}function pD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function tA(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=pD(null,e)),r}function mD(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const f=c();l["Content-Type"]="multipart/related; boundary="+f;const p=tA(e,r,o),v=eA(p,t),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,d=`\r
--`+f+"--",y=Xi.getBlob(m,r,d);if(y===null)throw zS();const S={name:p.fullPath},_=Ra(a,n.host,n._protocol),E="POST",w=n.maxUploadRetryTime,T=new ls(_,E,by(n,t),w);return T.urlParams=S,T.headers=l,T.body=y.uploadData(),T.errorHandler=fu(e),T}class Ef{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function Ay(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{hi(!1)}return hi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function gD(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),l=tA(e,r,o),c={name:l.fullPath},f=Ra(a,n.host,n._protocol),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},m=eA(l,t),d=n.maxUploadRetryTime;function y(_){Ay(_);let E;try{E=_.getResponseHeader("X-Goog-Upload-URL")}catch{hi(!1)}return hi(Qf(E)),E}const S=new ls(f,p,y,d);return S.urlParams=c,S.headers=v,S.body=m,S.errorHandler=fu(e),S}function yD(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(p){const v=Ay(p,["active","final"]);let m=null;try{m=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{hi(!1)}m||hi(!1);const d=Number(m);return hi(!isNaN(d)),new Ef(d,r.size(),v==="final")}const l="POST",c=n.maxUploadRetryTime,f=new ls(t,l,a,c);return f.headers=o,f.errorHandler=fu(e),f}const V0=256*1024;function vD(n,e,t,r,o,a,l,c){const f=new Ef(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw OL();const p=f.total-f.current;let v=p;o>0&&(v=Math.min(v,o));const m=f.current,d=m+v;let y="";v===0?y="finalize":p===v?y="upload, finalize":y="upload";const S={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${f.current}`},_=r.slice(m,d);if(_===null)throw zS();function E(b,D){const F=Ay(b,["active","final"]),P=f.current+v,R=r.size();let M;return F==="final"?M=by(e,a)(b,D):M=null,new Ef(P,R,F==="final",M)}const w="POST",T=e.maxUploadRetryTime,k=new ls(t,w,E,T);return k.headers=S,k.body=_.uploadData(),k.progressCallback=c||null,k.errorHandler=fu(n),k}const Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qd(n){switch(n){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}class _D{constructor(e,t,r){if(FL(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Gs(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class ED{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,a){if(this.sent_)throw wl("cannot .send() more than once");if(fo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wD extends ED{initXhr(){this.xhr_.responseType="text"}}function Ho(){return new wD}class TD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=JS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(WS(o.status,[]))if(a)o=qS();else{this.sleepTime=Math.max(this.sleepTime*2,bL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=gD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ho,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=yD(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,Ho,t,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=V0*this._chunkMultiplier,t=new Ef(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let l;try{l=vD(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const c=this._ref.storage._makeRequest(l,Ho,o,a,!1);this._request=c,c.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){V0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=fD(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Ho,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=mD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ho,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=BS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Qd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new _D(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Qd(this._state)){case Sn.SUCCESS:Gs(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:const t=this._reject;Gs(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Qd(this._state)){case Sn.RUNNING:case Sn.PAUSED:e.next&&Gs(e.next.bind(e,this.snapshot))();break;case Sn.SUCCESS:e.complete&&Gs(e.complete.bind(e))();break;case Sn.CANCELED:case Sn.ERROR:e.error&&Gs(e.error.bind(e,this._error))();break;default:e.error&&Gs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class ns{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ns(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return XS(this._location.path)}get storage(){return this._service}get parent(){const e=rD(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new ns(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw DL(e)}}function bD(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new TD(n,new Xi(e),t)}function SD(n){n._throwIfRoot("getDownloadURL");const e=hD(n.storage,n._location,JS());return n.storage.makeRequestWithTokens(e,Ho).then(t=>{if(t===null)throw NL();return t})}function AD(n){n._throwIfRoot("deleteObject");const e=dD(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ho)}function ID(n,e){const t=iD(n._location.path,e),r=new Mn(n._location.bucket,t);return new ns(n.storage,r)}function RD(n){return/^[A-Za-z]+:\/\//.test(n)}function kD(n,e){return new ns(n,e)}function nA(n,e){if(n instanceof Iy){const t=n;if(t._bucket==null)throw CL();const r=new ns(t,t._bucket);return e!=null?nA(r,e):r}else return e!==void 0?ID(n,e):n}function PD(n,e){if(e&&RD(e)){if(n instanceof Iy)return kD(n,e);throw ug("To use ref(service, url), the first argument must be a Storage instance.")}else return nA(n,e)}function U0(n,e){const t=e?.[FS];return t==null?null:Mn.makeFromBucketSpec(t,n)}function xD(n,e,t,r={}){n.host=`${e}:${t}`;const o=fo(e);o&&(Sg(`https://${n.host}/b`),Ag("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:mT(a,n.app.options.projectId))}class Iy{constructor(e,t,r,o,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=US,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wL,this._maxUploadRetryTime=TL,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=U0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=U0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ns(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new ML(HS());{const l=KL(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const F0="@firebase/storage",q0="0.14.0";const rA="storage";function CD(n,e,t){return n=wt(n),bD(n,e,t)}function OD(n){return n=wt(n),SD(n)}function Ry(n){return n=wt(n),AD(n)}function Yf(n,e){return n=wt(n),PD(n,e)}function ND(n=kg(),e){n=wt(n);const r=Af(n,rA).getImmediate({identifier:e}),o=hT("storage");return o&&LD(r,...o),r}function LD(n,e,t,r={}){xD(n,e,t,r)}function DD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Iy(t,r,o,e,rs)}function MD(){Yo(new io(rA,DD,"PUBLIC").setMultipleInstances(!0)),Lr(F0,q0,""),Lr(F0,q0,"esm2020")}MD();const jD={apiKey:"AIzaSyD7GTDzLO4JfMSw3Sw1XQcpJsGFWpkSUuk",authDomain:"dra-lueine-barradas.firebaseapp.com",projectId:"dra-lueine-barradas",storageBucket:"dra-lueine-barradas.firebasestorage.app",messagingSenderId:"1010406146962",appId:"1:1010406146962:web:ffded9bc70de18b5f8b74b"},ky=vT(jD),Fr=MO(ky),Yl=_L(ky),Xf=ND(ky);function iA(n){return n?n.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-+/g,"-"):""}function cg({title:n,id:e,slug:t}){const r=t||iA(n);return r?e?`${r}-${e}`:r:e||""}function VD(n){if(!n)return"";const e=n.lastIndexOf("-");return e===-1?n:n.slice(e+1)||n}function UD(){const[n,e]=J.useState([]),[t,r]=J.useState(3),[o,a]=J.useState(0),l=J.useRef(0),c=J.useRef(0);J.useEffect(()=>{async function y(){const S=ly(Uf(Fr,"posts"),tS("date","desc")),E=(await hy(S)).docs.map(w=>({id:w.id,...w.data()}));e(E)}y()},[]),J.useEffect(()=>{const y=()=>{r(window.innerWidth<768?1:3),a(0)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]);const f=n.length>0,p=f?Math.ceil(n.length/t):0,v=y=>{l.current=y.touches[0].clientX},m=y=>{c.current=y.touches[0].clientX},d=()=>{const y=l.current-c.current;Math.abs(y)>50&&(y>0&&o<p-1?a(o+1):y<0&&o>0&&a(o-1))};return j.jsxs("section",{id:"blog",className:"blog-section",children:[j.jsxs("header",{className:"label-container",children:[j.jsx("span",{className:"label",children:"ARTIGOS"}),j.jsx("h2",{className:"blog-title",children:"Para leitura"})]}),f?j.jsx("div",{className:"carousel-wrapper",onTouchStart:v,onTouchMove:m,onTouchEnd:d,children:j.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${o*100}%)`},children:Array.from({length:p}).map((y,S)=>j.jsx("div",{className:"carousel-page",children:n.slice(S*t,S*t+t).map(_=>{const E=`/post/${cg({title:_.title,id:_.id,slug:_.slug})}`;return j.jsxs("article",{className:"blog-card",children:[_.featuredImage&&j.jsx("img",{src:_.featuredImage,alt:_.title,className:"blog-image",loading:"lazy",decoding:"async"}),j.jsxs("div",{className:"blog-content",children:[j.jsx("h3",{children:j.jsx(Go,{to:E,className:"blog-title-link",children:_.title})}),j.jsx("p",{children:_.summary}),j.jsx(Go,{to:E,className:"blog-link",children:"Ler mais"})]})]},_.id)})},S))})}):j.jsx("p",{className:"blog-empty",children:"Nenhum post publicado ainda."}),p>1&&j.jsx("div",{className:"carousel-indicator",children:Array.from({length:p}).map((y,S)=>j.jsx("button",{className:`indicator-line ${S===o?"active":""}`,onClick:()=>a(S),"aria-label":`Pgina ${S+1}`},S))})]})}function FD(){const n=[{id:1,name:"Paciente XXX",text:"Atendimento extremamente atencioso e humanizado. Me senti acolhida desde o incio da consulta.",rating:5},{id:2,name:"Paciente XXX",text:"Profissional excelente, muito cuidadosa e detalhista. A consulta foi completa e me trouxe muita segurana.",rating:5},{id:3,name:"Paciente XXX",text:"Atendimento diferenciado, com foco na preveno e no cuidado individual. Recomendo com total confiana.",rating:5}],[e,t]=J.useState(n),[r,o]=J.useState("https://maps.app.goo.gl/e5MtxNupxjszhWMD6"),[a,l]=J.useState(!0),[c,f]=J.useState(3),[p,v]=J.useState(0),m=J.useRef(0),d=J.useRef(0);J.useEffect(()=>{const w="AIzaSyAfS-gnwpsX5akD-jWz_ep8GNGyK1K8lPg",T="ChIJ93fD-IDZrpIRs3-6dNElQAE",k=()=>new Promise((D,F)=>{if(window.google?.maps?.places){D();return}const P=document.getElementById("google-maps-js");if(P){P.addEventListener("load",D),P.addEventListener("error",F);return}const R=document.createElement("script");R.id="google-maps-js",R.src=`https://maps.googleapis.com/maps/api/js?key=${w}&libraries=places`,R.async=!0,R.defer=!0,R.onload=D,R.onerror=F,document.head.appendChild(R)});(async()=>{try{if(await k(),!window.google?.maps?.places){l(!1);return}new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:T,fields:["reviews","url"]},(F,P)=>{if(P===window.google.maps.places.PlacesServiceStatus.OK&&F?.reviews?.length){const R=F.reviews.filter(M=>M?.text).map((M,x)=>({id:M.time||x,name:M.author_name||"Paciente",text:M.text,rating:M.rating||5,avatar:M.profile_photo_url||""}));R.length>0&&t(R)}F?.url&&o(F.url),l(!1)})}catch{l(!1)}})()},[]),J.useEffect(()=>{const w=()=>{f(window.innerWidth<768?1:3),v(0)};return w(),window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const y=Math.ceil(e.length/c),S=w=>{m.current=w.touches[0].clientX},_=w=>{d.current=w.touches[0].clientX},E=()=>{const w=m.current-d.current;Math.abs(w)>50&&(w>0&&p<y-1?v(p+1):w<0&&p>0&&v(p-1))};return j.jsxs("section",{id:"depoimentos",className:"testimonials",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"testimonials-label",children:"DEPOIMENTOS"}),j.jsx("h2",{children:"O que nossos pacientes dizem sobre nosso trabalho?"})]}),j.jsx("div",{className:"carousel-wrapper",onTouchStart:S,onTouchMove:_,onTouchEnd:E,children:j.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${p*100}%)`},children:Array.from({length:y}).map((w,T)=>j.jsx("div",{className:"carousel-page",children:e.slice(T*c,T*c+c).map(k=>j.jsxs("div",{className:"testimonial-card",children:[j.jsxs("div",{className:"testimonial-header",children:[j.jsx("div",{className:"avatar",style:k.avatar?{backgroundImage:`url(${k.avatar})`}:void 0}),j.jsxs("div",{children:[j.jsx("strong",{children:k.name}),j.jsx("div",{className:"stars",children:Array.from({length:5}).map((b,D)=>j.jsx("span",{children:D<k.rating?"":""},D))})]})]}),j.jsx("p",{children:k.text})]},k.id))},T))})}),j.jsx("div",{className:"carousel-indicator",children:Array.from({length:y}).map((w,T)=>j.jsx("button",{className:`indicator-line ${T===p?"active":""}`,onClick:()=>v(T)},T))}),j.jsxs("a",{href:r,className:"testimonial-button",children:[a?"Carregando avaliaes...":"Escrever Avaliao",j.jsx(xR,{size:20})]})]})}function qD(n){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(n)}function BD(n){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(n)}const zD="/assets/consultorio-dra-lueine1-B69TsYyD.webp",HD="/assets/consultorio-dra-lueine2-yg6SWbpe.webp";function $D(){const n=[zD,HD],[e,t]=J.useState(0),r=()=>{t(a=>a===0?n.length-1:a-1)},o=()=>{t(a=>a===n.length-1?0:a+1)};return j.jsx("section",{className:"env-section",children:j.jsxs("div",{className:"env-grid",children:[j.jsxs("div",{className:"env-text-top",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"NOSSO AMBIENTE"}),j.jsx("h2",{children:"Cuidado comea pelo ambiente"})]}),j.jsxs("p",{children:["Um consultrio moderno, climatizado e acolhedor, pensado para garantir",j.jsx("strong",{children:" conforto, privacidade e tranquilidade."})]}),j.jsx("p",{children:"Aqui, cada atendimento acontece de forma individualizada, em um espao reservado, preparado para consultas clnicas e um acompanhamento mdico atento aos detalhes."}),j.jsx(Dt,{className:"about-button"})]}),j.jsxs("div",{className:"env-image-main",children:[j.jsx("img",{src:n[e],alt:"Ambiente do consultrio"}),j.jsx("button",{className:"arrow left",onClick:r,children:j.jsx(qD,{})}),j.jsx("button",{className:"arrow right",onClick:o,children:j.jsx(BD,{})})]})]})})}function WD(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"},child:[]}]})(n)}function KD(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M112,80a16,16,0,1,1,16,16A16,16,0,0,1,112,80ZM64,80a64,64,0,0,1,128,0c0,59.95-57.58,93.54-60,94.95a8,8,0,0,1-7.94,0C121.58,173.54,64,140,64,80Zm16,0c0,42.2,35.84,70.21,48,78.5,12.15-8.28,48-36.3,48-78.5a48,48,0,0,0-96,0Zm122.77,67.63a8,8,0,0,0-5.54,15C213.74,168.74,224,176.92,224,184c0,13.36-36.52,32-96,32s-96-18.64-96-32c0-7.08,10.26-15.26,26.77-21.36a8,8,0,0,0-5.54-15C29.22,156.49,16,169.41,16,184c0,31.18,57.71,48,112,48s112-16.82,112-48C240,169.41,226.78,156.49,202.77,147.63Z"},child:[]}]})(n)}function GD(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"},child:[]}]})(n)}function QD(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M116,80a12,12,0,1,1,12,12A12,12,0,0,1,116,80ZM97.08,147.73C78.05,127.35,68,103.93,68,80a60,60,0,0,1,120,0c0,23.93-10.05,47.35-29.08,67.73A136.54,136.54,0,0,1,130,171.47a4,4,0,0,1-4,0A136.54,136.54,0,0,1,97.08,147.73ZM76,80c0,47.09,42.25,77,52,83.3,9.75-6.28,52-36.21,52-83.3A52,52,0,0,0,76,80Zm125.38,71.38a4,4,0,0,0-2.76,7.51c18.67,6.89,29.38,16,29.38,25.11,0,17.39-40.18,36-100,36S28,201.39,28,184c0-9.07,10.71-18.22,29.38-25.11a4,4,0,0,0-2.76-7.51C32.29,159.62,20,171.21,20,184c0,12.46,11.73,23.83,33,32,20.09,7.73,46.72,12,75,12s54.89-4.25,75-12c21.29-8.19,33-19.56,33-32C236,171.21,223.71,159.62,201.38,151.38Z"},child:[]}]})(n)}var Yd,B0;function YD(){if(B0)return Yd;B0=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,f,p;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(f=c;f--!==0;)if(!o(a[f],l[f]))return!1;return!0}var v;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!l.has(f.value[0]))return!1;for(v=a.entries();!(f=v.next()).done;)if(!o(f.value[1],l.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!l.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(f=c;f--!==0;)if(a[f]!==l[f])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),c=p.length,c!==Object.keys(l).length)return!1;for(f=c;f--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[f]))return!1;if(n&&a instanceof Element)return!1;for(f=c;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&a.$$typeof)&&!o(a[p[f]],l[p[f]]))return!1;return!0}return a!==a&&l!==l}return Yd=function(l,c){try{return o(l,c)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Yd}var XD=YD();const JD=ya(XD);var Xd,z0;function ZD(){if(z0)return Xd;z0=1;var n=function(e,t,r,o,a,l,c,f){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,o,a,l,c,f],m=0;p=new Error(t.replace(/%s/g,function(){return v[m++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Xd=n,Xd}var e3=ZD();const H0=ya(e3);var Jd,$0;function t3(){return $0||($0=1,Jd=function(e,t,r,o){var a=r?r.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),p=0;p<l.length;p++){var v=l[p];if(!f(v))return!1;var m=e[v],d=t[v];if(a=r?r.call(o,m,d,v):void 0,a===!1||a===void 0&&m!==d)return!1}return!0}),Jd}var n3=t3();const r3=ya(n3);var oA=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(oA||{}),Zd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},W0=Object.values(oA),Py={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},i3=Object.entries(Py).reduce((n,[e,t])=>(n[t]=e,n),{}),ur="data-rh",aa={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},la=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},o3=n=>{let e=la(n,"title");const t=la(n,aa.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=la(n,aa.DEFAULT_TITLE);return e||r||void 0},s3=n=>la(n,aa.ON_CHANGE_CLIENT_STATE)||(()=>{}),ep=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),a3=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const o=Object.keys(r);for(let a=0;a<o.length;a+=1){const c=o[a].toLowerCase();if(n.indexOf(c)!==-1&&r[c])return t.concat(r)}}return t},[]),l3=n=>console&&typeof console.warn=="function"&&console.warn(n),Tl=(n,e,t)=>{const r={};return t.filter(o=>Array.isArray(o[n])?!0:(typeof o[n]<"u"&&l3(`Helmet: ${n} should be of type "Array". Instead found type "${typeof o[n]}"`),!1)).map(o=>o[n]).reverse().reduce((o,a)=>{const l={};a.filter(f=>{let p;const v=Object.keys(f);for(let d=0;d<v.length;d+=1){const y=v[d],S=y.toLowerCase();e.indexOf(S)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(p=S),e.indexOf(y)!==-1&&(y==="innerHTML"||y==="cssText"||y==="itemprop")&&(p=y)}if(!p||!f[p])return!1;const m=f[p].toLowerCase();return r[p]||(r[p]={}),l[p]||(l[p]={}),r[p][m]?!1:(l[p][m]=!0,!0)}).reverse().forEach(f=>o.push(f));const c=Object.keys(l);for(let f=0;f<c.length;f+=1){const p=c[f],v={...r[p],...l[p]};r[p]=v}return o},[]).reverse()},u3=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},c3=n=>({baseTag:a3(["href"],n),bodyAttributes:ep("bodyAttributes",n),defer:la(n,aa.DEFER),encode:la(n,aa.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:ep("htmlAttributes",n),linkTags:Tl("link",["rel","href"],n),metaTags:Tl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Tl("noscript",["innerHTML"],n),onChangeClientState:s3(n),scriptTags:Tl("script",["src","innerHTML"],n),styleTags:Tl("style",["cssText"],n),title:o3(n),titleAttributes:ep("titleAttributes",n),prioritizeSeoTags:u3(n,aa.PRIORITIZE_SEO_TAGS)}),sA=n=>Array.isArray(n)?n.join(""):n,f3=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},tp=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(f3(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},K0=(n,e)=>({...n,[e]:void 0}),h3=["noscript","script","style"],fg=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),aA=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),d3=(n,e,t,r)=>{const o=aA(t),a=sA(e);return o?`<${n} ${ur}="true" ${o}>${fg(a,r)}</${n}>`:`<${n} ${ur}="true">${fg(a,r)}</${n}>`},p3=(n,e,t=!0)=>e.reduce((r,o)=>{const a=o,l=Object.keys(a).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,v)=>{const m=typeof a[v]>"u"?v:`${v}="${fg(a[v],t)}"`;return p?`${p} ${m}`:m},""),c=a.innerHTML||a.cssText||"",f=h3.indexOf(n)===-1;return`${r}<${n} ${ur}="true" ${l}${f?"/>":`>${c}</${n}>`}`},""),lA=(n,e={})=>Object.keys(n).reduce((t,r)=>{const o=Py[r];return t[o||r]=n[r],t},e),m3=(n,e,t)=>{const r={key:e,[ur]:!0},o=lA(t,r);return[qt.createElement("title",o,e)]},Gc=(n,e)=>e.map((t,r)=>{const o={key:r,[ur]:!0};return Object.keys(t).forEach(a=>{const c=Py[a]||a;if(c==="innerHTML"||c==="cssText"){const f=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:f}}else o[c]=t[a]}),qt.createElement(n,o)}),Wn=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>m3(n,e.title,e.titleAttributes),toString:()=>d3(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>lA(e),toString:()=>aA(e)};default:return{toComponent:()=>Gc(n,e),toString:()=>p3(n,e,t)}}},g3=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const o=tp(n,Zd.meta),a=tp(e,Zd.link),l=tp(t,Zd.script);return{priorityMethods:{toComponent:()=>[...Gc("meta",o.priority),...Gc("link",a.priority),...Gc("script",l.priority)],toString:()=>`${Wn("meta",o.priority,r)} ${Wn("link",a.priority,r)} ${Wn("script",l.priority,r)}`},metaTags:o.default,linkTags:a.default,scriptTags:l.default}},y3=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:o,noscriptTags:a,styleTags:l,title:c="",titleAttributes:f,prioritizeSeoTags:p}=n;let{linkTags:v,metaTags:m,scriptTags:d}=n,y={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:y,linkTags:v,metaTags:m,scriptTags:d}=g3(n)),{priority:y,base:Wn("base",e,r),bodyAttributes:Wn("bodyAttributes",t,r),htmlAttributes:Wn("htmlAttributes",o,r),link:Wn("link",v,r),meta:Wn("meta",m,r),noscript:Wn("noscript",a,r),script:Wn("script",d,r),style:Wn("style",l,r),title:Wn("title",{title:c,titleAttributes:f},r)}},hg=y3,Dc=[],uA=!!(typeof window<"u"&&window.document&&window.document.createElement),dg=class{instances=[];canUseDOM=uA;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Dc:this.instances,add:n=>{(this.canUseDOM?Dc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Dc:this.instances).indexOf(n);(this.canUseDOM?Dc:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=hg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},v3={},cA=qt.createContext(v3),fA=class hA extends J.Component{static canUseDOM=uA;helmetData;constructor(e){super(e),this.helmetData=new dg(this.props.context||{},hA.canUseDOM)}render(){return qt.createElement(cA.Provider,{value:this.helmetData.value},this.props.children)}},Qs=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${ur}]`),o=[].slice.call(r),a=[];let l;return e&&e.length&&e.forEach(c=>{const f=document.createElement(n);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p))if(p==="innerHTML")f.innerHTML=c.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=c.cssText:f.appendChild(document.createTextNode(c.cssText));else{const v=p,m=typeof c[v]>"u"?"":c[v];f.setAttribute(p,m)}f.setAttribute(ur,"true"),o.some((p,v)=>(l=v,f.isEqualNode(p)))?o.splice(l,1):a.push(f)}),o.forEach(c=>c.parentNode?.removeChild(c)),a.forEach(c=>t.appendChild(c)),{oldTags:o,newTags:a}},pg=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(ur),o=r?r.split(","):[],a=[...o],l=Object.keys(e);for(const c of l){const f=e[c]||"";t.getAttribute(c)!==f&&t.setAttribute(c,f),o.indexOf(c)===-1&&o.push(c);const p=a.indexOf(c);p!==-1&&a.splice(p,1)}for(let c=a.length-1;c>=0;c-=1)t.removeAttribute(a[c]);o.length===a.length?t.removeAttribute(ur):t.getAttribute(ur)!==l.join(",")&&t.setAttribute(ur,l.join(","))},_3=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=sA(n)),pg("title",e)},G0=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:o,linkTags:a,metaTags:l,noscriptTags:c,onChangeClientState:f,scriptTags:p,styleTags:v,title:m,titleAttributes:d}=n;pg("body",r),pg("html",o),_3(m,d);const y={baseTag:Qs("base",t),linkTags:Qs("link",a),metaTags:Qs("meta",l),noscriptTags:Qs("noscript",c),scriptTags:Qs("script",p),styleTags:Qs("style",v)},S={},_={};Object.keys(y).forEach(E=>{const{newTags:w,oldTags:T}=y[E];w.length&&(S[E]=w),T.length&&(_[E]=y[E].oldTags)}),e&&e(),f(n,S,_)},bl=null,E3=n=>{bl&&cancelAnimationFrame(bl),n.defer?bl=requestAnimationFrame(()=>{G0(n,()=>{bl=null})}):(G0(n),bl=null)},w3=E3,Q0=class extends J.Component{rendered=!1;shouldComponentUpdate(n){return!r3(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=c3(n.get().map(o=>{const a={...o.props};return delete a.context,a}));fA.canUseDOM?w3(r):hg&&(t=hg(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},dA=class extends J.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!JD(K0(this.props,"helmetData"),K0(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return H0(W0.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${W0.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),H0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return qt.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:o,...a}=r.props,l=Object.keys(a).reduce((f,p)=>(f[i3[p]||p]=a[p],f),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,o),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,l,o);break;default:e=this.mapObjectTypeChildren(r,e,l,o);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof dg)){const o=r;r=new dg(o.context,!0),delete t.helmetData}return r?qt.createElement(Q0,{...t,context:r.value}):qt.createElement(cA.Consumer,null,o=>qt.createElement(Q0,{...t,context:o}))}};function T3(){return J.useEffect(()=>{const n=new URL(window.location.href).hash.substring(1);if(n){const e=document.getElementById(n);if(e){const o=e.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:o,behavior:"smooth"})}}},[]),j.jsxs("main",{children:[j.jsxs(dA,{children:[j.jsx("title",{children:"Dra. Lueine Barradas | Clnica Geral | Cardiologia Clnica"}),j.jsx("meta",{name:"description",content:"Atendimento mdico humanizado em Bragana, PA. Agende sua consulta com a Dra. Lueine Barradas."}),j.jsx("meta",{name:"keywords",content:"Cardiologia Clnica, Bragana PA, Mdica Bragana Par, Check-up cardiolgico, Hipertenso, Dra Lueine Barradas"}),j.jsx("link",{rel:"canonical",href:"https://dralueinebarradas.com.br/"}),j.jsx("meta",{property:"og:title",content:"Dra. Lueine Barradas | Clnica Geral | Cardiologia Clnica"}),j.jsx("meta",{property:"og:description",content:"Atendimento mdico humanizado em Bragana, PA. Agende sua consulta com a Dra. Lueine Barradas."}),j.jsx("meta",{property:"og:type",content:"website"}),j.jsx("meta",{property:"og:url",content:"https://dralueinebarradas.com.br/"}),j.jsx("script",{type:"application/ld+json",children:`
            {
              "@context": "https://schema.org",
              "@type": "MedicalBusiness",
              "name": "Dra. Lueine Barradas",
              "address": {
                "@type": "PostalAddress",
                "streetAddress": "Av. Nazeazeno Ferreira, 60",
                "addressLocality": "Bragana",
                "addressRegion": "PA",
                "addressCountry": "BR"
              },
              "geo": {
                "@type": "GeoCoordinates",
                "latitude": -1.0488685, 
                "longitude": -46.7686801
              },
              "telephone": "+5591985807373"
            }
          `})]}),j.jsxs("section",{id:"inicio",className:"hero",children:[j.jsx("div",{className:"hero-overlay"}),j.jsxs("div",{className:"hero-container",children:[j.jsxs("div",{className:"hero-text",children:[j.jsx("span",{className:"hero-label",children:"DRA. LUEINE BARRADAS"}),j.jsxs("h1",{children:["CUIDADO E ",j.jsx("br",{}),j.jsx("span",{children:"COMPROMISSO"})]}),j.jsx("p",{children:"Meu propsito como mdica  alinhar o cuidado humanizado e a excelncia tcnica para garantir sade e qualidade de vida para voc."}),j.jsxs("div",{className:"hero-actions",children:[j.jsxs("div",{className:"hero-location",children:[j.jsx(QD,{size:16,color:"#FFF"}),j.jsx("span",{children:"Atendimento em Bragana - PA"})]}),j.jsx("div",{children:j.jsx(Dt,{className:"hero-btn primary"})})]})]}),j.jsx("div",{className:"hero-image",children:j.jsx("img",{src:QR,alt:"Dra. Lueine Barradas - Mdica Cardiologista em Bragana Par",loading:"eager",fetchpriority:"high",decoding:"async"})}),j.jsxs("aside",{className:"hero-card",children:[j.jsx("strong",{children:"Dra. Lueine Barradas"}),j.jsx("p",{children:"CRM PA 18364"}),j.jsxs("ul",{children:[j.jsxs("li",{children:[j.jsx("b",{children:"rea de atuao:"})," Clnica Geral | Cardiologia Clnica"]}),j.jsxs("li",{children:[j.jsx("b",{children:"Foco:"})," Preveno cardiovascular e cuidado integral"]}),j.jsxs("li",{children:[j.jsx("b",{children:"Experincia:"})," Atendimento clnico humanizado e individualizado"]})]})]})]}),j.jsx("div",{className:"hero-scroll",children:j.jsx(NR,{})})]}),j.jsxs("section",{id:"servicos",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"SERVIOS"}),j.jsx("h2",{children:"O que eu posso te ajudar?"})]}),j.jsxs("div",{className:"cards-grid",children:[j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(zR,{className:"icon"})}),j.jsx("h3",{children:"Consulta de rotina"})]}),j.jsx("p",{children:"Atendimento clnico integral, com foco na preveno, no acompanhamento contnuo e no cuidado individualizado em todas as fases da vida."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(o1,{className:"icon"})}),j.jsx("h3",{children:"Check-up Cardiolgico"})]}),j.jsx("p",{children:"Avaliao completa da sade cardiovascular, com anlise de fatores de risco, histrico clnico e solicitao de exames conforme indicao individual."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(CR,{className:"icon"})}),j.jsx("h3",{children:"Avaliao e Liberao para Atividade Fsica"})]}),j.jsx("p",{children:"Avaliao clnica e cardiovascular para liberao segura da prtica de atividade fsica, considerando idade, histrico de sade e exames complementares."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(DR,{className:"icon"})}),j.jsx("h3",{children:"Consultas Pr-operatrias"})]}),j.jsx("p",{children:"Avaliao clnica e cardiovascular para liberao cirrgica, com estratificao de risco e orientaes pr e ps-operatrias."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(BR,{className:"icon"})}),j.jsx("h3",{children:"Preveno de Doenas Cardiovasculares"})]}),j.jsx("p",{children:"Acompanhamento direcionado  reduo de risco cardiovascular, com controle de hipertenso, diabetes, colesterol, obesidade e hbitos de vida."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(jR,{className:"icon"})}),j.jsx("h3",{children:"Hipertenso Arterial"})]}),j.jsx("p",{children:"Diagnstico, acompanhamento e controle da presso arterial, com plano teraputico individualizado e monitoramento contnuo."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(UR,{className:"icon"})}),j.jsx("h3",{children:"Doena Arterial Coronariana"})]}),j.jsx("p",{children:"Avaliao e acompanhamento clnico de pacientes com doena arterial coronariana, com foco em controle de fatores de risco e preveno de eventos."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(VR,{className:"icon"})}),j.jsx("h3",{children:"Infarto Agudo do Miocrdio"})]}),j.jsx("p",{children:"Seguimento clnico e preveno secundria em pacientes com histrico de infarto, com foco em segurana, controle de risco e qualidade de vida."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(o1,{className:"icon"})}),j.jsx("h3",{children:"Insuficincia Cardaca"})]}),j.jsx("p",{children:"Acompanhamento clnico de pacientes com insuficincia cardaca, com orientao teraputica, controle de sintomas e monitoramento contnuo."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx($R,{className:"icon"})}),j.jsx("h3",{children:"Arritmias Cardacas"})]}),j.jsx("p",{children:"Avaliao clnica de alteraes do ritmo cardaco, com investigao, acompanhamento e orientao conforme cada caso."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(qR,{className:"icon"})}),j.jsx("h3",{children:"Obesidade e Sndrome Metablica"})]}),j.jsx("p",{children:"Abordagem clnica integrada para obesidade e sndrome metablica, com foco em sade, mudana de hbitos e acompanhamento contnuo."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(HR,{className:"icon"})}),j.jsx("h3",{children:"Colesterol e Triglicerdeos Elevados"})]}),j.jsx("p",{children:"Avaliao e controle das dislipidemias, com orientao individualizada e preveno de doenas cardiovasculares."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(MR,{className:"icon"})}),j.jsx("h3",{children:"Diabetes Mellitus"})]}),j.jsx("p",{children:"Acompanhamento clnico do diabetes, com foco no controle glicmico, preveno de complicaes e promoo da sade."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(FR,{className:"icon"})}),j.jsx("h3",{children:"Avaliao do Sono e Apneia do Sono"})]}),j.jsx("p",{children:"Avaliao clnica do sono e acompanhamento de pacientes com suspeita ou diagnstico de apneia do sono."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(LR,{className:"icon"})}),j.jsx("h3",{children:"Tratamento do Tabagismo"})]}),j.jsx("p",{children:"Acompanhamento mdico para cessao do tabagismo, com estratgias individualizadas e foco na reduo de riscos  sade."}),j.jsx(Dt,{className:"card-button"})]})]})]}),j.jsxs("section",{id:"consulta",className:"procedure-section",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"CUIDADO INTEGRAL"}),j.jsx("h2",{className:"procedure-title",children:"O que acontece na consulta?"})]}),j.jsxs("article",{className:"procedure-step reverse",children:[j.jsxs("div",{className:"procedure-content",children:[j.jsx("p",{className:"procedure-description",children:"A consulta comea com uma investigao detalhada da sua sade, buscando compreender voc de forma integral. Avalio aspectos clnicos, hbitos de vida e fatores que podem impactar diretamente sua sade, especialmente a sade cardiovascular."}),j.jsx("p",{className:"procedure-description",children:"Durante esse primeiro momento, conversamos sobre:"}),j.jsxs("ul",{className:"procedure-list",role:"list",children:[j.jsx("li",{children:"Histrico de doenas, cirurgias, alergias e uso de medicamentos"}),j.jsx("li",{children:"Hbitos de vida e rotina diria"}),j.jsx("li",{children:"Padro de sono, qualidade do descanso e presena de roncos"}),j.jsx("li",{children:"Nvel de atividade fsica e sedentarismo"}),j.jsx("li",{children:"Sade emocional, incluindo sintomas de ansiedade e depresso"}),j.jsx("li",{children:"Outros fatores que possam influenciar sua sade cardiovascular e metablica"})]})]}),j.jsx("div",{className:"procedure-image",children:j.jsx("img",{src:KR,alt:"Consulta mdica com avaliao cardiovascular",loading:"lazy",decoding:"async"})})]}),j.jsxs("article",{className:"procedure-step",children:[j.jsx("div",{className:"procedure-image",children:j.jsx("img",{src:GR,alt:"Consulta mdica com avaliao cardiovascular",loading:"lazy",decoding:"async"})}),j.jsxs("div",{className:"procedure-content",children:[j.jsx("p",{className:"procedure-description",children:"Na sequncia, realizo um exame fsico completo, com ateno especial ao sistema cardiovascular, avaliando sinais importantes para um acompanhamento seguro e individualizado."}),j.jsx("p",{className:"procedure-description",children:"Com base nas diretrizes mdicas mais atualizadas, tambm oriento sobre vacinas e exames preventivos essenciais, sempre considerando idade, sexo, histrico pessoal e familiar, como:"}),j.jsxs("ul",{className:"procedure-list",role:"list",children:[j.jsx("li",{children:"Colonoscopia"}),j.jsx("li",{children:"Densitometria ssea"}),j.jsx("li",{children:"Avaliaes urolgicas ou ginecolgicas"}),j.jsx("li",{children:"Exames especficos para a sade cardiovascular"})]})]})]}),j.jsx("aside",{className:"procedure-highlight",children:j.jsx("p",{children:"O objetivo da consulta  oferecer um cuidado personalizado e preventivo, ajudando voc a compreender melhor sua sade, reduzir riscos e promover longevidade com qualidade de vida, sempre alinhando excelncia tcnica com um olhar atento s suas necessidades individuais."})})]}),j.jsx("section",{id:"sobre",className:"about",children:j.jsxs("div",{className:"about-container",children:[j.jsx("div",{className:"about-image",children:j.jsx("img",{src:s1,alt:"Dra. Lueine Barradas",loading:"lazy",decoding:"async"})}),j.jsxs("div",{className:"about-content",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"SOBRE MIM"}),j.jsxs("h2",{children:["Conhea a ",j.jsx("br",{})," Dra. Lueine Barradas"]})]}),j.jsx("div",{className:"about-crm",children:"CRM PA 18364"}),j.jsx("div",{className:"about-image-mobile",children:j.jsx("img",{src:s1,alt:"Dra. Lueine Barradas",loading:"lazy",decoding:"async"})}),j.jsx("p",{children:"Mdica formada pela Universidade do Vale do Itaja (UNIVALI), com atuao em Medicina de Famlia e Comunidade e foco em medicina preventiva e cuidado integral  sade."}),j.jsx("p",{children:"Atua em Bragana  Par, acompanhando pacientes de forma individualizada, com um olhar atento no apenas para a doena, mas para a pessoa como um todo."}),j.jsx("p",{children:"Acredita que cuidar da sade vai alm de tratar sintomas. Por isso, mantm atualizao contnua e atualmente realiza ps-graduao em Cardiologia e Imunizao Humana, integrando preveno, diagnstico e acompanhamento ao longo do tempo."}),j.jsx("p",{children:"Seu trabalho  baseado na escuta qualificada, na construo de vnculo e na elaborao de planos de cuidado que faam sentido para a realidade de cada paciente."}),j.jsx(Dt,{className:"about-button"})]})]})}),j.jsx(FD,{}),j.jsx(WR,{}),j.jsx(UD,{}),j.jsx($D,{}),j.jsx("section",{id:"contato",className:"contact",children:j.jsxs("div",{className:"contact-grid",children:[j.jsx("div",{className:"map-wrapper",children:j.jsx("iframe",{title:"Mapa consultrio",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.1498290488926!2d-46.77125592417375!3d-1.0488539354144943!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x92aed980f8c377f7%3A0x14025d174ba7fb3!2sDra%20Lueine%20Barradas!5e0!3m2!1spt-BR!2sbr!4v1769569385545!5m2!1spt-BR!2sbr",loading:"lazy"})}),j.jsxs("div",{className:"map-text",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"CONTATO"}),j.jsx("h2",{children:"Entre em contato conosco"})]}),j.jsxs("div",{className:"contact-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(WD,{className:"icon"})}),j.jsxs("div",{children:[j.jsx("strong",{children:"Horrio de funcionamento:"}),j.jsx("p",{children:"Segunda a Sexta | 08h s 18h"})]})]}),j.jsxs("div",{className:"contact-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(KD,{className:"icon"})}),j.jsxs("div",{children:[j.jsx("strong",{children:"Endereo"}),j.jsx("p",{children:"Av. Nazeazeno Ferreira, 60 - Padre Luiz, Bragana - PA"})]})]}),j.jsxs("div",{className:"contact-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(GD,{className:"icon"})}),j.jsxs("div",{children:[j.jsx("strong",{children:"Telefone"}),j.jsx("p",{children:"(91) 98580-7373"})]})]}),j.jsx(Dt,{className:"about-button"})]})]})})]})}function b3(){const{slugId:n}=b2(),[e,t]=J.useState(null),[r,o]=J.useState({displayName:"",photoURL:""}),[a,l]=J.useState(""),[c,f]=J.useState([]);if(J.useEffect(()=>{async function k(){const b=VD(n),D=Zo(Fr,"posts",b),F=await ig(D);if(!F.exists())return;const P=F.data();if(t({id:b,...P}),(P?.authorName||P?.authorPhotoURL)&&o({displayName:P.authorName||"",photoURL:P.authorPhotoURL||""}),P.authorId){const R=Zo(Fr,"users",P.authorId),M=await ig(R);if(M.exists()){const x=M.data()||{};o(I=>({displayName:x.displayName||I.displayName||"",photoURL:x.photoURL||I.photoURL||""}))}}}k()},[n]),J.useEffect(()=>{l(window.location.href)},[n]),J.useEffect(()=>{async function k(){if(!e?.id){f([]);return}const b=ly(Uf(Fr,"posts"),tS("date","desc"),QO(6)),P=(await hy(b)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.id!==e.id).slice(0,3);f(P)}k()},[e?.id]),!e)return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"skeleton skeleton-img"}),j.jsxs("section",{className:"post-detail",children:[j.jsx("div",{className:"skeleton skeleton-title"}),j.jsx("div",{className:"skeleton skeleton-text"}),j.jsx("div",{className:"skeleton skeleton-text"}),j.jsx("div",{className:"skeleton skeleton-text",style:{width:"60%"}})]})]});const p="https://dralueinebarradas.com.br",v=cg({title:e.title,id:e.id,slug:e.slug}),m=a||`${p}/post/${v}`,d=encodeURIComponent(`Confira este post: ${e.title}`),S=(e.summary||e.content||"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().slice(0,155),_=e.authorName||r.displayName||"Dra. Lueine Barradas",E=e?.date?.seconds?new Date(e.date.seconds*1e3).toISOString():null,w={"@context":"https://schema.org","@type":"Article",headline:e.title,description:S,image:e.featuredImage?[e.featuredImage]:void 0,author:{"@type":"Person",name:_},publisher:{"@type":"Organization",name:"Dra. Lueine Barradas",logo:{"@type":"ImageObject",url:`${p}/favicon.ico`}},datePublished:E||void 0,dateModified:E||void 0,mainEntityOfPage:m},T=e?.date?.seconds?new Date(e.date.seconds*1e3).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):"";return j.jsxs(j.Fragment,{children:[j.jsxs(dA,{children:[j.jsxs("title",{children:[e.title," | Dra. Lueine Barradas"]}),j.jsx("meta",{name:"description",content:S}),j.jsx("link",{rel:"canonical",href:m}),j.jsx("meta",{property:"og:title",content:e.title}),j.jsx("meta",{property:"og:description",content:S}),j.jsx("meta",{property:"og:type",content:"article"}),j.jsx("meta",{property:"og:url",content:m}),e.featuredImage&&j.jsx("meta",{property:"og:image",content:e.featuredImage}),E&&j.jsx("meta",{property:"article:published_time",content:E}),j.jsx("meta",{property:"article:author",content:_}),j.jsx("meta",{name:"twitter:card",content:e.featuredImage?"summary_large_image":"summary"}),j.jsx("script",{type:"application/ld+json",children:JSON.stringify(w)})]}),e.featuredImage&&j.jsx("div",{className:"featured-image-full",children:j.jsx("img",{src:e.featuredImage,alt:e.title})}),j.jsxs("div",{className:"post-body",children:[j.jsxs("article",{className:"post-detail","aria-live":"polite",children:[j.jsx("h1",{children:e.title}),j.jsx("p",{className:"description",children:e.summary}),j.jsx("div",{className:"meta",children:j.jsxs("div",{className:"author",children:[r.photoURL?j.jsx("img",{src:r.photoURL,alt:r.displayName,className:"author-photo"}):j.jsx("div",{className:"author-photo author-photo-placeholder","aria-label":"Avatar genrico",children:j.jsxs("svg",{viewBox:"0 0 64 64",role:"img","aria-hidden":"true",children:[j.jsx("circle",{cx:"32",cy:"24",r:"14"}),j.jsx("path",{d:"M12 58c4-12 16-18 20-18s16 6 20 18"})]})}),j.jsxs("div",{className:"author-info",children:[j.jsxs("span",{className:"author-name",children:["Publicado por ",_]}),j.jsxs("span",{className:"author-date",children:["em ",T]})]})]})}),j.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:e.content}})]}),j.jsxs("section",{className:"post-infos",children:[j.jsxs("aside",{className:"share-aside","aria-label":"Compartilhar",children:[j.jsx("h2",{className:"share-title",children:"Compartilhe"}),j.jsxs("div",{className:"share-buttons",children:[j.jsx("a",{href:`https://api.whatsapp.com/send?text=${d}%20${encodeURIComponent(m)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no WhatsApp",children:j.jsx(bg,{})}),j.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no Facebook",children:j.jsx(IR,{})}),j.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(m)}&text=${encodeURIComponent(e.title)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no Twitter",children:j.jsx(PR,{})}),j.jsx("a",{href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no LinkedIn",children:j.jsx(kR,{})})]})]}),c.length>0&&j.jsxs("div",{className:"related-posts","aria-label":"Outros posts",children:[j.jsx("h2",{className:"share-title",children:"Outros posts"}),j.jsx("div",{className:"related-grid",children:c.map(k=>{const b=`/post/${cg({title:k.title,id:k.id,slug:k.slug})}`;return j.jsxs("article",{className:"related-card",children:[k.featuredImage&&j.jsx("img",{src:k.featuredImage,alt:k.title,loading:"lazy",decoding:"async"}),j.jsxs("div",{className:"related-content",children:[j.jsx("h3",{children:j.jsx(Go,{to:b,children:k.title})}),j.jsx("p",{children:k.summary})]})]},k.id)})})]})]})]})]})}function S3({user:n,userProfile:e,editingProfile:t,onStartEditProfile:r,onCancelEditProfile:o,onSaveProfile:a,onProfileChange:l,onProfileImageChange:c,onProfileImageRemove:f,hasProfileChanged:p,uploading:v,onSignOut:m}){const d=J.useRef(null),y=!!e.photoURL,S=()=>{d.current&&d.current.click()};return j.jsxs("header",{className:"admin-header",children:[j.jsxs("div",{className:`user-profile ${t?"editing":""}`,children:[j.jsxs("div",{className:"avatar-wrapper",children:[y?j.jsx("img",{src:e.photoURL,alt:"Avatar",className:"avatar"}):j.jsx("div",{className:"avatar avatar-fallback","aria-label":"Avatar genrico",children:j.jsxs("svg",{viewBox:"0 0 64 64",role:"img","aria-hidden":"true",children:[j.jsx("circle",{cx:"32",cy:"24",r:"14"}),j.jsx("path",{d:"M12 58c4-12 16-18 20-18s16 6 20 18"})]})}),t&&y&&j.jsx("button",{type:"button",className:"avatar-action remove",onClick:f,"aria-label":"Remover foto",children:""}),t&&!y&&j.jsx("button",{type:"button",className:"avatar-action add",onClick:S,"aria-label":"Adicionar foto",children:"+"}),t&&j.jsx("input",{ref:d,type:"file",accept:"image/*",className:"avatar-input",onChange:c})]}),j.jsx("div",{className:"user-info",children:t?j.jsxs(j.Fragment,{children:[j.jsx("input",{type:"text",placeholder:"Seu nome",value:e.displayName,onChange:_=>l({...e,displayName:_.target.value})}),j.jsxs("div",{className:"profile-actions",children:[j.jsx("button",{className:"admin-btn primary",disabled:!p()||v,onClick:a,children:v?"Enviando...":"Salvar perfil"}),j.jsx("button",{className:"admin-btn cancel",onClick:o,children:"Cancelar"})]})]}):j.jsxs(j.Fragment,{children:[j.jsx("strong",{className:"user-name",children:e.displayName||n.email}),j.jsx("button",{className:"edit-profile-link",onClick:r,children:"Editar perfil"})]})})]}),j.jsx("button",{className:"admin-logout",onClick:m,children:"Sair"})]})}var np,Y0;function A3(){if(Y0)return np;Y0=1;function n(){this.__data__=[],this.size=0}return np=n,np}var rp,X0;function pA(){if(X0)return rp;X0=1;function n(e,t){return e===t||e!==e&&t!==t}return rp=n,rp}var ip,J0;function Jf(){if(J0)return ip;J0=1;var n=pA();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return ip=e,ip}var op,Z0;function I3(){if(Z0)return op;Z0=1;var n=Jf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,l=n(a,o);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():t.call(a,l,1),--this.size,!0}return op=r,op}var sp,eE;function R3(){if(eE)return sp;eE=1;var n=Jf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return sp=e,sp}var ap,tE;function k3(){if(tE)return ap;tE=1;var n=Jf();function e(t){return n(this.__data__,t)>-1}return ap=e,ap}var lp,nE;function P3(){if(nE)return lp;nE=1;var n=Jf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return lp=e,lp}var up,rE;function Zf(){if(rE)return up;rE=1;var n=A3(),e=I3(),t=R3(),r=k3(),o=P3();function a(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,up=a,up}var cp,iE;function x3(){if(iE)return cp;iE=1;var n=Zf();function e(){this.__data__=new n,this.size=0}return cp=e,cp}var fp,oE;function C3(){if(oE)return fp;oE=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return fp=n,fp}var hp,sE;function O3(){if(sE)return hp;sE=1;function n(e){return this.__data__.get(e)}return hp=n,hp}var dp,aE;function N3(){if(aE)return dp;aE=1;function n(e){return this.__data__.has(e)}return dp=n,dp}var pp,lE;function mA(){if(lE)return pp;lE=1;var n=typeof Sc=="object"&&Sc&&Sc.Object===Object&&Sc;return pp=n,pp}var mp,uE;function _i(){if(uE)return mp;uE=1;var n=mA(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return mp=t,mp}var gp,cE;function xy(){if(cE)return gp;cE=1;var n=_i(),e=n.Symbol;return gp=e,gp}var yp,fE;function L3(){if(fE)return yp;fE=1;var n=xy(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(l){var c=t.call(l,o),f=l[o];try{l[o]=void 0;var p=!0}catch{}var v=r.call(l);return p&&(c?l[o]=f:delete l[o]),v}return yp=a,yp}var vp,hE;function D3(){if(hE)return vp;hE=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return vp=t,vp}var _p,dE;function eh(){if(dE)return _p;dE=1;var n=xy(),e=L3(),t=D3(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function l(c){return c==null?c===void 0?o:r:a&&a in Object(c)?e(c):t(c)}return _p=l,_p}var Ep,pE;function gA(){if(pE)return Ep;pE=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return Ep=n,Ep}var wp,mE;function yA(){if(mE)return wp;mE=1;var n=eh(),e=gA(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!e(c))return!1;var f=n(c);return f==r||f==o||f==t||f==a}return wp=l,wp}var Tp,gE;function M3(){if(gE)return Tp;gE=1;var n=_i(),e=n["__core-js_shared__"];return Tp=e,Tp}var bp,yE;function j3(){if(yE)return bp;yE=1;var n=M3(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return bp=t,bp}var Sp,vE;function vA(){if(vE)return Sp;vE=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Sp=t,Sp}var Ap,_E;function V3(){if(_E)return Ap;_E=1;var n=yA(),e=j3(),t=gA(),r=vA(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,p=c.hasOwnProperty,v=RegExp("^"+f.call(p).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(d){if(!t(d)||e(d))return!1;var y=n(d)?v:a;return y.test(r(d))}return Ap=m,Ap}var Ip,EE;function U3(){if(EE)return Ip;EE=1;function n(e,t){return e?.[t]}return Ip=n,Ip}var Rp,wE;function ka(){if(wE)return Rp;wE=1;var n=V3(),e=U3();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Rp=t,Rp}var kp,TE;function Cy(){if(TE)return kp;TE=1;var n=ka(),e=_i(),t=n(e,"Map");return kp=t,kp}var Pp,bE;function th(){if(bE)return Pp;bE=1;var n=ka(),e=n(Object,"create");return Pp=e,Pp}var xp,SE;function F3(){if(SE)return xp;SE=1;var n=th();function e(){this.__data__=n?n(null):{},this.size=0}return xp=e,xp}var Cp,AE;function q3(){if(AE)return Cp;AE=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Cp=n,Cp}var Op,IE;function B3(){if(IE)return Op;IE=1;var n=th(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var l=this.__data__;if(n){var c=l[a];return c===e?void 0:c}return r.call(l,a)?l[a]:void 0}return Op=o,Op}var Np,RE;function z3(){if(RE)return Np;RE=1;var n=th(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return Np=r,Np}var Lp,kE;function H3(){if(kE)return Lp;kE=1;var n=th(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return Lp=t,Lp}var Dp,PE;function $3(){if(PE)return Dp;PE=1;var n=F3(),e=q3(),t=B3(),r=z3(),o=H3();function a(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Dp=a,Dp}var Mp,xE;function W3(){if(xE)return Mp;xE=1;var n=$3(),e=Zf(),t=Cy();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Mp=r,Mp}var jp,CE;function K3(){if(CE)return jp;CE=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return jp=n,jp}var Vp,OE;function nh(){if(OE)return Vp;OE=1;var n=K3();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return Vp=e,Vp}var Up,NE;function G3(){if(NE)return Up;NE=1;var n=nh();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return Up=e,Up}var Fp,LE;function Q3(){if(LE)return Fp;LE=1;var n=nh();function e(t){return n(this,t).get(t)}return Fp=e,Fp}var qp,DE;function Y3(){if(DE)return qp;DE=1;var n=nh();function e(t){return n(this,t).has(t)}return qp=e,qp}var Bp,ME;function X3(){if(ME)return Bp;ME=1;var n=nh();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return Bp=e,Bp}var zp,jE;function _A(){if(jE)return zp;jE=1;var n=W3(),e=G3(),t=Q3(),r=Y3(),o=X3();function a(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,zp=a,zp}var Hp,VE;function J3(){if(VE)return Hp;VE=1;var n=Zf(),e=Cy(),t=_A(),r=200;function o(a,l){var c=this.__data__;if(c instanceof n){var f=c.__data__;if(!e||f.length<r-1)return f.push([a,l]),this.size=++c.size,this;c=this.__data__=new t(f)}return c.set(a,l),this.size=c.size,this}return Hp=o,Hp}var $p,UE;function Z3(){if(UE)return $p;UE=1;var n=Zf(),e=x3(),t=C3(),r=O3(),o=N3(),a=J3();function l(c){var f=this.__data__=new n(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=o,l.prototype.set=a,$p=l,$p}var Wp,FE;function e5(){if(FE)return Wp;FE=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return Wp=e,Wp}var Kp,qE;function t5(){if(qE)return Kp;qE=1;function n(e){return this.__data__.has(e)}return Kp=n,Kp}var Gp,BE;function n5(){if(BE)return Gp;BE=1;var n=_A(),e=e5(),t=t5();function r(o){var a=-1,l=o==null?0:o.length;for(this.__data__=new n;++a<l;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Gp=r,Gp}var Qp,zE;function r5(){if(zE)return Qp;zE=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return Qp=n,Qp}var Yp,HE;function i5(){if(HE)return Yp;HE=1;function n(e,t){return e.has(t)}return Yp=n,Yp}var Xp,$E;function EA(){if($E)return Xp;$E=1;var n=n5(),e=r5(),t=i5(),r=1,o=2;function a(l,c,f,p,v,m){var d=f&r,y=l.length,S=c.length;if(y!=S&&!(d&&S>y))return!1;var _=m.get(l),E=m.get(c);if(_&&E)return _==c&&E==l;var w=-1,T=!0,k=f&o?new n:void 0;for(m.set(l,c),m.set(c,l);++w<y;){var b=l[w],D=c[w];if(p)var F=d?p(D,b,w,c,l,m):p(b,D,w,l,c,m);if(F!==void 0){if(F)continue;T=!1;break}if(k){if(!e(c,function(P,R){if(!t(k,R)&&(b===P||v(b,P,f,p,m)))return k.push(R)})){T=!1;break}}else if(!(b===D||v(b,D,f,p,m))){T=!1;break}}return m.delete(l),m.delete(c),T}return Xp=a,Xp}var Jp,WE;function o5(){if(WE)return Jp;WE=1;var n=_i(),e=n.Uint8Array;return Jp=e,Jp}var Zp,KE;function s5(){if(KE)return Zp;KE=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return Zp=n,Zp}var em,GE;function a5(){if(GE)return em;GE=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return em=n,em}var tm,QE;function l5(){if(QE)return tm;QE=1;var n=xy(),e=o5(),t=pA(),r=EA(),o=s5(),a=a5(),l=1,c=2,f="[object Boolean]",p="[object Date]",v="[object Error]",m="[object Map]",d="[object Number]",y="[object RegExp]",S="[object Set]",_="[object String]",E="[object Symbol]",w="[object ArrayBuffer]",T="[object DataView]",k=n?n.prototype:void 0,b=k?k.valueOf:void 0;function D(F,P,R,M,x,I,L){switch(R){case T:if(F.byteLength!=P.byteLength||F.byteOffset!=P.byteOffset)return!1;F=F.buffer,P=P.buffer;case w:return!(F.byteLength!=P.byteLength||!I(new e(F),new e(P)));case f:case p:case d:return t(+F,+P);case v:return F.name==P.name&&F.message==P.message;case y:case _:return F==P+"";case m:var N=o;case S:var z=M&l;if(N||(N=a),F.size!=P.size&&!z)return!1;var G=L.get(F);if(G)return G==P;M|=c,L.set(F,P);var ne=r(N(F),N(P),M,x,I,L);return L.delete(F),ne;case E:if(b)return b.call(F)==b.call(P)}return!1}return tm=D,tm}var nm,YE;function u5(){if(YE)return nm;YE=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return nm=n,nm}var rm,XE;function Oy(){if(XE)return rm;XE=1;var n=Array.isArray;return rm=n,rm}var im,JE;function c5(){if(JE)return im;JE=1;var n=u5(),e=Oy();function t(r,o,a){var l=o(r);return e(r)?l:n(l,a(r))}return im=t,im}var om,ZE;function f5(){if(ZE)return om;ZE=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,l=[];++r<o;){var c=e[r];t(c,r,e)&&(l[a++]=c)}return l}return om=n,om}var sm,ew;function h5(){if(ew)return sm;ew=1;function n(){return[]}return sm=n,sm}var am,tw;function d5(){if(tw)return am;tw=1;var n=f5(),e=h5(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(l){return l==null?[]:(l=Object(l),n(o(l),function(c){return r.call(l,c)}))}:e;return am=a,am}var lm,nw;function p5(){if(nw)return lm;nw=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return lm=n,lm}var um,rw;function rh(){if(rw)return um;rw=1;function n(e){return e!=null&&typeof e=="object"}return um=n,um}var cm,iw;function m5(){if(iw)return cm;iw=1;var n=eh(),e=rh(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return cm=r,cm}var fm,ow;function g5(){if(ow)return fm;ow=1;var n=m5(),e=rh(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n((function(){return arguments})())?n:function(l){return e(l)&&r.call(l,"callee")&&!o.call(l,"callee")};return fm=a,fm}var xl={exports:{}},hm,sw;function y5(){if(sw)return hm;sw=1;function n(){return!1}return hm=n,hm}xl.exports;var aw;function wA(){return aw||(aw=1,(function(n,e){var t=_i(),r=y5(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,l=a&&a.exports===o,c=l?t.Buffer:void 0,f=c?c.isBuffer:void 0,p=f||r;n.exports=p})(xl,xl.exports)),xl.exports}var dm,lw;function v5(){if(lw)return dm;lw=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return dm=t,dm}var pm,uw;function TA(){if(uw)return pm;uw=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return pm=e,pm}var mm,cw;function _5(){if(cw)return mm;cw=1;var n=eh(),e=TA(),t=rh(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",p="[object Map]",v="[object Number]",m="[object Object]",d="[object RegExp]",y="[object Set]",S="[object String]",_="[object WeakMap]",E="[object ArrayBuffer]",w="[object DataView]",T="[object Float32Array]",k="[object Float64Array]",b="[object Int8Array]",D="[object Int16Array]",F="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",x="[object Uint32Array]",I={};I[T]=I[k]=I[b]=I[D]=I[F]=I[P]=I[R]=I[M]=I[x]=!0,I[r]=I[o]=I[E]=I[a]=I[w]=I[l]=I[c]=I[f]=I[p]=I[v]=I[m]=I[d]=I[y]=I[S]=I[_]=!1;function L(N){return t(N)&&e(N.length)&&!!I[n(N)]}return mm=L,mm}var gm,fw;function E5(){if(fw)return gm;fw=1;function n(e){return function(t){return e(t)}}return gm=n,gm}var Cl={exports:{}};Cl.exports;var hw;function w5(){return hw||(hw=1,(function(n,e){var t=mA(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,l=a&&t.process,c=(function(){try{var f=o&&o.require&&o.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();n.exports=c})(Cl,Cl.exports)),Cl.exports}var ym,dw;function bA(){if(dw)return ym;dw=1;var n=_5(),e=E5(),t=w5(),r=t&&t.isTypedArray,o=r?e(r):n;return ym=o,ym}var vm,pw;function T5(){if(pw)return vm;pw=1;var n=p5(),e=g5(),t=Oy(),r=wA(),o=v5(),a=bA(),l=Object.prototype,c=l.hasOwnProperty;function f(p,v){var m=t(p),d=!m&&e(p),y=!m&&!d&&r(p),S=!m&&!d&&!y&&a(p),_=m||d||y||S,E=_?n(p.length,String):[],w=E.length;for(var T in p)(v||c.call(p,T))&&!(_&&(T=="length"||y&&(T=="offset"||T=="parent")||S&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||o(T,w)))&&E.push(T);return E}return vm=f,vm}var _m,mw;function b5(){if(mw)return _m;mw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return _m=e,_m}var Em,gw;function S5(){if(gw)return Em;gw=1;function n(e,t){return function(r){return e(t(r))}}return Em=n,Em}var wm,yw;function A5(){if(yw)return wm;yw=1;var n=S5(),e=n(Object.keys,Object);return wm=e,wm}var Tm,vw;function I5(){if(vw)return Tm;vw=1;var n=b5(),e=A5(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var l=[];for(var c in Object(a))r.call(a,c)&&c!="constructor"&&l.push(c);return l}return Tm=o,Tm}var bm,_w;function R5(){if(_w)return bm;_w=1;var n=yA(),e=TA();function t(r){return r!=null&&e(r.length)&&!n(r)}return bm=t,bm}var Sm,Ew;function k5(){if(Ew)return Sm;Ew=1;var n=T5(),e=I5(),t=R5();function r(o){return t(o)?n(o):e(o)}return Sm=r,Sm}var Am,ww;function P5(){if(ww)return Am;ww=1;var n=c5(),e=d5(),t=k5();function r(o){return n(o,t,e)}return Am=r,Am}var Im,Tw;function x5(){if(Tw)return Im;Tw=1;var n=P5(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,l,c,f,p,v){var m=c&e,d=n(a),y=d.length,S=n(l),_=S.length;if(y!=_&&!m)return!1;for(var E=y;E--;){var w=d[E];if(!(m?w in l:r.call(l,w)))return!1}var T=v.get(a),k=v.get(l);if(T&&k)return T==l&&k==a;var b=!0;v.set(a,l),v.set(l,a);for(var D=m;++E<y;){w=d[E];var F=a[w],P=l[w];if(f)var R=m?f(P,F,w,l,a,v):f(F,P,w,a,l,v);if(!(R===void 0?F===P||p(F,P,c,f,v):R)){b=!1;break}D||(D=w=="constructor")}if(b&&!D){var M=a.constructor,x=l.constructor;M!=x&&"constructor"in a&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof x=="function"&&x instanceof x)&&(b=!1)}return v.delete(a),v.delete(l),b}return Im=o,Im}var Rm,bw;function C5(){if(bw)return Rm;bw=1;var n=ka(),e=_i(),t=n(e,"DataView");return Rm=t,Rm}var km,Sw;function O5(){if(Sw)return km;Sw=1;var n=ka(),e=_i(),t=n(e,"Promise");return km=t,km}var Pm,Aw;function N5(){if(Aw)return Pm;Aw=1;var n=ka(),e=_i(),t=n(e,"Set");return Pm=t,Pm}var xm,Iw;function L5(){if(Iw)return xm;Iw=1;var n=ka(),e=_i(),t=n(e,"WeakMap");return xm=t,xm}var Cm,Rw;function D5(){if(Rw)return Cm;Rw=1;var n=C5(),e=Cy(),t=O5(),r=N5(),o=L5(),a=eh(),l=vA(),c="[object Map]",f="[object Object]",p="[object Promise]",v="[object Set]",m="[object WeakMap]",d="[object DataView]",y=l(n),S=l(e),_=l(t),E=l(r),w=l(o),T=a;return(n&&T(new n(new ArrayBuffer(1)))!=d||e&&T(new e)!=c||t&&T(t.resolve())!=p||r&&T(new r)!=v||o&&T(new o)!=m)&&(T=function(k){var b=a(k),D=b==f?k.constructor:void 0,F=D?l(D):"";if(F)switch(F){case y:return d;case S:return c;case _:return p;case E:return v;case w:return m}return b}),Cm=T,Cm}var Om,kw;function M5(){if(kw)return Om;kw=1;var n=Z3(),e=EA(),t=l5(),r=x5(),o=D5(),a=Oy(),l=wA(),c=bA(),f=1,p="[object Arguments]",v="[object Array]",m="[object Object]",d=Object.prototype,y=d.hasOwnProperty;function S(_,E,w,T,k,b){var D=a(_),F=a(E),P=D?v:o(_),R=F?v:o(E);P=P==p?m:P,R=R==p?m:R;var M=P==m,x=R==m,I=P==R;if(I&&l(_)){if(!l(E))return!1;D=!0,M=!1}if(I&&!M)return b||(b=new n),D||c(_)?e(_,E,w,T,k,b):t(_,E,P,w,T,k,b);if(!(w&f)){var L=M&&y.call(_,"__wrapped__"),N=x&&y.call(E,"__wrapped__");if(L||N){var z=L?_.value():_,G=N?E.value():E;return b||(b=new n),k(z,G,w,T,b)}}return I?(b||(b=new n),r(_,E,w,T,k,b)):!1}return Om=S,Om}var Nm,Pw;function j5(){if(Pw)return Nm;Pw=1;var n=M5(),e=rh();function t(r,o,a,l,c){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,l,t,c)}return Nm=t,Nm}var Lm,xw;function V5(){if(xw)return Lm;xw=1;var n=j5();function e(t,r){return n(t,r)}return Lm=e,Lm}var Qc={exports:{}};var U5=Qc.exports,Cw;function F5(){return Cw||(Cw=1,(function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:U5,function(){return(function(t){var r={};function o(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=t,o.c=r,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:c})},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s=109)})([(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),l=o(18),c=o(19),f=o(45),p=o(46),v=o(47),m=o(48),d=o(49),y=o(12),S=o(32),_=o(33),E=o(31),w=o(1),T={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:a.default,Format:l.default,Leaf:c.default,Embed:m.default,Scroll:f.default,Block:v.default,Inline:p.default,Text:d.default,Attributor:{Attribute:y.default,Class:S.default,Style:_.default,Store:E.default}};r.default=T}),(function(t,r,o){var a=this&&this.__extends||(function(){var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var k in T)T.hasOwnProperty(k)&&(w[k]=T[k])};return function(w,T){E(w,T);function k(){this.constructor=w}w.prototype=T===null?Object.create(T):(k.prototype=T.prototype,new k)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=(function(E){a(w,E);function w(T){var k=this;return T="[Parchment] "+T,k=E.call(this,T)||this,k.message=T,k.name=k.constructor.name,k}return w})(Error);r.ParchmentError=l;var c={},f={},p={},v={};r.DATA_KEY="__blot";var m;(function(E){E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function d(E,w){var T=S(E);if(T==null)throw new l("Unable to create "+E+" blot");var k=T,b=E instanceof Node||E.nodeType===Node.TEXT_NODE?E:k.create(w);return new k(b,w)}r.create=d;function y(E,w){return w===void 0&&(w=!1),E==null?null:E[r.DATA_KEY]!=null?E[r.DATA_KEY].blot:w?y(E.parentNode,w):null}r.find=y;function S(E,w){w===void 0&&(w=m.ANY);var T;if(typeof E=="string")T=v[E]||c[E];else if(E instanceof Text||E.nodeType===Node.TEXT_NODE)T=v.text;else if(typeof E=="number")E&m.LEVEL&m.BLOCK?T=v.block:E&m.LEVEL&m.INLINE&&(T=v.inline);else if(E instanceof HTMLElement){var k=(E.getAttribute("class")||"").split(/\s+/);for(var b in k)if(T=f[k[b]],T)break;T=T||p[E.tagName]}return T==null?null:w&m.LEVEL&T.scope&&w&m.TYPE&T.scope?T:null}r.query=S;function _(){for(var E=[],w=0;w<arguments.length;w++)E[w]=arguments[w];if(E.length>1)return E.map(function(b){return _(b)});var T=E[0];if(typeof T.blotName!="string"&&typeof T.attrName!="string")throw new l("Invalid definition");if(T.blotName==="abstract")throw new l("Cannot register abstract class");if(v[T.blotName||T.attrName]=T,typeof T.keyName=="string")c[T.keyName]=T;else if(T.className!=null&&(f[T.className]=T),T.tagName!=null){Array.isArray(T.tagName)?T.tagName=T.tagName.map(function(b){return b.toUpperCase()}):T.tagName=T.tagName.toUpperCase();var k=Array.isArray(T.tagName)?T.tagName:[T.tagName];k.forEach(function(b){(p[b]==null||T.className==null)&&(p[b]=T)})}return T}r.register=_}),(function(t,r,o){var a=o(51),l=o(11),c=o(3),f=o(20),p="\0",v=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};v.prototype.insert=function(m,d){var y={};return m.length===0?this:(y.insert=m,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},v.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},v.prototype.retain=function(m,d){if(m<=0)return this;var y={retain:m};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},v.prototype.push=function(m){var d=this.ops.length,y=this.ops[d-1];if(m=c(!0,{},m),typeof y=="object"){if(typeof m.delete=="number"&&typeof y.delete=="number")return this.ops[d-1]={delete:y.delete+m.delete},this;if(typeof y.delete=="number"&&m.insert!=null&&(d-=1,y=this.ops[d-1],typeof y!="object"))return this.ops.unshift(m),this;if(l(m.attributes,y.attributes)){if(typeof m.insert=="string"&&typeof y.insert=="string")return this.ops[d-1]={insert:y.insert+m.insert},typeof m.attributes=="object"&&(this.ops[d-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof y.retain=="number")return this.ops[d-1]={retain:y.retain+m.retain},typeof m.attributes=="object"&&(this.ops[d-1].attributes=m.attributes),this}}return d===this.ops.length?this.ops.push(m):this.ops.splice(d,0,m),this},v.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},v.prototype.filter=function(m){return this.ops.filter(m)},v.prototype.forEach=function(m){this.ops.forEach(m)},v.prototype.map=function(m){return this.ops.map(m)},v.prototype.partition=function(m){var d=[],y=[];return this.forEach(function(S){var _=m(S)?d:y;_.push(S)}),[d,y]},v.prototype.reduce=function(m,d){return this.ops.reduce(m,d)},v.prototype.changeLength=function(){return this.reduce(function(m,d){return d.insert?m+f.length(d):d.delete?m-d.delete:m},0)},v.prototype.length=function(){return this.reduce(function(m,d){return m+f.length(d)},0)},v.prototype.slice=function(m,d){m=m||0,typeof d!="number"&&(d=1/0);for(var y=[],S=f.iterator(this.ops),_=0;_<d&&S.hasNext();){var E;_<m?E=S.next(m-_):(E=S.next(d-_),y.push(E)),_+=f.length(E)}return new v(y)},v.prototype.compose=function(m){var d=f.iterator(this.ops),y=f.iterator(m.ops),S=[],_=y.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){for(var E=_.retain;d.peekType()==="insert"&&d.peekLength()<=E;)E-=d.peekLength(),S.push(d.next());_.retain-E>0&&y.next(_.retain-E)}for(var w=new v(S);d.hasNext()||y.hasNext();)if(y.peekType()==="insert")w.push(y.next());else if(d.peekType()==="delete")w.push(d.next());else{var T=Math.min(d.peekLength(),y.peekLength()),k=d.next(T),b=y.next(T);if(typeof b.retain=="number"){var D={};typeof k.retain=="number"?D.retain=T:D.insert=k.insert;var F=f.attributes.compose(k.attributes,b.attributes,typeof k.retain=="number");if(F&&(D.attributes=F),w.push(D),!y.hasNext()&&l(w.ops[w.ops.length-1],D)){var P=new v(d.rest());return w.concat(P).chop()}}else typeof b.delete=="number"&&typeof k.retain=="number"&&w.push(b)}return w.chop()},v.prototype.concat=function(m){var d=new v(this.ops.slice());return m.ops.length>0&&(d.push(m.ops[0]),d.ops=d.ops.concat(m.ops.slice(1))),d},v.prototype.diff=function(m,d){if(this.ops===m.ops)return new v;var y=[this,m].map(function(T){return T.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:p;var b=T===m?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),S=new v,_=a(y[0],y[1],d),E=f.iterator(this.ops),w=f.iterator(m.ops);return _.forEach(function(T){for(var k=T[1].length;k>0;){var b=0;switch(T[0]){case a.INSERT:b=Math.min(w.peekLength(),k),S.push(w.next(b));break;case a.DELETE:b=Math.min(k,E.peekLength()),E.next(b),S.delete(b);break;case a.EQUAL:b=Math.min(E.peekLength(),w.peekLength(),k);var D=E.next(b),F=w.next(b);l(D.insert,F.insert)?S.retain(b,f.attributes.diff(D.attributes,F.attributes)):S.push(F).delete(b);break}k-=b}}),S.chop()},v.prototype.eachLine=function(m,d){d=d||`
`;for(var y=f.iterator(this.ops),S=new v,_=0;y.hasNext();){if(y.peekType()!=="insert")return;var E=y.peek(),w=f.length(E)-y.peekLength(),T=typeof E.insert=="string"?E.insert.indexOf(d,w)-w:-1;if(T<0)S.push(y.next());else if(T>0)S.push(y.next(T));else{if(m(S,y.next(1).attributes||{},_)===!1)return;_+=1,S=new v}}S.length()>0&&m(S,{},_)},v.prototype.transform=function(m,d){if(d=!!d,typeof m=="number")return this.transformPosition(m,d);for(var y=f.iterator(this.ops),S=f.iterator(m.ops),_=new v;y.hasNext()||S.hasNext();)if(y.peekType()==="insert"&&(d||S.peekType()!=="insert"))_.retain(f.length(y.next()));else if(S.peekType()==="insert")_.push(S.next());else{var E=Math.min(y.peekLength(),S.peekLength()),w=y.next(E),T=S.next(E);if(w.delete)continue;T.delete?_.push(T):_.retain(E,f.attributes.transform(w.attributes,T.attributes,d))}return _.chop()},v.prototype.transformPosition=function(m,d){d=!!d;for(var y=f.iterator(this.ops),S=0;y.hasNext()&&S<=m;){var _=y.peekLength(),E=y.peekType();if(y.next(),E==="delete"){m-=Math.min(_,m-S);continue}else E==="insert"&&(S<m||!d)&&(m+=_);S+=_}return m},t.exports=v}),(function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,f=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},p=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var S=o.call(y,"constructor"),_=y.constructor&&y.constructor.prototype&&o.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!S&&!_)return!1;var E;for(E in y);return typeof E>"u"||o.call(y,E)},v=function(y,S){l&&S.name==="__proto__"?l(y,S.name,{enumerable:!0,configurable:!0,value:S.newValue,writable:!0}):y[S.name]=S.newValue},m=function(y,S){if(S==="__proto__")if(o.call(y,S)){if(c)return c(y,S).value}else return;return y[S]};t.exports=function d(){var y,S,_,E,w,T,k=arguments[0],b=1,D=arguments.length,F=!1;for(typeof k=="boolean"&&(F=k,k=arguments[1]||{},b=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});b<D;++b)if(y=arguments[b],y!=null)for(S in y)_=m(k,S),E=m(y,S),k!==E&&(F&&E&&(p(E)||(w=f(E)))?(w?(w=!1,T=_&&f(_)?_:[]):T=_&&p(_)?_:{},v(k,{name:S,newValue:d(F,T,E)})):typeof E<"u"&&v(k,{name:S,newValue:E}));return k}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=(function(){function I(L,N){for(var z=0;z<N.length;z++){var G=N[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,z){return N&&I(L.prototype,N),z&&I(L,z),L}})(),l=function I(L,N,z){L===null&&(L=Function.prototype);var G=Object.getOwnPropertyDescriptor(L,N);if(G===void 0){var ne=Object.getPrototypeOf(L);return ne===null?void 0:I(ne,N,z)}else{if("value"in G)return G.value;var re=G.get;return re===void 0?void 0:re.call(z)}},c=o(3),f=k(c),p=o(2),v=k(p),m=o(0),d=k(m),y=o(16),S=k(y),_=o(6),E=k(_),w=o(7),T=k(w);function k(I){return I&&I.__esModule?I:{default:I}}function b(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function D(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function F(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var P=1,R=(function(I){F(L,I);function L(){return b(this,L),D(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"attach",value:function(){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,f.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(z,G){var ne=d.default.query(z,d.default.Scope.BLOCK_ATTRIBUTE);ne!=null&&this.attributes.attribute(ne,G)}},{key:"formatAt",value:function(z,G,ne,re){this.format(ne,re)}},{key:"insertAt",value:function(z,G,ne){if(typeof G=="string"&&G.endsWith(`
`)){var re=d.default.create(M.blotName);this.parent.insertBefore(re,z===0?this:this.next),re.insertAt(0,G.slice(0,-1))}else l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,z,G,ne)}}]),L})(d.default.Embed);R.scope=d.default.Scope.BLOCK_BLOT;var M=(function(I){F(L,I);function L(N){b(this,L);var z=D(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N));return z.cache={},z}return a(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(z,G){return G.length()===0?z:z.insert(G.value(),x(G))},new v.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function(z,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,z,G),this.cache={}}},{key:"formatAt",value:function(z,G,ne,re){G<=0||(d.default.query(ne,d.default.Scope.BLOCK)?z+G===this.length()&&this.format(ne,re):l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,z,Math.min(G,this.length()-z-1),ne,re),this.cache={})}},{key:"insertAt",value:function(z,G,ne){if(ne!=null)return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,z,G,ne);if(G.length!==0){var re=G.split(`
`),oe=re.shift();oe.length>0&&(z<this.length()-1||this.children.tail==null?l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(z,this.length()-1),oe):this.children.tail.insertAt(this.children.tail.length(),oe),this.cache={});var Y=this;re.reduce(function(W,V){return Y=Y.split(W,!0),Y.insertAt(0,V),V.length},z+oe.length)}}},{key:"insertBefore",value:function(z,G){var ne=this.children.head;l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,z,G),ne instanceof S.default&&ne.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function(z,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,z,G),this.cache={}}},{key:"optimize",value:function(z){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,z),this.cache={}}},{key:"path",value:function(z){return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,z,!0)}},{key:"removeChild",value:function(z){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,z),this.cache={}}},{key:"split",value:function(z){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(z===0||z>=this.length()-P)){var ne=this.clone();return z===0?(this.parent.insertBefore(ne,this),this):(this.parent.insertBefore(ne,this.next),ne)}else{var re=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,z,G);return this.cache={},re}}}]),L})(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[E.default,d.default.Embed,T.default];function x(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(L=(0,f.default)(L,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?L:x(I.parent,L)}r.bubbleFormats=x,r.BlockEmbed=R,r.default=M}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l=(function(){function Y(W,V){var B=[],K=!0,te=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),X;!(K=(X=$.next()).done)&&(B.push(X.value),!(V&&B.length===V));K=!0);}catch(se){te=!0,ee=se}finally{try{!K&&$.return&&$.return()}finally{if(te)throw ee}}return B}return function(W,V){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function Y(W,V){for(var B=0;B<V.length;B++){var K=V[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,V,B){return V&&Y(W.prototype,V),B&&Y(W,B),W}})();o(50);var f=o(2),p=x(f),v=o(14),m=x(v),d=o(8),y=x(d),S=o(9),_=x(S),E=o(0),w=x(E),T=o(15),k=x(T),b=o(3),D=x(b),F=o(10),P=x(F),R=o(34),M=x(R);function x(Y){return Y&&Y.__esModule?Y:{default:Y}}function I(Y,W,V){return W in Y?Object.defineProperty(Y,W,{value:V,enumerable:!0,configurable:!0,writable:!0}):Y[W]=V,Y}function L(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var N=(0,P.default)("quill"),z=(function(){c(Y,null,[{key:"debug",value:function(V){V===!0&&(V="log"),P.default.level(V)}},{key:"find",value:function(V){return V.__quill||w.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&N.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof V!="string"){var ee=V.attrName||V.blotName;typeof ee=="string"?this.register("formats/"+ee,V,B):Object.keys(V).forEach(function($){K.register($,V[$],B)})}else this.imports[V]!=null&&!te&&N.warn("Overwriting "+V+" with",B),this.imports[V]=B,(V.startsWith("blots/")||V.startsWith("formats/"))&&B.blotName!=="abstract"?w.default.register(B):V.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function Y(W){var V=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,Y),this.options=G(W,B),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",W);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=w.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new k.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(ee){ee===y.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(ee,$){var X=V.selection.lastRange,se=X&&X.length===0?X.index:void 0;ne.call(V,function(){return V.editor.update(null,$,se)},ee)});var te=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(te),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(Y,[{key:"addContainer",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var K=V;V=document.createElement("div"),V.classList.add(K)}return this.container.insertBefore(V,B),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,B,K){var te=this,ee=re(V,B,K),$=l(ee,4);return V=$[0],B=$[1],K=$[3],ne.call(this,function(){return te.editor.deleteText(V,B)},K,V,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return ne.call(this,function(){var ee=K.getSelection(!0),$=new p.default;if(ee==null)return $;if(w.default.query(V,w.default.Scope.BLOCK))$=K.editor.formatLine(ee.index,ee.length,I({},V,B));else{if(ee.length===0)return K.selection.format(V,B),$;$=K.editor.formatText(ee.index,ee.length,I({},V,B))}return K.setSelection(ee,y.default.sources.SILENT),$},te)}},{key:"formatLine",value:function(V,B,K,te,ee){var $=this,X=void 0,se=re(V,B,K,te,ee),ae=l(se,4);return V=ae[0],B=ae[1],X=ae[2],ee=ae[3],ne.call(this,function(){return $.editor.formatLine(V,B,X)},ee,V,0)}},{key:"formatText",value:function(V,B,K,te,ee){var $=this,X=void 0,se=re(V,B,K,te,ee),ae=l(se,4);return V=ae[0],B=ae[1],X=ae[2],ee=ae[3],ne.call(this,function(){return $.editor.formatText(V,B,X)},ee,V,0)}},{key:"getBounds",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof V=="number"?K=this.selection.getBounds(V,B):K=this.selection.getBounds(V.index,V.length);var te=this.container.getBoundingClientRect();return{bottom:K.bottom-te.top,height:K.height,left:K.left-te.left,right:K.right-te.left,top:K.top-te.top,width:K.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=re(V,B),te=l(K,2);return V=te[0],B=te[1],this.editor.getContents(V,B)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,B):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,B)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=re(V,B),te=l(K,2);return V=te[0],B=te[1],this.editor.getText(V,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,B,K){var te=this,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return ne.call(this,function(){return te.editor.insertEmbed(V,B,K)},ee,V)}},{key:"insertText",value:function(V,B,K,te,ee){var $=this,X=void 0,se=re(V,0,K,te,ee),ae=l(se,4);return V=ae[0],X=ae[2],ee=ae[3],ne.call(this,function(){return $.editor.insertText(V,B,X)},ee,V,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,B,K){this.clipboard.dangerouslyPasteHTML(V,B,K)}},{key:"removeFormat",value:function(V,B,K){var te=this,ee=re(V,B,K),$=l(ee,4);return V=$[0],B=$[1],K=$[3],ne.call(this,function(){return te.editor.removeFormat(V,B)},K,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ne.call(this,function(){V=new p.default(V);var te=B.getLength(),ee=B.editor.deleteText(0,te),$=B.editor.applyDelta(V),X=$.ops[$.ops.length-1];X!=null&&typeof X.insert=="string"&&X.insert[X.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),$.delete(1));var se=ee.compose($);return se},K)}},{key:"setSelection",value:function(V,B,K){if(V==null)this.selection.setRange(null,B||Y.sources.API);else{var te=re(V,B,K),ee=l(te,4);V=ee[0],B=ee[1],K=ee[3],this.selection.setRange(new T.Range(V,B),K),K!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,K=new p.default().insert(V);return this.setContents(K,B)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,B=this.scroll.update(V);return this.selection.update(V),B}},{key:"updateContents",value:function(V){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ne.call(this,function(){return V=new p.default(V),B.editor.applyDelta(V,K)},K,!0)}}]),Y})();z.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},z.events=y.default.events,z.sources=y.default.sources,z.version="1.3.7",z.imports={delta:p.default,parchment:w.default,"core/module":_.default,"core/theme":M.default};function G(Y,W){if(W=(0,D.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===z.DEFAULTS.theme)W.theme=M.default;else if(W.theme=z.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var V=(0,D.default)(!0,{},W.theme.DEFAULTS);[V,W].forEach(function(te){te.modules=te.modules||{},Object.keys(te.modules).forEach(function(ee){te.modules[ee]===!0&&(te.modules[ee]={})})});var B=Object.keys(V.modules).concat(Object.keys(W.modules)),K=B.reduce(function(te,ee){var $=z.import("modules/"+ee);return $==null?N.error("Cannot load "+ee+" module. Are you sure you registered it?"):te[ee]=$.DEFAULTS||{},te},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,D.default)(!0,{},z.DEFAULTS,{modules:K},V,W),["bounds","container","scrollingContainer"].forEach(function(te){typeof W[te]=="string"&&(W[te]=document.querySelector(W[te]))}),W.modules=Object.keys(W.modules).reduce(function(te,ee){return W.modules[ee]&&(te[ee]=W.modules[ee]),te},{}),W}function ne(Y,W,V,B){if(this.options.strict&&!this.isEnabled()&&W===y.default.sources.USER)return new p.default;var K=V==null?null:this.getSelection(),te=this.editor.delta,ee=Y();if(K!=null&&(V===!0&&(V=K.index),B==null?K=oe(K,ee,W):B!==0&&(K=oe(K,V,B,W)),this.setSelection(K,y.default.sources.SILENT)),ee.length()>0){var $,X=[y.default.events.TEXT_CHANGE,ee,te,W];if(($=this.emitter).emit.apply($,[y.default.events.EDITOR_CHANGE].concat(X)),W!==y.default.sources.SILENT){var se;(se=this.emitter).emit.apply(se,X)}}return ee}function re(Y,W,V,B,K){var te={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof W!="number"?(K=B,B=V,V=W,W=Y.length,Y=Y.index):(W=Y.length,Y=Y.index):typeof W!="number"&&(K=B,B=V,V=W,W=0),(typeof V>"u"?"undefined":a(V))==="object"?(te=V,K=B):typeof V=="string"&&(B!=null?te[V]=B:K=V),K=K||y.default.sources.API,[Y,W,te,K]}function oe(Y,W,V,B){if(Y==null)return null;var K=void 0,te=void 0;if(W instanceof p.default){var ee=[Y.index,Y.index+Y.length].map(function(ae){return W.transformPosition(ae,B!==y.default.sources.USER)}),$=l(ee,2);K=$[0],te=$[1]}else{var X=[Y.index,Y.index+Y.length].map(function(ae){return ae<W||ae===W&&B===y.default.sources.USER?ae:V>=0?ae+V:Math.max(W,ae+V)}),se=l(X,2);K=se[0],te=se[1]}return new T.Range(K,te-K)}r.expandConfig=G,r.overload=re,r.default=z}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function E(w,T){for(var k=0;k<T.length;k++){var b=T[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,k){return T&&E(w.prototype,T),k&&E(w,k),w}})(),l=function E(w,T,k){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:E(D,T,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(7),f=m(c),p=o(0),v=m(p);function m(E){return E&&E.__esModule?E:{default:E}}function d(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function y(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function S(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var _=(function(E){S(w,E);function w(){return d(this,w),y(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"formatAt",value:function(k,b,D,F){if(w.compare(this.statics.blotName,D)<0&&v.default.query(D,v.default.Scope.BLOT)){var P=this.isolate(k,b);F&&P.wrap(D,F)}else l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,k,b,D,F)}},{key:"optimize",value:function(k){if(l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,k),this.parent instanceof w&&w.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(k,b){var D=w.order.indexOf(k),F=w.order.indexOf(b);return D>=0||F>=0?D-F:k===b?0:k<b?-1:1}}]),w})(v.default.Inline);_.allowedChildren=[_,v.default.Embed,f.default],_.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default.Text);r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function T(k,b){for(var D=0;D<b.length;D++){var F=b[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}return function(k,b,D){return b&&T(k.prototype,b),D&&T(k,D),k}})(),l=function T(k,b,D){k===null&&(k=Function.prototype);var F=Object.getOwnPropertyDescriptor(k,b);if(F===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:T(P,b,D)}else{if("value"in F)return F.value;var R=F.get;return R===void 0?void 0:R.call(D)}},c=o(54),f=m(c),p=o(10),v=m(p);function m(T){return T&&T.__esModule?T:{default:T}}function d(T,k){if(!(T instanceof k))throw new TypeError("Cannot call a class as a function")}function y(T,k){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:T}function S(T,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);T.prototype=Object.create(k&&k.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(T,k):T.__proto__=k)}var _=(0,v.default)("quill:events"),E=["selectionchange","mousedown","mouseup","click"];E.forEach(function(T){document.addEventListener(T,function(){for(var k=arguments.length,b=Array(k),D=0;D<k;D++)b[D]=arguments[D];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(F){if(F.__quill&&F.__quill.emitter){var P;(P=F.__quill.emitter).handleDOM.apply(P,b)}})})});var w=(function(T){S(k,T);function k(){d(this,k);var b=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));return b.listeners={},b.on("error",_.error),b}return a(k,[{key:"emit",value:function(){_.log.apply(_,arguments),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(D){for(var F=arguments.length,P=Array(F>1?F-1:0),R=1;R<F;R++)P[R-1]=arguments[R];(this.listeners[D.type]||[]).forEach(function(M){var x=M.node,I=M.handler;(D.target===x||x.contains(D.target))&&I.apply(void 0,[D].concat(P))})}},{key:"listenDOM",value:function(D,F,P){this.listeners[D]||(this.listeners[D]=[]),this.listeners[D].push({node:F,handler:P})}}]),k})(f.default);w.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},w.sources={API:"api",SILENT:"silent",USER:"user"},r.default=w}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function c(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=f,this.options=p};l.DEFAULTS={},r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],l="warn";function c(p){if(a.indexOf(p)<=a.indexOf(l)){for(var v,m=arguments.length,d=Array(m>1?m-1:0),y=1;y<m;y++)d[y-1]=arguments[y];(v=console)[p].apply(v,d)}}function f(p){return a.reduce(function(v,m){return v[m]=c.bind(console,m,p),v},{})}c.level=f.level=function(p){l=p},r.default=f}),(function(t,r,o){var a=Array.prototype.slice,l=o(52),c=o(53),f=t.exports=function(d,y,S){return S||(S={}),d===y?!0:d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||typeof d!="object"&&typeof y!="object"?S.strict?d===y:d==y:m(d,y,S)};function p(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function m(d,y,S){var _,E;if(p(d)||p(y)||d.prototype!==y.prototype)return!1;if(c(d))return c(y)?(d=a.call(d),y=a.call(y),f(d,y,S)):!1;if(v(d)){if(!v(y)||d.length!==y.length)return!1;for(_=0;_<d.length;_++)if(d[_]!==y[_])return!1;return!0}try{var w=l(d),T=l(y)}catch{return!1}if(w.length!=T.length)return!1;for(w.sort(),T.sort(),_=w.length-1;_>=0;_--)if(w[_]!=T[_])return!1;for(_=w.length-1;_>=0;_--)if(E=w[_],!f(d[E],y[E],S))return!1;return typeof d==typeof y}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),l=(function(){function c(f,p,v){v===void 0&&(v={}),this.attrName=f,this.keyName=p;var m=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|m:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return c.keys=function(f){return[].map.call(f.attributes,function(p){return p.name})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(f.setAttribute(this.keyName,p),!0):!1},c.prototype.canAdd=function(f,p){var v=a.query(f,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof p=="string"?this.whitelist.indexOf(p.replace(/["']/g,""))>-1:this.whitelist.indexOf(p)>-1},c.prototype.remove=function(f){f.removeAttribute(this.keyName)},c.prototype.value=function(f){var p=f.getAttribute(this.keyName);return this.canAdd(f,p)&&p?p:""},c})();r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=(function(){function R(M,x){var I=[],L=!0,N=!1,z=void 0;try{for(var G=M[Symbol.iterator](),ne;!(L=(ne=G.next()).done)&&(I.push(ne.value),!(x&&I.length===x));L=!0);}catch(re){N=!0,z=re}finally{try{!L&&G.return&&G.return()}finally{if(N)throw z}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function R(M,x){for(var I=0;I<x.length;I++){var L=x[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}})(),c=function R(M,x,I){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,x);if(L===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:R(N,x,I)}else{if("value"in L)return L.value;var z=L.get;return z===void 0?void 0:z.call(I)}},f=o(2),p=T(f),v=o(0),m=T(v),d=o(4),y=T(d),S=o(6),_=T(S),E=o(7),w=T(E);function T(R){return R&&R.__esModule?R:{default:R}}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function b(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function D(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var F=(function(R){D(M,R);function M(){return k(this,M),b(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M})(_.default);F.blotName="code",F.tagName="CODE";var P=(function(R){D(M,R);function M(){return k(this,M),b(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return l(M,[{key:"delta",value:function(){var I=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(N,z){return N.insert(z).insert(`
`,I.formats())},new p.default)}},{key:"format",value:function(I,L){if(!(I===this.statics.blotName&&L)){var N=this.descendant(w.default,this.length()-1),z=a(N,1),G=z[0];G?.deleteAt(G.length()-1,1),c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,I,L)}}},{key:"formatAt",value:function(I,L,N,z){if(L!==0&&!(m.default.query(N,m.default.Scope.BLOCK)==null||N===this.statics.blotName&&z===this.statics.formats(this.domNode))){var G=this.newlineIndex(I);if(!(G<0||G>=I+L)){var ne=this.newlineIndex(I,!0)+1,re=G-ne+1,oe=this.isolate(ne,re),Y=oe.next;oe.format(N,z),Y instanceof M&&Y.formatAt(0,I-ne+L-re,N,z)}}}},{key:"insertAt",value:function(I,L,N){if(N==null){var z=this.descendant(w.default,I),G=a(z,2),ne=G[0],re=G[1];ne.insertAt(re,L)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,I);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(I),L.moveChildren(this),L.remove())}},{key:"replace",value:function(I){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var N=m.default.find(L);N==null?L.parentNode.removeChild(L):N instanceof m.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var L=c(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,I);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),M})(y.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",r.Code=F,r.default=P}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l=(function(){function Y(W,V){var B=[],K=!0,te=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),X;!(K=(X=$.next()).done)&&(B.push(X.value),!(V&&B.length===V));K=!0);}catch(se){te=!0,ee=se}finally{try{!K&&$.return&&$.return()}finally{if(te)throw ee}}return B}return function(W,V){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function Y(W,V){for(var B=0;B<V.length;B++){var K=V[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,V,B){return V&&Y(W.prototype,V),B&&Y(W,B),W}})(),f=o(2),p=L(f),v=o(20),m=L(v),d=o(0),y=L(d),S=o(13),_=L(S),E=o(24),w=L(E),T=o(4),k=L(T),b=o(16),D=L(b),F=o(21),P=L(F),R=o(11),M=L(R),x=o(3),I=L(x);function L(Y){return Y&&Y.__esModule?Y:{default:Y}}function N(Y,W,V){return W in Y?Object.defineProperty(Y,W,{value:V,enumerable:!0,configurable:!0,writable:!0}):Y[W]=V,Y}function z(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,ne=(function(){function Y(W){z(this,Y),this.scroll=W,this.delta=this.getDelta()}return c(Y,[{key:"applyDelta",value:function(V){var B=this,K=!1;this.scroll.update();var te=this.scroll.length();return this.scroll.batchStart(),V=oe(V),V.reduce(function(ee,$){var X=$.retain||$.delete||$.insert.length||1,se=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var ae=$.insert;ae.endsWith(`
`)&&K&&(K=!1,ae=ae.slice(0,-1)),ee>=te&&!ae.endsWith(`
`)&&(K=!0),B.scroll.insertAt(ee,ae);var me=B.scroll.line(ee),Re=l(me,2),je=Re[0],Ve=Re[1],Ge=(0,I.default)({},(0,T.bubbleFormats)(je));if(je instanceof k.default){var et=je.descendant(y.default.Leaf,Ve),kt=l(et,1),ct=kt[0];Ge=(0,I.default)(Ge,(0,T.bubbleFormats)(ct))}se=m.default.attributes.diff(Ge,se)||{}}else if(a($.insert)==="object"){var pe=Object.keys($.insert)[0];if(pe==null)return ee;B.scroll.insertAt(ee,pe,$.insert[pe])}te+=X}return Object.keys(se).forEach(function(de){B.scroll.formatAt(ee,X,de,se[de])}),ee+X},0),V.reduce(function(ee,$){return typeof $.delete=="number"?(B.scroll.deleteAt(ee,$.delete),ee):ee+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(V)}},{key:"deleteText",value:function(V,B){return this.scroll.deleteAt(V,B),this.update(new p.default().retain(V).delete(B))}},{key:"formatLine",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(te).forEach(function(ee){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[ee])){var $=K.scroll.lines(V,Math.max(B,1)),X=B;$.forEach(function(se){var ae=se.length();if(!(se instanceof _.default))se.format(ee,te[ee]);else{var me=V-se.offset(K.scroll),Re=se.newlineIndex(me+X)-me+1;se.formatAt(me,Re,ee,te[ee])}X-=ae})}}),this.scroll.optimize(),this.update(new p.default().retain(V).retain(B,(0,P.default)(te)))}},{key:"formatText",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(te).forEach(function(ee){K.scroll.formatAt(V,B,ee,te[ee])}),this.update(new p.default().retain(V).retain(B,(0,P.default)(te)))}},{key:"getContents",value:function(V,B){return this.delta.slice(V,V+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(V,B){return V.concat(B.delta())},new p.default)}},{key:"getFormat",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],te=[];B===0?this.scroll.path(V).forEach(function($){var X=l($,1),se=X[0];se instanceof k.default?K.push(se):se instanceof y.default.Leaf&&te.push(se)}):(K=this.scroll.lines(V,B),te=this.scroll.descendants(y.default.Leaf,V,B));var ee=[K,te].map(function($){if($.length===0)return{};for(var X=(0,T.bubbleFormats)($.shift());Object.keys(X).length>0;){var se=$.shift();if(se==null)return X;X=re((0,T.bubbleFormats)(se),X)}return X});return I.default.apply(I.default,ee)}},{key:"getText",value:function(V,B){return this.getContents(V,B).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(V,B,K){return this.scroll.insertAt(V,B,K),this.update(new p.default().retain(V).insert(N({},B,K)))}},{key:"insertText",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(V,B),Object.keys(te).forEach(function(ee){K.scroll.formatAt(V,B.length,ee,te[ee])}),this.update(new p.default().retain(V).insert(B,(0,P.default)(te)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var V=this.scroll.children.head;return V.statics.blotName!==k.default.blotName||V.children.length>1?!1:V.children.head instanceof D.default}},{key:"removeFormat",value:function(V,B){var K=this.getText(V,B),te=this.scroll.line(V+B),ee=l(te,2),$=ee[0],X=ee[1],se=0,ae=new p.default;$!=null&&($ instanceof _.default?se=$.newlineIndex(X)-X+1:se=$.length()-X,ae=$.delta().slice(X,X+se-1).insert(`
`));var me=this.getContents(V,B+se),Re=me.diff(new p.default().insert(K).concat(ae)),je=new p.default().retain(V).concat(Re);return this.applyDelta(je)}},{key:"update",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,te=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(G)&&y.default.find(B[0].target)){var ee=y.default.find(B[0].target),$=(0,T.bubbleFormats)(ee),X=ee.offset(this.scroll),se=B[0].oldValue.replace(w.default.CONTENTS,""),ae=new p.default().insert(se),me=new p.default().insert(ee.value()),Re=new p.default().retain(X).concat(ae.diff(me,K));V=Re.reduce(function(je,Ve){return Ve.insert?je.insert(Ve.insert,$):je.push(Ve)},new p.default),this.delta=te.compose(V)}else this.delta=this.getDelta(),(!V||!(0,M.default)(te.compose(V),this.delta))&&(V=te.diff(this.delta,K));return V}}]),Y})();function re(Y,W){return Object.keys(W).reduce(function(V,B){return Y[B]==null||(W[B]===Y[B]?V[B]=W[B]:Array.isArray(W[B])?W[B].indexOf(Y[B])<0&&(V[B]=W[B].concat([Y[B]])):V[B]=[W[B],Y[B]]),V},{})}function oe(Y){return Y.reduce(function(W,V){if(V.insert===1){var B=(0,P.default)(V.attributes);return delete B.image,W.insert({image:V.attributes.image},B)}if(V.attributes!=null&&(V.attributes.list===!0||V.attributes.bullet===!0)&&(V=(0,P.default)(V),V.attributes.list?V.attributes.list="ordered":(V.attributes.list="bullet",delete V.attributes.bullet)),typeof V.insert=="string"){var K=V.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(K,V.attributes)}return W.push(V)},new p.default)}r.default=ne}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=(function(){function R(M,x){var I=[],L=!0,N=!1,z=void 0;try{for(var G=M[Symbol.iterator](),ne;!(L=(ne=G.next()).done)&&(I.push(ne.value),!(x&&I.length===x));L=!0);}catch(re){N=!0,z=re}finally{try{!L&&G.return&&G.return()}finally{if(N)throw z}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function R(M,x){for(var I=0;I<x.length;I++){var L=x[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}})(),c=o(0),f=w(c),p=o(21),v=w(p),m=o(11),d=w(m),y=o(8),S=w(y),_=o(10),E=w(_);function w(R){return R&&R.__esModule?R:{default:R}}function T(R){if(Array.isArray(R)){for(var M=0,x=Array(R.length);M<R.length;M++)x[M]=R[M];return x}else return Array.from(R)}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}var b=(0,E.default)("quill:selection"),D=function R(M){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;k(this,R),this.index=M,this.length=x},F=(function(){function R(M,x){var I=this;k(this,R),this.emitter=x,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=f.default.create("cursor",this),this.lastRange=this.savedRange=new D(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,S.default.sources.USER),1)}),this.emitter.on(S.default.events.EDITOR_CHANGE,function(L,N){L===S.default.events.TEXT_CHANGE&&N.length()>0&&I.update(S.default.sources.SILENT)}),this.emitter.on(S.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var L=I.getNativeRange();L!=null&&L.start.node!==I.cursor.textNode&&I.emitter.once(S.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(S.default.events.SCROLL_OPTIMIZE,function(L,N){if(N.range){var z=N.range,G=z.startNode,ne=z.startOffset,re=z.endNode,oe=z.endOffset;I.setNativeRange(G,ne,re,oe)}}),this.update(S.default.sources.SILENT)}return l(R,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var I=x.cursor.restore();if(!I)return;setTimeout(function(){x.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(S.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||f.default.query(x,f.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var N=f.default.find(L.start.node,!1);if(N==null)return;if(N instanceof f.default.Leaf){var z=N.split(L.start.offset);N.parent.insertBefore(this.cursor,z)}else N.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(x,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();x=Math.min(x,L-1),I=Math.min(x+I,L-1)-x;var N=void 0,z=this.scroll.leaf(x),G=a(z,2),ne=G[0],re=G[1];if(ne==null)return null;var oe=ne.position(re,!0),Y=a(oe,2);N=Y[0],re=Y[1];var W=document.createRange();if(I>0){W.setStart(N,re);var V=this.scroll.leaf(x+I),B=a(V,2);if(ne=B[0],re=B[1],ne==null)return null;var K=ne.position(re,!0),te=a(K,2);return N=te[0],re=te[1],W.setEnd(N,re),W.getBoundingClientRect()}else{var ee="left",$=void 0;return N instanceof Text?(re<N.data.length?(W.setStart(N,re),W.setEnd(N,re+1)):(W.setStart(N,re-1),W.setEnd(N,re),ee="right"),$=W.getBoundingClientRect()):($=ne.domNode.getBoundingClientRect(),re>0&&(ee="right")),{bottom:$.top+$.height,height:$.height,left:$[ee],right:$[ee],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var I=x.getRangeAt(0);if(I==null)return null;var L=this.normalizeNative(I);return b.info("getNativeRange",L),L}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var I=this.normalizedToRange(x);return[I,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var I=this,L=[[x.start.node,x.start.offset]];x.native.collapsed||L.push([x.end.node,x.end.offset]);var N=L.map(function(ne){var re=a(ne,2),oe=re[0],Y=re[1],W=f.default.find(oe,!0),V=W.offset(I.scroll);return Y===0?V:W instanceof f.default.Container?V+W.length():V+W.index(oe,Y)}),z=Math.min(Math.max.apply(Math,T(N)),this.scroll.length()-1),G=Math.min.apply(Math,[z].concat(T(N)));return new D(G,z-G)}},{key:"normalizeNative",value:function(x){if(!P(this.root,x.startContainer)||!x.collapsed&&!P(this.root,x.endContainer))return null;var I={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[I.start,I.end].forEach(function(L){for(var N=L.node,z=L.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>z)N=N.childNodes[z],z=0;else if(N.childNodes.length===z)N=N.lastChild,z=N instanceof Text?N.data.length:N.childNodes.length+1;else break;L.node=N,L.offset=z}),I}},{key:"rangeToNative",value:function(x){var I=this,L=x.collapsed?[x.index]:[x.index,x.index+x.length],N=[],z=this.scroll.length();return L.forEach(function(G,ne){G=Math.min(z-1,G);var re=void 0,oe=I.scroll.leaf(G),Y=a(oe,2),W=Y[0],V=Y[1],B=W.position(V,ne!==0),K=a(B,2);re=K[0],V=K[1],N.push(re,V)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(x){var I=this.lastRange;if(I!=null){var L=this.getBounds(I.index,I.length);if(L!=null){var N=this.scroll.length()-1,z=this.scroll.line(Math.min(I.index,N)),G=a(z,1),ne=G[0],re=ne;if(I.length>0){var oe=this.scroll.line(Math.min(I.index+I.length,N)),Y=a(oe,1);re=Y[0]}if(!(ne==null||re==null)){var W=x.getBoundingClientRect();L.top<W.top?x.scrollTop-=W.top-L.top:L.bottom>W.bottom&&(x.scrollTop+=L.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(x,I){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",x,I,L,N),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||L.parentNode==null))){var G=document.getSelection();if(G!=null)if(x!=null){this.hasFocus()||this.root.focus();var ne=(this.getNativeRange()||{}).native;if(ne==null||z||x!==ne.startContainer||I!==ne.startOffset||L!==ne.endContainer||N!==ne.endOffset){x.tagName=="BR"&&(I=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),L.tagName=="BR"&&(N=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var re=document.createRange();re.setStart(x,I),re.setEnd(L,N),G.removeAllRanges(),G.addRange(re)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof I=="string"&&(L=I,I=!1),b.info("setRange",x),x!=null){var N=this.rangeToNative(x);this.setNativeRange.apply(this,T(N).concat([I]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.default.sources.USER,I=this.lastRange,L=this.getRange(),N=a(L,2),z=N[0],G=N[1];if(this.lastRange=z,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var ne;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var re=[S.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(I),x];if((ne=this.emitter).emit.apply(ne,[S.default.events.EDITOR_CHANGE].concat(re)),x!==S.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,re)}}}}]),R})();function P(R,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),R.contains(M)}r.Range=D,r.default=F}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(_,E){for(var w=0;w<E.length;w++){var T=E[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,E,w){return E&&S(_.prototype,E),w&&S(_,w),_}})(),l=function S(_,E,w){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,E);if(T===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:S(k,E,w)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(w)}},c=o(0),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function m(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function d(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var y=(function(S){d(_,S);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"insertInto",value:function(w,T){w.children.length===0?l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertInto",this).call(this,w,T):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_})(f.default.Embed);y.blotName="break",y.tagName="BR",r.default=y}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(44),c=o(30),f=o(1),p=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.build(),S}return d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(S){try{var _=v(S);y.insertBefore(_,y.children.head||void 0)}catch(E){if(E instanceof f.ParchmentError)return;throw E}})},d.prototype.deleteAt=function(y,S){if(y===0&&S===this.length())return this.remove();this.children.forEachAt(y,S,function(_,E,w){_.deleteAt(E,w)})},d.prototype.descendant=function(y,S){var _=this.children.find(S),E=_[0],w=_[1];return y.blotName==null&&y(E)||y.blotName!=null&&E instanceof y?[E,w]:E instanceof d?E.descendant(y,w):[null,-1]},d.prototype.descendants=function(y,S,_){S===void 0&&(S=0),_===void 0&&(_=Number.MAX_VALUE);var E=[],w=_;return this.children.forEachAt(S,_,function(T,k,b){(y.blotName==null&&y(T)||y.blotName!=null&&T instanceof y)&&E.push(T),T instanceof d&&(E=E.concat(T.descendants(y,k,w))),w-=b}),E},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),m.prototype.detach.call(this)},d.prototype.formatAt=function(y,S,_,E){this.children.forEachAt(y,S,function(w,T,k){w.formatAt(T,k,_,E)})},d.prototype.insertAt=function(y,S,_){var E=this.children.find(y),w=E[0],T=E[1];if(w)w.insertAt(T,S,_);else{var k=_==null?f.create("text",S):f.create(S,_);this.appendChild(k)}},d.prototype.insertBefore=function(y,S){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return y instanceof _}))throw new f.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,S)},d.prototype.length=function(){return this.children.reduce(function(y,S){return y+S.length()},0)},d.prototype.moveChildren=function(y,S){this.children.forEach(function(_){y.insertBefore(_,S)})},d.prototype.optimize=function(y){if(m.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var S=f.create(this.statics.defaultChild);this.appendChild(S),S.optimize(y)}else this.remove()},d.prototype.path=function(y,S){S===void 0&&(S=!1);var _=this.children.find(y,S),E=_[0],w=_[1],T=[[this,y]];return E instanceof d?T.concat(E.path(w,S)):(E!=null&&T.push([E,w]),T)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),m.prototype.replace.call(this,y)},d.prototype.split=function(y,S){if(S===void 0&&(S=!1),!S){if(y===0)return this;if(y===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(y,this.length(),function(E,w,T){E=E.split(w,S),_.appendChild(E)}),_},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,S){var _=this,E=[],w=[];y.forEach(function(T){T.target===_.domNode&&T.type==="childList"&&(E.push.apply(E,T.addedNodes),w.push.apply(w,T.removedNodes))}),w.forEach(function(T){if(!(T.parentNode!=null&&T.tagName!=="IFRAME"&&document.body.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var k=f.find(T);k!=null&&(k.domNode.parentNode==null||k.domNode.parentNode===_.domNode)&&k.detach()}}),E.filter(function(T){return T.parentNode==_.domNode}).sort(function(T,k){return T===k?0:T.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(T){var k=null;T.nextSibling!=null&&(k=f.find(T.nextSibling));var b=v(T);(b.next!=k||b.next==null)&&(b.parent!=null&&b.parent.removeChild(_),_.insertBefore(b,k||void 0))})},d})(c.default);function v(m){var d=f.find(m);if(d==null)try{d=f.create(m)}catch{d=f.create(f.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(S){d.domNode.appendChild(S)}),m.parentNode&&m.parentNode.replaceChild(d.domNode,m),d.attach()}return d}r.default=p}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12),c=o(31),f=o(17),p=o(1),v=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.attributes=new c.default(S.domNode),S}return d.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},d.prototype.format=function(y,S){var _=p.query(y);_ instanceof l.default?this.attributes.attribute(_,S):S&&_!=null&&(y!==this.statics.blotName||this.formats()[y]!==S)&&this.replaceWith(y,S)},d.prototype.formats=function(){var y=this.attributes.values(),S=this.statics.formats(this.domNode);return S!=null&&(y[this.statics.blotName]=S),y},d.prototype.replaceWith=function(y,S){var _=m.prototype.replaceWith.call(this,y,S);return this.attributes.copy(_),_},d.prototype.update=function(y,S){var _=this;m.prototype.update.call(this,y,S),y.some(function(E){return E.target===_.domNode&&E.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(y,S){var _=m.prototype.wrap.call(this,y,S);return _ instanceof d&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},d})(f.default);r.default=v}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(30),c=o(1),f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.value=function(m){return!0},v.prototype.index=function(m,d){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(m,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(y+=1),[this.parent.domNode,y]},v.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},v.scope=c.Scope.INLINE_BLOT,v})(l.default);r.default=f}),(function(t,r,o){var a=o(11),l=o(3),c={attributes:{compose:function(p,v,m){typeof p!="object"&&(p={}),typeof v!="object"&&(v={});var d=l(!0,{},v);m||(d=Object.keys(d).reduce(function(S,_){return d[_]!=null&&(S[_]=d[_]),S},{}));for(var y in p)p[y]!==void 0&&v[y]===void 0&&(d[y]=p[y]);return Object.keys(d).length>0?d:void 0},diff:function(p,v){typeof p!="object"&&(p={}),typeof v!="object"&&(v={});var m=Object.keys(p).concat(Object.keys(v)).reduce(function(d,y){return a(p[y],v[y])||(d[y]=v[y]===void 0?null:v[y]),d},{});return Object.keys(m).length>0?m:void 0},transform:function(p,v,m){if(typeof p!="object")return v;if(typeof v=="object"){if(!m)return v;var d=Object.keys(v).reduce(function(y,S){return p[S]===void 0&&(y[S]=v[S]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(p){return new f(p)},length:function(p){return typeof p.delete=="number"?p.delete:typeof p.retain=="number"?p.retain:typeof p.insert=="string"?p.insert.length:1}};function f(p){this.ops=p,this.index=0,this.offset=0}f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(p){p||(p=1/0);var v=this.ops[this.index];if(v){var m=this.offset,d=c.length(v);if(p>=d-m?(p=d-m,this.index+=1,this.offset=0):this.offset+=p,typeof v.delete=="number")return{delete:p};var y={};return v.attributes&&(y.attributes=v.attributes),typeof v.retain=="number"?y.retain=p:typeof v.insert=="string"?y.insert=v.insert.substr(m,p):y.insert=v.insert,y}else return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var p=this.offset,v=this.index,m=this.next(),d=this.ops.slice(this.index);return this.offset=p,this.index=v,[m].concat(d)}else return[]},t.exports=c}),(function(t,r){var o=(function(){function a(_,E){return E!=null&&_ instanceof E}var l;try{l=Map}catch{l=function(){}}var c;try{c=Set}catch{c=function(){}}var f;try{f=Promise}catch{f=function(){}}function p(_,E,w,T,k){typeof E=="object"&&(w=E.depth,T=E.prototype,k=E.includeNonEnumerable,E=E.circular);var b=[],D=[],F=typeof Buffer<"u";typeof E>"u"&&(E=!0),typeof w>"u"&&(w=1/0);function P(R,M){if(R===null)return null;if(M===0)return R;var x,I;if(typeof R!="object")return R;if(a(R,l))x=new l;else if(a(R,c))x=new c;else if(a(R,f))x=new f(function(W,V){R.then(function(B){W(P(B,M-1))},function(B){V(P(B,M-1))})});else if(p.__isArray(R))x=[];else if(p.__isRegExp(R))x=new RegExp(R.source,S(R)),R.lastIndex&&(x.lastIndex=R.lastIndex);else if(p.__isDate(R))x=new Date(R.getTime());else{if(F&&Buffer.isBuffer(R))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(R.length):x=new Buffer(R.length),R.copy(x),x;a(R,Error)?x=Object.create(R):typeof T>"u"?(I=Object.getPrototypeOf(R),x=Object.create(I)):(x=Object.create(T),I=T)}if(E){var L=b.indexOf(R);if(L!=-1)return D[L];b.push(R),D.push(x)}a(R,l)&&R.forEach(function(W,V){var B=P(V,M-1),K=P(W,M-1);x.set(B,K)}),a(R,c)&&R.forEach(function(W){var V=P(W,M-1);x.add(V)});for(var N in R){var z;I&&(z=Object.getOwnPropertyDescriptor(I,N)),!(z&&z.set==null)&&(x[N]=P(R[N],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(R),N=0;N<G.length;N++){var ne=G[N],re=Object.getOwnPropertyDescriptor(R,ne);re&&!re.enumerable&&!k||(x[ne]=P(R[ne],M-1),re.enumerable||Object.defineProperty(x,ne,{enumerable:!1}))}if(k)for(var oe=Object.getOwnPropertyNames(R),N=0;N<oe.length;N++){var Y=oe[N],re=Object.getOwnPropertyDescriptor(R,Y);re&&re.enumerable||(x[Y]=P(R[Y],M-1),Object.defineProperty(x,Y,{enumerable:!1}))}return x}return P(_,w)}p.clonePrototype=function(E){if(E===null)return null;var w=function(){};return w.prototype=E,new w};function v(_){return Object.prototype.toString.call(_)}p.__objToStr=v;function m(_){return typeof _=="object"&&v(_)==="[object Date]"}p.__isDate=m;function d(_){return typeof _=="object"&&v(_)==="[object Array]"}p.__isArray=d;function y(_){return typeof _=="object"&&v(_)==="[object RegExp]"}p.__isRegExp=y;function S(_){var E="";return _.global&&(E+="g"),_.ignoreCase&&(E+="i"),_.multiline&&(E+="m"),E}return p.__getRegExpFlags=S,p})();typeof t=="object"&&t.exports&&(t.exports=o)}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function x(I,L){var N=[],z=!0,G=!1,ne=void 0;try{for(var re=I[Symbol.iterator](),oe;!(z=(oe=re.next()).done)&&(N.push(oe.value),!(L&&N.length===L));z=!0);}catch(Y){G=!0,ne=Y}finally{try{!z&&re.return&&re.return()}finally{if(G)throw ne}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function x(I,L){for(var N=0;N<L.length;N++){var z=L[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}return function(I,L,N){return L&&x(I.prototype,L),N&&x(I,N),I}})(),c=function x(I,L,N){I===null&&(I=Function.prototype);var z=Object.getOwnPropertyDescriptor(I,L);if(z===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,L,N)}else{if("value"in z)return z.value;var ne=z.get;return ne===void 0?void 0:ne.call(N)}},f=o(0),p=b(f),v=o(8),m=b(v),d=o(4),y=b(d),S=o(16),_=b(S),E=o(13),w=b(E),T=o(25),k=b(T);function b(x){return x&&x.__esModule?x:{default:x}}function D(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function F(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function P(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}function R(x){return x instanceof y.default||x instanceof d.BlockEmbed}var M=(function(x){P(I,x);function I(L,N){D(this,I);var z=F(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L));return z.emitter=N.emitter,Array.isArray(N.whitelist)&&(z.whitelist=N.whitelist.reduce(function(G,ne){return G[ne]=!0,G},{})),z.domNode.addEventListener("DOMNodeInserted",function(){}),z.optimize(),z.enable(),z}return l(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,z){var G=this.line(N),ne=a(G,2),re=ne[0],oe=ne[1],Y=this.line(N+z),W=a(Y,1),V=W[0];if(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,z),V!=null&&re!==V&&oe>0){if(re instanceof d.BlockEmbed||V instanceof d.BlockEmbed){this.optimize();return}if(re instanceof w.default){var B=re.newlineIndex(re.length(),!0);if(B>-1&&(re=re.split(B+1),re===V)){this.optimize();return}}else if(V instanceof w.default){var K=V.newlineIndex(0);K>-1&&V.split(K+1)}var te=V.children.head instanceof _.default?null:V.children.head;re.moveChildren(V,te),re.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,z,G,ne){this.whitelist!=null&&!this.whitelist[G]||(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,z,G,ne),this.optimize())}},{key:"insertAt",value:function(N,z,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[z])){if(N>=this.length())if(G==null||p.default.query(z,p.default.Scope.BLOCK)==null){var ne=p.default.create(this.statics.defaultChild);this.appendChild(ne),G==null&&z.endsWith(`
`)&&(z=z.slice(0,-1)),ne.insertAt(0,z,G)}else{var re=p.default.create(z,G);this.appendChild(re)}else c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,z,G);this.optimize()}}},{key:"insertBefore",value:function(N,z){if(N.statics.scope===p.default.Scope.INLINE_BLOT){var G=p.default.create(this.statics.defaultChild);G.appendChild(N),N=G}c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,z)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(R,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function ne(re,oe,Y){var W=[],V=Y;return re.children.forEachAt(oe,Y,function(B,K,te){R(B)?W.push(B):B instanceof p.default.Container&&(W=W.concat(ne(B,K,V))),V-=te}),W};return G(this,N,z)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,z),N.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,N,z))}},{key:"path",value:function(N){return c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var z=m.default.sources.USER;typeof N=="string"&&(z=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,z,N),c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,z,N)}}}]),I})(p.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[y.default,d.BlockEmbed,k.default],r.default=M}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=(function(){function $(X,se){var ae=[],me=!0,Re=!1,je=void 0;try{for(var Ve=X[Symbol.iterator](),Ge;!(me=(Ge=Ve.next()).done)&&(ae.push(Ge.value),!(se&&ae.length===se));me=!0);}catch(et){Re=!0,je=et}finally{try{!me&&Ve.return&&Ve.return()}finally{if(Re)throw je}}return ae}return function(X,se){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return $(X,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function $(X,se){for(var ae=0;ae<se.length;ae++){var me=se[ae];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(X,me.key,me)}}return function(X,se,ae){return se&&$(X.prototype,se),ae&&$(X,ae),X}})(),f=o(21),p=x(f),v=o(11),m=x(v),d=o(3),y=x(d),S=o(2),_=x(S),E=o(20),w=x(E),T=o(0),k=x(T),b=o(5),D=x(b),F=o(10),P=x(F),R=o(9),M=x(R);function x($){return $&&$.__esModule?$:{default:$}}function I($,X,se){return X in $?Object.defineProperty($,X,{value:se,enumerable:!0,configurable:!0,writable:!0}):$[X]=se,$}function L($,X){if(!($ instanceof X))throw new TypeError("Cannot call a class as a function")}function N($,X){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:$}function z($,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);$.prototype=Object.create(X&&X.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf($,X):$.__proto__=X)}var G=(0,P.default)("quill:keyboard"),ne=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",re=(function($){z(X,$),c(X,null,[{key:"match",value:function(ae,me){return me=ee(me),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Re){return!!me[Re]!==ae[Re]&&me[Re]!==null})?!1:me.key===(ae.which||ae.keyCode)}}]);function X(se,ae){L(this,X);var me=N(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,se,ae));return me.bindings={},Object.keys(me.options.bindings).forEach(function(Re){Re==="list autofill"&&se.scroll.whitelist!=null&&!se.scroll.whitelist.list||me.options.bindings[Re]&&me.addBinding(me.options.bindings[Re])}),me.addBinding({key:X.keys.ENTER,shiftKey:null},B),me.addBinding({key:X.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(me.addBinding({key:X.keys.BACKSPACE},{collapsed:!0},Y),me.addBinding({key:X.keys.DELETE},{collapsed:!0},W)):(me.addBinding({key:X.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),me.addBinding({key:X.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),me.addBinding({key:X.keys.BACKSPACE},{collapsed:!1},V),me.addBinding({key:X.keys.DELETE},{collapsed:!1},V),me.addBinding({key:X.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),me.listen(),me}return c(X,[{key:"addBinding",value:function(ae){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},je=ee(ae);if(je==null||je.key==null)return G.warn("Attempted to add invalid keyboard binding",je);typeof me=="function"&&(me={handler:me}),typeof Re=="function"&&(Re={handler:Re}),je=(0,y.default)(je,me,Re),this.bindings[je.key]=this.bindings[je.key]||[],this.bindings[je.key].push(je)}},{key:"listen",value:function(){var ae=this;this.quill.root.addEventListener("keydown",function(me){if(!me.defaultPrevented){var Re=me.which||me.keyCode,je=(ae.bindings[Re]||[]).filter(function(lt){return X.match(me,lt)});if(je.length!==0){var Ve=ae.quill.getSelection();if(!(Ve==null||!ae.quill.hasFocus())){var Ge=ae.quill.getLine(Ve.index),et=l(Ge,2),kt=et[0],ct=et[1],pe=ae.quill.getLeaf(Ve.index),de=l(pe,2),we=de[0],Ae=de[1],ve=Ve.length===0?[we,Ae]:ae.quill.getLeaf(Ve.index+Ve.length),He=l(ve,2),Ke=He[0],Be=He[1],zt=we instanceof k.default.Text?we.value().slice(0,Ae):"",nn=Ke instanceof k.default.Text?Ke.value().slice(Be):"",rt={collapsed:Ve.length===0,empty:Ve.length===0&&kt.length()<=1,format:ae.quill.getFormat(Ve),offset:ct,prefix:zt,suffix:nn},us=je.some(function(lt){if(lt.collapsed!=null&&lt.collapsed!==rt.collapsed||lt.empty!=null&&lt.empty!==rt.empty||lt.offset!=null&&lt.offset!==rt.offset)return!1;if(Array.isArray(lt.format)){if(lt.format.every(function(Gt){return rt.format[Gt]==null}))return!1}else if(a(lt.format)==="object"&&!Object.keys(lt.format).every(function(Gt){return lt.format[Gt]===!0?rt.format[Gt]!=null:lt.format[Gt]===!1?rt.format[Gt]==null:(0,m.default)(lt.format[Gt],rt.format[Gt])}))return!1;return lt.prefix!=null&&!lt.prefix.test(rt.prefix)||lt.suffix!=null&&!lt.suffix.test(rt.suffix)?!1:lt.handler.call(ae,Ve,rt)!==!0});us&&me.preventDefault()}}}})}}]),X})(M.default);re.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},re.DEFAULTS={bindings:{bold:te("bold"),italic:te("italic"),underline:te("underline"),indent:{key:re.keys.TAB,format:["blockquote","indent","list"],handler:function(X,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","+1",D.default.sources.USER)}},outdent:{key:re.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(X,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","-1",D.default.sources.USER)}},"outdent backspace":{key:re.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(X,se){se.format.indent!=null?this.quill.format("indent","-1",D.default.sources.USER):se.format.list!=null&&this.quill.format("list",!1,D.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:re.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(X){this.quill.deleteText(X.index-1,1,D.default.sources.USER)}},tab:{key:re.keys.TAB,handler:function(X){this.quill.history.cutoff();var se=new _.default().retain(X.index).delete(X.length).insert("	");this.quill.updateContents(se,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index+1,D.default.sources.SILENT)}},"list empty enter":{key:re.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(X,se){this.quill.format("list",!1,D.default.sources.USER),se.format.indent&&this.quill.format("indent",!1,D.default.sources.USER)}},"checklist enter":{key:re.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(X){var se=this.quill.getLine(X.index),ae=l(se,2),me=ae[0],Re=ae[1],je=(0,y.default)({},me.formats(),{list:"checked"}),Ve=new _.default().retain(X.index).insert(`
`,je).retain(me.length()-Re-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,D.default.sources.USER),this.quill.setSelection(X.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:re.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(X,se){var ae=this.quill.getLine(X.index),me=l(ae,2),Re=me[0],je=me[1],Ve=new _.default().retain(X.index).insert(`
`,se.format).retain(Re.length()-je-1).retain(1,{header:null});this.quill.updateContents(Ve,D.default.sources.USER),this.quill.setSelection(X.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(X,se){var ae=se.prefix.length,me=this.quill.getLine(X.index),Re=l(me,2),je=Re[0],Ve=Re[1];if(Ve>ae)return!0;var Ge=void 0;switch(se.prefix.trim()){case"[]":case"[ ]":Ge="unchecked";break;case"[x]":Ge="checked";break;case"-":case"*":Ge="bullet";break;default:Ge="ordered"}this.quill.insertText(X.index," ",D.default.sources.USER),this.quill.history.cutoff();var et=new _.default().retain(X.index-Ve).delete(ae+1).retain(je.length()-2-Ve).retain(1,{list:Ge});this.quill.updateContents(et,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index-ae,D.default.sources.SILENT)}},"code exit":{key:re.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(X){var se=this.quill.getLine(X.index),ae=l(se,2),me=ae[0],Re=ae[1],je=new _.default().retain(X.index+me.length()-Re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(je,D.default.sources.USER)}},"embed left":oe(re.keys.LEFT,!1),"embed left shift":oe(re.keys.LEFT,!0),"embed right":oe(re.keys.RIGHT,!1),"embed right shift":oe(re.keys.RIGHT,!0)}};function oe($,X){var se,ae=$===re.keys.LEFT?"prefix":"suffix";return se={key:$,shiftKey:X,altKey:null},I(se,ae,/^$/),I(se,"handler",function(Re){var je=Re.index;$===re.keys.RIGHT&&(je+=Re.length+1);var Ve=this.quill.getLeaf(je),Ge=l(Ve,1),et=Ge[0];return et instanceof k.default.Embed?($===re.keys.LEFT?X?this.quill.setSelection(Re.index-1,Re.length+1,D.default.sources.USER):this.quill.setSelection(Re.index-1,D.default.sources.USER):X?this.quill.setSelection(Re.index,Re.length+1,D.default.sources.USER):this.quill.setSelection(Re.index+Re.length+1,D.default.sources.USER),!1):!0}),se}function Y($,X){if(!($.index===0||this.quill.getLength()<=1)){var se=this.quill.getLine($.index),ae=l(se,1),me=ae[0],Re={};if(X.offset===0){var je=this.quill.getLine($.index-1),Ve=l(je,1),Ge=Ve[0];if(Ge!=null&&Ge.length()>1){var et=me.formats(),kt=this.quill.getFormat($.index-1,1);Re=w.default.attributes.diff(et,kt)||{}}}var ct=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(X.prefix)?2:1;this.quill.deleteText($.index-ct,ct,D.default.sources.USER),Object.keys(Re).length>0&&this.quill.formatLine($.index-ct,ct,Re,D.default.sources.USER),this.quill.focus()}}function W($,X){var se=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(X.suffix)?2:1;if(!($.index>=this.quill.getLength()-se)){var ae={},me=0,Re=this.quill.getLine($.index),je=l(Re,1),Ve=je[0];if(X.offset>=Ve.length()-1){var Ge=this.quill.getLine($.index+1),et=l(Ge,1),kt=et[0];if(kt){var ct=Ve.formats(),pe=this.quill.getFormat($.index,1);ae=w.default.attributes.diff(ct,pe)||{},me=kt.length()}}this.quill.deleteText($.index,se,D.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine($.index+me-1,se,ae,D.default.sources.USER)}}function V($){var X=this.quill.getLines($),se={};if(X.length>1){var ae=X[0].formats(),me=X[X.length-1].formats();se=w.default.attributes.diff(me,ae)||{}}this.quill.deleteText($,D.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine($.index,1,se,D.default.sources.USER),this.quill.setSelection($.index,D.default.sources.SILENT),this.quill.focus()}function B($,X){var se=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var ae=Object.keys(X.format).reduce(function(me,Re){return k.default.query(Re,k.default.Scope.BLOCK)&&!Array.isArray(X.format[Re])&&(me[Re]=X.format[Re]),me},{});this.quill.insertText($.index,`
`,ae,D.default.sources.USER),this.quill.setSelection($.index+1,D.default.sources.SILENT),this.quill.focus(),Object.keys(X.format).forEach(function(me){ae[me]==null&&(Array.isArray(X.format[me])||me!=="link"&&se.quill.format(me,X.format[me],D.default.sources.USER))})}function K($){return{key:re.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(se){var ae=k.default.query("code-block"),me=se.index,Re=se.length,je=this.quill.scroll.descendant(ae,me),Ve=l(je,2),Ge=Ve[0],et=Ve[1];if(Ge!=null){var kt=this.quill.getIndex(Ge),ct=Ge.newlineIndex(et,!0)+1,pe=Ge.newlineIndex(kt+et+Re),de=Ge.domNode.textContent.slice(ct,pe).split(`
`);et=0,de.forEach(function(we,Ae){$?(Ge.insertAt(ct+et,ae.TAB),et+=ae.TAB.length,Ae===0?me+=ae.TAB.length:Re+=ae.TAB.length):we.startsWith(ae.TAB)&&(Ge.deleteAt(ct+et,ae.TAB.length),et-=ae.TAB.length,Ae===0?me-=ae.TAB.length:Re-=ae.TAB.length),et+=we.length+1}),this.quill.update(D.default.sources.USER),this.quill.setSelection(me,Re,D.default.sources.SILENT)}}}}function te($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(se,ae){this.quill.format($,!ae.format[$],D.default.sources.USER)}}}function ee($){if(typeof $=="string"||typeof $=="number")return ee({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,p.default)($,!1)),typeof $.key=="string")if(re.keys[$.key.toUpperCase()]!=null)$.key=re.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[ne]=$.shortKey,delete $.shortKey),$}r.default=re,r.SHORTKEY=ne}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function w(T,k){var b=[],D=!0,F=!1,P=void 0;try{for(var R=T[Symbol.iterator](),M;!(D=(M=R.next()).done)&&(b.push(M.value),!(k&&b.length===k));D=!0);}catch(x){F=!0,P=x}finally{try{!D&&R.return&&R.return()}finally{if(F)throw P}}return b}return function(T,k){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return w(T,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function w(T,k,b){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,k);if(D===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:w(F,k,b)}else{if("value"in D)return D.value;var P=D.get;return P===void 0?void 0:P.call(b)}},c=(function(){function w(T,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,k,b){return k&&w(T.prototype,k),b&&w(T,b),T}})(),f=o(0),p=d(f),v=o(7),m=d(v);function d(w){return w&&w.__esModule?w:{default:w}}function y(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function S(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function _(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var E=(function(w){_(T,w),c(T,null,[{key:"value",value:function(){}}]);function T(k,b){y(this,T);var D=S(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k));return D.selection=b,D.textNode=document.createTextNode(T.CONTENTS),D.domNode.appendChild(D.textNode),D._length=0,D}return c(T,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,D){if(this._length!==0)return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,b,D);for(var F=this,P=0;F!=null&&F.statics.scope!==p.default.Scope.BLOCK_BLOT;)P+=F.offset(F.parent),F=F.parent;F!=null&&(this._length=T.CONTENTS.length,F.optimize(),F.formatAt(P,T.CONTENTS.length,b,D),this._length=0)}},{key:"index",value:function(b,D){return b===this.textNode?0:l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,b,D)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,D=this.selection.getNativeRange(),F=void 0,P=void 0,R=void 0;if(D!=null&&D.start.node===b&&D.end.node===b){var M=[b,D.start.offset,D.end.offset];F=M[0],P=M[1],R=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==T.CONTENTS){var x=this.textNode.data.split(T.CONTENTS).join("");this.next instanceof m.default?(F=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=T.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(p.default.create(this.textNode),this),this.textNode=document.createTextNode(T.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var I=[P,R].map(function(N){return Math.max(0,Math.min(F.data.length,N-1))}),L=a(I,2);return P=L[0],R=L[1],{startNode:F,startOffset:P,endNode:F,endOffset:R}}}}},{key:"update",value:function(b,D){var F=this;if(b.some(function(R){return R.type==="characterData"&&R.target===F.textNode})){var P=this.restore();P&&(D.range=P)}}},{key:"value",value:function(){return""}}]),T})(p.default.Embed);E.blotName="cursor",E.className="ql-cursor",E.tagName="span",E.CONTENTS="\uFEFF",r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=p(a),c=o(4),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function m(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function d(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var y=(function(S){d(_,S);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _})(l.default.Container);y.allowedChildren=[f.default,c.BlockEmbed,y],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=(function(){function E(w,T){for(var k=0;k<T.length;k++){var b=T[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,k){return T&&E(w.prototype,T),k&&E(w,k),w}})(),l=function E(w,T,k){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:E(D,T,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(0),f=p(c);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function m(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function d(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var y=(function(E){d(w,E);function w(){return v(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(k){var b=l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,k);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(D){return("00"+parseInt(D).toString(16)).slice(-2)}).join("")):b}}]),w})(f.default.Attributor.Style),S=new f.default.Attributor.Class("color","ql-color",{scope:f.default.Scope.INLINE}),_=new y("color","color",{scope:f.default.Scope.INLINE});r.ColorAttributor=y,r.ColorClass=S,r.ColorStyle=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=(function(){function _(E,w){for(var T=0;T<w.length;T++){var k=w[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,w,T){return w&&_(E.prototype,w),T&&_(E,T),E}})(),l=function _(E,w,T){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,w);if(k===void 0){var b=Object.getPrototypeOf(E);return b===null?void 0:_(b,w,T)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(T)}},c=o(6),f=p(c);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function m(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function d(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var y=(function(_){d(E,_);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"format",value:function(T,k){if(T!==this.statics.blotName||!k)return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,T,k);k=this.constructor.sanitize(k),this.domNode.setAttribute("href",k)}}],[{key:"create",value:function(T){var k=l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,T);return T=this.sanitize(T),k.setAttribute("href",T),k.setAttribute("rel","noopener noreferrer"),k.setAttribute("target","_blank"),k}},{key:"formats",value:function(T){return T.getAttribute("href")}},{key:"sanitize",value:function(T){return S(T,this.PROTOCOL_WHITELIST)?T:this.SANITIZED_URL}}]),E})(f.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function S(_,E){var w=document.createElement("a");w.href=_;var T=w.href.slice(0,w.href.indexOf(":"));return E.indexOf(T)>-1}r.default=y,r.sanitize=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},l=(function(){function E(w,T){for(var k=0;k<T.length;k++){var b=T[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,k){return T&&E(w.prototype,T),k&&E(w,k),w}})(),c=o(23),f=m(c),p=o(107),v=m(p);function m(E){return E&&E.__esModule?E:{default:E}}function d(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}var y=0;function S(E,w){E.setAttribute(w,E.getAttribute(w)!=="true")}var _=(function(){function E(w){var T=this;d(this,E),this.select=w,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){T.togglePicker()}),this.label.addEventListener("keydown",function(k){switch(k.keyCode){case f.default.keys.ENTER:T.togglePicker();break;case f.default.keys.ESCAPE:T.escape(),k.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(E,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),S(this.label,"aria-expanded"),S(this.options,"aria-hidden")}},{key:"buildItem",value:function(T){var k=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),T.hasAttribute("value")&&b.setAttribute("data-value",T.getAttribute("value")),T.textContent&&b.setAttribute("data-label",T.textContent),b.addEventListener("click",function(){k.selectItem(b,!0)}),b.addEventListener("keydown",function(D){switch(D.keyCode){case f.default.keys.ENTER:k.selectItem(b,!0),D.preventDefault();break;case f.default.keys.ESCAPE:k.escape(),D.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var T=document.createElement("span");return T.classList.add("ql-picker-label"),T.innerHTML=v.default,T.tabIndex="0",T.setAttribute("role","button"),T.setAttribute("aria-expanded","false"),this.container.appendChild(T),T}},{key:"buildOptions",value:function(){var T=this,k=document.createElement("span");k.classList.add("ql-picker-options"),k.setAttribute("aria-hidden","true"),k.tabIndex="-1",k.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",k.id),this.options=k,[].slice.call(this.select.options).forEach(function(b){var D=T.buildItem(b);k.appendChild(D),b.selected===!0&&T.selectItem(D)}),this.container.appendChild(k)}},{key:"buildPicker",value:function(){var T=this;[].slice.call(this.select.attributes).forEach(function(k){T.container.setAttribute(k.name,k.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var T=this;this.close(),setTimeout(function(){return T.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(T){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(T!==b&&(b?.classList.remove("ql-selected"),T!=null&&(T.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(T.parentNode.children,T),T.hasAttribute("data-value")?this.label.setAttribute("data-value",T.getAttribute("data-value")):this.label.removeAttribute("data-value"),T.hasAttribute("data-label")?this.label.setAttribute("data-label",T.getAttribute("data-label")):this.label.removeAttribute("data-label"),k))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var D=document.createEvent("Event");D.initEvent("change",!0,!0),this.select.dispatchEvent(D)}this.close()}}},{key:"update",value:function(){var T=void 0;if(this.select.selectedIndex>-1){var k=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];T=this.select.options[this.select.selectedIndex],this.selectItem(k)}else this.selectItem(null);var b=T!=null&&T!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),E})();r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=G(a),c=o(5),f=G(c),p=o(4),v=G(p),m=o(16),d=G(m),y=o(25),S=G(y),_=o(24),E=G(_),w=o(35),T=G(w),k=o(6),b=G(k),D=o(22),F=G(D),P=o(7),R=G(P),M=o(55),x=G(M),I=o(42),L=G(I),N=o(23),z=G(N);function G(ne){return ne&&ne.__esModule?ne:{default:ne}}f.default.register({"blots/block":v.default,"blots/block/embed":p.BlockEmbed,"blots/break":d.default,"blots/container":S.default,"blots/cursor":E.default,"blots/embed":T.default,"blots/inline":b.default,"blots/scroll":F.default,"blots/text":R.default,"modules/clipboard":x.default,"modules/history":L.default,"modules/keyboard":z.default}),l.default.register(v.default,d.default,E.default,b.default,F.default,R.default),r.default=f.default}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),l=(function(){function c(f){this.domNode=f,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(f){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var p;return Array.isArray(this.tagName)?(typeof f=="string"&&(f=f.toUpperCase(),parseInt(f).toString()===f&&(f=parseInt(f))),typeof f=="number"?p=document.createElement(this.tagName[f-1]):this.tagName.indexOf(f)>-1?p=document.createElement(f):p=document.createElement(this.tagName[0])):p=document.createElement(this.tagName),this.className&&p.classList.add(this.className),p},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var f=this.domNode.cloneNode(!1);return a.create(f)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(f,p){var v=this.isolate(f,p);v.remove()},c.prototype.formatAt=function(f,p,v,m){var d=this.isolate(f,p);if(a.query(v,a.Scope.BLOT)!=null&&m)d.wrap(v,m);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);d.wrap(y),y.format(v,m)}},c.prototype.insertAt=function(f,p,v){var m=v==null?a.create("text",p):a.create(p,v),d=this.split(f);this.parent.insertBefore(m,d)},c.prototype.insertInto=function(f,p){p===void 0&&(p=null),this.parent!=null&&this.parent.children.remove(this);var v=null;f.children.insertBefore(this,p),p!=null&&(v=p.domNode),(this.domNode.parentNode!=f.domNode||this.domNode.nextSibling!=v)&&f.domNode.insertBefore(this.domNode,v),this.parent=f,this.attach()},c.prototype.isolate=function(f,p){var v=this.split(f);return v.split(p),v},c.prototype.length=function(){return 1},c.prototype.offset=function(f){return f===void 0&&(f=this.parent),this.parent==null||this==f?0:this.parent.children.offset(this)+this.parent.offset(f)},c.prototype.optimize=function(f){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(f){f.parent!=null&&(f.parent.insertBefore(this,f.next),f.remove())},c.prototype.replaceWith=function(f,p){var v=typeof f=="string"?a.create(f,p):f;return v.replace(this),v},c.prototype.split=function(f,p){return f===0?this:this.next},c.prototype.update=function(f,p){},c.prototype.wrap=function(f,p){var v=typeof f=="string"?a.create(f,p):f;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},c.blotName="abstract",c})();r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),l=o(32),c=o(33),f=o(1),p=(function(){function v(m){this.attributes={},this.domNode=m,this.build()}return v.prototype.attribute=function(m,d){d?m.add(this.domNode,d)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},v.prototype.build=function(){var m=this;this.attributes={};var d=a.default.keys(this.domNode),y=l.default.keys(this.domNode),S=c.default.keys(this.domNode);d.concat(y).concat(S).forEach(function(_){var E=f.query(_,f.Scope.ATTRIBUTE);E instanceof a.default&&(m.attributes[E.attrName]=E)})},v.prototype.copy=function(m){var d=this;Object.keys(this.attributes).forEach(function(y){var S=d.attributes[y].value(d.domNode);m.format(y,S)})},v.prototype.move=function(m){var d=this;this.copy(m),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=m.attributes[y].value(m.domNode),d},{})},v})();r.default=p}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12);function c(p,v){var m=p.getAttribute("class")||"";return m.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(m,d){return this.canAdd(m,d)?(this.remove(m),m.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(m){var d=c(m,this.keyName);d.forEach(function(y){m.classList.remove(y)}),m.classList.length===0&&m.removeAttribute("class")},v.prototype.value=function(m){var d=c(m,this.keyName)[0]||"",y=d.slice(this.keyName.length+1);return this.canAdd(m,y)?y:""},v})(l.default);r.default=f}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12);function c(p){var v=p.split("-"),m=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+m}var f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(d){var y=d.split(":");return y[0].trim()})},v.prototype.add=function(m,d){return this.canAdd(m,d)?(m.style[c(this.keyName)]=d,!0):!1},v.prototype.remove=function(m){m.style[c(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},v.prototype.value=function(m){var d=m.style[c(this.keyName)];return this.canAdd(m,d)?d:""},v})(l.default);r.default=f}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function f(p,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,d.key,d)}}return function(p,v,m){return v&&f(p.prototype,v),m&&f(p,m),p}})();function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var c=(function(){function f(p,v){l(this,f),this.quill=p,this.options=v,this.modules={}}return a(f,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(m){v.modules[m]==null&&v.addModule(m)})}},{key:"addModule",value:function(v){var m=this.quill.constructor.import("modules/"+v);return this.modules[v]=new m(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),f})();c.DEFAULTS={modules:{}},c.themes={default:c},r.default=c}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function w(T,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,k,b){return k&&w(T.prototype,k),b&&w(T,b),T}})(),l=function w(T,k,b){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,k);if(D===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:w(F,k,b)}else{if("value"in D)return D.value;var P=D.get;return P===void 0?void 0:P.call(b)}},c=o(0),f=m(c),p=o(7),v=m(p);function m(w){return w&&w.__esModule?w:{default:w}}function d(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function y(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function S(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var _="\uFEFF",E=(function(w){S(T,w);function T(k){d(this,T);var b=y(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,k));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(D){b.contentNode.appendChild(D)}),b.leftGuard=document.createTextNode(_),b.rightGuard=document.createTextNode(_),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(T,[{key:"index",value:function(b,D){return b===this.leftGuard?0:b===this.rightGuard?1:l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"index",this).call(this,b,D)}},{key:"restore",value:function(b){var D=void 0,F=void 0,P=b.data.split(_).join("");if(b===this.leftGuard)if(this.prev instanceof v.default){var R=this.prev.length();this.prev.insertAt(R,P),D={startNode:this.prev.domNode,startOffset:R+P.length}}else F=document.createTextNode(P),this.parent.insertBefore(f.default.create(F),this),D={startNode:F,startOffset:P.length};else b===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,P),D={startNode:this.next.domNode,startOffset:P.length}):(F=document.createTextNode(P),this.parent.insertBefore(f.default.create(F),this.next),D={startNode:F,startOffset:P.length}));return b.data=_,D}},{key:"update",value:function(b,D){var F=this;b.forEach(function(P){if(P.type==="characterData"&&(P.target===F.leftGuard||P.target===F.rightGuard)){var R=F.restore(P.target);R&&(D.range=R)}})}}]),T})(f.default.Embed);r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var f={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},p=new l.default.Attributor.Attribute("align","align",f),v=new l.default.Attributor.Class("align","ql-align",f),m=new l.default.Attributor.Style("align","text-align",f);r.AlignAttribute=p,r.AlignClass=v,r.AlignStyle=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),l=f(a),c=o(26);function f(m){return m&&m.__esModule?m:{default:m}}var p=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),v=new c.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=p,r.BackgroundStyle=v}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var f={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},p=new l.default.Attributor.Attribute("direction","dir",f),v=new l.default.Attributor.Class("direction","ql-direction",f),m=new l.default.Attributor.Style("direction","direction",f);r.DirectionAttribute=p,r.DirectionClass=v,r.DirectionStyle=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=(function(){function w(T,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,k,b){return k&&w(T.prototype,k),b&&w(T,b),T}})(),l=function w(T,k,b){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,k);if(D===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:w(F,k,b)}else{if("value"in D)return D.value;var P=D.get;return P===void 0?void 0:P.call(b)}},c=o(0),f=p(c);function p(w){return w&&w.__esModule?w:{default:w}}function v(w,T){if(!(w instanceof T))throw new TypeError("Cannot call a class as a function")}function m(w,T){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:w}function d(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(w,T):w.__proto__=T)}var y={scope:f.default.Scope.INLINE,whitelist:["serif","monospace"]},S=new f.default.Attributor.Class("font","ql-font",y),_=(function(w){d(T,w);function T(){return v(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"value",value:function(b){return l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),T})(f.default.Attributor.Style),E=new _("font","font-family",y);r.FontStyle=E,r.FontClass=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}var f=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),p=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=f,r.SizeStyle=p}),(function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=(function(){function k(b,D){for(var F=0;F<D.length;F++){var P=D[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,D,F){return D&&k(b.prototype,D),F&&k(b,F),b}})(),l=o(0),c=d(l),f=o(5),p=d(f),v=o(9),m=d(v);function d(k){return k&&k.__esModule?k:{default:k}}function y(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}function S(k,b){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:k}function _(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(k,b):k.__proto__=b)}var E=(function(k){_(b,k);function b(D,F){y(this,b);var P=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,D,F));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(p.default.events.EDITOR_CHANGE,function(R,M,x,I){R!==p.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||I===p.default.sources.USER?P.record(M,x):P.transform(M))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return a(b,[{key:"change",value:function(F,P){if(this.stack[F].length!==0){var R=this.stack[F].pop();this.stack[P].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[F],p.default.sources.USER),this.ignoreChange=!1;var M=T(R[F]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,P){if(F.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(P),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var x=this.stack.undo.pop();R=R.compose(x.undo),F=x.redo.compose(F)}else this.lastRecorded=M;this.stack.undo.push({redo:F,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){this.stack.undo.forEach(function(P){P.undo=F.transform(P.undo,!0),P.redo=F.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=F.transform(P.undo,!0),P.redo=F.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b})(m.default);E.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function w(k){var b=k.ops[k.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(D){return c.default.query(D,c.default.Scope.BLOCK)!=null}):!1}function T(k){var b=k.reduce(function(F,P){return F+=P.delete||0,F},0),D=k.length()-b;return w(k)&&(D-=1),D}r.default=E,r.getLastChangeIndex=T}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=(function(){function B(K,te){for(var ee=0;ee<te.length;ee++){var $=te[ee];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(K,$.key,$)}}return function(K,te,ee){return te&&B(K.prototype,te),ee&&B(K,ee),K}})(),l=function B(K,te,ee){K===null&&(K=Function.prototype);var $=Object.getOwnPropertyDescriptor(K,te);if($===void 0){var X=Object.getPrototypeOf(K);return X===null?void 0:B(X,te,ee)}else{if("value"in $)return $.value;var se=$.get;return se===void 0?void 0:se.call(ee)}},c=o(3),f=M(c),p=o(2),v=M(p),m=o(8),d=M(m),y=o(23),S=M(y),_=o(34),E=M(_),w=o(59),T=M(w),k=o(60),b=M(k),D=o(28),F=M(D),P=o(61),R=M(P);function M(B){return B&&B.__esModule?B:{default:B}}function x(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function I(B,K){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:B}function L(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(B,K):B.__proto__=K)}var N=[!1,"center","right","justify"],z=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],ne=["1","2","3",!1],re=["small",!1,"large","huge"],oe=(function(B){L(K,B);function K(te,ee){x(this,K);var $=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,ee)),X=function se(ae){if(!document.body.contains(te.root))return document.body.removeEventListener("click",se);$.tooltip!=null&&!$.tooltip.root.contains(ae.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(me){me.container.contains(ae.target)||me.close()})};return te.emitter.listenDOM("click",document.body,X),$}return a(K,[{key:"addModule",value:function(ee){var $=l(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,ee);return ee==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(ee,$){ee.forEach(function(X){var se=X.getAttribute("class")||"";se.split(/\s+/).forEach(function(ae){if(ae.startsWith("ql-")&&(ae=ae.slice(3),$[ae]!=null))if(ae==="direction")X.innerHTML=$[ae][""]+$[ae].rtl;else if(typeof $[ae]=="string")X.innerHTML=$[ae];else{var me=X.value||"";me!=null&&$[ae][me]&&(X.innerHTML=$[ae][me])}})})}},{key:"buildPickers",value:function(ee,$){var X=this;this.pickers=ee.map(function(ae){if(ae.classList.contains("ql-align"))return ae.querySelector("option")==null&&V(ae,N),new b.default(ae,$.align);if(ae.classList.contains("ql-background")||ae.classList.contains("ql-color")){var me=ae.classList.contains("ql-background")?"background":"color";return ae.querySelector("option")==null&&V(ae,z,me==="background"?"#ffffff":"#000000"),new T.default(ae,$[me])}else return ae.querySelector("option")==null&&(ae.classList.contains("ql-font")?V(ae,G):ae.classList.contains("ql-header")?V(ae,ne):ae.classList.contains("ql-size")&&V(ae,re)),new F.default(ae)});var se=function(){X.pickers.forEach(function(me){me.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,se)}}]),K})(E.default);oe.DEFAULTS=(0,f.default)(!0,{},E.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,te=this.container.querySelector("input.ql-image[type=file]");te==null&&(te=document.createElement("input"),te.setAttribute("type","file"),te.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),te.classList.add("ql-image"),te.addEventListener("change",function(){if(te.files!=null&&te.files[0]!=null){var ee=new FileReader;ee.onload=function($){var X=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(X.index).delete(X.length).insert({image:$.target.result}),d.default.sources.USER),K.quill.setSelection(X.index+1,d.default.sources.SILENT),te.value=""},ee.readAsDataURL(te.files[0])}}),this.container.appendChild(te)),te.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=(function(B){L(K,B);function K(te,ee){x(this,K);var $=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,ee));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(K,[{key:"listen",value:function(){var ee=this;this.textbox.addEventListener("keydown",function($){S.default.match($,"enter")?(ee.save(),$.preventDefault()):S.default.match($,"escape")&&(ee.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:ee!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ee)||""),this.root.setAttribute("data-mode",ee)}},{key:"restoreFocus",value:function(){var ee=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ee}},{key:"save",value:function(){var ee=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ee,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ee,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":ee=W(ee);case"formula":{if(!ee)break;var X=this.quill.getSelection(!0);if(X!=null){var se=X.index+X.length;this.quill.insertEmbed(se,this.root.getAttribute("data-mode"),ee,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(se+1," ",d.default.sources.USER),this.quill.setSelection(se+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K})(R.default);function W(B){var K=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":B}function V(B,K){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(ee){var $=document.createElement("option");ee===te?$.setAttribute("selected","selected"):$.setAttribute("value",ee),B.appendChild($)})}r.BaseTooltip=Y,r.default=oe}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},l.prototype.contains=function(c){for(var f,p=this.iterator();f=p();)if(f===c)return!0;return!1},l.prototype.insertBefore=function(c,f){c&&(c.next=f,f!=null?(c.prev=f.prev,f.prev!=null&&(f.prev.next=c),f.prev=c,f===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},l.prototype.offset=function(c){for(var f=0,p=this.head;p!=null;){if(p===c)return f;f+=p.length(),p=p.next}return-1},l.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},l.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var f=c;return c!=null&&(c=c.next),f}},l.prototype.find=function(c,f){f===void 0&&(f=!1);for(var p,v=this.iterator();p=v();){var m=p.length();if(c<m||f&&c===m&&(p.next==null||p.next.length()!==0))return[p,c];c-=m}return[null,0]},l.prototype.forEach=function(c){for(var f,p=this.iterator();f=p();)c(f)},l.prototype.forEachAt=function(c,f,p){if(!(f<=0))for(var v=this.find(c),m=v[0],d=v[1],y,S=c-d,_=this.iterator(m);(y=_())&&S<c+f;){var E=y.length();c>S?p(y,c-S,Math.min(f,S+E-c)):p(y,0,Math.min(E,c+f-S)),S+=E}},l.prototype.map=function(c){return this.reduce(function(f,p){return f.push(c(p)),f},[])},l.prototype.reduce=function(c,f){for(var p,v=this.iterator();p=v();)f=c(f,p);return f},l})();r.default=a}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(17),c=o(1),f={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},p=100,v=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.scroll=S,S.observer=new MutationObserver(function(_){S.update(_)}),S.observer.observe(S.domNode,f),S.attach(),S}return d.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,S){this.update(),y===0&&S===this.length()?this.children.forEach(function(_){_.remove()}):m.prototype.deleteAt.call(this,y,S)},d.prototype.formatAt=function(y,S,_,E){this.update(),m.prototype.formatAt.call(this,y,S,_,E)},d.prototype.insertAt=function(y,S,_){this.update(),m.prototype.insertAt.call(this,y,S,_)},d.prototype.optimize=function(y,S){var _=this;y===void 0&&(y=[]),S===void 0&&(S={}),m.prototype.optimize.call(this,S);for(var E=[].slice.call(this.observer.takeRecords());E.length>0;)y.push(E.pop());for(var w=function(D,F){F===void 0&&(F=!0),!(D==null||D===_)&&D.domNode.parentNode!=null&&(D.domNode[c.DATA_KEY].mutations==null&&(D.domNode[c.DATA_KEY].mutations=[]),F&&w(D.parent))},T=function(D){D.domNode[c.DATA_KEY]==null||D.domNode[c.DATA_KEY].mutations==null||(D instanceof l.default&&D.children.forEach(T),D.optimize(S))},k=y,b=0;k.length>0;b+=1){if(b>=p)throw new Error("[Parchment] Maximum optimize iterations reached");for(k.forEach(function(D){var F=c.find(D.target,!0);F!=null&&(F.domNode===D.target&&(D.type==="childList"?(w(c.find(D.previousSibling,!1)),[].forEach.call(D.addedNodes,function(P){var R=c.find(P,!1);w(R,!1),R instanceof l.default&&R.children.forEach(function(M){w(M,!1)})})):D.type==="attributes"&&w(F.prev)),w(F))}),this.children.forEach(T),k=[].slice.call(this.observer.takeRecords()),E=k.slice();E.length>0;)y.push(E.pop())}},d.prototype.update=function(y,S){var _=this;S===void 0&&(S={}),y=y||this.observer.takeRecords(),y.map(function(E){var w=c.find(E.target,!0);return w==null?null:w.domNode[c.DATA_KEY].mutations==null?(w.domNode[c.DATA_KEY].mutations=[E],w):(w.domNode[c.DATA_KEY].mutations.push(E),null)}).forEach(function(E){E==null||E===_||E.domNode[c.DATA_KEY]==null||E.update(E.domNode[c.DATA_KEY].mutations||[],S)}),this.domNode[c.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,S),this.optimize(y,S)},d.blotName="scroll",d.defaultChild="block",d.scope=c.Scope.BLOCK_BLOT,d.tagName="DIV",d})(l.default);r.default=v}),(function(t,r,o){var a=this&&this.__extends||(function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,d){m.__proto__=d}||function(m,d){for(var y in d)d.hasOwnProperty(y)&&(m[y]=d[y])};return function(m,d){v(m,d);function y(){this.constructor=m}m.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(18),c=o(1);function f(v,m){if(Object.keys(v).length!==Object.keys(m).length)return!1;for(var d in v)if(v[d]!==m[d])return!1;return!0}var p=(function(v){a(m,v);function m(){return v!==null&&v.apply(this,arguments)||this}return m.formats=function(d){if(d.tagName!==m.tagName)return v.formats.call(this,d)},m.prototype.format=function(d,y){var S=this;d===this.statics.blotName&&!y?(this.children.forEach(function(_){_ instanceof l.default||(_=_.wrap(m.blotName,!0)),S.attributes.copy(_)}),this.unwrap()):v.prototype.format.call(this,d,y)},m.prototype.formatAt=function(d,y,S,_){if(this.formats()[S]!=null||c.query(S,c.Scope.ATTRIBUTE)){var E=this.isolate(d,y);E.format(S,_)}else v.prototype.formatAt.call(this,d,y,S,_)},m.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var S=this.next;S instanceof m&&S.prev===this&&f(y,S.formats())&&(S.moveChildren(this),S.remove())},m.blotName="inline",m.scope=c.Scope.INLINE_BLOT,m.tagName="SPAN",m})(l.default);r.default=p}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(18),c=o(1),f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.formats=function(m){var d=c.query(v.blotName).tagName;if(m.tagName!==d)return p.formats.call(this,m)},v.prototype.format=function(m,d){c.query(m,c.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!d?this.replaceWith(v.blotName):p.prototype.format.call(this,m,d))},v.prototype.formatAt=function(m,d,y,S){c.query(y,c.Scope.BLOCK)!=null?this.format(y,S):p.prototype.formatAt.call(this,m,d,y,S)},v.prototype.insertAt=function(m,d,y){if(y==null||c.query(d,c.Scope.INLINE)!=null)p.prototype.insertAt.call(this,m,d,y);else{var S=this.split(m),_=c.create(d,y);S.parent.insertBefore(_,S)}},v.prototype.update=function(m,d){navigator.userAgent.match(/Trident/)?this.build():p.prototype.update.call(this,m,d)},v.blotName="block",v.scope=c.Scope.BLOCK_BLOT,v.tagName="P",v})(l.default);r.default=f}),(function(t,r,o){var a=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var m in v)v.hasOwnProperty(m)&&(p[m]=v[m])};return function(p,v){f(p,v);function m(){this.constructor=p}p.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(19),c=(function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.formats=function(v){},p.prototype.format=function(v,m){f.prototype.formatAt.call(this,0,this.length(),v,m)},p.prototype.formatAt=function(v,m,d,y){v===0&&m===this.length()?this.format(d,y):f.prototype.formatAt.call(this,v,m,d,y)},p.prototype.formats=function(){return this.statics.formats(this.domNode)},p})(l.default);r.default=c}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(19),c=o(1),f=(function(p){a(v,p);function v(m){var d=p.call(this,m)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(m){return document.createTextNode(m)},v.value=function(m){var d=m.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(m,d){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+d)},v.prototype.index=function(m,d){return this.domNode===m?d:-1},v.prototype.insertAt=function(m,d,y){y==null?(this.text=this.text.slice(0,m)+d+this.text.slice(m),this.domNode.data=this.text):p.prototype.insertAt.call(this,m,d,y)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(m){p.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(m,d){return[this.domNode,m]},v.prototype.split=function(m,d){if(d===void 0&&(d=!1),!d){if(m===0)return this;if(m===this.length())return this.next}var y=c.create(this.domNode.splitText(m));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},v.prototype.update=function(m,d){var y=this;m.some(function(S){return S.type==="characterData"&&S.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=c.Scope.INLINE_BLOT,v})(l.default);r.default=f}),(function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,f){return arguments.length>1&&!this.contains(c)==!f?f:l.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,f){return f=f||0,this.substr(f,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,f){var p=this.toString();(typeof f!="number"||!isFinite(f)||Math.floor(f)!==f||f>p.length)&&(f=p.length),f-=c.length;var v=p.indexOf(c,f);return v!==-1&&v===f}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(f){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof f!="function")throw new TypeError("predicate must be a function");for(var p=Object(this),v=p.length>>>0,m=arguments[1],d,y=0;y<v;y++)if(d=p[y],f.call(m,d,y,p))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(t,r){var o=-1,a=1,l=0;function c(b,D,F){if(b==D)return b?[[l,b]]:[];(F<0||b.length<F)&&(F=null);var P=m(b,D),R=b.substring(0,P);b=b.substring(P),D=D.substring(P),P=d(b,D);var M=b.substring(b.length-P);b=b.substring(0,b.length-P),D=D.substring(0,D.length-P);var x=f(b,D);return R&&x.unshift([l,R]),M&&x.push([l,M]),S(x),F!=null&&(x=w(x,F)),x=T(x),x}function f(b,D){var F;if(!b)return[[a,D]];if(!D)return[[o,b]];var P=b.length>D.length?b:D,R=b.length>D.length?D:b,M=P.indexOf(R);if(M!=-1)return F=[[a,P.substring(0,M)],[l,R],[a,P.substring(M+R.length)]],b.length>D.length&&(F[0][0]=F[2][0]=o),F;if(R.length==1)return[[o,b],[a,D]];var x=y(b,D);if(x){var I=x[0],L=x[1],N=x[2],z=x[3],G=x[4],ne=c(I,N),re=c(L,z);return ne.concat([[l,G]],re)}return p(b,D)}function p(b,D){for(var F=b.length,P=D.length,R=Math.ceil((F+P)/2),M=R,x=2*R,I=new Array(x),L=new Array(x),N=0;N<x;N++)I[N]=-1,L[N]=-1;I[M+1]=0,L[M+1]=0;for(var z=F-P,G=z%2!=0,ne=0,re=0,oe=0,Y=0,W=0;W<R;W++){for(var V=-W+ne;V<=W-re;V+=2){var B=M+V,K;V==-W||V!=W&&I[B-1]<I[B+1]?K=I[B+1]:K=I[B-1]+1;for(var te=K-V;K<F&&te<P&&b.charAt(K)==D.charAt(te);)K++,te++;if(I[B]=K,K>F)re+=2;else if(te>P)ne+=2;else if(G){var ee=M+z-V;if(ee>=0&&ee<x&&L[ee]!=-1){var $=F-L[ee];if(K>=$)return v(b,D,K,te)}}}for(var X=-W+oe;X<=W-Y;X+=2){var ee=M+X,$;X==-W||X!=W&&L[ee-1]<L[ee+1]?$=L[ee+1]:$=L[ee-1]+1;for(var se=$-X;$<F&&se<P&&b.charAt(F-$-1)==D.charAt(P-se-1);)$++,se++;if(L[ee]=$,$>F)Y+=2;else if(se>P)oe+=2;else if(!G){var B=M+z-X;if(B>=0&&B<x&&I[B]!=-1){var K=I[B],te=M+K-B;if($=F-$,K>=$)return v(b,D,K,te)}}}}return[[o,b],[a,D]]}function v(b,D,F,P){var R=b.substring(0,F),M=D.substring(0,P),x=b.substring(F),I=D.substring(P),L=c(R,M),N=c(x,I);return L.concat(N)}function m(b,D){if(!b||!D||b.charAt(0)!=D.charAt(0))return 0;for(var F=0,P=Math.min(b.length,D.length),R=P,M=0;F<R;)b.substring(M,R)==D.substring(M,R)?(F=R,M=F):P=R,R=Math.floor((P-F)/2+F);return R}function d(b,D){if(!b||!D||b.charAt(b.length-1)!=D.charAt(D.length-1))return 0;for(var F=0,P=Math.min(b.length,D.length),R=P,M=0;F<R;)b.substring(b.length-R,b.length-M)==D.substring(D.length-R,D.length-M)?(F=R,M=F):P=R,R=Math.floor((P-F)/2+F);return R}function y(b,D){var F=b.length>D.length?b:D,P=b.length>D.length?D:b;if(F.length<4||P.length*2<F.length)return null;function R(re,oe,Y){for(var W=re.substring(Y,Y+Math.floor(re.length/4)),V=-1,B="",K,te,ee,$;(V=oe.indexOf(W,V+1))!=-1;){var X=m(re.substring(Y),oe.substring(V)),se=d(re.substring(0,Y),oe.substring(0,V));B.length<se+X&&(B=oe.substring(V-se,V)+oe.substring(V,V+X),K=re.substring(0,Y-se),te=re.substring(Y+X),ee=oe.substring(0,V-se),$=oe.substring(V+X))}return B.length*2>=re.length?[K,te,ee,$,B]:null}var M=R(F,P,Math.ceil(F.length/4)),x=R(F,P,Math.ceil(F.length/2)),I;if(!M&&!x)return null;x?M?I=M[4].length>x[4].length?M:x:I=x:I=M;var L,N,z,G;b.length>D.length?(L=I[0],N=I[1],z=I[2],G=I[3]):(z=I[0],G=I[1],L=I[2],N=I[3]);var ne=I[4];return[L,N,z,G,ne]}function S(b){b.push([l,""]);for(var D=0,F=0,P=0,R="",M="",x;D<b.length;)switch(b[D][0]){case a:P++,M+=b[D][1],D++;break;case o:F++,R+=b[D][1],D++;break;case l:F+P>1?(F!==0&&P!==0&&(x=m(M,R),x!==0&&(D-F-P>0&&b[D-F-P-1][0]==l?b[D-F-P-1][1]+=M.substring(0,x):(b.splice(0,0,[l,M.substring(0,x)]),D++),M=M.substring(x),R=R.substring(x)),x=d(M,R),x!==0&&(b[D][1]=M.substring(M.length-x)+b[D][1],M=M.substring(0,M.length-x),R=R.substring(0,R.length-x))),F===0?b.splice(D-P,F+P,[a,M]):P===0?b.splice(D-F,F+P,[o,R]):b.splice(D-F-P,F+P,[o,R],[a,M]),D=D-F-P+(F?1:0)+(P?1:0)+1):D!==0&&b[D-1][0]==l?(b[D-1][1]+=b[D][1],b.splice(D,1)):D++,P=0,F=0,R="",M="";break}b[b.length-1][1]===""&&b.pop();var I=!1;for(D=1;D<b.length-1;)b[D-1][0]==l&&b[D+1][0]==l&&(b[D][1].substring(b[D][1].length-b[D-1][1].length)==b[D-1][1]?(b[D][1]=b[D-1][1]+b[D][1].substring(0,b[D][1].length-b[D-1][1].length),b[D+1][1]=b[D-1][1]+b[D+1][1],b.splice(D-1,1),I=!0):b[D][1].substring(0,b[D+1][1].length)==b[D+1][1]&&(b[D-1][1]+=b[D+1][1],b[D][1]=b[D][1].substring(b[D+1][1].length)+b[D+1][1],b.splice(D+1,1),I=!0)),D++;I&&S(b)}var _=c;_.INSERT=a,_.DELETE=o,_.EQUAL=l,t.exports=_;function E(b,D){if(D===0)return[l,b];for(var F=0,P=0;P<b.length;P++){var R=b[P];if(R[0]===o||R[0]===l){var M=F+R[1].length;if(D===M)return[P+1,b];if(D<M){b=b.slice();var x=D-F,I=[R[0],R[1].slice(0,x)],L=[R[0],R[1].slice(x)];return b.splice(P,1,I,L),[P+1,b]}else F=M}}throw new Error("cursor_pos is out of bounds!")}function w(b,D){var F=E(b,D),P=F[1],R=F[0],M=P[R],x=P[R+1];if(M==null)return b;if(M[0]!==l)return b;if(x!=null&&M[1]+x[1]===x[1]+M[1])return P.splice(R,2,x,M),k(P,R,2);if(x!=null&&x[1].indexOf(M[1])===0){P.splice(R,2,[x[0],M[1]],[0,M[1]]);var I=x[1].slice(M[1].length);return I.length>0&&P.splice(R+2,0,[x[0],I]),k(P,R,3)}else return b}function T(b){for(var D=!1,F=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},P=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},R=2;R<b.length;R+=1)b[R-2][0]===l&&P(b[R-2][1])&&b[R-1][0]===o&&F(b[R-1][1])&&b[R][0]===a&&F(b[R][1])&&(D=!0,b[R-1][1]=b[R-2][1].slice(-1)+b[R-1][1],b[R][1]=b[R-2][1].slice(-1)+b[R][1],b[R-2][1]=b[R-2][1].slice(0,-1));if(!D)return b;for(var M=[],R=0;R<b.length;R+=1)b[R][1].length>0&&M.push(b[R]);return M}function k(b,D,F){for(var P=D+F-1;P>=0&&P>=D-1;P--)if(P+1<b.length){var R=b[P],M=b[P+1];R[0]===M[1]&&b.splice(P,2,[R[0],R[1]+M[1]])}return b}}),(function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var l=[];for(var c in a)l.push(c);return l}}),(function(t,r){var o=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=t.exports=o?a:l,r.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}r.unsupported=l;function l(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}}),(function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1));function c(p,v,m){this.fn=p,this.context=v,this.once=m||!1}function f(){this._events=new l,this._eventsCount=0}f.prototype.eventNames=function(){var v=[],m,d;if(this._eventsCount===0)return v;for(d in m=this._events)o.call(m,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(m)):v},f.prototype.listeners=function(v,m){var d=a?a+v:v,y=this._events[d];if(m)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var S=0,_=y.length,E=new Array(_);S<_;S++)E[S]=y[S].fn;return E},f.prototype.emit=function(v,m,d,y,S,_){var E=a?a+v:v;if(!this._events[E])return!1;var w=this._events[E],T=arguments.length,k,b;if(w.fn){switch(w.once&&this.removeListener(v,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,m),!0;case 3:return w.fn.call(w.context,m,d),!0;case 4:return w.fn.call(w.context,m,d,y),!0;case 5:return w.fn.call(w.context,m,d,y,S),!0;case 6:return w.fn.call(w.context,m,d,y,S,_),!0}for(b=1,k=new Array(T-1);b<T;b++)k[b-1]=arguments[b];w.fn.apply(w.context,k)}else{var D=w.length,F;for(b=0;b<D;b++)switch(w[b].once&&this.removeListener(v,w[b].fn,void 0,!0),T){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,m);break;case 3:w[b].fn.call(w[b].context,m,d);break;case 4:w[b].fn.call(w[b].context,m,d,y);break;default:if(!k)for(F=1,k=new Array(T-1);F<T;F++)k[F-1]=arguments[F];w[b].fn.apply(w[b].context,k)}}return!0},f.prototype.on=function(v,m,d){var y=new c(m,d||this),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],y]:this._events[S].push(y):(this._events[S]=y,this._eventsCount++),this},f.prototype.once=function(v,m,d){var y=new c(m,d||this,!0),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],y]:this._events[S].push(y):(this._events[S]=y,this._eventsCount++),this},f.prototype.removeListener=function(v,m,d,y){var S=a?a+v:v;if(!this._events[S])return this;if(!m)return--this._eventsCount===0?this._events=new l:delete this._events[S],this;var _=this._events[S];if(_.fn)_.fn===m&&(!y||_.once)&&(!d||_.context===d)&&(--this._eventsCount===0?this._events=new l:delete this._events[S]);else{for(var E=0,w=[],T=_.length;E<T;E++)(_[E].fn!==m||y&&!_[E].once||d&&_[E].context!==d)&&w.push(_[E]);w.length?this._events[S]=w.length===1?w[0]:w:--this._eventsCount===0?this._events=new l:delete this._events[S]}return this},f.prototype.removeAllListeners=function(v){var m;return v?(m=a?a+v:v,this._events[m]&&(--this._eventsCount===0?this._events=new l:delete this._events[m])):(this._events=new l,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prototype.setMaxListeners=function(){return this},f.prefixed=a,f.EventEmitter=f,typeof t<"u"&&(t.exports=f)}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},l=(function(){function pe(de,we){var Ae=[],ve=!0,He=!1,Ke=void 0;try{for(var Be=de[Symbol.iterator](),zt;!(ve=(zt=Be.next()).done)&&(Ae.push(zt.value),!(we&&Ae.length===we));ve=!0);}catch(nn){He=!0,Ke=nn}finally{try{!ve&&Be.return&&Be.return()}finally{if(He)throw Ke}}return Ae}return function(de,we){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return pe(de,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function pe(de,we){for(var Ae=0;Ae<we.length;Ae++){var ve=we[Ae];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(de,ve.key,ve)}}return function(de,we,Ae){return we&&pe(de.prototype,we),Ae&&pe(de,Ae),de}})(),f=o(3),p=L(f),v=o(2),m=L(v),d=o(0),y=L(d),S=o(5),_=L(S),E=o(10),w=L(E),T=o(9),k=L(T),b=o(36),D=o(37),F=o(13),P=L(F),R=o(26),M=o(38),x=o(39),I=o(40);function L(pe){return pe&&pe.__esModule?pe:{default:pe}}function N(pe,de,we){return de in pe?Object.defineProperty(pe,de,{value:we,enumerable:!0,configurable:!0,writable:!0}):pe[de]=we,pe}function z(pe,de){if(!(pe instanceof de))throw new TypeError("Cannot call a class as a function")}function G(pe,de){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:pe}function ne(pe,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);pe.prototype=Object.create(de&&de.prototype,{constructor:{value:pe,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(pe,de):pe.__proto__=de)}var re=(0,w.default)("quill:clipboard"),oe="__ql-matcher",Y=[[Node.TEXT_NODE,ct],[Node.TEXT_NODE,Ge],["br",Re],[Node.ELEMENT_NODE,Ge],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,et],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,kt],["li",Ve],["b",se.bind(se,"bold")],["i",se.bind(se,"italic")],["style",je]],W=[b.AlignAttribute,M.DirectionAttribute].reduce(function(pe,de){return pe[de.keyName]=de,pe},{}),V=[b.AlignStyle,D.BackgroundStyle,R.ColorStyle,M.DirectionStyle,x.FontStyle,I.SizeStyle].reduce(function(pe,de){return pe[de.keyName]=de,pe},{}),B=(function(pe){ne(de,pe);function de(we,Ae){z(this,de);var ve=G(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,we,Ae));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],Y.concat(ve.options.matchers).forEach(function(He){var Ke=l(He,2),Be=Ke[0],zt=Ke[1];!Ae.matchVisual&&zt===et||ve.addMatcher(Be,zt)}),ve}return c(de,[{key:"addMatcher",value:function(Ae,ve){this.matchers.push([Ae,ve])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[P.default.blotName]){var He=this.container.innerText;return this.container.innerHTML="",new m.default().insert(He,N({},P.default.blotName,ve[P.default.blotName]))}var Ke=this.prepareMatching(),Be=l(Ke,2),zt=Be[0],nn=Be[1],rt=X(this.container,zt,nn);return ee(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new m.default().retain(rt.length()-1).delete(1))),re.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Ae,ve){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ve),this.quill.setSelection(0,_.default.sources.SILENT);else{var Ke=this.convert(ve);this.quill.updateContents(new m.default().retain(Ae).concat(Ke),He),this.quill.setSelection(Ae+Ke.length(),_.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ve=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var He=this.quill.getSelection(),Ke=new m.default().retain(He.index),Be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_.default.sources.SILENT),setTimeout(function(){Ke=Ke.concat(ve.convert()).delete(He.length),ve.quill.updateContents(Ke,_.default.sources.USER),ve.quill.setSelection(Ke.length()-He.length,_.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=Be,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ve=[],He=[];return this.matchers.forEach(function(Ke){var Be=l(Ke,2),zt=Be[0],nn=Be[1];switch(zt){case Node.TEXT_NODE:He.push(nn);break;case Node.ELEMENT_NODE:ve.push(nn);break;default:[].forEach.call(Ae.container.querySelectorAll(zt),function(rt){rt[oe]=rt[oe]||[],rt[oe].push(nn)});break}}),[ve,He]}}]),de})(k.default);B.DEFAULTS={matchers:[],matchVisual:!0};function K(pe,de,we){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Ae,ve){return K(Ae,ve,de[ve])},pe):pe.reduce(function(Ae,ve){return ve.attributes&&ve.attributes[de]?Ae.push(ve):Ae.insert(ve.insert,(0,p.default)({},N({},de,we),ve.attributes))},new m.default)}function te(pe){if(pe.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return pe[de]||(pe[de]=window.getComputedStyle(pe))}function ee(pe,de){for(var we="",Ae=pe.ops.length-1;Ae>=0&&we.length<de.length;--Ae){var ve=pe.ops[Ae];if(typeof ve.insert!="string")break;we=ve.insert+we}return we.slice(-1*de.length)===de}function $(pe){if(pe.childNodes.length===0)return!1;var de=te(pe);return["block","list-item"].indexOf(de.display)>-1}function X(pe,de,we){return pe.nodeType===pe.TEXT_NODE?we.reduce(function(Ae,ve){return ve(pe,Ae)},new m.default):pe.nodeType===pe.ELEMENT_NODE?[].reduce.call(pe.childNodes||[],function(Ae,ve){var He=X(ve,de,we);return ve.nodeType===pe.ELEMENT_NODE&&(He=de.reduce(function(Ke,Be){return Be(ve,Ke)},He),He=(ve[oe]||[]).reduce(function(Ke,Be){return Be(ve,Ke)},He)),Ae.concat(He)},new m.default):new m.default}function se(pe,de,we){return K(we,pe,!0)}function ae(pe,de){var we=y.default.Attributor.Attribute.keys(pe),Ae=y.default.Attributor.Class.keys(pe),ve=y.default.Attributor.Style.keys(pe),He={};return we.concat(Ae).concat(ve).forEach(function(Ke){var Be=y.default.query(Ke,y.default.Scope.ATTRIBUTE);Be!=null&&(He[Be.attrName]=Be.value(pe),He[Be.attrName])||(Be=W[Ke],Be!=null&&(Be.attrName===Ke||Be.keyName===Ke)&&(He[Be.attrName]=Be.value(pe)||void 0),Be=V[Ke],Be!=null&&(Be.attrName===Ke||Be.keyName===Ke)&&(Be=V[Ke],He[Be.attrName]=Be.value(pe)||void 0))}),Object.keys(He).length>0&&(de=K(de,He)),de}function me(pe,de){var we=y.default.query(pe);if(we==null)return de;if(we.prototype instanceof y.default.Embed){var Ae={},ve=we.value(pe);ve!=null&&(Ae[we.blotName]=ve,de=new m.default().insert(Ae,we.formats(pe)))}else typeof we.formats=="function"&&(de=K(de,we.blotName,we.formats(pe)));return de}function Re(pe,de){return ee(de,`
`)||de.insert(`
`),de}function je(){return new m.default}function Ve(pe,de){var we=y.default.query(pe);if(we==null||we.blotName!=="list-item"||!ee(de,`
`))return de;for(var Ae=-1,ve=pe.parentNode;!ve.classList.contains("ql-clipboard");)(y.default.query(ve)||{}).blotName==="list"&&(Ae+=1),ve=ve.parentNode;return Ae<=0?de:de.compose(new m.default().retain(de.length()-1).retain(1,{indent:Ae}))}function Ge(pe,de){return ee(de,`
`)||($(pe)||de.length()>0&&pe.nextSibling&&$(pe.nextSibling))&&de.insert(`
`),de}function et(pe,de){if($(pe)&&pe.nextElementSibling!=null&&!ee(de,`

`)){var we=pe.offsetHeight+parseFloat(te(pe).marginTop)+parseFloat(te(pe).marginBottom);pe.nextElementSibling.offsetTop>pe.offsetTop+we*1.5&&de.insert(`
`)}return de}function kt(pe,de){var we={},Ae=pe.style||{};return Ae.fontStyle&&te(pe).fontStyle==="italic"&&(we.italic=!0),Ae.fontWeight&&(te(pe).fontWeight.startsWith("bold")||parseInt(te(pe).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(de=K(de,we)),parseFloat(Ae.textIndent||0)>0&&(de=new m.default().insert("	").concat(de)),de}function ct(pe,de){var we=pe.data;if(pe.parentNode.tagName==="O:P")return de.insert(we.trim());if(we.trim().length===0&&pe.parentNode.classList.contains("ql-clipboard"))return de;if(!te(pe.parentNode).whiteSpace.startsWith("pre")){var Ae=function(He,Ke){return Ke=Ke.replace(/[^\u00a0]/g,""),Ke.length<1&&He?" ":Ke};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,Ae.bind(Ae,!0)),(pe.previousSibling==null&&$(pe.parentNode)||pe.previousSibling!=null&&$(pe.previousSibling))&&(we=we.replace(/^\s+/,Ae.bind(Ae,!1))),(pe.nextSibling==null&&$(pe.parentNode)||pe.nextSibling!=null&&$(pe.nextSibling))&&(we=we.replace(/\s+$/,Ae.bind(Ae,!1)))}return de.insert(we)}r.default=B,r.matchAttributor=ae,r.matchBlot=me,r.matchNewline=Ge,r.matchSpacing=et,r.matchText=ct}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(_,E){for(var w=0;w<E.length;w++){var T=E[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,E,w){return E&&S(_.prototype,E),w&&S(_,w),_}})(),l=function S(_,E,w){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,E);if(T===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:S(k,E,w)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(w)}},c=o(6),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function m(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function d(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var y=(function(S){d(_,S);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"optimize",value:function(w){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,w),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_})(f.default);y.blotName="bold",y.tagName=["STRONG","B"],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=(function(){function I(L,N){var z=[],G=!0,ne=!1,re=void 0;try{for(var oe=L[Symbol.iterator](),Y;!(G=(Y=oe.next()).done)&&(z.push(Y.value),!(N&&z.length===N));G=!0);}catch(W){ne=!0,re=W}finally{try{!G&&oe.return&&oe.return()}finally{if(ne)throw re}}return z}return function(L,N){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return I(L,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function I(L,N){for(var z=0;z<N.length;z++){var G=N[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,z){return N&&I(L.prototype,N),z&&I(L,z),L}})(),c=o(2),f=w(c),p=o(0),v=w(p),m=o(5),d=w(m),y=o(10),S=w(y),_=o(9),E=w(_);function w(I){return I&&I.__esModule?I:{default:I}}function T(I,L,N){return L in I?Object.defineProperty(I,L,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[L]=N,I}function k(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function b(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function D(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var F=(0,S.default)("quill:toolbar"),P=(function(I){D(L,I);function L(N,z){k(this,L);var G=b(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N,z));if(Array.isArray(G.options.container)){var ne=document.createElement("div");M(ne,G.options.container),N.container.parentNode.insertBefore(ne,N.container),G.container=ne}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var re;return re=F.error("Container required for toolbar",G.options),b(G,re)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(oe){G.addHandler(oe,G.options.handlers[oe])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(oe){G.attach(oe)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(oe,Y){oe===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var oe=G.quill.selection.getRange(),Y=a(oe,1),W=Y[0];G.update(W)}),G}return l(L,[{key:"addHandler",value:function(z,G){this.handlers[z]=G}},{key:"attach",value:function(z){var G=this,ne=[].find.call(z.classList,function(oe){return oe.indexOf("ql-")===0});if(ne){if(ne=ne.slice(3),z.tagName==="BUTTON"&&z.setAttribute("type","button"),this.handlers[ne]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ne]==null){F.warn("ignoring attaching to disabled format",ne,z);return}if(v.default.query(ne)==null){F.warn("ignoring attaching to nonexistent format",ne,z);return}}var re=z.tagName==="SELECT"?"change":"click";z.addEventListener(re,function(oe){var Y=void 0;if(z.tagName==="SELECT"){if(z.selectedIndex<0)return;var W=z.options[z.selectedIndex];W.hasAttribute("selected")?Y=!1:Y=W.value||!1}else z.classList.contains("ql-active")?Y=!1:Y=z.value||!z.hasAttribute("value"),oe.preventDefault();G.quill.focus();var V=G.quill.selection.getRange(),B=a(V,1),K=B[0];if(G.handlers[ne]!=null)G.handlers[ne].call(G,Y);else if(v.default.query(ne).prototype instanceof v.default.Embed){if(Y=prompt("Enter "+ne),!Y)return;G.quill.updateContents(new f.default().retain(K.index).delete(K.length).insert(T({},ne,Y)),d.default.sources.USER)}else G.quill.format(ne,Y,d.default.sources.USER);G.update(K)}),this.controls.push([ne,z])}}},{key:"update",value:function(z){var G=z==null?{}:this.quill.getFormat(z);this.controls.forEach(function(ne){var re=a(ne,2),oe=re[0],Y=re[1];if(Y.tagName==="SELECT"){var W=void 0;if(z==null)W=null;else if(G[oe]==null)W=Y.querySelector("option[selected]");else if(!Array.isArray(G[oe])){var V=G[oe];typeof V=="string"&&(V=V.replace(/\"/g,'\\"')),W=Y.querySelector('option[value="'+V+'"]')}W==null?(Y.value="",Y.selectedIndex=-1):W.selected=!0}else if(z==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var B=G[oe]===Y.getAttribute("value")||G[oe]!=null&&G[oe].toString()===Y.getAttribute("value")||G[oe]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",B)}else Y.classList.toggle("ql-active",G[oe]!=null)})}}]),L})(E.default);P.DEFAULTS={};function R(I,L,N){var z=document.createElement("button");z.setAttribute("type","button"),z.classList.add("ql-"+L),N!=null&&(z.value=N),I.appendChild(z)}function M(I,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(N){var z=document.createElement("span");z.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")R(z,G);else{var ne=Object.keys(G)[0],re=G[ne];Array.isArray(re)?x(z,ne,re):R(z,ne,re)}}),I.appendChild(z)})}function x(I,L,N){var z=document.createElement("select");z.classList.add("ql-"+L),N.forEach(function(G){var ne=document.createElement("option");G!==!1?ne.setAttribute("value",G):ne.setAttribute("selected","selected"),z.appendChild(ne)}),I.appendChild(z)}P.DEFAULTS={container:null,handlers:{clean:function(){var L=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var z=this.quill.getFormat();Object.keys(z).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&L.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(L){var N=this.quill.getFormat().align;L==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!L&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",L,d.default.sources.USER)},indent:function(L){var N=this.quill.getSelection(),z=this.quill.getFormat(N),G=parseInt(z.indent||0);if(L==="+1"||L==="-1"){var ne=L==="+1"?1:-1;z.direction==="rtl"&&(ne*=-1),this.quill.format("indent",G+ne,d.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,d.default.sources.USER)},list:function(L){var N=this.quill.getSelection(),z=this.quill.getFormat(N);L==="check"?z.list==="checked"||z.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",L,d.default.sources.USER)}}},r.default=P,r.addControls=M}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(_,E){for(var w=0;w<E.length;w++){var T=E[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,E,w){return E&&S(_.prototype,E),w&&S(_,w),_}})(),l=function S(_,E,w){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,E);if(T===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:S(k,E,w)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(w)}},c=o(28),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function m(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function d(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var y=(function(S){d(_,S);function _(E,w){v(this,_);var T=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E));return T.label.innerHTML=w,T.container.classList.add("ql-color-picker"),[].slice.call(T.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(k){k.classList.add("ql-primary")}),T}return a(_,[{key:"buildItem",value:function(w){var T=l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"buildItem",this).call(this,w);return T.style.backgroundColor=w.getAttribute("value")||"",T}},{key:"selectItem",value:function(w,T){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,w,T);var k=this.label.querySelector(".ql-color-label"),b=w&&w.getAttribute("data-value")||"";k&&(k.tagName==="line"?k.style.stroke=b:k.style.fill=b)}}]),_})(f.default);r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(_,E){for(var w=0;w<E.length;w++){var T=E[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,E,w){return E&&S(_.prototype,E),w&&S(_,w),_}})(),l=function S(_,E,w){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,E);if(T===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:S(k,E,w)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(w)}},c=o(28),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function m(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function d(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var y=(function(S){d(_,S);function _(E,w){v(this,_);var T=m(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,E));return T.container.classList.add("ql-icon-picker"),[].forEach.call(T.container.querySelectorAll(".ql-picker-item"),function(k){k.innerHTML=w[k.getAttribute("data-value")||""]}),T.defaultItem=T.container.querySelector(".ql-selected"),T.selectItem(T.defaultItem),T}return a(_,[{key:"selectItem",value:function(w,T){l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,w,T),w=w||this.defaultItem,this.label.innerHTML=w.innerHTML}}]),_})(f.default);r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function f(p,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,d.key,d)}}return function(p,v,m){return v&&f(p.prototype,v),m&&f(p,m),p}})();function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var c=(function(){function f(p,v){var m=this;l(this,f),this.quill=p,this.boundsContainer=v||document.body,this.root=p.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return a(f,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var m=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),S=this.root.getBoundingClientRect(),_=0;if(S.right>y.right&&(_=y.right-S.right,this.root.style.left=m+_+"px"),S.left<y.left&&(_=y.left-S.left,this.root.style.left=m+_+"px"),S.bottom>y.bottom){var E=S.bottom-S.top,w=v.bottom-v.top+E;this.root.style.top=d-w+"px",this.root.classList.add("ql-flip")}return _}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),f})();r.default=c}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function x(I,L){var N=[],z=!0,G=!1,ne=void 0;try{for(var re=I[Symbol.iterator](),oe;!(z=(oe=re.next()).done)&&(N.push(oe.value),!(L&&N.length===L));z=!0);}catch(Y){G=!0,ne=Y}finally{try{!z&&re.return&&re.return()}finally{if(G)throw ne}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function x(I,L,N){I===null&&(I=Function.prototype);var z=Object.getOwnPropertyDescriptor(I,L);if(z===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,L,N)}else{if("value"in z)return z.value;var ne=z.get;return ne===void 0?void 0:ne.call(N)}},c=(function(){function x(I,L){for(var N=0;N<L.length;N++){var z=L[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}return function(I,L,N){return L&&x(I.prototype,L),N&&x(I,N),I}})(),f=o(3),p=k(f),v=o(8),m=k(v),d=o(43),y=k(d),S=o(27),_=k(S),E=o(15),w=o(41),T=k(w);function k(x){return x&&x.__esModule?x:{default:x}}function b(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function D(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function F(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=(function(x){F(I,x);function I(L,N){b(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=P);var z=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return z.quill.container.classList.add("ql-snow"),z}return c(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),T.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),T.default),this.tooltip=new M(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(z,G){N.handlers.link.call(N,!G.format.link)})}}]),I})(y.default);R.DEFAULTS=(0,p.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var L=this.quill.getSelection();if(L==null||L.length==0)return;var N=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var z=this.quill.theme.tooltip;z.edit("link",N)}else this.quill.format("link",!1)}}}}});var M=(function(x){F(I,x);function I(L,N){b(this,I);var z=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return z.preview=z.root.querySelector("a.ql-preview"),z}return c(I,[{key:"listen",value:function(){var N=this;l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(z){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(z){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,m.default.sources.USER),delete N.linkRange}z.preventDefault(),N.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(z,G,ne){if(z!=null){if(z.length===0&&ne===m.default.sources.USER){var re=N.quill.scroll.descendant(_.default,z.index),oe=a(re,2),Y=oe[0],W=oe[1];if(Y!=null){N.linkRange=new E.Range(z.index-W,Y.length());var V=_.default.formats(Y.domNode);N.preview.textContent=V,N.preview.setAttribute("href",V),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I})(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=R}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),l=ve(a),c=o(36),f=o(38),p=o(64),v=o(65),m=ve(v),d=o(66),y=ve(d),S=o(67),_=ve(S),E=o(37),w=o(26),T=o(39),k=o(40),b=o(56),D=ve(b),F=o(68),P=ve(F),R=o(27),M=ve(R),x=o(69),I=ve(x),L=o(70),N=ve(L),z=o(71),G=ve(z),ne=o(72),re=ve(ne),oe=o(73),Y=ve(oe),W=o(13),V=ve(W),B=o(74),K=ve(B),te=o(75),ee=ve(te),$=o(57),X=ve($),se=o(41),ae=ve(se),me=o(28),Re=ve(me),je=o(59),Ve=ve(je),Ge=o(60),et=ve(Ge),kt=o(61),ct=ve(kt),pe=o(108),de=ve(pe),we=o(62),Ae=ve(we);function ve(He){return He&&He.__esModule?He:{default:He}}l.default.register({"attributors/attribute/direction":f.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":E.BackgroundClass,"attributors/class/color":w.ColorClass,"attributors/class/direction":f.DirectionClass,"attributors/class/font":T.FontClass,"attributors/class/size":k.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":E.BackgroundStyle,"attributors/style/color":w.ColorStyle,"attributors/style/direction":f.DirectionStyle,"attributors/style/font":T.FontStyle,"attributors/style/size":k.SizeStyle},!0),l.default.register({"formats/align":c.AlignClass,"formats/direction":f.DirectionClass,"formats/indent":p.IndentClass,"formats/background":E.BackgroundStyle,"formats/color":w.ColorStyle,"formats/font":T.FontClass,"formats/size":k.SizeClass,"formats/blockquote":m.default,"formats/code-block":V.default,"formats/header":y.default,"formats/list":_.default,"formats/bold":D.default,"formats/code":W.Code,"formats/italic":P.default,"formats/link":M.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":re.default,"formats/video":Y.default,"formats/list/item":S.ListItem,"modules/formula":K.default,"modules/syntax":ee.default,"modules/toolbar":X.default,"themes/bubble":de.default,"themes/snow":Ae.default,"ui/icons":ae.default,"ui/picker":Re.default,"ui/icon-picker":et.default,"ui/color-picker":Ve.default,"ui/tooltip":ct.default},!0),r.default=l.default}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=(function(){function _(E,w){for(var T=0;T<w.length;T++){var k=w[T];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,w,T){return w&&_(E.prototype,w),T&&_(E,T),E}})(),l=function _(E,w,T){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,w);if(k===void 0){var b=Object.getPrototypeOf(E);return b===null?void 0:_(b,w,T)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(T)}},c=o(0),f=p(c);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function m(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:_}function d(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var y=(function(_){d(E,_);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"add",value:function(T,k){if(k==="+1"||k==="-1"){var b=this.value(T)||0;k=k==="+1"?b+1:b-1}return k===0?(this.remove(T),!0):l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"add",this).call(this,T,k)}},{key:"canAdd",value:function(T,k){return l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,T,k)||l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"canAdd",this).call(this,T,parseInt(k))}},{key:"value",value:function(T){return parseInt(l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"value",this).call(this,T))||void 0}}]),E})(f.default.Attributor.Class),S=new y("indent","ql-indent",{scope:f.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function y(S,_){for(var E=0;E<_.length;E++){var w=_[E];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(S,w.key,w)}}return function(S,_,E){return _&&y(S.prototype,_),E&&y(S,E),S}})(),l=o(4),c=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function v(y,S){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:y}function m(y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);y.prototype=Object.create(S&&S.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(y,S):y.__proto__=S)}var d=(function(y){m(S,y);function S(){return p(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"formats",value:function(E){return this.tagName.indexOf(E.tagName)+1}}]),S})(c.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=(function(){function b(D,F){for(var P=0;P<F.length;P++){var R=F[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,F,P){return F&&b(D.prototype,F),P&&b(D,P),D}})(),l=function b(D,F,P){D===null&&(D=Function.prototype);var R=Object.getOwnPropertyDescriptor(D,F);if(R===void 0){var M=Object.getPrototypeOf(D);return M===null?void 0:b(M,F,P)}else{if("value"in R)return R.value;var x=R.get;return x===void 0?void 0:x.call(P)}},c=o(0),f=y(c),p=o(4),v=y(p),m=o(25),d=y(m);function y(b){return b&&b.__esModule?b:{default:b}}function S(b,D,F){return D in b?Object.defineProperty(b,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):b[D]=F,b}function _(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function E(b,D){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:b}function w(b,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(b,D):b.__proto__=D)}var T=(function(b){w(D,b);function D(){return _(this,D),E(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"format",value:function(P,R){P===k.blotName&&!R?this.replaceWith(f.default.create(this.statics.scope)):l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,P,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,R){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,R),this):(this.parent.unwrap(),l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,P,R))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:l(D.__proto__||Object.getPrototypeOf(D),"formats",this).call(this,P)}}]),D})(v.default);T.blotName="list-item",T.tagName="LI";var k=(function(b){w(D,b),a(D,null,[{key:"create",value:function(P){var R=P==="ordered"?"OL":"UL",M=l(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,R);return(P==="checked"||P==="unchecked")&&M.setAttribute("data-checked",P==="checked"),M}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function D(F){_(this,D);var P=E(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,F)),R=function(x){if(x.target.parentNode===F){var I=P.statics.formats(F),L=f.default.find(x.target);I==="checked"?L.format("list","unchecked"):I==="unchecked"&&L.format("list","checked")}};return F.addEventListener("touchstart",R),F.addEventListener("mousedown",R),P}return a(D,[{key:"format",value:function(P,R){this.children.length>0&&this.children.tail.format(P,R)}},{key:"formats",value:function(){return S({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,R){if(P instanceof T)l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,P,R);else{var M=R==null?this.length():R.offset(this),x=this.split(M);x.parent.insertBefore(P,x)}}},{key:"optimize",value:function(P){l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,P);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var R=f.default.create(this.statics.defaultChild);P.moveChildren(R),this.appendChild(R)}l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,P)}}]),D})(d.default);k.blotName="list",k.scope=f.default.Scope.BLOCK_BLOT,k.tagName=["OL","UL"],k.defaultChild="list-item",k.allowedChildren=[T],r.ListItem=T,r.default=k}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(_,E){for(var w=0;w<E.length;w++){var T=E[w];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(_,T.key,T)}}return function(_,E,w){return E&&S(_.prototype,E),w&&S(_,w),_}})(),l=function S(_,E,w){_===null&&(_=Function.prototype);var T=Object.getOwnPropertyDescriptor(_,E);if(T===void 0){var k=Object.getPrototypeOf(_);return k===null?void 0:S(k,E,w)}else{if("value"in T)return T.value;var b=T.get;return b===void 0?void 0:b.call(w)}},c=o(6),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,_){if(!(S instanceof _))throw new TypeError("Cannot call a class as a function")}function m(S,_){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:S}function d(S,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);S.prototype=Object.create(_&&_.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(S,_):S.__proto__=_)}var y=(function(S){d(_,S);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,null,[{key:"create",value:function(w){return w==="super"?document.createElement("sup"):w==="sub"?document.createElement("sub"):l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w)}},{key:"formats",value:function(w){if(w.tagName==="SUB")return"sub";if(w.tagName==="SUP")return"super"}}]),_})(f.default);y.blotName="script",y.tagName=["SUB","SUP"],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="strike",m.tagName="S",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="underline",m.tagName="U",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function E(w,T){for(var k=0;k<T.length;k++){var b=T[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,k){return T&&E(w.prototype,T),k&&E(w,k),w}})(),l=function E(w,T,k){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:E(D,T,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(0),f=v(c),p=o(27);function v(E){return E&&E.__esModule?E:{default:E}}function m(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function d(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function y(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var S=["alt","height","width"],_=(function(E){y(w,E);function w(){return m(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(k,b){S.indexOf(k)>-1?b?this.domNode.setAttribute(k,b):this.domNode.removeAttribute(k):l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,b)}}],[{key:"create",value:function(k){var b=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return typeof k=="string"&&b.setAttribute("src",this.sanitize(k)),b}},{key:"formats",value:function(k){return S.reduce(function(b,D){return k.hasAttribute(D)&&(b[D]=k.getAttribute(D)),b},{})}},{key:"match",value:function(k){return/\.(jpe?g|gif|png)$/.test(k)||/^data:image\/.+;base64/.test(k)}},{key:"sanitize",value:function(k){return(0,p.sanitize)(k,["http","https","data"])?k:"//:0"}},{key:"value",value:function(k){return k.getAttribute("src")}}]),w})(f.default.Embed);_.blotName="image",_.tagName="IMG",r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function E(w,T){for(var k=0;k<T.length;k++){var b=T[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(w,b.key,b)}}return function(w,T,k){return T&&E(w.prototype,T),k&&E(w,k),w}})(),l=function E(w,T,k){w===null&&(w=Function.prototype);var b=Object.getOwnPropertyDescriptor(w,T);if(b===void 0){var D=Object.getPrototypeOf(w);return D===null?void 0:E(D,T,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(4),f=o(27),p=v(f);function v(E){return E&&E.__esModule?E:{default:E}}function m(E,w){if(!(E instanceof w))throw new TypeError("Cannot call a class as a function")}function d(E,w){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:E}function y(E,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);E.prototype=Object.create(w&&w.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(E,w):E.__proto__=w)}var S=["height","width"],_=(function(E){y(w,E);function w(){return m(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"format",value:function(k,b){S.indexOf(k)>-1?b?this.domNode.setAttribute(k,b):this.domNode.removeAttribute(k):l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,k,b)}}],[{key:"create",value:function(k){var b=l(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,k);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(k)),b}},{key:"formats",value:function(k){return S.reduce(function(b,D){return k.hasAttribute(D)&&(b[D]=k.getAttribute(D)),b},{})}},{key:"sanitize",value:function(k){return p.default.sanitize(k)}},{key:"value",value:function(k){return k.getAttribute("src")}}]),w})(c.BlockEmbed);_.blotName="video",_.className="ql-video",_.tagName="IFRAME",r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=(function(){function k(b,D){for(var F=0;F<D.length;F++){var P=D[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,D,F){return D&&k(b.prototype,D),F&&k(b,F),b}})(),l=function k(b,D,F){b===null&&(b=Function.prototype);var P=Object.getOwnPropertyDescriptor(b,D);if(P===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:k(R,D,F)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(F)}},c=o(35),f=y(c),p=o(5),v=y(p),m=o(9),d=y(m);function y(k){return k&&k.__esModule?k:{default:k}}function S(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}function _(k,b){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:k}function E(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(k,b):k.__proto__=b)}var w=(function(k){E(b,k);function b(){return S(this,b),_(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(F){var P=l(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,F);return typeof F=="string"&&(window.katex.render(F,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",F)),P}},{key:"value",value:function(F){return F.getAttribute("data-value")}}]),b})(f.default);w.blotName="formula",w.className="ql-formula",w.tagName="SPAN";var T=(function(k){E(b,k),a(b,null,[{key:"register",value:function(){v.default.register(w,!0)}}]);function b(){S(this,b);var D=_(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return D}return b})(d.default);r.FormulaBlot=w,r.default=T}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=(function(){function F(P,R){for(var M=0;M<R.length;M++){var x=R[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(P,x.key,x)}}return function(P,R,M){return R&&F(P.prototype,R),M&&F(P,M),P}})(),l=function F(P,R,M){P===null&&(P=Function.prototype);var x=Object.getOwnPropertyDescriptor(P,R);if(x===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:F(I,R,M)}else{if("value"in x)return x.value;var L=x.get;return L===void 0?void 0:L.call(M)}},c=o(0),f=_(c),p=o(5),v=_(p),m=o(9),d=_(m),y=o(13),S=_(y);function _(F){return F&&F.__esModule?F:{default:F}}function E(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function w(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function T(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var k=(function(F){T(P,F);function P(){return E(this,P),w(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),P})(S.default);k.className="ql-syntax";var b=new f.default.Attributor.Class("token","hljs",{scope:f.default.Scope.INLINE}),D=(function(F){T(P,F),a(P,null,[{key:"register",value:function(){v.default.register(b,!0),v.default.register(k,!0)}}]);function P(R,M){E(this,P);var x=w(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,M));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return x.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){x.highlight(),I=null},x.options.interval)}),x.highlight(),x}return a(P,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(k).forEach(function(I){I.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),x!=null&&this.quill.setSelection(x,v.default.sources.SILENT)}}}]),P})(d.default);D.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(F){var P=window.hljs.highlightAuto(F);return P.value}})(),interval:1e3},r.CodeBlock=k,r.CodeToken=b,r.default=D}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function P(R,M,x){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,M);if(I===void 0){var L=Object.getPrototypeOf(R);return L===null?void 0:P(L,M,x)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(x)}},l=(function(){function P(R,M){for(var x=0;x<M.length;x++){var I=M[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,M,x){return M&&P(R.prototype,M),x&&P(R,x),R}})(),c=o(3),f=E(c),p=o(8),v=E(p),m=o(43),d=E(m),y=o(15),S=o(41),_=E(S);function E(P){return P&&P.__esModule?P:{default:P}}function w(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function T(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function k(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],D=(function(P){k(R,P);function R(M,x){w(this,R),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=b);var I=T(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.container.classList.add("ql-bubble"),I}return l(R,[{key:"extendToolbar",value:function(x){this.tooltip=new F(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),_.default)}}]),R})(d.default);D.DEFAULTS=(0,f.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var F=(function(P){k(R,P);function R(M,x){w(this,R);var I=T(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.on(v.default.events.EDITOR_CHANGE,function(L,N,z,G){if(L===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var ne=I.quill.getLines(N.index,N.length);if(ne.length===1)I.position(I.quill.getBounds(N));else{var re=ne[ne.length-1],oe=I.quill.getIndex(re),Y=Math.min(re.length()-1,N.index+N.length-oe),W=I.quill.getBounds(new y.Range(oe,Y));I.position(W)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return l(R,[{key:"listen",value:function(){var x=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var I=x.quill.getSelection();I!=null&&x.position(x.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var I=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,x),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",I===0)return I;L.style.marginLeft=-1*I-L.offsetWidth/2+"px"}}]),R})(m.BaseTooltip);F.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=F,r.default=D}),(function(t,r,o){t.exports=o(63)})]).default})})(Qc)),Qc.exports}var ar,Ow;function q5(){if(Ow)return ar;Ow=1;var n=ar&&ar.__extends||(function(){var v=function(m,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var _ in S)S.hasOwnProperty(_)&&(y[_]=S[_])},v(m,d)};return function(m,d){v(m,d);function y(){this.constructor=m}m.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}})(),e=ar&&ar.__assign||function(){return e=Object.assign||function(v){for(var m,d=1,y=arguments.length;d<y;d++){m=arguments[d];for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(v[S]=m[S])}return v},e.apply(this,arguments)},t=ar&&ar.__spreadArrays||function(){for(var v=0,m=0,d=arguments.length;m<d;m++)v+=arguments[m].length;for(var y=Array(v),S=0,m=0;m<d;m++)for(var _=arguments[m],E=0,w=_.length;E<w;E++,S++)y[S]=_[E];return y},r=ar&&ar.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(wf()),a=r(Fw()),l=r(V5()),c=r(F5()),f=(function(v){n(m,v);function m(d){var y=v.call(this,d)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(_,E,w,T){var k,b,D,F;_==="text-change"?(b=(k=y).onEditorChangeText)===null||b===void 0||b.call(k,y.editor.root.innerHTML,E,T,y.unprivilegedEditor):_==="selection-change"&&((F=(D=y).onEditorChangeSelection)===null||F===void 0||F.call(D,E,T,y.unprivilegedEditor))};var S=y.isControlled()?d.value:d.defaultValue;return y.value=S??"",y}return m.prototype.validateProps=function(d){var y;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var S=o.default.Children.only(d.children);if(((y=S)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},m.prototype.shouldComponentUpdate=function(d,y){var S=this,_;if(this.validateProps(d),!this.editor||this.state.generation!==y.generation)return!0;if("value"in d){var E=this.getEditorContents(),w=(_=d.value,_??"");this.isEqualValue(w,E)||this.setEditorContents(this.editor,w)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(T){return!l.default(d[T],S.props[T])})},m.prototype.shouldComponentRegenerate=function(d){var y=this;return this.dirtyProps.some(function(S){return!l.default(d[S],y.props[S])})},m.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},m.prototype.componentWillUnmount=function(){this.destroyEditor()},m.prototype.componentDidUpdate=function(d,y){var S=this;if(this.editor&&this.shouldComponentRegenerate(d)){var _=this.editor.getContents(),E=this.editor.getSelection();this.regenerationSnapshot={delta:_,selection:E},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var w=this.regenerationSnapshot,_=w.delta,T=w.selection;delete this.regenerationSnapshot,this.instantiateEditor();var k=this.editor;k.setContents(_),p(function(){return S.setEditorSelection(k,T)})}},m.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},m.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},m.prototype.isControlled=function(){return"value"in this.props},m.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},m.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},m.prototype.createEditor=function(d,y){var S=new c.default(d,y);return y.tabIndex!=null&&this.setEditorTabIndex(S,y.tabIndex),this.hookEditor(S),S},m.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},m.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},m.prototype.getEditorContents=function(){return this.value},m.prototype.getEditorSelection=function(){return this.selection},m.prototype.isDelta=function(d){return d&&d.ops},m.prototype.isEqualValue=function(d,y){return this.isDelta(d)&&this.isDelta(y)?l.default(d.ops,y.ops):l.default(d,y)},m.prototype.setEditorContents=function(d,y){var S=this;this.value=y;var _=this.getEditorSelection();typeof y=="string"?d.setContents(d.clipboard.convert(y)):d.setContents(y),p(function(){return S.setEditorSelection(d,_)})},m.prototype.setEditorSelection=function(d,y){if(this.selection=y,y){var S=d.getLength();y.index=Math.max(0,Math.min(y.index,S-1)),y.length=Math.max(0,Math.min(y.length,S-1-y.index)),d.setSelection(y)}},m.prototype.setEditorTabIndex=function(d,y){var S,_;!((_=(S=d)===null||S===void 0?void 0:S.scroll)===null||_===void 0)&&_.domNode&&(d.scroll.domNode.tabIndex=y)},m.prototype.setEditorReadOnly=function(d,y){y?d.disable():d.enable()},m.prototype.makeUnprivilegedEditor=function(d){var y=d;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},m.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},m.prototype.renderEditingArea=function(){var d=this,y=this.props,S=y.children,_=y.preserveWhitespace,E=this.state.generation,w={key:E,ref:function(T){d.editingArea=T}};return o.default.Children.count(S)?o.default.cloneElement(o.default.Children.only(S),w):_?o.default.createElement("pre",e({},w)):o.default.createElement("div",e({},w))},m.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},m.prototype.onEditorChangeText=function(d,y,S,_){var E,w;if(this.editor){var T=this.isDelta(this.value)?_.getContents():_.getHTML();T!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=T,(w=(E=this.props).onChange)===null||w===void 0||w.call(E,d,y,S,_))}},m.prototype.onEditorChangeSelection=function(d,y,S){var _,E,w,T,k,b;if(this.editor){var D=this.getEditorSelection(),F=!D&&d,P=D&&!d;l.default(d,D)||(this.selection=d,(E=(_=this.props).onChangeSelection)===null||E===void 0||E.call(_,d,y,S),F?(T=(w=this.props).onFocus)===null||T===void 0||T.call(w,d,y,S):P&&((b=(k=this.props).onBlur)===null||b===void 0||b.call(k,D,y,S)))}},m.prototype.focus=function(){this.editor&&this.editor.focus()},m.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},m.displayName="React Quill",m.Quill=c.default,m.defaultProps={theme:"snow",modules:{},readOnly:!1},m})(o.default.Component);function p(v){Promise.resolve().then(v)}return ar=f,ar}var B5=q5();const z5=ya(B5);function mg(){return mg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mg.apply(null,arguments)}function H5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var $5=J.useLayoutEffect,W5=function(e){var t=qt.useRef(e);return $5(function(){t.current=e}),t},Nw=function(e,t){if(typeof e=="function"){e(t);return}e.current=t},K5=function(e,t){var r=qt.useRef();return qt.useCallback(function(o){e.current=o,r.current&&Nw(r.current,null),r.current=t,t&&Nw(t,o)},[t])},Lw={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},G5=function(e){Object.keys(Lw).forEach(function(t){e.style.setProperty(t,Lw[t],"important")})},Dw=G5,gn=null,Mw=function(e,t){var r=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?r+t.borderSize:r-t.paddingSize};function Q5(n,e,t,r){t===void 0&&(t=1),r===void 0&&(r=1/0),gn||(gn=document.createElement("textarea"),gn.setAttribute("tabindex","-1"),gn.setAttribute("aria-hidden","true"),Dw(gn)),gn.parentNode===null&&document.body.appendChild(gn);var o=n.paddingSize,a=n.borderSize,l=n.sizingStyle,c=l.boxSizing;Object.keys(l).forEach(function(d){var y=d;gn.style[y]=l[y]}),Dw(gn),gn.value=e;var f=Mw(gn,n);gn.value=e,f=Mw(gn,n),gn.value="x";var p=gn.scrollHeight-o,v=p*t;c==="border-box"&&(v=v+o+a),f=Math.max(v,f);var m=p*r;return c==="border-box"&&(m=m+o+a),f=Math.min(m,f),[f,p]}var jw=function(){},Y5=function(e,t){return e.reduce(function(r,o){return r[o]=t[o],r},{})},X5=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],J5=!!document.documentElement.currentStyle,Z5=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var r=Y5(X5,t),o=r.boxSizing;if(o==="")return null;J5&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),l=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:l}},e6=Z5;function Ny(n,e,t){var r=W5(t);J.useLayoutEffect(function(){var o=function(l){return r.current(l)};if(n)return n.addEventListener(e,o),function(){return n.removeEventListener(e,o)}},[])}var t6=function(e,t){Ny(document.body,"reset",function(r){e.current.form===r.target&&t(r)})},n6=function(e){Ny(window,"resize",e)},r6=function(e){Ny(document.fonts,"loadingdone",e)},i6=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],o6=function(e,t){var r=e.cacheMeasurements,o=e.maxRows,a=e.minRows,l=e.onChange,c=l===void 0?jw:l,f=e.onHeightChange,p=f===void 0?jw:f,v=H5(e,i6),m=v.value!==void 0,d=J.useRef(null),y=K5(d,t),S=J.useRef(0),_=J.useRef(),E=function(){var k=d.current,b=r&&_.current?_.current:e6(k);if(b){_.current=b;var D=Q5(b,k.value||k.placeholder||"x",a,o),F=D[0],P=D[1];S.current!==F&&(S.current=F,k.style.setProperty("height",F+"px","important"),p(F,{rowHeight:P}))}},w=function(k){m||E(),c(k)};return J.useLayoutEffect(E),t6(d,function(){if(!m){var T=d.current.value;requestAnimationFrame(function(){var k=d.current;k&&T!==k.value&&E()})}}),n6(E),r6(E),J.createElement("textarea",mg({},v,{onChange:w,ref:y}))},Vw=J.forwardRef(o6);function s6({isEditing:n,title:e,summary:t,content:r,featuredImage:o,featuredFile:a,uploading:l,onTitleChange:c,onSummaryChange:f,onContentChange:p,onFeaturedSelect:v,onRemoveFeatured:m,onSavePost:d,onCancel:y,quillRef:S,quillModules:_,quillFormats:E}){const[w,T]=J.useState(!1),k=J.useRef(null);return J.useEffect(()=>{const b=k.current;if(!b)return;const D=new IntersectionObserver(([F])=>{T(!F.isIntersecting)},{root:null,threshold:[1],rootMargin:"-8px 0px 0px 0px"});return D.observe(b),()=>D.disconnect()},[]),j.jsxs("div",{className:"post-form",children:[j.jsx("h3",{children:n?"Editar Post":"Novo Post"}),j.jsx("label",{children:"Ttulo do post:"}),j.jsx(Vw,{className:"auto-textarea",value:e,placeholder:"Ttulo",onChange:b=>c(b.target.value)}),j.jsx("label",{children:"Resumo do post:"}),j.jsx(Vw,{className:"auto-textarea",value:t,placeholder:"Resumo",onChange:b=>f(b.target.value)}),j.jsx("div",{className:"form-section",children:j.jsxs("div",{className:"featured-image-field",children:[j.jsx("label",{children:"Imagem de Destaque:"}),!o&&j.jsx("input",{type:"file",accept:"image/*",onChange:v}),o&&j.jsxs("div",{className:"featured-preview",children:[j.jsx("img",{src:o,alt:"Imagem de destaque"}),j.jsx("button",{type:"button",className:"remove-featured",onClick:m,"aria-label":"Remover imagem de destaque",children:""})]})]})}),j.jsx("label",{children:"Texto do post:"}),j.jsx("div",{ref:k,className:"quill-sticky-sentinel","aria-hidden":"true"}),j.jsx(z5,{className:`quill-editor${w?" is-stuck":""}`,ref:S,theme:"snow",value:r,onChange:p,modules:_,formats:E}),l&&j.jsx("p",{children:"Enviando mdia..."}),j.jsxs("div",{className:"admin-actions",children:[j.jsx("button",{className:"admin-btn primary",onClick:d,disabled:l||!n&&(!a||!e||!t||!r),children:n?"Salvar Alteraes":"Publicar"}),j.jsx("button",{className:"admin-btn cancel",onClick:y,children:"Cancelar"})]})]})}function a6({posts:n,onNewPost:e,onEdit:t,onDelete:r}){return j.jsxs("div",{className:"posts-management",children:[j.jsx("h3",{children:"Gerenciar Posts"}),j.jsxs("div",{className:"posts-grid",children:[j.jsx("div",{className:"post-card new-post",onClick:e,children:j.jsx("span",{children:"+ Novo Post"})}),n.map(o=>j.jsxs("div",{className:"post-card",children:[o.featuredImage&&j.jsx("img",{src:o.featuredImage,alt:o.title}),j.jsxs("div",{className:"post-card-content",children:[j.jsx("strong",{children:o.title}),j.jsx("small",{children:new Date(o.date?.seconds*1e3).toLocaleDateString()})]}),j.jsxs("div",{className:"post-card-actions",children:[j.jsx("button",{className:"edit-btn",onClick:()=>t(o),children:"Editar"}),j.jsx("button",{className:"delete-btn",onClick:()=>r(o.id),children:"Excluir"})]})]},o.id))]})]})}async function Yc(n,e,t={}){const{maxWidth:r=1200,maxHeight:o=1200,maxSizeMB:a=2,isImage:l=!0}=t;if(!n)throw new Error("Nenhum arquivo selecionado");if(n.size>a*1024*1024)throw new Error(`Arquivo maior que ${a}MB`);let c=n;l&&(c=await l6(n,r,o));const f=Yf(Xf,e),p=CD(f,c);return new Promise((v,m)=>{p.on("state_changed",d=>{const y=d.bytesTransferred/d.totalBytes*100;console.log(`Upload is ${y}% done`)},d=>m(d),async()=>{const d=await OD(p.snapshot.ref);v(d)})})}function l6(n,e,t){return new Promise(r=>{const o=new Image,a=URL.createObjectURL(n);o.src=a,o.onload=()=>{URL.revokeObjectURL(a);const l=document.createElement("canvas"),c=Math.min(e/o.width,t/o.height,1);l.width=o.width*c,l.height=o.height*c,l.getContext("2d").drawImage(o,0,0,l.width,l.height),l.toBlob(p=>r(new File([p],n.name.split(".")[0]+".webp",{type:"image/webp"})),"image/webp",.8)}})}async function u6({user:n,file:e}){const t=await Yc(e,`users/${n.uid}/avatar_${Date.now()}.webp`,{maxWidth:80,maxHeight:80,maxSizeMB:10,isImage:!0});return await RS(n,{photoURL:t}),t}async function Uw({user:n,userProfile:e}){await RS(n,{displayName:e.displayName,photoURL:e.photoURL}),await XO(Zo(Fr,"users",n.uid),{displayName:e.displayName,photoURL:e.photoURL,email:n.email,updatedAt:Zb()},{merge:!0})}async function c6(n){if(n)try{await Ry(Yf(Xf,n))}catch(e){console.error("Erro ao remover avatar do storage:",e)}}function f6({setUploading:n}){const[e,t]=J.useState(null),[r,o]=J.useState({displayName:"",photoURL:""}),[a,l]=J.useState(null),[c,f]=J.useState(!1),[p,v]=J.useState(!1),[m,d]=J.useState(""),[y,S]=J.useState(null),[_,E]=J.useState("");J.useEffect(()=>{const P=kS(Yl,async R=>{if(!R)return;t(R);const M={displayName:R.displayName||"",photoURL:R.photoURL||""};try{const x=await ig(Zo(Fr,"users",R.uid));if(x.exists()){const I=x.data()||{},L={displayName:I.displayName||M.displayName,photoURL:I.photoURL||M.photoURL};o(L),l(L);return}await Uw({user:R,userProfile:M})}catch(x){console.warn("Falha ao carregar perfil do Firestore:",x)}o(M),l(M)});return()=>P()},[]);const w=J.useCallback(()=>{_&&URL.revokeObjectURL(_),E(""),S(null)},[_]),T=J.useCallback(async P=>{const R=P.target.files[0],M=P.target;if(!(!R||!e))try{_&&URL.revokeObjectURL(_);const x=URL.createObjectURL(R);S(R),E(x),o(I=>({...I,photoURL:x})),a?.photoURL&&(d(a.photoURL),v(!0))}catch(x){console.error(x),alert("Erro ao preparar avatar: "+x.message)}finally{M&&(M.value="")}},[e,_,a]),k=J.useCallback(()=>{r.photoURL&&(w(),d(a?.photoURL||r.photoURL),v(!0),o(P=>({...P,photoURL:""})))},[r.photoURL,a,w]),b=J.useCallback(()=>{v(!1),d(""),w()},[w]),D=J.useCallback(async()=>{if(e){n(!0);try{let P=r;if(y){const R=await u6({user:e,file:y});P={...r,photoURL:R},o(P)}await Uw({user:e,userProfile:P}),l(P),p&&m&&m!==P.photoURL&&await c6(m),b(),alert("Perfil atualizado!")}catch(P){console.error(P),alert("Erro ao salvar perfil: "+P.message)}finally{n(!1)}}},[e,r,y,p,m,b,n]),F=J.useCallback(()=>a?a.displayName!==r.displayName||a.photoURL!==r.photoURL:!1,[a,r]);return{user:e,userProfile:r,setUserProfile:o,originalProfile:a,setOriginalProfile:l,editingProfile:c,setEditingProfile:f,handleProfileImageUpload:T,handleProfileImageRemove:k,resetProfileEditState:b,saveUserProfile:D,hasProfileChanged:F}}async function h6({userId:n}={}){const e=Uf(Fr,"posts"),t=n?ly(e,GO("authorId","==",n)):e;return(await hy(t)).docs.map(a=>({id:a.id,...a.data()})).sort((a,l)=>(l.date?.seconds||0)-(a.date?.seconds||0))}async function d6({isEditingId:n,data:e}){n?await JO(Zo(Fr,"posts",n),e):await eN(Uf(Fr,"posts"),e)}async function p6({id:n,featuredImage:e}){e&&await Ry(Yf(Xf,e)),await ZO(Zo(Fr,"posts",n))}async function m6(n){n&&await Ry(Yf(Xf,n))}function g6({user:n,userProfile:e,setUploading:t}){const[r,o]=J.useState([]),[a,l]=J.useState(!1),[c,f]=J.useState(null),[p,v]=J.useState(""),[m,d]=J.useState(""),[y,S]=J.useState(""),[_,E]=J.useState(""),[w,T]=J.useState(null),k=J.useCallback(I=>{const[L,N]=I.split(","),z=L.match(/data:(.*);base64/),G=z?z[1]:"application/octet-stream",ne=atob(N),re=new Uint8Array(ne.length);for(let oe=0;oe<ne.length;oe+=1)re[oe]=ne.charCodeAt(oe);return{blob:new Blob([re],{type:G}),mime:G}},[]),b=J.useCallback(async I=>{if(!I)return I;const N=new DOMParser().parseFromString(I,"text/html"),z=Array.from(N.querySelectorAll("img, video"));for(let G=0;G<z.length;G+=1){const ne=z[G],re=ne.getAttribute("src");if(!re||!re.startsWith("data:"))continue;const oe=ne.tagName.toLowerCase()==="img",{blob:Y,mime:W}=k(re),V=W.split("/")[1]||"bin",B=`${Date.now()}_${G}.${V}`,K=new File([Y],B,{type:W}),te=`blog/${oe?"images":"videos"}/${B}`,ee=await Yc(K,te,{maxWidth:1200,maxHeight:1200,maxSizeMB:2,isImage:oe});ne.setAttribute("src",ee)}return N.body.innerHTML},[k]),D=J.useCallback(async()=>{try{const I=await h6({userId:n?.uid});o(I)}catch(I){console.error(I),alert("Erro ao carregar posts")}},[n?.uid]),F=J.useCallback(I=>{const L=I.target.files[0];if(!L)return;const N=URL.createObjectURL(L);E(N),T(L)},[]),P=J.useCallback(async()=>{if(n){if(!c&&(!p||!m||!y||!w)){alert("Ttulo, resumo, imagem e contedo so obrigatrios!");return}t(!0);try{let I=_;if(c&&w){const z=r.find(G=>G.id===c);if(z?.featuredImage)try{await m6(z.featuredImage)}catch(G){console.warn(G.message)}I=await Yc(w,`blog/featured/${Date.now()}_${w.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0})}!c&&w&&(I=await Yc(w,`blog/featured/${Date.now()}_${w.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0}));const L=await b(y),N={...p&&{title:p},...m&&{summary:m},...L&&{content:L},...I&&{featuredImage:I},...p&&{slug:iA(p)},authorId:n.uid,authorName:e.displayName||n.email,authorPhotoURL:e.photoURL||n.photoURL||"",date:Zb()};await d6({isEditingId:c,data:N}),x(),D()}catch(I){console.error(I),alert("Erro ao salvar post: "+I.message)}finally{t(!1),T(null)}}},[n,c,p,m,y,w,_,r,e,t,D,b]),R=J.useCallback(async I=>{const L=r.find(N=>N.id===I);if(L&&window.confirm("Tem certeza que deseja excluir este post?"))try{await p6({id:I,featuredImage:L.featuredImage}),D()}catch(N){console.error(N),alert("Erro ao deletar post: "+N.message)}},[r,D]),M=J.useCallback(I=>{f(I.id),v(I.title),d(I.summary),S(I.content),E(I.featuredImage||""),T(null),l(!0)},[]),x=J.useCallback(()=>{f(null),v(""),d(""),S(""),E(""),T(null),l(!1)},[]);return{posts:r,showForm:a,setShowForm:l,isEditing:c,title:p,setTitle:v,summary:m,setSummary:d,content:y,setContent:S,featuredImage:_,setFeaturedImage:E,featuredFile:w,setFeaturedFile:T,handleFeaturedImageSelect:F,handleSavePost:P,handleDelete:R,startEdit:M,resetForm:x,fetchPosts:D}}function y6({setUploading:n}){const e=J.useRef(null),t=J.useCallback(a=>{const l=document.createElement("input");l.type="file",l.accept=a==="image"?"image/*":"video/*",l.click(),l.onchange=()=>{const c=l.files[0];if(!c)return;n(!0);const f=new FileReader;f.onload=()=>{try{const p=f.result,v=e.current.getEditor(),m=v.getSelection(!0);a==="image"?v.insertEmbed(m.index,"image",p):v.insertEmbed(m.index,"video",p),v.setSelection(m.index+1)}catch(p){console.error(p),alert("Erro ao inserir mdia: "+p.message)}finally{n(!1)}},f.onerror=p=>{console.error(p),alert("Erro ao ler arquivo: "+p.message),n(!1)},f.readAsDataURL(c)}},[n]),r=J.useMemo(()=>({toolbar:{container:[[{header:[2,3,!1]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["blockquote"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]],handlers:{image:()=>t("image"),video:()=>t("video")}}}),[t]);return{quillRef:e,quillModules:r,quillFormats:["header","bold","italic","underline","strike","list","bullet","script","blockquote","align","link","image","video"]}}function v6(){const[n,e]=J.useState(!1),{user:t,userProfile:r,setUserProfile:o,originalProfile:a,setOriginalProfile:l,editingProfile:c,setEditingProfile:f,handleProfileImageUpload:p,handleProfileImageRemove:v,resetProfileEditState:m,saveUserProfile:d,hasProfileChanged:y}=f6({setUploading:e}),{posts:S,showForm:_,setShowForm:E,isEditing:w,title:T,setTitle:k,summary:b,setSummary:D,content:F,setContent:P,featuredImage:R,setFeaturedImage:M,featuredFile:x,setFeaturedFile:I,handleFeaturedImageSelect:L,handleSavePost:N,handleDelete:z,startEdit:G,resetForm:ne,fetchPosts:re}=g6({user:t,userProfile:r,setUploading:e}),{quillRef:oe,quillModules:Y,quillFormats:W}=y6({setUploading:e});return J.useEffect(()=>{t&&re()},[t,re]),t?j.jsxs("section",{className:"admin-wrapper",children:[j.jsx(S3,{user:t,userProfile:r,editingProfile:c,onStartEditProfile:()=>{l(r),m(),f(!0)},onCancelEditProfile:()=>{y()&&!window.confirm("Descartar alteraes do perfil?")||(o(a),m(),f(!1))},onSaveProfile:async()=>{await d(),f(!1)},onProfileChange:o,onProfileImageChange:p,onProfileImageRemove:v,hasProfileChanged:y,uploading:n,onSignOut:()=>l4(Yl)}),_&&j.jsx(s6,{isEditing:w,title:T,summary:b,content:F,featuredImage:R,featuredFile:x,uploading:n,onTitleChange:k,onSummaryChange:D,onContentChange:P,onFeaturedSelect:L,onRemoveFeatured:()=>{M(""),I(null)},onSavePost:N,onCancel:()=>{(T||b||F||R)&&!window.confirm("Descartar alteraes do post?")||ne()},quillRef:oe,quillModules:Y,quillFormats:W}),!_&&j.jsx(a6,{posts:S,onNewPost:()=>{ne(),E(!0)},onEdit:G,onDelete:z})]}):j.jsx("p",{className:"loading-text",children:"Carregando painel..."})}function _6(){const[n,e]=J.useState(""),[t,r]=J.useState(""),[o,a]=J.useState(!1),[l,c]=J.useState(!1),[f,p]=J.useState(!1),v=Jl();async function m(){if(!l)try{c(!0),await i4(Yl,n,t),v("/admin")}catch{alert("Email ou senha invlidos. Tente novamente.")}finally{c(!1)}}async function d(){if(!f){if(!n){alert("Informe o email cadastrado para recuperar a senha.");return}try{p(!0),await r4(Yl,n),alert("Enviamos um link de recuperaoo para o seu email.")}catch{alert("No foi possvel enviar o link. Verifique o email e tente novamente.")}finally{p(!1)}}}return j.jsx("div",{className:"admin-login-wrapper",children:j.jsxs("div",{className:"admin-login-card",children:[j.jsx("span",{className:"label",children:"REA ADMINISTRATIVA"}),j.jsx("h3",{children:"Acesso Restrito"}),j.jsx("div",{className:"admin-field",children:j.jsx("input",{type:"email",placeholder:"Email",onChange:y=>e(y.target.value)})}),j.jsxs("div",{className:"admin-field password-field",children:[j.jsx("input",{type:o?"text":"password",placeholder:"Senha",onChange:y=>r(y.target.value)}),j.jsx("button",{type:"button",className:"toggle-password",onClick:()=>a(!o),children:o?"Ocultar":"Mostrar"})]}),j.jsx("button",{className:"btn admin-btn",onClick:m,disabled:l,children:l?j.jsx("span",{className:"loader"}):"Entrar"}),j.jsx("button",{type:"button",className:"admin-forgot",onClick:d,disabled:f,children:f?"Enviando...":"Esqueci minha senha"})]})})}const E6="/assets/logo-secundaria-branca-BkYvBfbj.svg";function w6(){const[n,e]=J.useState(!1),t=Jl(),r=J.useRef(null),o=J.useRef(null),a=l=>{if(window.location.pathname!=="/")t("/");else{const c=document.getElementById(l);if(!c)return;const v=c.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:v,behavior:"smooth"})}e(!1)};return J.useEffect(()=>{if(!n)return;const l=f=>{f.key==="Escape"&&e(!1)},c=f=>{const p=r.current,v=o.current;!p||!v||p.contains(f.target)||v.contains(f.target)||e(!1)};return document.addEventListener("keydown",l),document.addEventListener("mousedown",c),document.addEventListener("touchstart",c),()=>{document.removeEventListener("keydown",l),document.removeEventListener("mousedown",c),document.removeEventListener("touchstart",c)}},[n]),J.useEffect(()=>{if(n)return document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}},[n]),j.jsx("header",{className:"header",children:j.jsxs("nav",{className:"nav",children:[j.jsx(Go,{to:"/",className:"logo",children:j.jsx("img",{src:E6,alt:"Dra. Lueine Barradas"})}),j.jsxs("button",{className:`hamburger ${n?"active":""}`,"aria-label":n?"Fechar menu":"Abrir menu","aria-expanded":n,"aria-controls":"menu-mobile",ref:o,onClick:()=>e(!n),children:[j.jsx("span",{}),j.jsx("span",{}),j.jsx("span",{})]}),j.jsxs("div",{id:"menu-mobile",className:`menu ${n?"open":""}`,ref:r,children:[j.jsx("button",{onClick:()=>a("inicio"),children:"Incio"}),j.jsx("button",{onClick:()=>a("servicos"),children:"Servios"}),j.jsx("button",{onClick:()=>a("consulta"),children:"Consulta"}),j.jsx("button",{onClick:()=>a("sobre"),children:"Sobre"}),j.jsx("button",{onClick:()=>a("blog"),children:"Artigos"}),j.jsx("button",{onClick:()=>a("contato"),children:"Contato"})]})]})})}const T6="/assets/logo-principal-lueine-dbZtA-zg.svg";function b6(){const n=Jl(),e=t=>{if(window.location.pathname!=="/")n("/"),setTimeout(()=>{const r=document.getElementById(t);if(!r)return;const l=r.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:l,behavior:"smooth"})},100);else{const r=document.getElementById(t);if(!r)return;const l=r.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:l,behavior:"smooth"})}};return j.jsxs("footer",{className:"footer",children:[j.jsxs("div",{className:"footer-container",children:[j.jsx("div",{className:"footer-brand",children:j.jsx(Go,{to:"/",className:"footer-logo",children:j.jsx("img",{src:T6,alt:"Dra. Lueine Barradas"})})}),j.jsxs("div",{className:"footer-right",children:[j.jsxs("div",{className:"footer-links",children:[j.jsx("h4",{children:"Navegao"}),j.jsxs("ul",{children:[j.jsx("li",{children:j.jsx("button",{onClick:()=>e("inicio"),children:"Incio"})}),j.jsx("li",{children:j.jsx("button",{onClick:()=>e("servicos"),children:"Servios"})}),j.jsx("li",{children:j.jsx("button",{onClick:()=>e("depoimentos"),children:"Depoimentos"})}),j.jsx("li",{children:j.jsx("button",{onClick:()=>e("contato"),children:"Agendar consulta"})})]})]}),j.jsxs("div",{className:"footer-contact",children:[j.jsx("h4",{children:"Contatos"}),j.jsx("p",{children:j.jsxs("a",{href:"https://wa.me/5591985807373",target:"_blank",rel:"noopener noreferrer",className:"footer-icons",children:[j.jsx(bg,{className:"footer-icon"}),"(91) 98580-7373"]})}),j.jsx("p",{children:j.jsxs("a",{href:"https://www.instagram.com/dralueinebarradas",target:"_blank",rel:"noopener noreferrer",className:"footer-icons",children:[j.jsx(RR,{className:"footer-icon"}),"@dralueinebarradas"]})}),j.jsxs("span",{className:"footer-location",children:["Av. Nazeazeno Ferreira,",j.jsx("br",{}),"60 - Padre Luiz,",j.jsx("br",{}),"Bragana - PA"]})]})]})]}),j.jsx("div",{className:"footer-divider"}),j.jsxs("div",{className:"footer-bottom",children:[j.jsx("p",{children:" Dra. Lueine Barradas 2026. Todos os direitos reservados."}),j.jsx("p",{children:"Desenvolvido por: JacsDevs - jacsdevs@gmail.com"})]})]})}function S6(){return j.jsxs(j.Fragment,{children:[j.jsx(w6,{}),j.jsx(tT,{}),j.jsx(b6,{})]})}function A6(){const[n,e]=J.useState(void 0);return J.useEffect(()=>{const t=kS(Yl,r=>{e(r||null)});return()=>t()},[]),n===void 0?j.jsx("p",{style:{padding:20},children:"Verificando acesso..."}):n?j.jsx(tT,{}):j.jsx(j2,{to:"/login",replace:!0})}function I6(){const{pathname:n}=vi();return J.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[n]),null}function R6(){return j.jsxs(j.Fragment,{children:[j.jsx(I6,{}),j.jsxs(U2,{children:[j.jsxs(Bo,{element:j.jsx(S6,{}),children:[j.jsx(Bo,{path:"/",element:j.jsx(T3,{})}),j.jsx(Bo,{path:"/post/:slugId",element:j.jsx(b3,{})})]}),j.jsx(Bo,{path:"/login",element:j.jsx(_6,{})}),j.jsx(Bo,{element:j.jsx(A6,{}),children:j.jsx(Bo,{path:"/admin",element:j.jsx(v6,{})})})]})]})}VI.createRoot(document.getElementById("root")).render(j.jsx(qt.StrictMode,{children:j.jsx(fA,{children:j.jsx(uR,{children:j.jsx(R6,{})})})}));
