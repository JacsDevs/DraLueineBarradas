import{j as B,F as ma,a as ga,b as Ge,c as Fr,r as X,R as Cr,d as ba,e as _a,f as Oa,_ as Ea,g as Ji,h as $i,i as Aa,k as Yr,l as Qr,m as wa,n as Ur,u as xa,o as Sa,s as Hr,p as ea,q as Ta,t as Qe,v as Ie,w as ta,x as De,y as ka,z as Na,A as ra,B as zr,C as qa,D as Pa,E as na,G as Ra,H as La,I as ja,J as Ia,P as Ne,K as He,L as We,M as ia,N as Xr,O as Ca,Q as Ve,S as Da,T as Ma,U as Ba,V as Fa,W as Ua}from"./index-DVqovOBd.js";/* empty css              */function Ha(S,T){for(var v=0;v<T.length;v++){const s=T[v];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in S)){const _=Object.getOwnPropertyDescriptor(s,u);_&&Object.defineProperty(S,u,_.get?_:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}))}const za={posts:Fr,drafts:Ge,month:ga,latest:ma};function Ka({stats:S}){return B.jsxs("header",{className:"admin-header",children:[B.jsx("div",{className:"admin-header-main",children:B.jsxs("div",{className:"admin-intro",children:[B.jsx("span",{className:"admin-chip",children:"Painel administrativo"}),B.jsx("h1",{children:"Dashboard de Conteúdo"}),B.jsx("p",{children:"Gerencie publicações, acompanhe indicadores e mantenha seu perfil atualizado."})]})}),B.jsx("div",{className:"admin-stats-grid admin-stats-grid-full",children:S?.map(T=>{const v=za[T.icon]||Fr;return B.jsxs("article",{className:"admin-stat-card",children:[B.jsxs("span",{className:"admin-stat-label",children:[B.jsx(v,{"aria-hidden":"true"}),T.label]}),B.jsx("strong",{className:"admin-stat-value",children:T.value}),B.jsx("small",{className:"admin-stat-note",children:T.note})]},T.label)})})]})}function Dr(){return Dr=Object.assign?Object.assign.bind():function(S){for(var T=1;T<arguments.length;T++){var v=arguments[T];for(var s in v)({}).hasOwnProperty.call(v,s)&&(S[s]=v[s])}return S},Dr.apply(null,arguments)}function Ga(S,T){if(S==null)return{};var v={};for(var s in S)if({}.hasOwnProperty.call(S,s)){if(T.indexOf(s)!==-1)continue;v[s]=S[s]}return v}var Wa=X.useLayoutEffect,Va=function(T){var v=Cr.useRef(T);return Wa(function(){v.current=T}),v},Jr=function(T,v){if(typeof T=="function"){T(v);return}T.current=v},Za=function(T,v){var s=Cr.useRef();return Cr.useCallback(function(u){T.current=u,s.current&&Jr(s.current,null),s.current=v,v&&Jr(v,u)},[v])},$r={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},Ya=function(T){Object.keys($r).forEach(function(v){T.style.setProperty(v,$r[v],"important")})},en=Ya,Te=null,tn=function(T,v){var s=T.scrollHeight;return v.sizingStyle.boxSizing==="border-box"?s+v.borderSize:s-v.paddingSize};function Qa(S,T,v,s){v===void 0&&(v=1),s===void 0&&(s=1/0),Te||(Te=document.createElement("textarea"),Te.setAttribute("tabindex","-1"),Te.setAttribute("aria-hidden","true"),en(Te)),Te.parentNode===null&&document.body.appendChild(Te);var u=S.paddingSize,_=S.borderSize,p=S.sizingStyle,g=p.boxSizing;Object.keys(p).forEach(function(e){var t=e;Te.style[t]=p[t]}),en(Te),Te.value=T;var m=tn(Te,S);Te.value=T,m=tn(Te,S),Te.value="x";var b=Te.scrollHeight-u,d=b*v;g==="border-box"&&(d=d+u+_),m=Math.max(d,m);var i=b*s;return g==="border-box"&&(i=i+u+_),m=Math.min(i,m),[m,b]}var rn=function(){},Xa=function(T,v){return T.reduce(function(s,u){return s[u]=v[u],s},{})},Ja=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],$a=!!document.documentElement.currentStyle,eo=function(T){var v=window.getComputedStyle(T);if(v===null)return null;var s=Xa(Ja,v),u=s.boxSizing;if(u==="")return null;$a&&u==="border-box"&&(s.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth)+parseFloat(s.paddingRight)+parseFloat(s.paddingLeft)+"px");var _=parseFloat(s.paddingBottom)+parseFloat(s.paddingTop),p=parseFloat(s.borderBottomWidth)+parseFloat(s.borderTopWidth);return{sizingStyle:s,paddingSize:_,borderSize:p}},to=eo;function Kr(S,T,v){var s=Va(v);X.useLayoutEffect(function(){var u=function(p){return s.current(p)};if(S)return S.addEventListener(T,u),function(){return S.removeEventListener(T,u)}},[])}var ro=function(T,v){Kr(document.body,"reset",function(s){T.current.form===s.target&&v(s)})},no=function(T){Kr(window,"resize",T)},io=function(T){Kr(document.fonts,"loadingdone",T)},ao=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],oo=function(T,v){var s=T.cacheMeasurements,u=T.maxRows,_=T.minRows,p=T.onChange,g=p===void 0?rn:p,m=T.onHeightChange,b=m===void 0?rn:m,d=Ga(T,ao),i=d.value!==void 0,e=X.useRef(null),t=Za(e,v),f=X.useRef(0),o=X.useRef(),l=function(){var c=e.current,n=s&&o.current?o.current:to(c);if(n){o.current=n;var h=Qa(n,c.value||c.placeholder||"x",_,u),x=h[0],O=h[1];f.current!==x&&(f.current=x,c.style.setProperty("height",x+"px","important"),b(x,{rowHeight:O}))}},a=function(c){i||l(),g(c)};return X.useLayoutEffect(l),ro(e,function(){if(!i){var r=e.current.value;requestAnimationFrame(function(){var c=e.current;c&&r!==c.value&&l()})}}),no(l),io(l),X.createElement("textarea",Dr({},d,{onChange:a,ref:t}))},nn=X.forwardRef(oo);const lo=X.lazy(()=>Ea(()=>Promise.resolve().then(()=>Fl),void 0));function so({isEditing:S,editingStatus:T,hideHeading:v=!1,title:s,summary:u,content:_,featuredImage:p,featuredLinkDraft:g,canPublish:m,canSaveDraft:b,uploading:d,onTitleChange:i,onSummaryChange:e,onContentChange:t,onFeaturedSelect:f,onFeaturedLinkChange:o,onFeaturedLinkApply:l,onRemoveFeatured:a,onSavePost:r,onSaveDraft:c,onCancel:n,quillRef:h,quillModules:x,quillFormats:O,onAttachQuillTooltips:w,mediaModal:k,onMediaClose:A,onMediaSubmit:y,onMediaFieldChange:E,onMediaFileChange:N,onMediaSourceTypeChange:P}){const[I,U]=X.useState(!1),F=X.useRef(null),Z=D=>{D.target===D.currentTarget&&(d||A())};return X.useEffect(()=>{const D=F.current;if(!D)return;const L=new IntersectionObserver(([q])=>{U(!q.isIntersecting)},{root:null,threshold:[1],rootMargin:"-8px 0px 0px 0px"});return L.observe(D),()=>L.disconnect()},[]),X.useEffect(()=>{if(!k?.open)return;const D=L=>{L.key==="Escape"&&(L.preventDefault(),d||A()),(L.ctrlKey||L.metaKey)&&L.key==="Enter"&&(L.preventDefault(),d||y())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[k?.open,A,y,d]),X.useEffect(()=>{if(!w)return;let D=0;const L=window.setInterval(()=>{const q=w();D+=1,(q||D>=25)&&window.clearInterval(L)},120);return()=>window.clearInterval(L)},[w]),B.jsxs("div",{className:`post-form${v?" no-heading":""}`,children:[!v&&B.jsxs("div",{className:"post-form-header",children:[B.jsx("h3",{children:S?T==="draft"?"Editar rascunho":"Editar post":"Novo post"}),B.jsx("p",{children:"Estruture o conteúdo com clareza para manter o blog organizado e consistente."})]}),B.jsxs("div",{className:"post-form-block",children:[B.jsx("label",{className:"form-label",htmlFor:"post-title",children:"Título do post"}),B.jsx(nn,{id:"post-title",className:"auto-textarea",value:s,placeholder:"Título",onChange:D=>i(D.target.value)}),B.jsx("label",{className:"form-label",htmlFor:"post-summary",children:"Resumo do post"}),B.jsx(nn,{id:"post-summary",className:"auto-textarea",value:u,placeholder:"Resumo",onChange:D=>e(D.target.value)})]}),B.jsxs("div",{className:"post-form-block featured-image-field",children:[B.jsxs("div",{className:"post-block-header",children:[B.jsx("label",{className:"form-label",children:"Imagem de destaque"}),B.jsx("span",{className:"form-helper",children:"Use arquivo otimizado ou URL valida para manter boa performance."})]}),!p&&B.jsxs("div",{className:"featured-image-inputs",children:[B.jsxs("label",{className:"featured-input-group",children:["Arquivo de imagem",B.jsx("input",{type:"file",accept:"image/*",onChange:f})]}),B.jsx("span",{className:"featured-input-divider",children:"ou"}),B.jsxs("label",{className:"featured-input-group",children:["Link da imagem",B.jsxs("div",{className:"featured-link-actions",children:[B.jsx("input",{type:"url",value:g,onChange:D=>o(D.target.value),placeholder:"https://"}),B.jsx("button",{type:"button",className:"admin-btn primary featured-link-btn",onClick:l,disabled:d||!g?.trim(),children:"Usar link"})]})]})]}),p&&B.jsxs("div",{className:"featured-preview",children:[B.jsx("img",{src:p,alt:"Imagem de destaque"}),B.jsx("button",{type:"button",className:"remove-featured",onClick:a,"aria-label":"Remover imagem de destaque",children:"x"})]})]}),B.jsxs("div",{className:"post-form-block",children:[B.jsxs("div",{className:"post-block-header",children:[B.jsx("label",{className:"form-label",htmlFor:"post-content",children:"Conteúdo do post"}),B.jsx("span",{className:"form-helper",children:"Use o editor para formatação, mídias e botões de CTA."})]}),B.jsx("div",{ref:F,className:"quill-sticky-sentinel","aria-hidden":"true"}),B.jsx(X.Suspense,{fallback:B.jsx("div",{className:"quill-loading",children:"Carregando editor..."}),children:B.jsx(lo,{id:"post-content",className:`quill-editor${I?" is-stuck":""}`,ref:h,theme:"snow",placeholder:"Insira o texto aqui",value:_,onChange:t,modules:x,formats:O})}),d&&B.jsx("p",{className:"uploading-hint",children:"Enviando mídia..."})]}),k?.open&&B.jsx("div",{className:"quill-modal-backdrop",role:"dialog","aria-modal":"true",onMouseDown:Z,children:B.jsxs("div",{className:"quill-modal","aria-busy":d,children:[B.jsxs("h4",{children:[k.type==="image"&&"Inserir imagem",k.type==="video"&&"Inserir video",k.type==="button"&&"Inserir botao"]}),B.jsx("p",{className:"quill-modal-helper",children:"Esc fecha a janela e Ctrl/Command + Enter confirma."}),k.type!=="button"&&B.jsxs("div",{className:"quill-modal-tabs",children:[B.jsx("button",{type:"button",className:`quill-tab${k.sourceType==="url"?" is-active":""}`,onClick:()=>P("url"),disabled:d,children:"URL"}),B.jsx("button",{type:"button",className:`quill-tab${k.sourceType==="file"?" is-active":""}`,onClick:()=>P("file"),disabled:d,children:"Arquivo"})]}),k.type==="image"&&B.jsxs(B.Fragment,{children:[k.sourceType==="url"&&B.jsxs("label",{className:"quill-modal-field",children:["URL da imagem",B.jsx("input",{type:"url",value:k.fields.url,onChange:D=>E("url",D.target.value),placeholder:"https://",disabled:d}),k.errors.url&&B.jsx("span",{className:"quill-modal-error",children:k.errors.url})]}),k.sourceType==="file"&&B.jsxs("label",{className:"quill-modal-field",children:["Arquivo de imagem",B.jsx("input",{type:"file",accept:"image/*",onChange:D=>N(D.target.files?.[0]||null),disabled:d}),k.errors.file&&B.jsx("span",{className:"quill-modal-error",children:k.errors.file})]}),B.jsxs("label",{className:"quill-modal-field",children:["Texto alternativo (alt)",B.jsx("input",{type:"text",value:k.fields.alt,onChange:D=>E("alt",D.target.value),placeholder:"Descricao acessivel da imagem",disabled:d})]}),B.jsxs("label",{className:"quill-modal-field",children:["Legenda",B.jsx("input",{type:"text",value:k.fields.caption,onChange:D=>E("caption",D.target.value),placeholder:"Legenda exibida abaixo da imagem",disabled:d})]}),B.jsxs("label",{className:"quill-modal-field",children:["Fonte",B.jsx("input",{type:"text",value:k.fields.source,onChange:D=>E("source",D.target.value),placeholder:"Ex: Foto de Fulano",disabled:d})]})]}),k.type==="video"&&B.jsxs(B.Fragment,{children:[k.sourceType==="url"&&B.jsxs("label",{className:"quill-modal-field",children:["URL do video (YouTube ou arquivo)",B.jsx("input",{type:"url",value:k.fields.url,onChange:D=>E("url",D.target.value),placeholder:"https://",disabled:d}),k.errors.url&&B.jsx("span",{className:"quill-modal-error",children:k.errors.url})]}),k.sourceType==="file"&&B.jsxs("label",{className:"quill-modal-field",children:["Arquivo de video",B.jsx("input",{type:"file",accept:"video/*",onChange:D=>N(D.target.files?.[0]||null),disabled:d}),k.errors.file&&B.jsx("span",{className:"quill-modal-error",children:k.errors.file})]})]}),k.type==="button"&&B.jsxs(B.Fragment,{children:[B.jsxs("label",{className:"quill-modal-field",children:["Texto do botão",B.jsx("input",{type:"text",value:k.fields.buttonText,onChange:D=>E("buttonText",D.target.value),disabled:d}),k.errors.buttonText&&B.jsx("span",{className:"quill-modal-error",children:k.errors.buttonText})]}),B.jsxs("label",{className:"quill-modal-field",children:["Link do botão",B.jsx("input",{type:"url",value:k.fields.buttonUrl,onChange:D=>E("buttonUrl",D.target.value),placeholder:"https://",disabled:d}),k.errors.buttonUrl&&B.jsx("span",{className:"quill-modal-error",children:k.errors.buttonUrl})]})]}),k.errors.form&&B.jsx("div",{className:"quill-modal-error form-error",children:k.errors.form}),B.jsxs("div",{className:"quill-modal-actions",children:[B.jsx("button",{type:"button",className:"admin-btn cancel",onClick:A,disabled:d,children:"Cancelar"}),B.jsx("button",{type:"button",className:"admin-btn primary",onClick:y,disabled:d,children:d?"Inserindo...":"Inserir"})]})]})}),B.jsxs("div",{className:"admin-actions",children:[B.jsxs("button",{type:"button",className:"admin-btn primary",onClick:r,disabled:d||!m,children:[B.jsx(ba,{"aria-hidden":"true"}),S?"Salvar e publicar":"Publicar"]}),B.jsxs("button",{type:"button",className:"admin-btn draft",onClick:c,disabled:d||!b,children:[B.jsx(_a,{"aria-hidden":"true"}),S&&T==="draft"?"Salvar rascunho":"Salvar como rascunho"]}),B.jsxs("button",{type:"button",className:"admin-btn cancel",onClick:n,children:[B.jsx(Oa,{"aria-hidden":"true"}),"Cancelar"]})]})]})}function uo(S){return S?typeof S.toDate=="function"?S.toDate():typeof S.seconds=="number"?new Date(S.seconds*1e3):S instanceof Date?S:null:null}function fo(S){const T=uo(S);return T?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(T):"Data nao informada"}function co(S){const T=(S||"").replace(/\s+/g," ").trim();return T?T.length<=120?T:`${T.slice(0,117)}...`:"Sem resumo cadastrado."}function ho(S){return S?.publishedAt||S?.date||S?.updatedAt||S?.createdAt||null}function vo({posts:S,activeTab:T,totals:v,isLoading:s,bulkActionType:u,selectedPostIds:_,selectedPostsCount:p,allVisiblePostsSelected:g,onTabChange:m,onNewPost:b,onTogglePostSelection:d,onToggleSelectAllPosts:i,onPublishSelectedDrafts:e,onDeleteSelectedPosts:t,onEdit:f,onDelete:o,onPublishDraft:l,publishingDraftId:a}){const r=T==="drafts",c=u==="publish",n=u==="delete",h=s||c||n,x=r?v?.drafts||0:v?.published||0,O=r?x===1?"rascunho salvo":"rascunhos salvos":x===1?"post cadastrado":"posts cadastrados";return B.jsxs("div",{className:"posts-management",children:[B.jsxs("div",{className:"posts-header",children:[B.jsxs("div",{className:"posts-title-group",children:[B.jsxs("h3",{children:[r?B.jsx(Ge,{"aria-hidden":"true"}):B.jsx(Ji,{"aria-hidden":"true"}),r?"Rascunhos":"Conteúdos publicados"]}),B.jsxs("p",{children:[x," ",O]})]}),B.jsxs("button",{type:"button",className:"admin-btn primary posts-new-btn",onClick:b,children:[B.jsx($i,{"aria-hidden":"true"}),"Novo post"]})]}),B.jsxs("div",{className:"posts-tabs",role:"tablist","aria-label":"Categorias de posts",children:[B.jsxs("button",{type:"button",role:"tab","aria-selected":!r,className:`posts-tab-btn ${r?"":"is-active"}`,onClick:()=>m("published"),children:[B.jsx(Aa,{className:"tab-icon","aria-hidden":"true"}),"Publicados",B.jsx("span",{children:v?.published||0})]}),B.jsxs("button",{type:"button",role:"tab","aria-selected":r,className:`posts-tab-btn ${r?"is-active":""}`,onClick:()=>m("drafts"),children:[B.jsx(Ge,{className:"tab-icon","aria-hidden":"true"}),"Rascunhos",B.jsx("span",{children:v?.drafts||0})]})]}),!!S.length&&B.jsxs("div",{className:"posts-bulk-bar",children:[B.jsxs("label",{className:"bulk-select-all",children:[B.jsx("input",{type:"checkbox",checked:g,onChange:i,disabled:h}),"Selecionar todos"]}),B.jsxs("span",{className:"bulk-selected-count",children:[p," ",p===1?"selecionado":"selecionados"]}),B.jsxs("div",{className:"bulk-actions",children:[r&&B.jsxs("button",{type:"button",className:"bulk-btn publish",onClick:e,disabled:!p||h,children:[B.jsx(Yr,{"aria-hidden":"true"}),c?"Publicando...":"Publicar selecionados"]}),B.jsxs("button",{type:"button",className:"bulk-btn delete",onClick:t,disabled:!p||h,children:[B.jsx(Qr,{"aria-hidden":"true"}),n?"Excluindo...":"Excluir selecionados"]})]})]}),s&&!S.length?B.jsxs("div",{className:"posts-empty",children:[B.jsx("strong",{children:"Carregando posts..."}),B.jsx("p",{children:"Aguarde enquanto buscamos os resultados desta pagina."})]}):S.length?B.jsx("div",{className:"posts-grid",children:S.map(w=>{const k=_.includes(w.id);return B.jsxs("article",{className:`post-card ${k?"is-selected":""}`,children:[B.jsx("label",{className:"post-select-control","aria-label":`Selecionar ${w.title||"post"}`,children:B.jsx("input",{type:"checkbox",checked:k,onChange:()=>d(w.id),disabled:h})}),B.jsx("div",{className:"post-card-media",children:w.featuredImage?B.jsx("img",{src:w.featuredImage,alt:w.title||"Imagem do post"}):B.jsx("div",{className:"post-card-placeholder",children:"Sem imagem"})}),B.jsxs("div",{className:"post-card-content",children:[B.jsx("strong",{className:"post-card-title",children:w.title||"Post sem titulo"}),B.jsx("p",{className:"post-card-summary",children:co(w.summary)}),B.jsx("div",{className:"post-card-meta",children:B.jsxs("small",{children:[B.jsx(wa,{"aria-hidden":"true"}),fo(ho(w))]})})]}),B.jsxs("div",{className:"post-card-actions",children:[r&&B.jsxs("button",{type:"button",className:"publish-btn",onClick:()=>l(w.id),disabled:a===w.id||h,children:[B.jsx(Yr,{"aria-hidden":"true"}),a===w.id?"Publicando...":"Publicar"]}),B.jsxs("button",{type:"button",className:"edit-btn",onClick:()=>f(w),disabled:h,children:[B.jsx(Ge,{"aria-hidden":"true"}),"Editar"]}),B.jsxs("button",{type:"button",className:"delete-btn",onClick:()=>o(w.id),disabled:h,children:[B.jsx(Qr,{"aria-hidden":"true"}),"Excluir"]})]})]},w.id)})}):B.jsxs("div",{className:"posts-empty",children:[B.jsx("strong",{children:r?"Nenhum rascunho salvo":"Nenhum post publicado"}),B.jsx("p",{children:r?"Salve rascunhos para revisar antes de publicar.":"Crie seu primeiro conteudo para iniciar o dashboard editorial."})]})]})}async function Mr(S,T,v={}){const{maxWidth:s=1200,maxHeight:u=1200,maxSizeMB:_=2,isImage:p=!0}=v;if(!S)throw new Error("Nenhum arquivo selecionado");if(S.size>_*1024*1024)throw new Error(`Arquivo maior que ${_}MB`);let g=S;p&&(g=await po(S,s,u));const m=Ur(Hr,T),b=xa(m,g);return new Promise((d,i)=>{b.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log(`Upload is ${t}% done`)},e=>i(e),async()=>{const e=await Sa(b.snapshot.ref);d(e)})})}function po(S,T,v){return new Promise(s=>{const u=new Image,_=URL.createObjectURL(S);u.src=_,u.onload=()=>{URL.revokeObjectURL(_);const p=document.createElement("canvas"),g=Math.min(T/u.width,v/u.height,1);p.width=u.width*g,p.height=u.height*g,p.getContext("2d").drawImage(u,0,0,p.width,p.height),p.toBlob(b=>s(new File([b],S.name.split(".")[0]+".webp",{type:"image/webp"})),"image/webp",.8)}})}async function yo({user:S,file:T}){const v=await Mr(T,`users/${S.uid}/avatar_${Date.now()}.webp`,{maxWidth:80,maxHeight:80,maxSizeMB:10,isImage:!0});return await ea(S,{photoURL:v}),v}async function an({user:S,userProfile:T}){await ea(S,{displayName:T.displayName,photoURL:T.photoURL}),await Ta(Qe(Ie,"users",S.uid),{displayName:T.displayName,photoURL:T.photoURL,email:S.email,updatedAt:De()},{merge:!0})}async function mo(S){if(S)try{await ta(Ur(Hr,S))}catch(T){console.error("Erro ao remover avatar do storage:",T)}}function go({setUploading:S}){const[T,v]=X.useState(null),[s,u]=X.useState({displayName:"",photoURL:""}),[_,p]=X.useState(null),[g,m]=X.useState(!1),[b,d]=X.useState(!1),[i,e]=X.useState(""),[t,f]=X.useState(null),[o,l]=X.useState("");X.useEffect(()=>{const O=ka(ra,async w=>{if(!w)return;v(w);const k={displayName:w.displayName||"",photoURL:w.photoURL||""};try{const A=await Na(Qe(Ie,"users",w.uid));if(A.exists()){const y=A.data()||{},E={displayName:y.displayName||k.displayName,photoURL:y.photoURL||k.photoURL};u(E),p(E);return}await an({user:w,userProfile:k})}catch(A){console.warn("Falha ao carregar perfil do Firestore:",A)}u(k),p(k)});return()=>O()},[]),X.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]);const a=X.useCallback(()=>{o&&URL.revokeObjectURL(o),l(""),f(null)},[o]),r=X.useCallback(async O=>{const w=O.target.files[0],k=O.target;if(!(!w||!T))try{o&&URL.revokeObjectURL(o);const A=URL.createObjectURL(w);f(w),l(A),u(y=>({...y,photoURL:A})),_?.photoURL&&(e(_.photoURL),d(!0))}catch(A){console.error(A),alert("Erro ao preparar avatar: "+A.message)}finally{k&&(k.value="")}},[T,o,_]),c=X.useCallback(()=>{s.photoURL&&(a(),e(_?.photoURL||s.photoURL),d(!0),u(O=>({...O,photoURL:""})))},[s.photoURL,_,a]),n=X.useCallback(()=>{d(!1),e(""),a()},[a]),h=X.useCallback(async()=>{if(T){S(!0);try{let O=s;if(t){const w=await yo({user:T,file:t});O={...s,photoURL:w},u(O)}await an({user:T,userProfile:O}),p(O),b&&i&&i!==O.photoURL&&await mo(i),n(),alert("Perfil atualizado!")}catch(O){console.error(O),alert("Erro ao salvar perfil: "+O.message)}finally{S(!1)}}},[T,s,t,b,i,n,S]),x=X.useCallback(()=>_?_.displayName!==s.displayName||_.photoURL!==s.photoURL:!1,[_,s]);return{user:T,userProfile:s,setUserProfile:u,originalProfile:_,setOriginalProfile:p,editingProfile:g,setEditingProfile:m,handleProfileImageUpload:r,handleProfileImageRemove:c,resetProfileEditState:n,saveUserProfile:h,hasProfileChanged:x}}function bo(S){return!S||typeof S!="string"?!1:S.startsWith("gs://")?!0:S.startsWith("http://")||S.startsWith("https://")?S.includes("firebasestorage.googleapis.com")||S.includes("storage.googleapis.com"):!0}async function aa(S){if(bo(S))try{await ta(Ur(Hr,S))}catch(T){console.warn("Nao foi possivel remover arquivo no Storage:",T?.message||T)}}async function _o({userId:S}={}){const T=zr(Ie,"posts"),v=S?qa(T,Pa("authorId","==",S)):T;return(await na(v)).docs.map(_=>({id:_.id,..._.data()})).sort((_,p)=>{const g=p.updatedAt?.seconds||p.date?.seconds||p.createdAt?.seconds||0,m=_.updatedAt?.seconds||_.date?.seconds||_.createdAt?.seconds||0;return g-m})}async function on({isEditingId:S,data:T}){S?await Ra(Qe(Ie,"posts",S),T):await La(zr(Ie,"posts"),T)}async function ln({id:S,featuredImage:T}){T&&await aa(T);const v=await na(zr(Ie,"posts",S,"comments"));if(!v.empty){const s=v.docs,u=450;for(let _=0;_<s.length;_+=u){const p=s.slice(_,_+u),g=ja(Ie);p.forEach(m=>g.delete(m.ref)),await g.commit()}}await Ia(Qe(Ie,"posts",S))}async function sn(S){S&&await aa(S)}const Be=Object.freeze({PUBLISHED:"published",DRAFTS:"drafts"});function Oo({user:S,setUploading:T}){const[v,s]=X.useState([]),[u,_]=X.useState(!1),[p,g]=X.useState(null),[m,b]=X.useState(Ne.PUBLISHED),[d,i]=X.useState(""),[e,t]=X.useState(""),[f,o]=X.useState([]),[l,a]=X.useState(Be.PUBLISHED),[r,c]=X.useState(!1),[n,h]=X.useState(""),[x,O]=X.useState(""),[w,k]=X.useState(""),[A,y]=X.useState(""),[E,N]=X.useState(null),[P,I]=X.useState(""),U=X.useRef(""),F=X.useCallback(()=>{U.current&&(URL.revokeObjectURL(U.current),U.current="")},[]);X.useEffect(()=>()=>F(),[F]);const Z=X.useCallback(J=>v.find(re=>re.id===J)||null,[v]),D=X.useCallback(async()=>{if(!S?.uid){s([]),c(!1);return}c(!0);try{const J=await _o({userId:S.uid});s(J)}catch(J){console.error(J),alert("Erro ao carregar posts")}finally{c(!1)}},[S?.uid]);X.useEffect(()=>{if(!S?.uid){s([]),c(!1);return}D()},[D,S?.uid]);const L=X.useMemo(()=>v.filter(re=>l===Be.DRAFTS?He(re):!He(re)).sort((re,se)=>We(se)-We(re)),[l,v]);X.useEffect(()=>{o(J=>J.filter(re=>L.some(se=>se.id===re)))},[L]);const q=X.useMemo(()=>L.filter(J=>f.includes(J.id)),[L,f]),j=q.length,C=L.length>0&&j===L.length,z=X.useMemo(()=>{const J=v.filter(ge=>!He(ge)),re=v.filter(ge=>He(ge)),se=new Date(new Date().getFullYear(),new Date().getMonth(),1).getTime(),ve=new Date(new Date().getFullYear(),new Date().getMonth()+1,1).getTime(),me=J.reduce((ge,ce)=>{const ye=ia(ce?.publishedAt||ce?.date||ce?.updatedAt||ce?.createdAt);return ye&&ye>=se&&ye<ve?ge+1:ge},0),Ee=J.slice().sort((ge,ce)=>We(ce)-We(ge))[0]||null;return{loading:r,totalPublished:J.length,totalDrafts:re.length,postsThisMonth:me,latestPublishedPost:Ee}},[v,r]),H=X.useMemo(()=>({published:z.totalPublished,drafts:z.totalDrafts}),[z.totalDrafts,z.totalPublished]),R=X.useCallback(J=>{try{const re=new URL(J);return re.protocol==="http:"||re.protocol==="https:"}catch{return!1}},[]),M=X.useCallback(J=>{const[re,se]=J.split(","),ve=re.match(/data:(.*);base64/),me=ve?ve[1]:"application/octet-stream",Ee=atob(se),ge=new Uint8Array(Ee.length);for(let ce=0;ce<Ee.length;ce+=1)ge[ce]=Ee.charCodeAt(ce);return{blob:new Blob([ge],{type:me}),mime:me}},[]),K=X.useCallback(J=>{if(!J)return J;const se=new DOMParser().parseFromString(J,"text/html"),ve=()=>{Array.from(se.querySelectorAll("div.quill-spacer")).forEach(ce=>{const ye=se.createElement("p");ye.classList.add("quill-spacer");const xe=ce.innerHTML.trim();ye.innerHTML=xe||"<br>",ce.replaceWith(ye)})},me=()=>{Array.from(se.querySelectorAll("p")).forEach(ce=>{const ye=ce.classList.contains("quill-spacer"),xe=ce.innerHTML.trim()==="<br>",be=ce.innerHTML.includes("&nbsp;"),Se=ce.textContent.trim()===""&&!ce.querySelector("img, video, iframe");if(xe){ce.classList.add("quill-spacer");return}if(ye&&Se){ce.innerHTML.trim()||(ce.innerHTML="<br>");return}Se&&!be&&ce.remove()})},Ee=()=>{Array.from(se.querySelectorAll("h1, h2, h3, h4, h5, h6")).forEach(ce=>{let ye=ce.previousElementSibling;for(;ye&&ye.tagName==="P"&&!ye.classList.contains("quill-spacer")&&ye.textContent.trim()===""&&!ye.querySelector("img, video, iframe");){const xe=ye;ye=ye.previousElementSibling,xe.remove()}})};return ve(),me(),Ee(),se.body.innerHTML},[]),G=X.useCallback(async J=>{if(!J)return J;const se=new DOMParser().parseFromString(J,"text/html"),ve=Array.from(se.querySelectorAll("img, video"));for(let me=0;me<ve.length;me+=1){const Ee=ve[me],ge=Ee.getAttribute("src");if(!ge||!ge.startsWith("data:"))continue;const ce=Ee.tagName.toLowerCase()==="img",{blob:ye,mime:xe}=M(ge),be=xe.split("/")[1]||"bin",Se=`${Date.now()}_${me}.${be}`,qe=new File([ye],Se,{type:xe}),Me=`blog/${ce?"images":"videos"}/${Se}`,Re=await Mr(qe,Me,{maxWidth:1200,maxHeight:1200,maxSizeMB:2,isImage:ce});Ee.setAttribute("src",Re)}return K(se.body.innerHTML)},[K,M]),Y=X.useCallback(J=>{const re=J.target.files[0];if(!re)return;F();const se=URL.createObjectURL(re);U.current=se,y(se),N(re),I("")},[F]),te=X.useCallback(J=>{I(J)},[]),ne=X.useCallback(()=>{const J=P.trim();if(!J||!R(J)){alert("Informe um link de imagem valido (http:// ou https://).");return}F(),y(J),N(null),I(J)},[P,R,F]),ie=X.useCallback(()=>{F(),y(""),N(null),I("")},[F]),ue=X.useCallback(J=>{o(re=>re.includes(J)?re.filter(se=>se!==J):[...re,J])},[]),fe=X.useCallback(()=>{const J=L.map(re=>re.id);J.length&&o(re=>J.every(ve=>re.includes(ve))?re.filter(ve=>!J.includes(ve)):J)},[L]),_e=X.useCallback(()=>{g(null),b(Ne.PUBLISHED),h(""),O(""),k(""),ie(),_(!1)},[ie]),de=X.useCallback(async(J=l)=>{o([]),a(J),await D()},[l,D]),W=n.trim(),V=x.trim(),$=w.trim(),ee=A.trim(),Q=!!(W&&V&&$&&ee),ae=!!(W||V||$||ee),oe=X.useCallback(async(J=Ne.PUBLISHED)=>{if(!S)return;const re=J===Ne.DRAFT?Ne.DRAFT:Ne.PUBLISHED,se=n.trim(),ve=x.trim(),me=w.trim(),Ee=A.trim(),ge=!!(se||ve||me||Ee),ce=!!(se&&ve&&me&&Ee);if(!ge){alert("Preencha pelo menos um campo antes de salvar.");return}if(re===Ne.PUBLISHED&&!ce){alert("Titulo, resumo, imagem e conteudo sao obrigatorios para publicar.");return}if(!E&&Ee&&!R(Ee)){alert("A imagem destacada precisa ser um link valido.");return}T(!0);try{const xe=(p?Z(p):null)?.featuredImage?.trim()||"";let be=Ee;if(E){if(xe)try{await sn(xe)}catch(Ce){console.warn(Ce?.message||Ce)}be=await Mr(E,`blog/featured/${Date.now()}_${E.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0})}if(p&&!E&&!be&&xe)try{await sn(xe)}catch(Ce){console.warn(Ce?.message||Ce)}const Se=await G(w),qe=re===Ne.PUBLISHED,Me=qe?De():null,Re={title:se,summary:ve,content:Se||"",featuredImage:be||"",slug:se?Xr(se):"",status:re,authorId:S.uid,updatedAt:De(),publishedAt:Me,date:Me};p||(Re.createdAt=De()),await on({isEditingId:p,data:Re}),_e(),await de(qe?Be.PUBLISHED:Be.DRAFTS)}catch(ye){console.error(ye),alert(`Erro ao salvar post: ${ye.message}`)}finally{T(!1),N(null)}},[S,n,x,w,A,E,p,R,T,G,_e,Z,de]),le=X.useCallback(J=>J?!!(J?.title?.trim()&&J?.summary?.trim()&&J?.content?.trim()&&J?.featuredImage?.trim()&&R(J.featuredImage.trim())):!1,[R]),Oe=X.useCallback(async J=>{!S?.uid||!J?.id||await on({isEditingId:J.id,data:{status:Ne.PUBLISHED,slug:Xr(J.title.trim()),authorId:J.authorId||S.uid,publishedAt:De(),date:De(),updatedAt:De()}})},[S?.uid]),we=X.useCallback(J=>{F(),g(J.id),b(Ca(J)),h(J.title||""),O(J.summary||""),k(K(J.content||"")),y(J.featuredImage||""),N(null),I(J.featuredImage||""),_(!0)},[K,F]),he=X.useCallback(async J=>{if(!S)return;const re=Z(J)||L.find(ve=>ve.id===J);if(!re)return;if(!!!(re?.title?.trim()&&re?.summary?.trim()&&re?.content?.trim()&&re?.featuredImage?.trim())){alert("Preencha titulo, resumo, imagem e conteudo no rascunho antes de publicar."),we(re);return}if(!R(re.featuredImage.trim())){alert("A imagem destacada precisa ser um link valido para publicar."),we(re);return}i(J),T(!0);try{await Oe(re),await de(Be.DRAFTS)}catch(ve){console.error(ve),alert(`Erro ao publicar rascunho: ${ve.message}`)}finally{T(!1),i("")}},[Z,R,L,Oe,de,T,we,S]),Ue=X.useCallback(async J=>{const re=Z(J)||L.find(se=>se.id===J);if(re&&window.confirm("Tem certeza que deseja excluir este post?"))try{await ln({id:J,featuredImage:re.featuredImage}),await de(l)}catch(se){console.error(se),alert(`Erro ao deletar post: ${se.message}`)}},[l,Z,L,de]),pe=X.useCallback(async()=>{if(!q.length)return;const J=q.filter(me=>He(me));if(!J.length)return;const re=J.filter(me=>le(me)),se=J.length-re.length;if(!re.length){alert("Nenhum rascunho selecionado esta pronto para publicacao.");return}const ve=re.length===1?"Publicar o rascunho selecionado?":`Publicar ${re.length} rascunhos selecionados?`;if(window.confirm(ve)){t("publish");try{for(const me of re)await Oe(me);await de(Be.DRAFTS),se>0&&alert(`${se} rascunho(s) selecionado(s) nao foram publicados por falta de campos obrigatorios ou imagem invalida.`)}catch(me){console.error(me),alert(`Erro ao publicar rascunhos: ${me.message}`)}finally{t("")}}},[le,Oe,de,q]),ke=X.useCallback(async()=>{if(!q.length)return;const J=q.length===1?"Excluir o post selecionado?":`Excluir ${q.length} posts selecionados?`;if(window.confirm(J)){t("delete");try{for(const re of q)await ln({id:re.id,featuredImage:re.featuredImage});await de(l)}catch(re){console.error(re),alert(`Erro ao excluir posts selecionados: ${re.message}`)}finally{t("")}}},[l,de,q]);return{posts:L,showForm:u,setShowForm:_,isEditing:p,editingStatus:m,activePostTab:l,setActivePostTab:a,postTotals:H,postStats:z,postsLoading:r,title:n,setTitle:h,summary:x,setSummary:O,content:w,setContent:k,featuredImage:A,setFeaturedImage:y,featuredFile:E,setFeaturedFile:N,featuredLinkDraft:P,canPublish:Q,canSaveDraft:ae,publishingDraftId:d,bulkActionType:e,selectedPostIds:f,selectedPostsCount:j,allVisiblePostsSelected:C,handleFeaturedLinkChange:te,handleFeaturedLinkApply:ne,clearFeaturedImage:ie,togglePostSelection:ue,toggleSelectAllPosts:fe,handleFeaturedImageSelect:Y,handleSavePost:oe,handlePublishDraft:he,handlePublishSelectedDrafts:pe,handleDelete:Ue,handleDeleteSelectedPosts:ke,startEdit:we,resetForm:_e,fetchPosts:D}}var nt,un;function Eo(){if(un)return nt;un=1;function S(){this.__data__=[],this.size=0}return nt=S,nt}var it,fn;function oa(){if(fn)return it;fn=1;function S(T,v){return T===v||T!==T&&v!==v}return it=S,it}var at,cn;function Xe(){if(cn)return at;cn=1;var S=oa();function T(v,s){for(var u=v.length;u--;)if(S(v[u][0],s))return u;return-1}return at=T,at}var ot,dn;function Ao(){if(dn)return ot;dn=1;var S=Xe(),T=Array.prototype,v=T.splice;function s(u){var _=this.__data__,p=S(_,u);if(p<0)return!1;var g=_.length-1;return p==g?_.pop():v.call(_,p,1),--this.size,!0}return ot=s,ot}var lt,hn;function wo(){if(hn)return lt;hn=1;var S=Xe();function T(v){var s=this.__data__,u=S(s,v);return u<0?void 0:s[u][1]}return lt=T,lt}var st,vn;function xo(){if(vn)return st;vn=1;var S=Xe();function T(v){return S(this.__data__,v)>-1}return st=T,st}var ut,pn;function So(){if(pn)return ut;pn=1;var S=Xe();function T(v,s){var u=this.__data__,_=S(u,v);return _<0?(++this.size,u.push([v,s])):u[_][1]=s,this}return ut=T,ut}var ft,yn;function Je(){if(yn)return ft;yn=1;var S=Eo(),T=Ao(),v=wo(),s=xo(),u=So();function _(p){var g=-1,m=p==null?0:p.length;for(this.clear();++g<m;){var b=p[g];this.set(b[0],b[1])}}return _.prototype.clear=S,_.prototype.delete=T,_.prototype.get=v,_.prototype.has=s,_.prototype.set=u,ft=_,ft}var ct,mn;function To(){if(mn)return ct;mn=1;var S=Je();function T(){this.__data__=new S,this.size=0}return ct=T,ct}var dt,gn;function ko(){if(gn)return dt;gn=1;function S(T){var v=this.__data__,s=v.delete(T);return this.size=v.size,s}return dt=S,dt}var ht,bn;function No(){if(bn)return ht;bn=1;function S(T){return this.__data__.get(T)}return ht=S,ht}var vt,_n;function qo(){if(_n)return vt;_n=1;function S(T){return this.__data__.has(T)}return vt=S,vt}var pt,On;function la(){if(On)return pt;On=1;var S=typeof Ve=="object"&&Ve&&Ve.Object===Object&&Ve;return pt=S,pt}var yt,En;function Le(){if(En)return yt;En=1;var S=la(),T=typeof self=="object"&&self&&self.Object===Object&&self,v=S||T||Function("return this")();return yt=v,yt}var mt,An;function Gr(){if(An)return mt;An=1;var S=Le(),T=S.Symbol;return mt=T,mt}var gt,wn;function Po(){if(wn)return gt;wn=1;var S=Gr(),T=Object.prototype,v=T.hasOwnProperty,s=T.toString,u=S?S.toStringTag:void 0;function _(p){var g=v.call(p,u),m=p[u];try{p[u]=void 0;var b=!0}catch{}var d=s.call(p);return b&&(g?p[u]=m:delete p[u]),d}return gt=_,gt}var bt,xn;function Ro(){if(xn)return bt;xn=1;var S=Object.prototype,T=S.toString;function v(s){return T.call(s)}return bt=v,bt}var _t,Sn;function $e(){if(Sn)return _t;Sn=1;var S=Gr(),T=Po(),v=Ro(),s="[object Null]",u="[object Undefined]",_=S?S.toStringTag:void 0;function p(g){return g==null?g===void 0?u:s:_&&_ in Object(g)?T(g):v(g)}return _t=p,_t}var Ot,Tn;function sa(){if(Tn)return Ot;Tn=1;function S(T){var v=typeof T;return T!=null&&(v=="object"||v=="function")}return Ot=S,Ot}var Et,kn;function ua(){if(kn)return Et;kn=1;var S=$e(),T=sa(),v="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",_="[object Proxy]";function p(g){if(!T(g))return!1;var m=S(g);return m==s||m==u||m==v||m==_}return Et=p,Et}var At,Nn;function Lo(){if(Nn)return At;Nn=1;var S=Le(),T=S["__core-js_shared__"];return At=T,At}var wt,qn;function jo(){if(qn)return wt;qn=1;var S=Lo(),T=(function(){var s=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function v(s){return!!T&&T in s}return wt=v,wt}var xt,Pn;function fa(){if(Pn)return xt;Pn=1;var S=Function.prototype,T=S.toString;function v(s){if(s!=null){try{return T.call(s)}catch{}try{return s+""}catch{}}return""}return xt=v,xt}var St,Rn;function Io(){if(Rn)return St;Rn=1;var S=ua(),T=jo(),v=sa(),s=fa(),u=/[\\^$.*+?()[\]{}|]/g,_=/^\[object .+?Constructor\]$/,p=Function.prototype,g=Object.prototype,m=p.toString,b=g.hasOwnProperty,d=RegExp("^"+m.call(b).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i(e){if(!v(e)||T(e))return!1;var t=S(e)?d:_;return t.test(s(e))}return St=i,St}var Tt,Ln;function Co(){if(Ln)return Tt;Ln=1;function S(T,v){return T?.[v]}return Tt=S,Tt}var kt,jn;function Fe(){if(jn)return kt;jn=1;var S=Io(),T=Co();function v(s,u){var _=T(s,u);return S(_)?_:void 0}return kt=v,kt}var Nt,In;function Wr(){if(In)return Nt;In=1;var S=Fe(),T=Le(),v=S(T,"Map");return Nt=v,Nt}var qt,Cn;function et(){if(Cn)return qt;Cn=1;var S=Fe(),T=S(Object,"create");return qt=T,qt}var Pt,Dn;function Do(){if(Dn)return Pt;Dn=1;var S=et();function T(){this.__data__=S?S(null):{},this.size=0}return Pt=T,Pt}var Rt,Mn;function Mo(){if(Mn)return Rt;Mn=1;function S(T){var v=this.has(T)&&delete this.__data__[T];return this.size-=v?1:0,v}return Rt=S,Rt}var Lt,Bn;function Bo(){if(Bn)return Lt;Bn=1;var S=et(),T="__lodash_hash_undefined__",v=Object.prototype,s=v.hasOwnProperty;function u(_){var p=this.__data__;if(S){var g=p[_];return g===T?void 0:g}return s.call(p,_)?p[_]:void 0}return Lt=u,Lt}var jt,Fn;function Fo(){if(Fn)return jt;Fn=1;var S=et(),T=Object.prototype,v=T.hasOwnProperty;function s(u){var _=this.__data__;return S?_[u]!==void 0:v.call(_,u)}return jt=s,jt}var It,Un;function Uo(){if(Un)return It;Un=1;var S=et(),T="__lodash_hash_undefined__";function v(s,u){var _=this.__data__;return this.size+=this.has(s)?0:1,_[s]=S&&u===void 0?T:u,this}return It=v,It}var Ct,Hn;function Ho(){if(Hn)return Ct;Hn=1;var S=Do(),T=Mo(),v=Bo(),s=Fo(),u=Uo();function _(p){var g=-1,m=p==null?0:p.length;for(this.clear();++g<m;){var b=p[g];this.set(b[0],b[1])}}return _.prototype.clear=S,_.prototype.delete=T,_.prototype.get=v,_.prototype.has=s,_.prototype.set=u,Ct=_,Ct}var Dt,zn;function zo(){if(zn)return Dt;zn=1;var S=Ho(),T=Je(),v=Wr();function s(){this.size=0,this.__data__={hash:new S,map:new(v||T),string:new S}}return Dt=s,Dt}var Mt,Kn;function Ko(){if(Kn)return Mt;Kn=1;function S(T){var v=typeof T;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?T!=="__proto__":T===null}return Mt=S,Mt}var Bt,Gn;function tt(){if(Gn)return Bt;Gn=1;var S=Ko();function T(v,s){var u=v.__data__;return S(s)?u[typeof s=="string"?"string":"hash"]:u.map}return Bt=T,Bt}var Ft,Wn;function Go(){if(Wn)return Ft;Wn=1;var S=tt();function T(v){var s=S(this,v).delete(v);return this.size-=s?1:0,s}return Ft=T,Ft}var Ut,Vn;function Wo(){if(Vn)return Ut;Vn=1;var S=tt();function T(v){return S(this,v).get(v)}return Ut=T,Ut}var Ht,Zn;function Vo(){if(Zn)return Ht;Zn=1;var S=tt();function T(v){return S(this,v).has(v)}return Ht=T,Ht}var zt,Yn;function Zo(){if(Yn)return zt;Yn=1;var S=tt();function T(v,s){var u=S(this,v),_=u.size;return u.set(v,s),this.size+=u.size==_?0:1,this}return zt=T,zt}var Kt,Qn;function ca(){if(Qn)return Kt;Qn=1;var S=zo(),T=Go(),v=Wo(),s=Vo(),u=Zo();function _(p){var g=-1,m=p==null?0:p.length;for(this.clear();++g<m;){var b=p[g];this.set(b[0],b[1])}}return _.prototype.clear=S,_.prototype.delete=T,_.prototype.get=v,_.prototype.has=s,_.prototype.set=u,Kt=_,Kt}var Gt,Xn;function Yo(){if(Xn)return Gt;Xn=1;var S=Je(),T=Wr(),v=ca(),s=200;function u(_,p){var g=this.__data__;if(g instanceof S){var m=g.__data__;if(!T||m.length<s-1)return m.push([_,p]),this.size=++g.size,this;g=this.__data__=new v(m)}return g.set(_,p),this.size=g.size,this}return Gt=u,Gt}var Wt,Jn;function Qo(){if(Jn)return Wt;Jn=1;var S=Je(),T=To(),v=ko(),s=No(),u=qo(),_=Yo();function p(g){var m=this.__data__=new S(g);this.size=m.size}return p.prototype.clear=T,p.prototype.delete=v,p.prototype.get=s,p.prototype.has=u,p.prototype.set=_,Wt=p,Wt}var Vt,$n;function Xo(){if($n)return Vt;$n=1;var S="__lodash_hash_undefined__";function T(v){return this.__data__.set(v,S),this}return Vt=T,Vt}var Zt,ei;function Jo(){if(ei)return Zt;ei=1;function S(T){return this.__data__.has(T)}return Zt=S,Zt}var Yt,ti;function $o(){if(ti)return Yt;ti=1;var S=ca(),T=Xo(),v=Jo();function s(u){var _=-1,p=u==null?0:u.length;for(this.__data__=new S;++_<p;)this.add(u[_])}return s.prototype.add=s.prototype.push=T,s.prototype.has=v,Yt=s,Yt}var Qt,ri;function el(){if(ri)return Qt;ri=1;function S(T,v){for(var s=-1,u=T==null?0:T.length;++s<u;)if(v(T[s],s,T))return!0;return!1}return Qt=S,Qt}var Xt,ni;function tl(){if(ni)return Xt;ni=1;function S(T,v){return T.has(v)}return Xt=S,Xt}var Jt,ii;function da(){if(ii)return Jt;ii=1;var S=$o(),T=el(),v=tl(),s=1,u=2;function _(p,g,m,b,d,i){var e=m&s,t=p.length,f=g.length;if(t!=f&&!(e&&f>t))return!1;var o=i.get(p),l=i.get(g);if(o&&l)return o==g&&l==p;var a=-1,r=!0,c=m&u?new S:void 0;for(i.set(p,g),i.set(g,p);++a<t;){var n=p[a],h=g[a];if(b)var x=e?b(h,n,a,g,p,i):b(n,h,a,p,g,i);if(x!==void 0){if(x)continue;r=!1;break}if(c){if(!T(g,function(O,w){if(!v(c,w)&&(n===O||d(n,O,m,b,i)))return c.push(w)})){r=!1;break}}else if(!(n===h||d(n,h,m,b,i))){r=!1;break}}return i.delete(p),i.delete(g),r}return Jt=_,Jt}var $t,ai;function rl(){if(ai)return $t;ai=1;var S=Le(),T=S.Uint8Array;return $t=T,$t}var er,oi;function nl(){if(oi)return er;oi=1;function S(T){var v=-1,s=Array(T.size);return T.forEach(function(u,_){s[++v]=[_,u]}),s}return er=S,er}var tr,li;function il(){if(li)return tr;li=1;function S(T){var v=-1,s=Array(T.size);return T.forEach(function(u){s[++v]=u}),s}return tr=S,tr}var rr,si;function al(){if(si)return rr;si=1;var S=Gr(),T=rl(),v=oa(),s=da(),u=nl(),_=il(),p=1,g=2,m="[object Boolean]",b="[object Date]",d="[object Error]",i="[object Map]",e="[object Number]",t="[object RegExp]",f="[object Set]",o="[object String]",l="[object Symbol]",a="[object ArrayBuffer]",r="[object DataView]",c=S?S.prototype:void 0,n=c?c.valueOf:void 0;function h(x,O,w,k,A,y,E){switch(w){case r:if(x.byteLength!=O.byteLength||x.byteOffset!=O.byteOffset)return!1;x=x.buffer,O=O.buffer;case a:return!(x.byteLength!=O.byteLength||!y(new T(x),new T(O)));case m:case b:case e:return v(+x,+O);case d:return x.name==O.name&&x.message==O.message;case t:case o:return x==O+"";case i:var N=u;case f:var P=k&p;if(N||(N=_),x.size!=O.size&&!P)return!1;var I=E.get(x);if(I)return I==O;k|=g,E.set(x,O);var U=s(N(x),N(O),k,A,y,E);return E.delete(x),U;case l:if(n)return n.call(x)==n.call(O)}return!1}return rr=h,rr}var nr,ui;function ol(){if(ui)return nr;ui=1;function S(T,v){for(var s=-1,u=v.length,_=T.length;++s<u;)T[_+s]=v[s];return T}return nr=S,nr}var ir,fi;function Vr(){if(fi)return ir;fi=1;var S=Array.isArray;return ir=S,ir}var ar,ci;function ll(){if(ci)return ar;ci=1;var S=ol(),T=Vr();function v(s,u,_){var p=u(s);return T(s)?p:S(p,_(s))}return ar=v,ar}var or,di;function sl(){if(di)return or;di=1;function S(T,v){for(var s=-1,u=T==null?0:T.length,_=0,p=[];++s<u;){var g=T[s];v(g,s,T)&&(p[_++]=g)}return p}return or=S,or}var lr,hi;function ul(){if(hi)return lr;hi=1;function S(){return[]}return lr=S,lr}var sr,vi;function fl(){if(vi)return sr;vi=1;var S=sl(),T=ul(),v=Object.prototype,s=v.propertyIsEnumerable,u=Object.getOwnPropertySymbols,_=u?function(p){return p==null?[]:(p=Object(p),S(u(p),function(g){return s.call(p,g)}))}:T;return sr=_,sr}var ur,pi;function cl(){if(pi)return ur;pi=1;function S(T,v){for(var s=-1,u=Array(T);++s<T;)u[s]=v(s);return u}return ur=S,ur}var fr,yi;function rt(){if(yi)return fr;yi=1;function S(T){return T!=null&&typeof T=="object"}return fr=S,fr}var cr,mi;function dl(){if(mi)return cr;mi=1;var S=$e(),T=rt(),v="[object Arguments]";function s(u){return T(u)&&S(u)==v}return cr=s,cr}var dr,gi;function hl(){if(gi)return dr;gi=1;var S=dl(),T=rt(),v=Object.prototype,s=v.hasOwnProperty,u=v.propertyIsEnumerable,_=S((function(){return arguments})())?S:function(p){return T(p)&&s.call(p,"callee")&&!u.call(p,"callee")};return dr=_,dr}var ze={exports:{}},hr,bi;function vl(){if(bi)return hr;bi=1;function S(){return!1}return hr=S,hr}ze.exports;var _i;function ha(){return _i||(_i=1,(function(S,T){var v=Le(),s=vl(),u=T&&!T.nodeType&&T,_=u&&!0&&S&&!S.nodeType&&S,p=_&&_.exports===u,g=p?v.Buffer:void 0,m=g?g.isBuffer:void 0,b=m||s;S.exports=b})(ze,ze.exports)),ze.exports}var vr,Oi;function pl(){if(Oi)return vr;Oi=1;var S=9007199254740991,T=/^(?:0|[1-9]\d*)$/;function v(s,u){var _=typeof s;return u=u??S,!!u&&(_=="number"||_!="symbol"&&T.test(s))&&s>-1&&s%1==0&&s<u}return vr=v,vr}var pr,Ei;function va(){if(Ei)return pr;Ei=1;var S=9007199254740991;function T(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=S}return pr=T,pr}var yr,Ai;function yl(){if(Ai)return yr;Ai=1;var S=$e(),T=va(),v=rt(),s="[object Arguments]",u="[object Array]",_="[object Boolean]",p="[object Date]",g="[object Error]",m="[object Function]",b="[object Map]",d="[object Number]",i="[object Object]",e="[object RegExp]",t="[object Set]",f="[object String]",o="[object WeakMap]",l="[object ArrayBuffer]",a="[object DataView]",r="[object Float32Array]",c="[object Float64Array]",n="[object Int8Array]",h="[object Int16Array]",x="[object Int32Array]",O="[object Uint8Array]",w="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",y={};y[r]=y[c]=y[n]=y[h]=y[x]=y[O]=y[w]=y[k]=y[A]=!0,y[s]=y[u]=y[l]=y[_]=y[a]=y[p]=y[g]=y[m]=y[b]=y[d]=y[i]=y[e]=y[t]=y[f]=y[o]=!1;function E(N){return v(N)&&T(N.length)&&!!y[S(N)]}return yr=E,yr}var mr,wi;function ml(){if(wi)return mr;wi=1;function S(T){return function(v){return T(v)}}return mr=S,mr}var Ke={exports:{}};Ke.exports;var xi;function gl(){return xi||(xi=1,(function(S,T){var v=la(),s=T&&!T.nodeType&&T,u=s&&!0&&S&&!S.nodeType&&S,_=u&&u.exports===s,p=_&&v.process,g=(function(){try{var m=u&&u.require&&u.require("util").types;return m||p&&p.binding&&p.binding("util")}catch{}})();S.exports=g})(Ke,Ke.exports)),Ke.exports}var gr,Si;function pa(){if(Si)return gr;Si=1;var S=yl(),T=ml(),v=gl(),s=v&&v.isTypedArray,u=s?T(s):S;return gr=u,gr}var br,Ti;function bl(){if(Ti)return br;Ti=1;var S=cl(),T=hl(),v=Vr(),s=ha(),u=pl(),_=pa(),p=Object.prototype,g=p.hasOwnProperty;function m(b,d){var i=v(b),e=!i&&T(b),t=!i&&!e&&s(b),f=!i&&!e&&!t&&_(b),o=i||e||t||f,l=o?S(b.length,String):[],a=l.length;for(var r in b)(d||g.call(b,r))&&!(o&&(r=="length"||t&&(r=="offset"||r=="parent")||f&&(r=="buffer"||r=="byteLength"||r=="byteOffset")||u(r,a)))&&l.push(r);return l}return br=m,br}var _r,ki;function _l(){if(ki)return _r;ki=1;var S=Object.prototype;function T(v){var s=v&&v.constructor,u=typeof s=="function"&&s.prototype||S;return v===u}return _r=T,_r}var Or,Ni;function Ol(){if(Ni)return Or;Ni=1;function S(T,v){return function(s){return T(v(s))}}return Or=S,Or}var Er,qi;function El(){if(qi)return Er;qi=1;var S=Ol(),T=S(Object.keys,Object);return Er=T,Er}var Ar,Pi;function Al(){if(Pi)return Ar;Pi=1;var S=_l(),T=El(),v=Object.prototype,s=v.hasOwnProperty;function u(_){if(!S(_))return T(_);var p=[];for(var g in Object(_))s.call(_,g)&&g!="constructor"&&p.push(g);return p}return Ar=u,Ar}var wr,Ri;function wl(){if(Ri)return wr;Ri=1;var S=ua(),T=va();function v(s){return s!=null&&T(s.length)&&!S(s)}return wr=v,wr}var xr,Li;function xl(){if(Li)return xr;Li=1;var S=bl(),T=Al(),v=wl();function s(u){return v(u)?S(u):T(u)}return xr=s,xr}var Sr,ji;function Sl(){if(ji)return Sr;ji=1;var S=ll(),T=fl(),v=xl();function s(u){return S(u,v,T)}return Sr=s,Sr}var Tr,Ii;function Tl(){if(Ii)return Tr;Ii=1;var S=Sl(),T=1,v=Object.prototype,s=v.hasOwnProperty;function u(_,p,g,m,b,d){var i=g&T,e=S(_),t=e.length,f=S(p),o=f.length;if(t!=o&&!i)return!1;for(var l=t;l--;){var a=e[l];if(!(i?a in p:s.call(p,a)))return!1}var r=d.get(_),c=d.get(p);if(r&&c)return r==p&&c==_;var n=!0;d.set(_,p),d.set(p,_);for(var h=i;++l<t;){a=e[l];var x=_[a],O=p[a];if(m)var w=i?m(O,x,a,p,_,d):m(x,O,a,_,p,d);if(!(w===void 0?x===O||b(x,O,g,m,d):w)){n=!1;break}h||(h=a=="constructor")}if(n&&!h){var k=_.constructor,A=p.constructor;k!=A&&"constructor"in _&&"constructor"in p&&!(typeof k=="function"&&k instanceof k&&typeof A=="function"&&A instanceof A)&&(n=!1)}return d.delete(_),d.delete(p),n}return Tr=u,Tr}var kr,Ci;function kl(){if(Ci)return kr;Ci=1;var S=Fe(),T=Le(),v=S(T,"DataView");return kr=v,kr}var Nr,Di;function Nl(){if(Di)return Nr;Di=1;var S=Fe(),T=Le(),v=S(T,"Promise");return Nr=v,Nr}var qr,Mi;function ql(){if(Mi)return qr;Mi=1;var S=Fe(),T=Le(),v=S(T,"Set");return qr=v,qr}var Pr,Bi;function Pl(){if(Bi)return Pr;Bi=1;var S=Fe(),T=Le(),v=S(T,"WeakMap");return Pr=v,Pr}var Rr,Fi;function Rl(){if(Fi)return Rr;Fi=1;var S=kl(),T=Wr(),v=Nl(),s=ql(),u=Pl(),_=$e(),p=fa(),g="[object Map]",m="[object Object]",b="[object Promise]",d="[object Set]",i="[object WeakMap]",e="[object DataView]",t=p(S),f=p(T),o=p(v),l=p(s),a=p(u),r=_;return(S&&r(new S(new ArrayBuffer(1)))!=e||T&&r(new T)!=g||v&&r(v.resolve())!=b||s&&r(new s)!=d||u&&r(new u)!=i)&&(r=function(c){var n=_(c),h=n==m?c.constructor:void 0,x=h?p(h):"";if(x)switch(x){case t:return e;case f:return g;case o:return b;case l:return d;case a:return i}return n}),Rr=r,Rr}var Lr,Ui;function Ll(){if(Ui)return Lr;Ui=1;var S=Qo(),T=da(),v=al(),s=Tl(),u=Rl(),_=Vr(),p=ha(),g=pa(),m=1,b="[object Arguments]",d="[object Array]",i="[object Object]",e=Object.prototype,t=e.hasOwnProperty;function f(o,l,a,r,c,n){var h=_(o),x=_(l),O=h?d:u(o),w=x?d:u(l);O=O==b?i:O,w=w==b?i:w;var k=O==i,A=w==i,y=O==w;if(y&&p(o)){if(!p(l))return!1;h=!0,k=!1}if(y&&!k)return n||(n=new S),h||g(o)?T(o,l,a,r,c,n):v(o,l,O,a,r,c,n);if(!(a&m)){var E=k&&t.call(o,"__wrapped__"),N=A&&t.call(l,"__wrapped__");if(E||N){var P=E?o.value():o,I=N?l.value():l;return n||(n=new S),c(P,I,a,r,n)}}return y?(n||(n=new S),s(o,l,a,r,c,n)):!1}return Lr=f,Lr}var jr,Hi;function jl(){if(Hi)return jr;Hi=1;var S=Ll(),T=rt();function v(s,u,_,p,g){return s===u?!0:s==null||u==null||!T(s)&&!T(u)?s!==s&&u!==u:S(s,u,_,p,v,g)}return jr=v,jr}var Ir,zi;function Il(){if(zi)return Ir;zi=1;var S=jl();function T(v,s){return S(v,s)}return Ir=T,Ir}var Ye={exports:{}};var Cl=Ye.exports,Ki;function Dl(){return Ki||(Ki=1,(function(S,T){(function(s,u){S.exports=u()})(typeof self<"u"?self:Cl,function(){return(function(v){var s={};function u(_){if(s[_])return s[_].exports;var p=s[_]={i:_,l:!1,exports:{}};return v[_].call(p.exports,p,p.exports,u),p.l=!0,p.exports}return u.m=v,u.c=s,u.d=function(_,p,g){u.o(_,p)||Object.defineProperty(_,p,{configurable:!1,enumerable:!0,get:g})},u.n=function(_){var p=_&&_.__esModule?function(){return _.default}:function(){return _};return u.d(p,"a",p),p},u.o=function(_,p){return Object.prototype.hasOwnProperty.call(_,p)},u.p="",u(u.s=109)})([(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(17),p=u(18),g=u(19),m=u(45),b=u(46),d=u(47),i=u(48),e=u(49),t=u(12),f=u(32),o=u(33),l=u(31),a=u(1),r={Scope:a.Scope,create:a.create,find:a.find,query:a.query,register:a.register,Container:_.default,Format:p.default,Leaf:g.default,Embed:i.default,Scroll:m.default,Block:d.default,Inline:b.default,Text:e.default,Attributor:{Attribute:t.default,Class:f.default,Style:o.default,Store:l.default}};s.default=r}),(function(v,s,u){var _=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var c in r)r.hasOwnProperty(c)&&(a[c]=r[c])};return function(a,r){l(a,r);function c(){this.constructor=a}a.prototype=r===null?Object.create(r):(c.prototype=r.prototype,new c)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=(function(l){_(a,l);function a(r){var c=this;return r="[Parchment] "+r,c=l.call(this,r)||this,c.message=r,c.name=c.constructor.name,c}return a})(Error);s.ParchmentError=p;var g={},m={},b={},d={};s.DATA_KEY="__blot";var i;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(i=s.Scope||(s.Scope={}));function e(l,a){var r=f(l);if(r==null)throw new p("Unable to create "+l+" blot");var c=r,n=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:c.create(a);return new c(n,a)}s.create=e;function t(l,a){return a===void 0&&(a=!1),l==null?null:l[s.DATA_KEY]!=null?l[s.DATA_KEY].blot:a?t(l.parentNode,a):null}s.find=t;function f(l,a){a===void 0&&(a=i.ANY);var r;if(typeof l=="string")r=d[l]||g[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)r=d.text;else if(typeof l=="number")l&i.LEVEL&i.BLOCK?r=d.block:l&i.LEVEL&i.INLINE&&(r=d.inline);else if(l instanceof HTMLElement){var c=(l.getAttribute("class")||"").split(/\s+/);for(var n in c)if(r=m[c[n]],r)break;r=r||b[l.tagName]}return r==null?null:a&i.LEVEL&r.scope&&a&i.TYPE&r.scope?r:null}s.query=f;function o(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];if(l.length>1)return l.map(function(n){return o(n)});var r=l[0];if(typeof r.blotName!="string"&&typeof r.attrName!="string")throw new p("Invalid definition");if(r.blotName==="abstract")throw new p("Cannot register abstract class");if(d[r.blotName||r.attrName]=r,typeof r.keyName=="string")g[r.keyName]=r;else if(r.className!=null&&(m[r.className]=r),r.tagName!=null){Array.isArray(r.tagName)?r.tagName=r.tagName.map(function(n){return n.toUpperCase()}):r.tagName=r.tagName.toUpperCase();var c=Array.isArray(r.tagName)?r.tagName:[r.tagName];c.forEach(function(n){(b[n]==null||r.className==null)&&(b[n]=r)})}return r}s.register=o}),(function(v,s,u){var _=u(51),p=u(11),g=u(3),m=u(20),b="\0",d=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};d.prototype.insert=function(i,e){var t={};return i.length===0?this:(t.insert=i,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},d.prototype.delete=function(i){return i<=0?this:this.push({delete:i})},d.prototype.retain=function(i,e){if(i<=0)return this;var t={retain:i};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},d.prototype.push=function(i){var e=this.ops.length,t=this.ops[e-1];if(i=g(!0,{},i),typeof t=="object"){if(typeof i.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+i.delete},this;if(typeof t.delete=="number"&&i.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(i),this;if(p(i.attributes,t.attributes)){if(typeof i.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+i.insert},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this;if(typeof i.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+i.retain},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this}}return e===this.ops.length?this.ops.push(i):this.ops.splice(e,0,i),this},d.prototype.chop=function(){var i=this.ops[this.ops.length-1];return i&&i.retain&&!i.attributes&&this.ops.pop(),this},d.prototype.filter=function(i){return this.ops.filter(i)},d.prototype.forEach=function(i){this.ops.forEach(i)},d.prototype.map=function(i){return this.ops.map(i)},d.prototype.partition=function(i){var e=[],t=[];return this.forEach(function(f){var o=i(f)?e:t;o.push(f)}),[e,t]},d.prototype.reduce=function(i,e){return this.ops.reduce(i,e)},d.prototype.changeLength=function(){return this.reduce(function(i,e){return e.insert?i+m.length(e):e.delete?i-e.delete:i},0)},d.prototype.length=function(){return this.reduce(function(i,e){return i+m.length(e)},0)},d.prototype.slice=function(i,e){i=i||0,typeof e!="number"&&(e=1/0);for(var t=[],f=m.iterator(this.ops),o=0;o<e&&f.hasNext();){var l;o<i?l=f.next(i-o):(l=f.next(e-o),t.push(l)),o+=m.length(l)}return new d(t)},d.prototype.compose=function(i){var e=m.iterator(this.ops),t=m.iterator(i.ops),f=[],o=t.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var l=o.retain;e.peekType()==="insert"&&e.peekLength()<=l;)l-=e.peekLength(),f.push(e.next());o.retain-l>0&&t.next(o.retain-l)}for(var a=new d(f);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")a.push(t.next());else if(e.peekType()==="delete")a.push(e.next());else{var r=Math.min(e.peekLength(),t.peekLength()),c=e.next(r),n=t.next(r);if(typeof n.retain=="number"){var h={};typeof c.retain=="number"?h.retain=r:h.insert=c.insert;var x=m.attributes.compose(c.attributes,n.attributes,typeof c.retain=="number");if(x&&(h.attributes=x),a.push(h),!t.hasNext()&&p(a.ops[a.ops.length-1],h)){var O=new d(e.rest());return a.concat(O).chop()}}else typeof n.delete=="number"&&typeof c.retain=="number"&&a.push(n)}return a.chop()},d.prototype.concat=function(i){var e=new d(this.ops.slice());return i.ops.length>0&&(e.push(i.ops[0]),e.ops=e.ops.concat(i.ops.slice(1))),e},d.prototype.diff=function(i,e){if(this.ops===i.ops)return new d;var t=[this,i].map(function(r){return r.map(function(c){if(c.insert!=null)return typeof c.insert=="string"?c.insert:b;var n=r===i?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),f=new d,o=_(t[0],t[1],e),l=m.iterator(this.ops),a=m.iterator(i.ops);return o.forEach(function(r){for(var c=r[1].length;c>0;){var n=0;switch(r[0]){case _.INSERT:n=Math.min(a.peekLength(),c),f.push(a.next(n));break;case _.DELETE:n=Math.min(c,l.peekLength()),l.next(n),f.delete(n);break;case _.EQUAL:n=Math.min(l.peekLength(),a.peekLength(),c);var h=l.next(n),x=a.next(n);p(h.insert,x.insert)?f.retain(n,m.attributes.diff(h.attributes,x.attributes)):f.push(x).delete(n);break}c-=n}}),f.chop()},d.prototype.eachLine=function(i,e){e=e||`
`;for(var t=m.iterator(this.ops),f=new d,o=0;t.hasNext();){if(t.peekType()!=="insert")return;var l=t.peek(),a=m.length(l)-t.peekLength(),r=typeof l.insert=="string"?l.insert.indexOf(e,a)-a:-1;if(r<0)f.push(t.next());else if(r>0)f.push(t.next(r));else{if(i(f,t.next(1).attributes||{},o)===!1)return;o+=1,f=new d}}f.length()>0&&i(f,{},o)},d.prototype.transform=function(i,e){if(e=!!e,typeof i=="number")return this.transformPosition(i,e);for(var t=m.iterator(this.ops),f=m.iterator(i.ops),o=new d;t.hasNext()||f.hasNext();)if(t.peekType()==="insert"&&(e||f.peekType()!=="insert"))o.retain(m.length(t.next()));else if(f.peekType()==="insert")o.push(f.next());else{var l=Math.min(t.peekLength(),f.peekLength()),a=t.next(l),r=f.next(l);if(a.delete)continue;r.delete?o.push(r):o.retain(l,m.attributes.transform(a.attributes,r.attributes,e))}return o.chop()},d.prototype.transformPosition=function(i,e){e=!!e;for(var t=m.iterator(this.ops),f=0;t.hasNext()&&f<=i;){var o=t.peekLength(),l=t.peekType();if(t.next(),l==="delete"){i-=Math.min(o,i-f);continue}else l==="insert"&&(f<i||!e)&&(i+=o);f+=o}return i},v.exports=d}),(function(v,s){var u=Object.prototype.hasOwnProperty,_=Object.prototype.toString,p=Object.defineProperty,g=Object.getOwnPropertyDescriptor,m=function(t){return typeof Array.isArray=="function"?Array.isArray(t):_.call(t)==="[object Array]"},b=function(t){if(!t||_.call(t)!=="[object Object]")return!1;var f=u.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&u.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!f&&!o)return!1;var l;for(l in t);return typeof l>"u"||u.call(t,l)},d=function(t,f){p&&f.name==="__proto__"?p(t,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):t[f.name]=f.newValue},i=function(t,f){if(f==="__proto__")if(u.call(t,f)){if(g)return g(t,f).value}else return;return t[f]};v.exports=function e(){var t,f,o,l,a,r,c=arguments[0],n=1,h=arguments.length,x=!1;for(typeof c=="boolean"&&(x=c,c=arguments[1]||{},n=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});n<h;++n)if(t=arguments[n],t!=null)for(f in t)o=i(c,f),l=i(t,f),c!==l&&(x&&l&&(b(l)||(a=m(l)))?(a?(a=!1,r=o&&m(o)?o:[]):r=o&&b(o)?o:{},d(c,{name:f,newValue:e(x,r,l)})):typeof l<"u"&&d(c,{name:f,newValue:l}));return c}}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BlockEmbed=s.bubbleFormats=void 0;var _=(function(){function y(E,N){for(var P=0;P<N.length;P++){var I=N[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,N,P){return N&&y(E.prototype,N),P&&y(E,P),E}})(),p=function y(E,N,P){E===null&&(E=Function.prototype);var I=Object.getOwnPropertyDescriptor(E,N);if(I===void 0){var U=Object.getPrototypeOf(E);return U===null?void 0:y(U,N,P)}else{if("value"in I)return I.value;var F=I.get;return F===void 0?void 0:F.call(P)}},g=u(3),m=c(g),b=u(2),d=c(b),i=u(0),e=c(i),t=u(16),f=c(t),o=u(6),l=c(o),a=u(7),r=c(a);function c(y){return y&&y.__esModule?y:{default:y}}function n(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function h(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function x(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var O=1,w=(function(y){x(E,y);function E(){return n(this,E),h(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return _(E,[{key:"attach",value:function(){p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,m.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,I){var U=e.default.query(P,e.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,I)}},{key:"formatAt",value:function(P,I,U,F){this.format(U,F)}},{key:"insertAt",value:function(P,I,U){if(typeof I=="string"&&I.endsWith(`
`)){var F=e.default.create(k.blotName);this.parent.insertBefore(F,P===0?this:this.next),F.insertAt(0,I.slice(0,-1))}else p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,P,I,U)}}]),E})(e.default.Embed);w.scope=e.default.Scope.BLOCK_BLOT;var k=(function(y){x(E,y);function E(N){n(this,E);var P=h(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,N));return P.cache={},P}return _(E,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(P,I){return I.length()===0?P:P.insert(I.value(),A(I))},new d.default).insert(`
`,A(this))),this.cache.delta}},{key:"deleteAt",value:function(P,I){p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,P,I),this.cache={}}},{key:"formatAt",value:function(P,I,U,F){I<=0||(e.default.query(U,e.default.Scope.BLOCK)?P+I===this.length()&&this.format(U,F):p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,P,Math.min(I,this.length()-P-1),U,F),this.cache={})}},{key:"insertAt",value:function(P,I,U){if(U!=null)return p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,P,I,U);if(I.length!==0){var F=I.split(`
`),Z=F.shift();Z.length>0&&(P<this.length()-1||this.children.tail==null?p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),Z):this.children.tail.insertAt(this.children.tail.length(),Z),this.cache={});var D=this;F.reduce(function(L,q){return D=D.split(L,!0),D.insertAt(0,q),q.length},P+Z.length)}}},{key:"insertBefore",value:function(P,I){var U=this.children.head;p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,P,I),U instanceof f.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"length",this).call(this)+O),this.cache.length}},{key:"moveChildren",value:function(P,I){p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"moveChildren",this).call(this,P,I),this.cache={}}},{key:"optimize",value:function(P){p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(I&&(P===0||P>=this.length()-O)){var U=this.clone();return P===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var F=p(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"split",this).call(this,P,I);return this.cache={},F}}}]),E})(e.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[l.default,e.default.Embed,r.default];function A(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return y==null||(typeof y.formats=="function"&&(E=(0,m.default)(E,y.formats())),y.parent==null||y.parent.blotName=="scroll"||y.parent.statics.scope!==y.statics.scope)?E:A(y.parent,E)}s.bubbleFormats=A,s.BlockEmbed=w,s.default=k}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.overload=s.expandConfig=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},p=(function(){function D(L,q){var j=[],C=!0,z=!1,H=void 0;try{for(var R=L[Symbol.iterator](),M;!(C=(M=R.next()).done)&&(j.push(M.value),!(q&&j.length===q));C=!0);}catch(K){z=!0,H=K}finally{try{!C&&R.return&&R.return()}finally{if(z)throw H}}return j}return function(L,q){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return D(L,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function D(L,q){for(var j=0;j<q.length;j++){var C=q[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}return function(L,q,j){return q&&D(L.prototype,q),j&&D(L,j),L}})();u(50);var m=u(2),b=A(m),d=u(14),i=A(d),e=u(8),t=A(e),f=u(9),o=A(f),l=u(0),a=A(l),r=u(15),c=A(r),n=u(3),h=A(n),x=u(10),O=A(x),w=u(34),k=A(w);function A(D){return D&&D.__esModule?D:{default:D}}function y(D,L,q){return L in D?Object.defineProperty(D,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[L]=q,D}function E(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}var N=(0,O.default)("quill"),P=(function(){g(D,null,[{key:"debug",value:function(q){q===!0&&(q="log"),O.default.level(q)}},{key:"find",value:function(q){return q.__quill||a.default.find(q)}},{key:"import",value:function(q){return this.imports[q]==null&&N.error("Cannot import "+q+". Are you sure it was registered?"),this.imports[q]}},{key:"register",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof q!="string"){var H=q.attrName||q.blotName;typeof H=="string"?this.register("formats/"+H,q,j):Object.keys(q).forEach(function(R){C.register(R,q[R],j)})}else this.imports[q]!=null&&!z&&N.warn("Overwriting "+q+" with",j),this.imports[q]=j,(q.startsWith("blots/")||q.startsWith("formats/"))&&j.blotName!=="abstract"?a.default.register(j):q.startsWith("modules")&&typeof j.register=="function"&&j.register()}}]);function D(L){var q=this,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(E(this,D),this.options=I(L,j),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",L);this.options.debug&&D.debug(this.options.debug);var C=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=a.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new c.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(H){H===t.default.events.TEXT_CHANGE&&q.root.classList.toggle("ql-blank",q.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(H,R){var M=q.selection.lastRange,K=M&&M.length===0?M.index:void 0;U.call(q,function(){return q.editor.update(null,R,K)},H)});var z=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+C+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return g(D,[{key:"addContainer",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof q=="string"){var C=q;q=document.createElement("div"),q.classList.add(C)}return this.container.insertBefore(q,j),q}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(q,j,C){var z=this,H=F(q,j,C),R=p(H,4);return q=R[0],j=R[1],C=R[3],U.call(this,function(){return z.editor.deleteText(q,j)},C,q,-1*j)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(q),this.container.classList.toggle("ql-disabled",!q)}},{key:"focus",value:function(){var q=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=q,this.scrollIntoView()}},{key:"format",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return U.call(this,function(){var H=C.getSelection(!0),R=new b.default;if(H==null)return R;if(a.default.query(q,a.default.Scope.BLOCK))R=C.editor.formatLine(H.index,H.length,y({},q,j));else{if(H.length===0)return C.selection.format(q,j),R;R=C.editor.formatText(H.index,H.length,y({},q,j))}return C.setSelection(H,t.default.sources.SILENT),R},z)}},{key:"formatLine",value:function(q,j,C,z,H){var R=this,M=void 0,K=F(q,j,C,z,H),G=p(K,4);return q=G[0],j=G[1],M=G[2],H=G[3],U.call(this,function(){return R.editor.formatLine(q,j,M)},H,q,0)}},{key:"formatText",value:function(q,j,C,z,H){var R=this,M=void 0,K=F(q,j,C,z,H),G=p(K,4);return q=G[0],j=G[1],M=G[2],H=G[3],U.call(this,function(){return R.editor.formatText(q,j,M)},H,q,0)}},{key:"getBounds",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=void 0;typeof q=="number"?C=this.selection.getBounds(q,j):C=this.selection.getBounds(q.index,q.length);var z=this.container.getBoundingClientRect();return{bottom:C.bottom-z.top,height:C.height,left:C.left-z.left,right:C.right-z.left,top:C.top-z.top,width:C.width}}},{key:"getContents",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,C=F(q,j),z=p(C,2);return q=z[0],j=z[1],this.editor.getContents(q,j)}},{key:"getFormat",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof q=="number"?this.editor.getFormat(q,j):this.editor.getFormat(q.index,q.length)}},{key:"getIndex",value:function(q){return q.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(q){return this.scroll.leaf(q)}},{key:"getLine",value:function(q){return this.scroll.line(q)}},{key:"getLines",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof q!="number"?this.scroll.lines(q.index,q.length):this.scroll.lines(q,j)}},{key:"getModule",value:function(q){return this.theme.modules[q]}},{key:"getSelection",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return q&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-q,C=F(q,j),z=p(C,2);return q=z[0],j=z[1],this.editor.getText(q,j)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(q,j,C){var z=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return U.call(this,function(){return z.editor.insertEmbed(q,j,C)},H,q)}},{key:"insertText",value:function(q,j,C,z,H){var R=this,M=void 0,K=F(q,0,C,z,H),G=p(K,4);return q=G[0],M=G[2],H=G[3],U.call(this,function(){return R.editor.insertText(q,j,M)},H,q,j.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(q,j,C){this.clipboard.dangerouslyPasteHTML(q,j,C)}},{key:"removeFormat",value:function(q,j,C){var z=this,H=F(q,j,C),R=p(H,4);return q=R[0],j=R[1],C=R[3],U.call(this,function(){return z.editor.removeFormat(q,j)},C,q)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(q){var j=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return U.call(this,function(){q=new b.default(q);var z=j.getLength(),H=j.editor.deleteText(0,z),R=j.editor.applyDelta(q),M=R.ops[R.ops.length-1];M!=null&&typeof M.insert=="string"&&M.insert[M.insert.length-1]===`
`&&(j.editor.deleteText(j.getLength()-1,1),R.delete(1));var K=H.compose(R);return K},C)}},{key:"setSelection",value:function(q,j,C){if(q==null)this.selection.setRange(null,j||D.sources.API);else{var z=F(q,j,C),H=p(z,4);q=H[0],j=H[1],C=H[3],this.selection.setRange(new r.Range(q,j),C),C!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,C=new b.default().insert(q);return this.setContents(C,j)}},{key:"update",value:function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,j=this.scroll.update(q);return this.selection.update(q),j}},{key:"updateContents",value:function(q){var j=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return U.call(this,function(){return q=new b.default(q),j.editor.applyDelta(q,C)},C,!0)}}]),D})();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=t.default.events,P.sources=t.default.sources,P.version="1.3.7",P.imports={delta:b.default,parchment:a.default,"core/module":o.default,"core/theme":k.default};function I(D,L){if(L=(0,h.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},L),!L.theme||L.theme===P.DEFAULTS.theme)L.theme=k.default;else if(L.theme=P.import("themes/"+L.theme),L.theme==null)throw new Error("Invalid theme "+L.theme+". Did you register it?");var q=(0,h.default)(!0,{},L.theme.DEFAULTS);[q,L].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(H){z.modules[H]===!0&&(z.modules[H]={})})});var j=Object.keys(q.modules).concat(Object.keys(L.modules)),C=j.reduce(function(z,H){var R=P.import("modules/"+H);return R==null?N.error("Cannot load "+H+" module. Are you sure you registered it?"):z[H]=R.DEFAULTS||{},z},{});return L.modules!=null&&L.modules.toolbar&&L.modules.toolbar.constructor!==Object&&(L.modules.toolbar={container:L.modules.toolbar}),L=(0,h.default)(!0,{},P.DEFAULTS,{modules:C},q,L),["bounds","container","scrollingContainer"].forEach(function(z){typeof L[z]=="string"&&(L[z]=document.querySelector(L[z]))}),L.modules=Object.keys(L.modules).reduce(function(z,H){return L.modules[H]&&(z[H]=L.modules[H]),z},{}),L}function U(D,L,q,j){if(this.options.strict&&!this.isEnabled()&&L===t.default.sources.USER)return new b.default;var C=q==null?null:this.getSelection(),z=this.editor.delta,H=D();if(C!=null&&(q===!0&&(q=C.index),j==null?C=Z(C,H,L):j!==0&&(C=Z(C,q,j,L)),this.setSelection(C,t.default.sources.SILENT)),H.length()>0){var R,M=[t.default.events.TEXT_CHANGE,H,z,L];if((R=this.emitter).emit.apply(R,[t.default.events.EDITOR_CHANGE].concat(M)),L!==t.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,M)}}return H}function F(D,L,q,j,C){var z={};return typeof D.index=="number"&&typeof D.length=="number"?typeof L!="number"?(C=j,j=q,q=L,L=D.length,D=D.index):(L=D.length,D=D.index):typeof L!="number"&&(C=j,j=q,q=L,L=0),(typeof q>"u"?"undefined":_(q))==="object"?(z=q,C=j):typeof q=="string"&&(j!=null?z[q]=j:C=q),C=C||t.default.sources.API,[D,L,z,C]}function Z(D,L,q,j){if(D==null)return null;var C=void 0,z=void 0;if(L instanceof b.default){var H=[D.index,D.index+D.length].map(function(G){return L.transformPosition(G,j!==t.default.sources.USER)}),R=p(H,2);C=R[0],z=R[1]}else{var M=[D.index,D.index+D.length].map(function(G){return G<L||G===L&&j===t.default.sources.USER?G:q>=0?G+q:Math.max(L,G+q)}),K=p(M,2);C=K[0],z=K[1]}return new r.Range(C,z-C)}s.expandConfig=I,s.overload=F,s.default=P}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function l(a,r){for(var c=0;c<r.length;c++){var n=r[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,r,c){return r&&l(a.prototype,r),c&&l(a,c),a}})(),p=function l(a,r,c){a===null&&(a=Function.prototype);var n=Object.getOwnPropertyDescriptor(a,r);if(n===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,r,c)}else{if("value"in n)return n.value;var x=n.get;return x===void 0?void 0:x.call(c)}},g=u(7),m=i(g),b=u(0),d=i(b);function i(l){return l&&l.__esModule?l:{default:l}}function e(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function t(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function f(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var o=(function(l){f(a,l);function a(){return e(this,a),t(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"formatAt",value:function(c,n,h,x){if(a.compare(this.statics.blotName,h)<0&&d.default.query(h,d.default.Scope.BLOT)){var O=this.isolate(c,n);x&&O.wrap(h,x)}else p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"formatAt",this).call(this,c,n,h,x)}},{key:"optimize",value:function(c){if(p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,c),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(c,n){var h=a.order.indexOf(c),x=a.order.indexOf(n);return h>=0||x>=0?h-x:c===n?0:c<n?-1:1}}]),a})(d.default.Inline);o.allowedChildren=[o,d.default.Embed,m.default],o.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],s.default=o}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(0),p=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default.Text);s.default=i}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function r(c,n){for(var h=0;h<n.length;h++){var x=n[h];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(c,x.key,x)}}return function(c,n,h){return n&&r(c.prototype,n),h&&r(c,h),c}})(),p=function r(c,n,h){c===null&&(c=Function.prototype);var x=Object.getOwnPropertyDescriptor(c,n);if(x===void 0){var O=Object.getPrototypeOf(c);return O===null?void 0:r(O,n,h)}else{if("value"in x)return x.value;var w=x.get;return w===void 0?void 0:w.call(h)}},g=u(54),m=i(g),b=u(10),d=i(b);function i(r){return r&&r.__esModule?r:{default:r}}function e(r,c){if(!(r instanceof c))throw new TypeError("Cannot call a class as a function")}function t(r,c){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:r}function f(r,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);r.prototype=Object.create(c&&c.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(r,c):r.__proto__=c)}var o=(0,d.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(r){document.addEventListener(r,function(){for(var c=arguments.length,n=Array(c),h=0;h<c;h++)n[h]=arguments[h];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(x){if(x.__quill&&x.__quill.emitter){var O;(O=x.__quill.emitter).handleDOM.apply(O,n)}})})});var a=(function(r){f(c,r);function c(){e(this,c);var n=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return n.listeners={},n.on("error",o.error),n}return _(c,[{key:"emit",value:function(){o.log.apply(o,arguments),p(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(h){for(var x=arguments.length,O=Array(x>1?x-1:0),w=1;w<x;w++)O[w-1]=arguments[w];(this.listeners[h.type]||[]).forEach(function(k){var A=k.node,y=k.handler;(h.target===A||A.contains(h.target))&&y.apply(void 0,[h].concat(O))})}},{key:"listenDOM",value:function(h,x,O){this.listeners[h]||(this.listeners[h]=[]),this.listeners[h].push({node:x,handler:O})}}]),c})(m.default);a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"},s.default=a}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});function _(g,m){if(!(g instanceof m))throw new TypeError("Cannot call a class as a function")}var p=function g(m){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_(this,g),this.quill=m,this.options=b};p.DEFAULTS={},s.default=p}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=["error","warn","log","info"],p="warn";function g(b){if(_.indexOf(b)<=_.indexOf(p)){for(var d,i=arguments.length,e=Array(i>1?i-1:0),t=1;t<i;t++)e[t-1]=arguments[t];(d=console)[b].apply(d,e)}}function m(b){return _.reduce(function(d,i){return d[i]=g.bind(console,i,b),d},{})}g.level=m.level=function(b){p=b},s.default=m}),(function(v,s,u){var _=Array.prototype.slice,p=u(52),g=u(53),m=v.exports=function(e,t,f){return f||(f={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?f.strict?e===t:e==t:i(e,t,f)};function b(e){return e==null}function d(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function i(e,t,f){var o,l;if(b(e)||b(t)||e.prototype!==t.prototype)return!1;if(g(e))return g(t)?(e=_.call(e),t=_.call(t),m(e,t,f)):!1;if(d(e)){if(!d(t)||e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var a=p(e),r=p(t)}catch{return!1}if(a.length!=r.length)return!1;for(a.sort(),r.sort(),o=a.length-1;o>=0;o--)if(a[o]!=r[o])return!1;for(o=a.length-1;o>=0;o--)if(l=a[o],!m(e[l],t[l],f))return!1;return typeof e==typeof t}}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(1),p=(function(){function g(m,b,d){d===void 0&&(d={}),this.attrName=m,this.keyName=b;var i=_.Scope.TYPE&_.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&_.Scope.LEVEL|i:this.scope=_.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return g.keys=function(m){return[].map.call(m.attributes,function(b){return b.name})},g.prototype.add=function(m,b){return this.canAdd(m,b)?(m.setAttribute(this.keyName,b),!0):!1},g.prototype.canAdd=function(m,b){var d=_.query(m,_.Scope.BLOT&(this.scope|_.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof b=="string"?this.whitelist.indexOf(b.replace(/["']/g,""))>-1:this.whitelist.indexOf(b)>-1},g.prototype.remove=function(m){m.removeAttribute(this.keyName)},g.prototype.value=function(m){var b=m.getAttribute(this.keyName);return this.canAdd(m,b)&&b?b:""},g})();s.default=p}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Code=void 0;var _=(function(){function w(k,A){var y=[],E=!0,N=!1,P=void 0;try{for(var I=k[Symbol.iterator](),U;!(E=(U=I.next()).done)&&(y.push(U.value),!(A&&y.length===A));E=!0);}catch(F){N=!0,P=F}finally{try{!E&&I.return&&I.return()}finally{if(N)throw P}}return y}return function(k,A){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return w(k,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function w(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&w(k.prototype,A),y&&w(k,y),k}})(),g=function w(k,A,y){k===null&&(k=Function.prototype);var E=Object.getOwnPropertyDescriptor(k,A);if(E===void 0){var N=Object.getPrototypeOf(k);return N===null?void 0:w(N,A,y)}else{if("value"in E)return E.value;var P=E.get;return P===void 0?void 0:P.call(y)}},m=u(2),b=r(m),d=u(0),i=r(d),e=u(4),t=r(e),f=u(6),o=r(f),l=u(7),a=r(l);function r(w){return w&&w.__esModule?w:{default:w}}function c(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function n(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:w}function h(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}var x=(function(w){h(k,w);function k(){return c(this,k),n(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k})(o.default);x.blotName="code",x.tagName="CODE";var O=(function(w){h(k,w);function k(){return c(this,k),n(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return p(k,[{key:"delta",value:function(){var y=this,E=this.domNode.textContent;return E.endsWith(`
`)&&(E=E.slice(0,-1)),E.split(`
`).reduce(function(N,P){return N.insert(P).insert(`
`,y.formats())},new b.default)}},{key:"format",value:function(y,E){if(!(y===this.statics.blotName&&E)){var N=this.descendant(a.default,this.length()-1),P=_(N,1),I=P[0];I?.deleteAt(I.length()-1,1),g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,y,E)}}},{key:"formatAt",value:function(y,E,N,P){if(E!==0&&!(i.default.query(N,i.default.Scope.BLOCK)==null||N===this.statics.blotName&&P===this.statics.formats(this.domNode))){var I=this.newlineIndex(y);if(!(I<0||I>=y+E)){var U=this.newlineIndex(y,!0)+1,F=I-U+1,Z=this.isolate(U,F),D=Z.next;Z.format(N,P),D instanceof k&&D.formatAt(0,y-U+E-F,N,P)}}}},{key:"insertAt",value:function(y,E,N){if(N==null){var P=this.descendant(a.default,y),I=_(P,2),U=I[0],F=I[1];U.insertAt(F,E)}}},{key:"length",value:function(){var y=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?y:y+1}},{key:"newlineIndex",value:function(y){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(E)return this.domNode.textContent.slice(0,y).lastIndexOf(`
`);var N=this.domNode.textContent.slice(y).indexOf(`
`);return N>-1?y+N:-1}},{key:"optimize",value:function(y){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,y);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===E.statics.formats(E.domNode)&&(E.optimize(y),E.moveChildren(this),E.remove())}},{key:"replace",value:function(y){g(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,y),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(E){var N=i.default.find(E);N==null?E.parentNode.removeChild(E):N instanceof i.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(y){var E=g(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,y);return E.setAttribute("spellcheck",!1),E}},{key:"formats",value:function(){return!0}}]),k})(t.default);O.blotName="code-block",O.tagName="PRE",O.TAB="  ",s.Code=x,s.default=O}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},p=(function(){function D(L,q){var j=[],C=!0,z=!1,H=void 0;try{for(var R=L[Symbol.iterator](),M;!(C=(M=R.next()).done)&&(j.push(M.value),!(q&&j.length===q));C=!0);}catch(K){z=!0,H=K}finally{try{!C&&R.return&&R.return()}finally{if(z)throw H}}return j}return function(L,q){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return D(L,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function D(L,q){for(var j=0;j<q.length;j++){var C=q[j];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(L,C.key,C)}}return function(L,q,j){return q&&D(L.prototype,q),j&&D(L,j),L}})(),m=u(2),b=E(m),d=u(20),i=E(d),e=u(0),t=E(e),f=u(13),o=E(f),l=u(24),a=E(l),r=u(4),c=E(r),n=u(16),h=E(n),x=u(21),O=E(x),w=u(11),k=E(w),A=u(3),y=E(A);function E(D){return D&&D.__esModule?D:{default:D}}function N(D,L,q){return L in D?Object.defineProperty(D,L,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[L]=q,D}function P(D,L){if(!(D instanceof L))throw new TypeError("Cannot call a class as a function")}var I=/^[ -~]*$/,U=(function(){function D(L){P(this,D),this.scroll=L,this.delta=this.getDelta()}return g(D,[{key:"applyDelta",value:function(q){var j=this,C=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),q=Z(q),q.reduce(function(H,R){var M=R.retain||R.delete||R.insert.length||1,K=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var G=R.insert;G.endsWith(`
`)&&C&&(C=!1,G=G.slice(0,-1)),H>=z&&!G.endsWith(`
`)&&(C=!0),j.scroll.insertAt(H,G);var Y=j.scroll.line(H),te=p(Y,2),ne=te[0],ie=te[1],ue=(0,y.default)({},(0,r.bubbleFormats)(ne));if(ne instanceof c.default){var fe=ne.descendant(t.default.Leaf,ie),_e=p(fe,1),de=_e[0];ue=(0,y.default)(ue,(0,r.bubbleFormats)(de))}K=i.default.attributes.diff(ue,K)||{}}else if(_(R.insert)==="object"){var W=Object.keys(R.insert)[0];if(W==null)return H;j.scroll.insertAt(H,W,R.insert[W])}z+=M}return Object.keys(K).forEach(function(V){j.scroll.formatAt(H,M,V,K[V])}),H+M},0),q.reduce(function(H,R){return typeof R.delete=="number"?(j.scroll.deleteAt(H,R.delete),H):H+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(q)}},{key:"deleteText",value:function(q,j){return this.scroll.deleteAt(q,j),this.update(new b.default().retain(q).delete(j))}},{key:"formatLine",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(H){if(!(C.scroll.whitelist!=null&&!C.scroll.whitelist[H])){var R=C.scroll.lines(q,Math.max(j,1)),M=j;R.forEach(function(K){var G=K.length();if(!(K instanceof o.default))K.format(H,z[H]);else{var Y=q-K.offset(C.scroll),te=K.newlineIndex(Y+M)-Y+1;K.formatAt(Y,te,H,z[H])}M-=G})}}),this.scroll.optimize(),this.update(new b.default().retain(q).retain(j,(0,O.default)(z)))}},{key:"formatText",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(z).forEach(function(H){C.scroll.formatAt(q,j,H,z[H])}),this.update(new b.default().retain(q).retain(j,(0,O.default)(z)))}},{key:"getContents",value:function(q,j){return this.delta.slice(q,q+j)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(q,j){return q.concat(j.delta())},new b.default)}},{key:"getFormat",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=[],z=[];j===0?this.scroll.path(q).forEach(function(R){var M=p(R,1),K=M[0];K instanceof c.default?C.push(K):K instanceof t.default.Leaf&&z.push(K)}):(C=this.scroll.lines(q,j),z=this.scroll.descendants(t.default.Leaf,q,j));var H=[C,z].map(function(R){if(R.length===0)return{};for(var M=(0,r.bubbleFormats)(R.shift());Object.keys(M).length>0;){var K=R.shift();if(K==null)return M;M=F((0,r.bubbleFormats)(K),M)}return M});return y.default.apply(y.default,H)}},{key:"getText",value:function(q,j){return this.getContents(q,j).filter(function(C){return typeof C.insert=="string"}).map(function(C){return C.insert}).join("")}},{key:"insertEmbed",value:function(q,j,C){return this.scroll.insertAt(q,j,C),this.update(new b.default().retain(q).insert(N({},j,C)))}},{key:"insertText",value:function(q,j){var C=this,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return j=j.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(q,j),Object.keys(z).forEach(function(H){C.scroll.formatAt(q,j.length,H,z[H])}),this.update(new b.default().retain(q).insert(j,(0,O.default)(z)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var q=this.scroll.children.head;return q.statics.blotName!==c.default.blotName||q.children.length>1?!1:q.children.head instanceof h.default}},{key:"removeFormat",value:function(q,j){var C=this.getText(q,j),z=this.scroll.line(q+j),H=p(z,2),R=H[0],M=H[1],K=0,G=new b.default;R!=null&&(R instanceof o.default?K=R.newlineIndex(M)-M+1:K=R.length()-M,G=R.delta().slice(M,M+K-1).insert(`
`));var Y=this.getContents(q,j+K),te=Y.diff(new b.default().insert(C).concat(G)),ne=new b.default().retain(q).concat(te);return this.applyDelta(ne)}},{key:"update",value:function(q){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,z=this.delta;if(j.length===1&&j[0].type==="characterData"&&j[0].target.data.match(I)&&t.default.find(j[0].target)){var H=t.default.find(j[0].target),R=(0,r.bubbleFormats)(H),M=H.offset(this.scroll),K=j[0].oldValue.replace(a.default.CONTENTS,""),G=new b.default().insert(K),Y=new b.default().insert(H.value()),te=new b.default().retain(M).concat(G.diff(Y,C));q=te.reduce(function(ne,ie){return ie.insert?ne.insert(ie.insert,R):ne.push(ie)},new b.default),this.delta=z.compose(q)}else this.delta=this.getDelta(),(!q||!(0,k.default)(z.compose(q),this.delta))&&(q=z.diff(this.delta,C));return q}}]),D})();function F(D,L){return Object.keys(L).reduce(function(q,j){return D[j]==null||(L[j]===D[j]?q[j]=L[j]:Array.isArray(L[j])?L[j].indexOf(D[j])<0&&(q[j]=L[j].concat([D[j]])):q[j]=[L[j],D[j]]),q},{})}function Z(D){return D.reduce(function(L,q){if(q.insert===1){var j=(0,O.default)(q.attributes);return delete j.image,L.insert({image:q.attributes.image},j)}if(q.attributes!=null&&(q.attributes.list===!0||q.attributes.bullet===!0)&&(q=(0,O.default)(q),q.attributes.list?q.attributes.list="ordered":(q.attributes.list="bullet",delete q.attributes.bullet)),typeof q.insert=="string"){var C=q.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return L.insert(C,q.attributes)}return L.push(q)},new b.default)}s.default=U}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Range=void 0;var _=(function(){function w(k,A){var y=[],E=!0,N=!1,P=void 0;try{for(var I=k[Symbol.iterator](),U;!(E=(U=I.next()).done)&&(y.push(U.value),!(A&&y.length===A));E=!0);}catch(F){N=!0,P=F}finally{try{!E&&I.return&&I.return()}finally{if(N)throw P}}return y}return function(k,A){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return w(k,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function w(k,A){for(var y=0;y<A.length;y++){var E=A[y];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(k,E.key,E)}}return function(k,A,y){return A&&w(k.prototype,A),y&&w(k,y),k}})(),g=u(0),m=a(g),b=u(21),d=a(b),i=u(11),e=a(i),t=u(8),f=a(t),o=u(10),l=a(o);function a(w){return w&&w.__esModule?w:{default:w}}function r(w){if(Array.isArray(w)){for(var k=0,A=Array(w.length);k<w.length;k++)A[k]=w[k];return A}else return Array.from(w)}function c(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}var n=(0,l.default)("quill:selection"),h=function w(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;c(this,w),this.index=k,this.length=A},x=(function(){function w(k,A){var y=this;c(this,w),this.emitter=A,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=m.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){y.mouseDown||setTimeout(y.update.bind(y,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(E,N){E===f.default.events.TEXT_CHANGE&&N.length()>0&&y.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(y.hasFocus()){var E=y.getNativeRange();E!=null&&E.start.node!==y.cursor.textNode&&y.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{y.setNativeRange(E.start.node,E.start.offset,E.end.node,E.end.offset)}catch{}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(E,N){if(N.range){var P=N.range,I=P.startNode,U=P.startOffset,F=P.endNode,Z=P.endOffset;y.setNativeRange(I,U,F,Z)}}),this.update(f.default.sources.SILENT)}return p(w,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var y=A.cursor.restore();if(!y)return;setTimeout(function(){A.setNativeRange(y.startNode,y.startOffset,y.endNode,y.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,y){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[A])){this.scroll.update();var E=this.getNativeRange();if(!(E==null||!E.native.collapsed||m.default.query(A,m.default.Scope.BLOCK))){if(E.start.node!==this.cursor.textNode){var N=m.default.find(E.start.node,!1);if(N==null)return;if(N instanceof m.default.Leaf){var P=N.split(E.start.offset);N.parent.insertBefore(this.cursor,P)}else N.insertBefore(this.cursor,E.start.node);this.cursor.attach()}this.cursor.format(A,y),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,E=this.scroll.length();A=Math.min(A,E-1),y=Math.min(A+y,E-1)-A;var N=void 0,P=this.scroll.leaf(A),I=_(P,2),U=I[0],F=I[1];if(U==null)return null;var Z=U.position(F,!0),D=_(Z,2);N=D[0],F=D[1];var L=document.createRange();if(y>0){L.setStart(N,F);var q=this.scroll.leaf(A+y),j=_(q,2);if(U=j[0],F=j[1],U==null)return null;var C=U.position(F,!0),z=_(C,2);return N=z[0],F=z[1],L.setEnd(N,F),L.getBoundingClientRect()}else{var H="left",R=void 0;return N instanceof Text?(F<N.data.length?(L.setStart(N,F),L.setEnd(N,F+1)):(L.setStart(N,F-1),L.setEnd(N,F),H="right"),R=L.getBoundingClientRect()):(R=U.domNode.getBoundingClientRect(),F>0&&(H="right")),{bottom:R.top+R.height,height:R.height,left:R[H],right:R[H],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var y=A.getRangeAt(0);if(y==null)return null;var E=this.normalizeNative(y);return n.info("getNativeRange",E),E}},{key:"getRange",value:function(){var A=this.getNativeRange();if(A==null)return[null,null];var y=this.normalizedToRange(A);return[y,A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var y=this,E=[[A.start.node,A.start.offset]];A.native.collapsed||E.push([A.end.node,A.end.offset]);var N=E.map(function(U){var F=_(U,2),Z=F[0],D=F[1],L=m.default.find(Z,!0),q=L.offset(y.scroll);return D===0?q:L instanceof m.default.Container?q+L.length():q+L.index(Z,D)}),P=Math.min(Math.max.apply(Math,r(N)),this.scroll.length()-1),I=Math.min.apply(Math,[P].concat(r(N)));return new h(I,P-I)}},{key:"normalizeNative",value:function(A){if(!O(this.root,A.startContainer)||!A.collapsed&&!O(this.root,A.endContainer))return null;var y={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[y.start,y.end].forEach(function(E){for(var N=E.node,P=E.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>P)N=N.childNodes[P],P=0;else if(N.childNodes.length===P)N=N.lastChild,P=N instanceof Text?N.data.length:N.childNodes.length+1;else break;E.node=N,E.offset=P}),y}},{key:"rangeToNative",value:function(A){var y=this,E=A.collapsed?[A.index]:[A.index,A.index+A.length],N=[],P=this.scroll.length();return E.forEach(function(I,U){I=Math.min(P-1,I);var F=void 0,Z=y.scroll.leaf(I),D=_(Z,2),L=D[0],q=D[1],j=L.position(q,U!==0),C=_(j,2);F=C[0],q=C[1],N.push(F,q)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(A){var y=this.lastRange;if(y!=null){var E=this.getBounds(y.index,y.length);if(E!=null){var N=this.scroll.length()-1,P=this.scroll.line(Math.min(y.index,N)),I=_(P,1),U=I[0],F=U;if(y.length>0){var Z=this.scroll.line(Math.min(y.index+y.length,N)),D=_(Z,1);F=D[0]}if(!(U==null||F==null)){var L=A.getBoundingClientRect();E.top<L.top?A.scrollTop-=L.top-E.top:E.bottom>L.bottom&&(A.scrollTop+=E.bottom-L.bottom)}}}}},{key:"setNativeRange",value:function(A,y){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:y,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n.info("setNativeRange",A,y,E,N),!(A!=null&&(this.root.parentNode==null||A.parentNode==null||E.parentNode==null))){var I=document.getSelection();if(I!=null)if(A!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||P||A!==U.startContainer||y!==U.startOffset||E!==U.endContainer||N!==U.endOffset){A.tagName=="BR"&&(y=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),E.tagName=="BR"&&(N=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode);var F=document.createRange();F.setStart(A,y),F.setEnd(E,N),I.removeAllRanges(),I.addRange(F)}}else I.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.default.sources.API;if(typeof y=="string"&&(E=y,y=!1),n.info("setRange",A),A!=null){var N=this.rangeToNative(A);this.setNativeRange.apply(this,r(N).concat([y]))}else this.setNativeRange(null);this.update(E)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.default.sources.USER,y=this.lastRange,E=this.getRange(),N=_(E,2),P=N[0],I=N[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(y,this.lastRange)){var U;!this.composing&&I!=null&&I.native.collapsed&&I.start.node!==this.cursor.textNode&&this.cursor.restore();var F=[f.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(y),A];if((U=this.emitter).emit.apply(U,[f.default.events.EDITOR_CHANGE].concat(F)),A!==f.default.sources.SILENT){var Z;(Z=this.emitter).emit.apply(Z,F)}}}}]),w})();function O(w,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),w.contains(k)}s.Range=h,s.default=x}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var a=0;a<l.length;a++){var r=l[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,l,a){return l&&f(o.prototype,l),a&&f(o,a),o}})(),p=function f(o,l,a){o===null&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(r===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,a)}else{if("value"in r)return r.value;var n=r.get;return n===void 0?void 0:n.call(a)}},g=u(0),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function i(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _(o,[{key:"insertInto",value:function(a,r){a.children.length===0?p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"insertInto",this).call(this,a,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),o})(m.default.Embed);t.blotName="break",t.tagName="BR",s.default=t}),(function(v,s,u){var _=this&&this.__extends||(function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){i(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(44),g=u(30),m=u(1),b=(function(i){_(e,i);function e(t){var f=i.call(this,t)||this;return f.build(),f}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){i.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new p.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var o=d(f);t.insertBefore(o,t.children.head||void 0)}catch(l){if(l instanceof m.ParchmentError)return;throw l}})},e.prototype.deleteAt=function(t,f){if(t===0&&f===this.length())return this.remove();this.children.forEachAt(t,f,function(o,l,a){o.deleteAt(l,a)})},e.prototype.descendant=function(t,f){var o=this.children.find(f),l=o[0],a=o[1];return t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t?[l,a]:l instanceof e?l.descendant(t,a):[null,-1]},e.prototype.descendants=function(t,f,o){f===void 0&&(f=0),o===void 0&&(o=Number.MAX_VALUE);var l=[],a=o;return this.children.forEachAt(f,o,function(r,c,n){(t.blotName==null&&t(r)||t.blotName!=null&&r instanceof t)&&l.push(r),r instanceof e&&(l=l.concat(r.descendants(t,c,a))),a-=n}),l},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),i.prototype.detach.call(this)},e.prototype.formatAt=function(t,f,o,l){this.children.forEachAt(t,f,function(a,r,c){a.formatAt(r,c,o,l)})},e.prototype.insertAt=function(t,f,o){var l=this.children.find(t),a=l[0],r=l[1];if(a)a.insertAt(r,f,o);else{var c=o==null?m.create("text",f):m.create(f,o);this.appendChild(c)}},e.prototype.insertBefore=function(t,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(o){return t instanceof o}))throw new m.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,f)},e.prototype.length=function(){return this.children.reduce(function(t,f){return t+f.length()},0)},e.prototype.moveChildren=function(t,f){this.children.forEach(function(o){t.insertBefore(o,f)})},e.prototype.optimize=function(t){if(i.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var f=m.create(this.statics.defaultChild);this.appendChild(f),f.optimize(t)}else this.remove()},e.prototype.path=function(t,f){f===void 0&&(f=!1);var o=this.children.find(t,f),l=o[0],a=o[1],r=[[this,t]];return l instanceof e?r.concat(l.path(a,f)):(l!=null&&r.push([l,a]),r)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),i.prototype.replace.call(this,t)},e.prototype.split=function(t,f){if(f===void 0&&(f=!1),!f){if(t===0)return this;if(t===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(t,this.length(),function(l,a,r){l=l.split(a,f),o.appendChild(l)}),o},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,f){var o=this,l=[],a=[];t.forEach(function(r){r.target===o.domNode&&r.type==="childList"&&(l.push.apply(l,r.addedNodes),a.push.apply(a,r.removedNodes))}),a.forEach(function(r){if(!(r.parentNode!=null&&r.tagName!=="IFRAME"&&document.body.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var c=m.find(r);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===o.domNode)&&c.detach()}}),l.filter(function(r){return r.parentNode==o.domNode}).sort(function(r,c){return r===c?0:r.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(r){var c=null;r.nextSibling!=null&&(c=m.find(r.nextSibling));var n=d(r);(n.next!=c||n.next==null)&&(n.parent!=null&&n.parent.removeChild(o),o.insertBefore(n,c||void 0))})},e})(g.default);function d(i){var e=m.find(i);if(e==null)try{e=m.create(i)}catch{e=m.create(m.Scope.INLINE),[].slice.call(i.childNodes).forEach(function(f){e.domNode.appendChild(f)}),i.parentNode&&i.parentNode.replaceChild(e.domNode,i),e.attach()}return e}s.default=b}),(function(v,s,u){var _=this&&this.__extends||(function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){i(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(12),g=u(31),m=u(17),b=u(1),d=(function(i){_(e,i);function e(t){var f=i.call(this,t)||this;return f.attributes=new g.default(f.domNode),f}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,f){var o=b.query(t);o instanceof p.default?this.attributes.attribute(o,f):f&&o!=null&&(t!==this.statics.blotName||this.formats()[t]!==f)&&this.replaceWith(t,f)},e.prototype.formats=function(){var t=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(t[this.statics.blotName]=f),t},e.prototype.replaceWith=function(t,f){var o=i.prototype.replaceWith.call(this,t,f);return this.attributes.copy(o),o},e.prototype.update=function(t,f){var o=this;i.prototype.update.call(this,t,f),t.some(function(l){return l.target===o.domNode&&l.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,f){var o=i.prototype.wrap.call(this,t,f);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e})(m.default);s.default=d}),(function(v,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,i){d.__proto__=i}||function(d,i){for(var e in i)i.hasOwnProperty(e)&&(d[e]=i[e])};return function(d,i){b(d,i);function e(){this.constructor=d}d.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(30),g=u(1),m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.value=function(i){return!0},d.prototype.index=function(i,e){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},d.prototype.position=function(i,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return i>0&&(t+=1),[this.parent.domNode,t]},d.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},d.scope=g.Scope.INLINE_BLOT,d})(p.default);s.default=m}),(function(v,s,u){var _=u(11),p=u(3),g={attributes:{compose:function(b,d,i){typeof b!="object"&&(b={}),typeof d!="object"&&(d={});var e=p(!0,{},d);i||(e=Object.keys(e).reduce(function(f,o){return e[o]!=null&&(f[o]=e[o]),f},{}));for(var t in b)b[t]!==void 0&&d[t]===void 0&&(e[t]=b[t]);return Object.keys(e).length>0?e:void 0},diff:function(b,d){typeof b!="object"&&(b={}),typeof d!="object"&&(d={});var i=Object.keys(b).concat(Object.keys(d)).reduce(function(e,t){return _(b[t],d[t])||(e[t]=d[t]===void 0?null:d[t]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(b,d,i){if(typeof b!="object")return d;if(typeof d=="object"){if(!i)return d;var e=Object.keys(d).reduce(function(t,f){return b[f]===void 0&&(t[f]=d[f]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(b){return new m(b)},length:function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}};function m(b){this.ops=b,this.index=0,this.offset=0}m.prototype.hasNext=function(){return this.peekLength()<1/0},m.prototype.next=function(b){b||(b=1/0);var d=this.ops[this.index];if(d){var i=this.offset,e=g.length(d);if(b>=e-i?(b=e-i,this.index+=1,this.offset=0):this.offset+=b,typeof d.delete=="number")return{delete:b};var t={};return d.attributes&&(t.attributes=d.attributes),typeof d.retain=="number"?t.retain=b:typeof d.insert=="string"?t.insert=d.insert.substr(i,b):t.insert=d.insert,t}else return{retain:1/0}},m.prototype.peek=function(){return this.ops[this.index]},m.prototype.peekLength=function(){return this.ops[this.index]?g.length(this.ops[this.index])-this.offset:1/0},m.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},m.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,d=this.index,i=this.next(),e=this.ops.slice(this.index);return this.offset=b,this.index=d,[i].concat(e)}else return[]},v.exports=g}),(function(v,s){var u=(function(){function _(o,l){return l!=null&&o instanceof l}var p;try{p=Map}catch{p=function(){}}var g;try{g=Set}catch{g=function(){}}var m;try{m=Promise}catch{m=function(){}}function b(o,l,a,r,c){typeof l=="object"&&(a=l.depth,r=l.prototype,c=l.includeNonEnumerable,l=l.circular);var n=[],h=[],x=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof a>"u"&&(a=1/0);function O(w,k){if(w===null)return null;if(k===0)return w;var A,y;if(typeof w!="object")return w;if(_(w,p))A=new p;else if(_(w,g))A=new g;else if(_(w,m))A=new m(function(L,q){w.then(function(j){L(O(j,k-1))},function(j){q(O(j,k-1))})});else if(b.__isArray(w))A=[];else if(b.__isRegExp(w))A=new RegExp(w.source,f(w)),w.lastIndex&&(A.lastIndex=w.lastIndex);else if(b.__isDate(w))A=new Date(w.getTime());else{if(x&&Buffer.isBuffer(w))return Buffer.allocUnsafe?A=Buffer.allocUnsafe(w.length):A=new Buffer(w.length),w.copy(A),A;_(w,Error)?A=Object.create(w):typeof r>"u"?(y=Object.getPrototypeOf(w),A=Object.create(y)):(A=Object.create(r),y=r)}if(l){var E=n.indexOf(w);if(E!=-1)return h[E];n.push(w),h.push(A)}_(w,p)&&w.forEach(function(L,q){var j=O(q,k-1),C=O(L,k-1);A.set(j,C)}),_(w,g)&&w.forEach(function(L){var q=O(L,k-1);A.add(q)});for(var N in w){var P;y&&(P=Object.getOwnPropertyDescriptor(y,N)),!(P&&P.set==null)&&(A[N]=O(w[N],k-1))}if(Object.getOwnPropertySymbols)for(var I=Object.getOwnPropertySymbols(w),N=0;N<I.length;N++){var U=I[N],F=Object.getOwnPropertyDescriptor(w,U);F&&!F.enumerable&&!c||(A[U]=O(w[U],k-1),F.enumerable||Object.defineProperty(A,U,{enumerable:!1}))}if(c)for(var Z=Object.getOwnPropertyNames(w),N=0;N<Z.length;N++){var D=Z[N],F=Object.getOwnPropertyDescriptor(w,D);F&&F.enumerable||(A[D]=O(w[D],k-1),Object.defineProperty(A,D,{enumerable:!1}))}return A}return O(o,a)}b.clonePrototype=function(l){if(l===null)return null;var a=function(){};return a.prototype=l,new a};function d(o){return Object.prototype.toString.call(o)}b.__objToStr=d;function i(o){return typeof o=="object"&&d(o)==="[object Date]"}b.__isDate=i;function e(o){return typeof o=="object"&&d(o)==="[object Array]"}b.__isArray=e;function t(o){return typeof o=="object"&&d(o)==="[object RegExp]"}b.__isRegExp=t;function f(o){var l="";return o.global&&(l+="g"),o.ignoreCase&&(l+="i"),o.multiline&&(l+="m"),l}return b.__getRegExpFlags=f,b})();typeof v=="object"&&v.exports&&(v.exports=u)}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function A(y,E){var N=[],P=!0,I=!1,U=void 0;try{for(var F=y[Symbol.iterator](),Z;!(P=(Z=F.next()).done)&&(N.push(Z.value),!(E&&N.length===E));P=!0);}catch(D){I=!0,U=D}finally{try{!P&&F.return&&F.return()}finally{if(I)throw U}}return N}return function(y,E){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return A(y,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function A(y,E){for(var N=0;N<E.length;N++){var P=E[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,E,N){return E&&A(y.prototype,E),N&&A(y,N),y}})(),g=function A(y,E,N){y===null&&(y=Function.prototype);var P=Object.getOwnPropertyDescriptor(y,E);if(P===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:A(I,E,N)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(N)}},m=u(0),b=n(m),d=u(8),i=n(d),e=u(4),t=n(e),f=u(16),o=n(f),l=u(13),a=n(l),r=u(25),c=n(r);function n(A){return A&&A.__esModule?A:{default:A}}function h(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}function x(A,y){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:A}function O(A,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);A.prototype=Object.create(y&&y.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(A,y):A.__proto__=y)}function w(A){return A instanceof t.default||A instanceof e.BlockEmbed}var k=(function(A){O(y,A);function y(E,N){h(this,y);var P=x(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E));return P.emitter=N.emitter,Array.isArray(N.whitelist)&&(P.whitelist=N.whitelist.reduce(function(I,U){return I[U]=!0,I},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return p(y,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,P){var I=this.line(N),U=_(I,2),F=U[0],Z=U[1],D=this.line(N+P),L=_(D,1),q=L[0];if(g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"deleteAt",this).call(this,N,P),q!=null&&F!==q&&Z>0){if(F instanceof e.BlockEmbed||q instanceof e.BlockEmbed){this.optimize();return}if(F instanceof a.default){var j=F.newlineIndex(F.length(),!0);if(j>-1&&(F=F.split(j+1),F===q)){this.optimize();return}}else if(q instanceof a.default){var C=q.newlineIndex(0);C>-1&&q.split(C+1)}var z=q.children.head instanceof o.default?null:q.children.head;F.moveChildren(q,z),F.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,P,I,U){this.whitelist!=null&&!this.whitelist[I]||(g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,N,P,I,U),this.optimize())}},{key:"insertAt",value:function(N,P,I){if(!(I!=null&&this.whitelist!=null&&!this.whitelist[P])){if(N>=this.length())if(I==null||b.default.query(P,b.default.Scope.BLOCK)==null){var U=b.default.create(this.statics.defaultChild);this.appendChild(U),I==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),U.insertAt(0,P,I)}else{var F=b.default.create(P,I);this.appendChild(F)}else g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertAt",this).call(this,N,P,I);this.optimize()}}},{key:"insertBefore",value:function(N,P){if(N.statics.scope===b.default.Scope.INLINE_BLOT){var I=b.default.create(this.statics.defaultChild);I.appendChild(N),N=I}g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"insertBefore",this).call(this,N,P)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(w,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,I=function U(F,Z,D){var L=[],q=D;return F.children.forEachAt(Z,D,function(j,C,z){w(j)?L.push(j):j instanceof b.default.Container&&(L=L.concat(U(j,C,q))),q-=z}),L};return I(this,N,P)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,N,P),N.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,N,P))}},{key:"path",value:function(N){return g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var P=i.default.sources.USER;typeof N=="string"&&(P=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,P,N),g(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,P,N)}}}]),y})(b.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[t.default,e.BlockEmbed,c.default],s.default=k}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.SHORTKEY=s.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},p=(function(){function R(M,K){var G=[],Y=!0,te=!1,ne=void 0;try{for(var ie=M[Symbol.iterator](),ue;!(Y=(ue=ie.next()).done)&&(G.push(ue.value),!(K&&G.length===K));Y=!0);}catch(fe){te=!0,ne=fe}finally{try{!Y&&ie.return&&ie.return()}finally{if(te)throw ne}}return G}return function(M,K){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function R(M,K){for(var G=0;G<K.length;G++){var Y=K[G];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,K,G){return K&&R(M.prototype,K),G&&R(M,G),M}})(),m=u(21),b=A(m),d=u(11),i=A(d),e=u(3),t=A(e),f=u(2),o=A(f),l=u(20),a=A(l),r=u(0),c=A(r),n=u(5),h=A(n),x=u(10),O=A(x),w=u(9),k=A(w);function A(R){return R&&R.__esModule?R:{default:R}}function y(R,M,K){return M in R?Object.defineProperty(R,M,{value:K,enumerable:!0,configurable:!0,writable:!0}):R[M]=K,R}function E(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function N(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function P(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var I=(0,O.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",F=(function(R){P(M,R),g(M,null,[{key:"match",value:function(G,Y){return Y=H(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function(te){return!!Y[te]!==G[te]&&Y[te]!==null})?!1:Y.key===(G.which||G.keyCode)}}]);function M(K,G){E(this,M);var Y=N(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,G));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function(te){te==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Y.options.bindings[te]&&Y.addBinding(Y.options.bindings[te])}),Y.addBinding({key:M.keys.ENTER,shiftKey:null},j),Y.addBinding({key:M.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!0},D),Y.addBinding({key:M.keys.DELETE},{collapsed:!0},L)):(Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),Y.addBinding({key:M.keys.DELETE},{collapsed:!0,suffix:/^.?$/},L)),Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!1},q),Y.addBinding({key:M.keys.DELETE},{collapsed:!1},q),Y.addBinding({key:M.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),Y.listen(),Y}return g(M,[{key:"addBinding",value:function(G){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ne=H(G);if(ne==null||ne.key==null)return I.warn("Attempted to add invalid keyboard binding",ne);typeof Y=="function"&&(Y={handler:Y}),typeof te=="function"&&(te={handler:te}),ne=(0,t.default)(ne,Y,te),this.bindings[ne.key]=this.bindings[ne.key]||[],this.bindings[ne.key].push(ne)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var te=Y.which||Y.keyCode,ne=(G.bindings[te]||[]).filter(function(pe){return M.match(Y,pe)});if(ne.length!==0){var ie=G.quill.getSelection();if(!(ie==null||!G.quill.hasFocus())){var ue=G.quill.getLine(ie.index),fe=p(ue,2),_e=fe[0],de=fe[1],W=G.quill.getLeaf(ie.index),V=p(W,2),$=V[0],ee=V[1],Q=ie.length===0?[$,ee]:G.quill.getLeaf(ie.index+ie.length),ae=p(Q,2),oe=ae[0],le=ae[1],Oe=$ instanceof c.default.Text?$.value().slice(0,ee):"",we=oe instanceof c.default.Text?oe.value().slice(le):"",he={collapsed:ie.length===0,empty:ie.length===0&&_e.length()<=1,format:G.quill.getFormat(ie),offset:de,prefix:Oe,suffix:we},Ue=ne.some(function(pe){if(pe.collapsed!=null&&pe.collapsed!==he.collapsed||pe.empty!=null&&pe.empty!==he.empty||pe.offset!=null&&pe.offset!==he.offset)return!1;if(Array.isArray(pe.format)){if(pe.format.every(function(ke){return he.format[ke]==null}))return!1}else if(_(pe.format)==="object"&&!Object.keys(pe.format).every(function(ke){return pe.format[ke]===!0?he.format[ke]!=null:pe.format[ke]===!1?he.format[ke]==null:(0,i.default)(pe.format[ke],he.format[ke])}))return!1;return pe.prefix!=null&&!pe.prefix.test(he.prefix)||pe.suffix!=null&&!pe.suffix.test(he.suffix)?!1:pe.handler.call(G,ie,he)!==!0});Ue&&Y.preventDefault()}}}})}}]),M})(k.default);F.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},F.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:F.keys.TAB,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:F.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:F.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(M,K){K.format.indent!=null?this.quill.format("indent","-1",h.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:F.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(M){this.quill.deleteText(M.index-1,1,h.default.sources.USER)}},tab:{key:F.keys.TAB,handler:function(M){this.quill.history.cutoff();var K=new o.default().retain(M.index).delete(M.length).insert("	");this.quill.updateContents(K,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index+1,h.default.sources.SILENT)}},"list empty enter":{key:F.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(M,K){this.quill.format("list",!1,h.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:F.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(M){var K=this.quill.getLine(M.index),G=p(K,2),Y=G[0],te=G[1],ne=(0,t.default)({},Y.formats(),{list:"checked"}),ie=new o.default().retain(M.index).insert(`
`,ne).retain(Y.length()-te-1).retain(1,{list:"unchecked"});this.quill.updateContents(ie,h.default.sources.USER),this.quill.setSelection(M.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:F.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(M,K){var G=this.quill.getLine(M.index),Y=p(G,2),te=Y[0],ne=Y[1],ie=new o.default().retain(M.index).insert(`
`,K.format).retain(te.length()-ne-1).retain(1,{header:null});this.quill.updateContents(ie,h.default.sources.USER),this.quill.setSelection(M.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(M,K){var G=K.prefix.length,Y=this.quill.getLine(M.index),te=p(Y,2),ne=te[0],ie=te[1];if(ie>G)return!0;var ue=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(M.index," ",h.default.sources.USER),this.quill.history.cutoff();var fe=new o.default().retain(M.index-ie).delete(G+1).retain(ne.length()-2-ie).retain(1,{list:ue});this.quill.updateContents(fe,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index-G,h.default.sources.SILENT)}},"code exit":{key:F.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(M){var K=this.quill.getLine(M.index),G=p(K,2),Y=G[0],te=G[1],ne=new o.default().retain(M.index+Y.length()-te-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ne,h.default.sources.USER)}},"embed left":Z(F.keys.LEFT,!1),"embed left shift":Z(F.keys.LEFT,!0),"embed right":Z(F.keys.RIGHT,!1),"embed right shift":Z(F.keys.RIGHT,!0)}};function Z(R,M){var K,G=R===F.keys.LEFT?"prefix":"suffix";return K={key:R,shiftKey:M,altKey:null},y(K,G,/^$/),y(K,"handler",function(te){var ne=te.index;R===F.keys.RIGHT&&(ne+=te.length+1);var ie=this.quill.getLeaf(ne),ue=p(ie,1),fe=ue[0];return fe instanceof c.default.Embed?(R===F.keys.LEFT?M?this.quill.setSelection(te.index-1,te.length+1,h.default.sources.USER):this.quill.setSelection(te.index-1,h.default.sources.USER):M?this.quill.setSelection(te.index,te.length+1,h.default.sources.USER):this.quill.setSelection(te.index+te.length+1,h.default.sources.USER),!1):!0}),K}function D(R,M){if(!(R.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(R.index),G=p(K,1),Y=G[0],te={};if(M.offset===0){var ne=this.quill.getLine(R.index-1),ie=p(ne,1),ue=ie[0];if(ue!=null&&ue.length()>1){var fe=Y.formats(),_e=this.quill.getFormat(R.index-1,1);te=a.default.attributes.diff(fe,_e)||{}}}var de=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(M.prefix)?2:1;this.quill.deleteText(R.index-de,de,h.default.sources.USER),Object.keys(te).length>0&&this.quill.formatLine(R.index-de,de,te,h.default.sources.USER),this.quill.focus()}}function L(R,M){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(M.suffix)?2:1;if(!(R.index>=this.quill.getLength()-K)){var G={},Y=0,te=this.quill.getLine(R.index),ne=p(te,1),ie=ne[0];if(M.offset>=ie.length()-1){var ue=this.quill.getLine(R.index+1),fe=p(ue,1),_e=fe[0];if(_e){var de=ie.formats(),W=this.quill.getFormat(R.index,1);G=a.default.attributes.diff(de,W)||{},Y=_e.length()}}this.quill.deleteText(R.index,K,h.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(R.index+Y-1,K,G,h.default.sources.USER)}}function q(R){var M=this.quill.getLines(R),K={};if(M.length>1){var G=M[0].formats(),Y=M[M.length-1].formats();K=a.default.attributes.diff(Y,G)||{}}this.quill.deleteText(R,h.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(R.index,1,K,h.default.sources.USER),this.quill.setSelection(R.index,h.default.sources.SILENT),this.quill.focus()}function j(R,M){var K=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var G=Object.keys(M.format).reduce(function(Y,te){return c.default.query(te,c.default.Scope.BLOCK)&&!Array.isArray(M.format[te])&&(Y[te]=M.format[te]),Y},{});this.quill.insertText(R.index,`
`,G,h.default.sources.USER),this.quill.setSelection(R.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(M.format).forEach(function(Y){G[Y]==null&&(Array.isArray(M.format[Y])||Y!=="link"&&K.quill.format(Y,M.format[Y],h.default.sources.USER))})}function C(R){return{key:F.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(K){var G=c.default.query("code-block"),Y=K.index,te=K.length,ne=this.quill.scroll.descendant(G,Y),ie=p(ne,2),ue=ie[0],fe=ie[1];if(ue!=null){var _e=this.quill.getIndex(ue),de=ue.newlineIndex(fe,!0)+1,W=ue.newlineIndex(_e+fe+te),V=ue.domNode.textContent.slice(de,W).split(`
`);fe=0,V.forEach(function($,ee){R?(ue.insertAt(de+fe,G.TAB),fe+=G.TAB.length,ee===0?Y+=G.TAB.length:te+=G.TAB.length):$.startsWith(G.TAB)&&(ue.deleteAt(de+fe,G.TAB.length),fe-=G.TAB.length,ee===0?Y-=G.TAB.length:te-=G.TAB.length),fe+=$.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(Y,te,h.default.sources.SILENT)}}}}function z(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(K,G){this.quill.format(R,!G.format[R],h.default.sources.USER)}}}function H(R){if(typeof R=="string"||typeof R=="number")return H({key:R});if((typeof R>"u"?"undefined":_(R))==="object"&&(R=(0,b.default)(R,!1)),typeof R.key=="string")if(F.keys[R.key.toUpperCase()]!=null)R.key=F.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[U]=R.shortKey,delete R.shortKey),R}s.default=F,s.SHORTKEY=U}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function a(r,c){var n=[],h=!0,x=!1,O=void 0;try{for(var w=r[Symbol.iterator](),k;!(h=(k=w.next()).done)&&(n.push(k.value),!(c&&n.length===c));h=!0);}catch(A){x=!0,O=A}finally{try{!h&&w.return&&w.return()}finally{if(x)throw O}}return n}return function(r,c){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return a(r,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=function a(r,c,n){r===null&&(r=Function.prototype);var h=Object.getOwnPropertyDescriptor(r,c);if(h===void 0){var x=Object.getPrototypeOf(r);return x===null?void 0:a(x,c,n)}else{if("value"in h)return h.value;var O=h.get;return O===void 0?void 0:O.call(n)}},g=(function(){function a(r,c){for(var n=0;n<c.length;n++){var h=c[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}return function(r,c,n){return c&&a(r.prototype,c),n&&a(r,n),r}})(),m=u(0),b=e(m),d=u(7),i=e(d);function e(a){return a&&a.__esModule?a:{default:a}}function t(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function f(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function o(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var l=(function(a){o(r,a),g(r,null,[{key:"value",value:function(){}}]);function r(c,n){t(this,r);var h=f(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,c));return h.selection=n,h.textNode=document.createTextNode(r.CONTENTS),h.domNode.appendChild(h.textNode),h._length=0,h}return g(r,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(n,h){if(this._length!==0)return p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,n,h);for(var x=this,O=0;x!=null&&x.statics.scope!==b.default.Scope.BLOCK_BLOT;)O+=x.offset(x.parent),x=x.parent;x!=null&&(this._length=r.CONTENTS.length,x.optimize(),x.formatAt(O,r.CONTENTS.length,n,h),this._length=0)}},{key:"index",value:function(n,h){return n===this.textNode?0:p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"index",this).call(this,n,h)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var n=this.textNode,h=this.selection.getNativeRange(),x=void 0,O=void 0,w=void 0;if(h!=null&&h.start.node===n&&h.end.node===n){var k=[n,h.start.offset,h.end.offset];x=k[0],O=k[1],w=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==r.CONTENTS){var A=this.textNode.data.split(r.CONTENTS).join("");this.next instanceof i.default?(x=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=r.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(b.default.create(this.textNode),this),this.textNode=document.createTextNode(r.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),O!=null){var y=[O,w].map(function(N){return Math.max(0,Math.min(x.data.length,N-1))}),E=_(y,2);return O=E[0],w=E[1],{startNode:x,startOffset:O,endNode:x,endOffset:w}}}}},{key:"update",value:function(n,h){var x=this;if(n.some(function(w){return w.type==="characterData"&&w.target===x.textNode})){var O=this.restore();O&&(h.range=O)}}},{key:"value",value:function(){return""}}]),r})(b.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",s.default=l}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(0),p=b(_),g=u(4),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function i(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o})(p.default.Container);t.allowedChildren=[m.default,g.BlockEmbed,t],s.default=t}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.ColorStyle=s.ColorClass=s.ColorAttributor=void 0;var _=(function(){function l(a,r){for(var c=0;c<r.length;c++){var n=r[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,r,c){return r&&l(a.prototype,r),c&&l(a,c),a}})(),p=function l(a,r,c){a===null&&(a=Function.prototype);var n=Object.getOwnPropertyDescriptor(a,r);if(n===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,r,c)}else{if("value"in n)return n.value;var x=n.get;return x===void 0?void 0:x.call(c)}},g=u(0),m=b(g);function b(l){return l&&l.__esModule?l:{default:l}}function d(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function i(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function e(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var t=(function(l){e(a,l);function a(){return d(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"value",value:function(c){var n=p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,c);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(h){return("00"+parseInt(h).toString(16)).slice(-2)}).join("")):n}}]),a})(m.default.Attributor.Style),f=new m.default.Attributor.Class("color","ql-color",{scope:m.default.Scope.INLINE}),o=new t("color","color",{scope:m.default.Scope.INLINE});s.ColorAttributor=t,s.ColorClass=f,s.ColorStyle=o}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.sanitize=s.default=void 0;var _=(function(){function o(l,a){for(var r=0;r<a.length;r++){var c=a[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(l,a,r){return a&&o(l.prototype,a),r&&o(l,r),l}})(),p=function o(l,a,r){l===null&&(l=Function.prototype);var c=Object.getOwnPropertyDescriptor(l,a);if(c===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:o(n,a,r)}else{if("value"in c)return c.value;var h=c.get;return h===void 0?void 0:h.call(r)}},g=u(6),m=b(g);function b(o){return o&&o.__esModule?o:{default:o}}function d(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function i(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return d(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"format",value:function(r,c){if(r!==this.statics.blotName||!c)return p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,r,c);c=this.constructor.sanitize(c),this.domNode.setAttribute("href",c)}}],[{key:"create",value:function(r){var c=p(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,r);return r=this.sanitize(r),c.setAttribute("href",r),c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target","_blank"),c}},{key:"formats",value:function(r){return r.getAttribute("href")}},{key:"sanitize",value:function(r){return f(r,this.PROTOCOL_WHITELIST)?r:this.SANITIZED_URL}}]),l})(m.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function f(o,l){var a=document.createElement("a");a.href=o;var r=a.href.slice(0,a.href.indexOf(":"));return l.indexOf(r)>-1}s.default=t,s.sanitize=f}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},p=(function(){function l(a,r){for(var c=0;c<r.length;c++){var n=r[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,r,c){return r&&l(a.prototype,r),c&&l(a,c),a}})(),g=u(23),m=i(g),b=u(107),d=i(b);function i(l){return l&&l.__esModule?l:{default:l}}function e(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}var t=0;function f(l,a){l.setAttribute(a,l.getAttribute(a)!=="true")}var o=(function(){function l(a){var r=this;e(this,l),this.select=a,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){r.togglePicker()}),this.label.addEventListener("keydown",function(c){switch(c.keyCode){case m.default.keys.ENTER:r.togglePicker();break;case m.default.keys.ESCAPE:r.escape(),c.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return p(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(r){var c=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),r.hasAttribute("value")&&n.setAttribute("data-value",r.getAttribute("value")),r.textContent&&n.setAttribute("data-label",r.textContent),n.addEventListener("click",function(){c.selectItem(n,!0)}),n.addEventListener("keydown",function(h){switch(h.keyCode){case m.default.keys.ENTER:c.selectItem(n,!0),h.preventDefault();break;case m.default.keys.ESCAPE:c.escape(),h.preventDefault();break}}),n}},{key:"buildLabel",value:function(){var r=document.createElement("span");return r.classList.add("ql-picker-label"),r.innerHTML=d.default,r.tabIndex="0",r.setAttribute("role","button"),r.setAttribute("aria-expanded","false"),this.container.appendChild(r),r}},{key:"buildOptions",value:function(){var r=this,c=document.createElement("span");c.classList.add("ql-picker-options"),c.setAttribute("aria-hidden","true"),c.tabIndex="-1",c.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",c.id),this.options=c,[].slice.call(this.select.options).forEach(function(n){var h=r.buildItem(n);c.appendChild(h),n.selected===!0&&r.selectItem(h)}),this.container.appendChild(c)}},{key:"buildPicker",value:function(){var r=this;[].slice.call(this.select.attributes).forEach(function(c){r.container.setAttribute(c.name,c.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var r=this;this.close(),setTimeout(function(){return r.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.container.querySelector(".ql-selected");if(r!==n&&(n?.classList.remove("ql-selected"),r!=null&&(r.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(r.parentNode.children,r),r.hasAttribute("data-value")?this.label.setAttribute("data-value",r.getAttribute("data-value")):this.label.removeAttribute("data-value"),r.hasAttribute("data-label")?this.label.setAttribute("data-label",r.getAttribute("data-label")):this.label.removeAttribute("data-label"),c))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":_(Event))==="object"){var h=document.createEvent("Event");h.initEvent("change",!0,!0),this.select.dispatchEvent(h)}this.close()}}},{key:"update",value:function(){var r=void 0;if(this.select.selectedIndex>-1){var c=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];r=this.select.options[this.select.selectedIndex],this.selectItem(c)}else this.selectItem(null);var n=r!=null&&r!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),l})();s.default=o}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(0),p=I(_),g=u(5),m=I(g),b=u(4),d=I(b),i=u(16),e=I(i),t=u(25),f=I(t),o=u(24),l=I(o),a=u(35),r=I(a),c=u(6),n=I(c),h=u(22),x=I(h),O=u(7),w=I(O),k=u(55),A=I(k),y=u(42),E=I(y),N=u(23),P=I(N);function I(U){return U&&U.__esModule?U:{default:U}}m.default.register({"blots/block":d.default,"blots/block/embed":b.BlockEmbed,"blots/break":e.default,"blots/container":f.default,"blots/cursor":l.default,"blots/embed":r.default,"blots/inline":n.default,"blots/scroll":x.default,"blots/text":w.default,"modules/clipboard":A.default,"modules/history":E.default,"modules/keyboard":P.default}),p.default.register(d.default,e.default,l.default,n.default,x.default,w.default),s.default=m.default}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(1),p=(function(){function g(m){this.domNode=m,this.domNode[_.DATA_KEY]={blot:this}}return Object.defineProperty(g.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),g.create=function(m){if(this.tagName==null)throw new _.ParchmentError("Blot definition missing tagName");var b;return Array.isArray(this.tagName)?(typeof m=="string"&&(m=m.toUpperCase(),parseInt(m).toString()===m&&(m=parseInt(m))),typeof m=="number"?b=document.createElement(this.tagName[m-1]):this.tagName.indexOf(m)>-1?b=document.createElement(m):b=document.createElement(this.tagName[0])):b=document.createElement(this.tagName),this.className&&b.classList.add(this.className),b},g.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},g.prototype.clone=function(){var m=this.domNode.cloneNode(!1);return _.create(m)},g.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[_.DATA_KEY]},g.prototype.deleteAt=function(m,b){var d=this.isolate(m,b);d.remove()},g.prototype.formatAt=function(m,b,d,i){var e=this.isolate(m,b);if(_.query(d,_.Scope.BLOT)!=null&&i)e.wrap(d,i);else if(_.query(d,_.Scope.ATTRIBUTE)!=null){var t=_.create(this.statics.scope);e.wrap(t),t.format(d,i)}},g.prototype.insertAt=function(m,b,d){var i=d==null?_.create("text",b):_.create(b,d),e=this.split(m);this.parent.insertBefore(i,e)},g.prototype.insertInto=function(m,b){b===void 0&&(b=null),this.parent!=null&&this.parent.children.remove(this);var d=null;m.children.insertBefore(this,b),b!=null&&(d=b.domNode),(this.domNode.parentNode!=m.domNode||this.domNode.nextSibling!=d)&&m.domNode.insertBefore(this.domNode,d),this.parent=m,this.attach()},g.prototype.isolate=function(m,b){var d=this.split(m);return d.split(b),d},g.prototype.length=function(){return 1},g.prototype.offset=function(m){return m===void 0&&(m=this.parent),this.parent==null||this==m?0:this.parent.children.offset(this)+this.parent.offset(m)},g.prototype.optimize=function(m){this.domNode[_.DATA_KEY]!=null&&delete this.domNode[_.DATA_KEY].mutations},g.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},g.prototype.replace=function(m){m.parent!=null&&(m.parent.insertBefore(this,m.next),m.remove())},g.prototype.replaceWith=function(m,b){var d=typeof m=="string"?_.create(m,b):m;return d.replace(this),d},g.prototype.split=function(m,b){return m===0?this:this.next},g.prototype.update=function(m,b){},g.prototype.wrap=function(m,b){var d=typeof m=="string"?_.create(m,b):m;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},g.blotName="abstract",g})();s.default=p}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(12),p=u(32),g=u(33),m=u(1),b=(function(){function d(i){this.attributes={},this.domNode=i,this.build()}return d.prototype.attribute=function(i,e){e?i.add(this.domNode,e)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])},d.prototype.build=function(){var i=this;this.attributes={};var e=_.default.keys(this.domNode),t=p.default.keys(this.domNode),f=g.default.keys(this.domNode);e.concat(t).concat(f).forEach(function(o){var l=m.query(o,m.Scope.ATTRIBUTE);l instanceof _.default&&(i.attributes[l.attrName]=l)})},d.prototype.copy=function(i){var e=this;Object.keys(this.attributes).forEach(function(t){var f=e.attributes[t].value(e.domNode);i.format(t,f)})},d.prototype.move=function(i){var e=this;this.copy(i),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},d.prototype.values=function(){var i=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=i.attributes[t].value(i.domNode),e},{})},d})();s.default=b}),(function(v,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,i){d.__proto__=i}||function(d,i){for(var e in i)i.hasOwnProperty(e)&&(d[e]=i[e])};return function(d,i){b(d,i);function e(){this.constructor=d}d.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(12);function g(b,d){var i=b.getAttribute("class")||"";return i.split(/\s+/).filter(function(e){return e.indexOf(d+"-")===0})}var m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},d.prototype.add=function(i,e){return this.canAdd(i,e)?(this.remove(i),i.classList.add(this.keyName+"-"+e),!0):!1},d.prototype.remove=function(i){var e=g(i,this.keyName);e.forEach(function(t){i.classList.remove(t)}),i.classList.length===0&&i.removeAttribute("class")},d.prototype.value=function(i){var e=g(i,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(i,t)?t:""},d})(p.default);s.default=m}),(function(v,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,i){d.__proto__=i}||function(d,i){for(var e in i)i.hasOwnProperty(e)&&(d[e]=i[e])};return function(d,i){b(d,i);function e(){this.constructor=d}d.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(12);function g(b){var d=b.split("-"),i=d.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return d[0]+i}var m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},d.prototype.add=function(i,e){return this.canAdd(i,e)?(i.style[g(this.keyName)]=e,!0):!1},d.prototype.remove=function(i){i.style[g(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},d.prototype.value=function(i){var e=i.style[g(this.keyName)];return this.canAdd(i,e)?e:""},d})(p.default);s.default=m}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function m(b,d){for(var i=0;i<d.length;i++){var e=d[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}}return function(b,d,i){return d&&m(b.prototype,d),i&&m(b,i),b}})();function p(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var g=(function(){function m(b,d){p(this,m),this.quill=b,this.options=d,this.modules={}}return _(m,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(i){d.modules[i]==null&&d.addModule(i)})}},{key:"addModule",value:function(d){var i=this.quill.constructor.import("modules/"+d);return this.modules[d]=new i(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),m})();g.DEFAULTS={modules:{}},g.themes={default:g},s.default=g}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function a(r,c){for(var n=0;n<c.length;n++){var h=c[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}return function(r,c,n){return c&&a(r.prototype,c),n&&a(r,n),r}})(),p=function a(r,c,n){r===null&&(r=Function.prototype);var h=Object.getOwnPropertyDescriptor(r,c);if(h===void 0){var x=Object.getPrototypeOf(r);return x===null?void 0:a(x,c,n)}else{if("value"in h)return h.value;var O=h.get;return O===void 0?void 0:O.call(n)}},g=u(0),m=i(g),b=u(7),d=i(b);function i(a){return a&&a.__esModule?a:{default:a}}function e(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function t(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function f(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var o="\uFEFF",l=(function(a){f(r,a);function r(c){e(this,r);var n=t(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,c));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(h){n.contentNode.appendChild(h)}),n.leftGuard=document.createTextNode(o),n.rightGuard=document.createTextNode(o),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return _(r,[{key:"index",value:function(n,h){return n===this.leftGuard?0:n===this.rightGuard?1:p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"index",this).call(this,n,h)}},{key:"restore",value:function(n){var h=void 0,x=void 0,O=n.data.split(o).join("");if(n===this.leftGuard)if(this.prev instanceof d.default){var w=this.prev.length();this.prev.insertAt(w,O),h={startNode:this.prev.domNode,startOffset:w+O.length}}else x=document.createTextNode(O),this.parent.insertBefore(m.default.create(x),this),h={startNode:x,startOffset:O.length};else n===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,O),h={startNode:this.next.domNode,startOffset:O.length}):(x=document.createTextNode(O),this.parent.insertBefore(m.default.create(x),this.next),h={startNode:x,startOffset:O.length}));return n.data=o,h}},{key:"update",value:function(n,h){var x=this;n.forEach(function(O){if(O.type==="characterData"&&(O.target===x.leftGuard||O.target===x.rightGuard)){var w=x.restore(O.target);w&&(h.range=w)}})}}]),r})(m.default.Embed);s.default=l}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.AlignStyle=s.AlignClass=s.AlignAttribute=void 0;var _=u(0),p=g(_);function g(e){return e&&e.__esModule?e:{default:e}}var m={scope:p.default.Scope.BLOCK,whitelist:["right","center","justify"]},b=new p.default.Attributor.Attribute("align","align",m),d=new p.default.Attributor.Class("align","ql-align",m),i=new p.default.Attributor.Style("align","text-align",m);s.AlignAttribute=b,s.AlignClass=d,s.AlignStyle=i}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.BackgroundStyle=s.BackgroundClass=void 0;var _=u(0),p=m(_),g=u(26);function m(i){return i&&i.__esModule?i:{default:i}}var b=new p.default.Attributor.Class("background","ql-bg",{scope:p.default.Scope.INLINE}),d=new g.ColorAttributor("background","background-color",{scope:p.default.Scope.INLINE});s.BackgroundClass=b,s.BackgroundStyle=d}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.DirectionStyle=s.DirectionClass=s.DirectionAttribute=void 0;var _=u(0),p=g(_);function g(e){return e&&e.__esModule?e:{default:e}}var m={scope:p.default.Scope.BLOCK,whitelist:["rtl"]},b=new p.default.Attributor.Attribute("direction","dir",m),d=new p.default.Attributor.Class("direction","ql-direction",m),i=new p.default.Attributor.Style("direction","direction",m);s.DirectionAttribute=b,s.DirectionClass=d,s.DirectionStyle=i}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.FontClass=s.FontStyle=void 0;var _=(function(){function a(r,c){for(var n=0;n<c.length;n++){var h=c[n];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(r,h.key,h)}}return function(r,c,n){return c&&a(r.prototype,c),n&&a(r,n),r}})(),p=function a(r,c,n){r===null&&(r=Function.prototype);var h=Object.getOwnPropertyDescriptor(r,c);if(h===void 0){var x=Object.getPrototypeOf(r);return x===null?void 0:a(x,c,n)}else{if("value"in h)return h.value;var O=h.get;return O===void 0?void 0:O.call(n)}},g=u(0),m=b(g);function b(a){return a&&a.__esModule?a:{default:a}}function d(a,r){if(!(a instanceof r))throw new TypeError("Cannot call a class as a function")}function i(a,r){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:a}function e(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}var t={scope:m.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new m.default.Attributor.Class("font","ql-font",t),o=(function(a){e(r,a);function r(){return d(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return _(r,[{key:"value",value:function(n){return p(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]),r})(m.default.Attributor.Style),l=new o("font","font-family",t);s.FontStyle=l,s.FontClass=f}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.SizeStyle=s.SizeClass=void 0;var _=u(0),p=g(_);function g(d){return d&&d.__esModule?d:{default:d}}var m=new p.default.Attributor.Class("size","ql-size",{scope:p.default.Scope.INLINE,whitelist:["small","large","huge"]}),b=new p.default.Attributor.Style("size","font-size",{scope:p.default.Scope.INLINE,whitelist:["10px","18px","32px"]});s.SizeClass=m,s.SizeStyle=b}),(function(v,s,u){v.exports={align:{"":u(76),center:u(77),right:u(78),justify:u(79)},background:u(80),blockquote:u(81),bold:u(82),clean:u(83),code:u(58),"code-block":u(58),color:u(84),direction:{"":u(85),rtl:u(86)},float:{center:u(87),full:u(88),left:u(89),right:u(90)},formula:u(91),header:{1:u(92),2:u(93)},italic:u(94),image:u(95),indent:{"+1":u(96),"-1":u(97)},link:u(98),list:{ordered:u(99),bullet:u(100),check:u(101)},script:{sub:u(102),super:u(103)},strike:u(104),underline:u(105),video:u(106)}}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.getLastChangeIndex=s.default=void 0;var _=(function(){function c(n,h){for(var x=0;x<h.length;x++){var O=h[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(n,O.key,O)}}return function(n,h,x){return h&&c(n.prototype,h),x&&c(n,x),n}})(),p=u(0),g=e(p),m=u(5),b=e(m),d=u(9),i=e(d);function e(c){return c&&c.__esModule?c:{default:c}}function t(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function f(c,n){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:c}function o(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(c,n):c.__proto__=n)}var l=(function(c){o(n,c);function n(h,x){t(this,n);var O=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,h,x));return O.lastRecorded=0,O.ignoreChange=!1,O.clear(),O.quill.on(b.default.events.EDITOR_CHANGE,function(w,k,A,y){w!==b.default.events.TEXT_CHANGE||O.ignoreChange||(!O.options.userOnly||y===b.default.sources.USER?O.record(k,A):O.transform(k))}),O.quill.keyboard.addBinding({key:"Z",shortKey:!0},O.undo.bind(O)),O.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},O.redo.bind(O)),/Win/i.test(navigator.platform)&&O.quill.keyboard.addBinding({key:"Y",shortKey:!0},O.redo.bind(O)),O}return _(n,[{key:"change",value:function(x,O){if(this.stack[x].length!==0){var w=this.stack[x].pop();this.stack[O].push(w),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(w[x],b.default.sources.USER),this.ignoreChange=!1;var k=r(w[x]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(x,O){if(x.ops.length!==0){this.stack.redo=[];var w=this.quill.getContents().diff(O),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var A=this.stack.undo.pop();w=w.compose(A.undo),x=A.redo.compose(x)}else this.lastRecorded=k;this.stack.undo.push({redo:x,undo:w}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(x){this.stack.undo.forEach(function(O){O.undo=x.transform(O.undo,!0),O.redo=x.transform(O.redo,!0)}),this.stack.redo.forEach(function(O){O.undo=x.transform(O.undo,!0),O.redo=x.transform(O.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n})(i.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function a(c){var n=c.ops[c.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(function(h){return g.default.query(h,g.default.Scope.BLOCK)!=null}):!1}function r(c){var n=c.reduce(function(x,O){return x+=O.delete||0,x},0),h=c.length()-n;return a(c)&&(h-=1),h}s.default=l,s.getLastChangeIndex=r}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BaseTooltip=void 0;var _=(function(){function j(C,z){for(var H=0;H<z.length;H++){var R=z[H];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}return function(C,z,H){return z&&j(C.prototype,z),H&&j(C,H),C}})(),p=function j(C,z,H){C===null&&(C=Function.prototype);var R=Object.getOwnPropertyDescriptor(C,z);if(R===void 0){var M=Object.getPrototypeOf(C);return M===null?void 0:j(M,z,H)}else{if("value"in R)return R.value;var K=R.get;return K===void 0?void 0:K.call(H)}},g=u(3),m=k(g),b=u(2),d=k(b),i=u(8),e=k(i),t=u(23),f=k(t),o=u(34),l=k(o),a=u(59),r=k(a),c=u(60),n=k(c),h=u(28),x=k(h),O=u(61),w=k(O);function k(j){return j&&j.__esModule?j:{default:j}}function A(j,C){if(!(j instanceof C))throw new TypeError("Cannot call a class as a function")}function y(j,C){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:j}function E(j,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);j.prototype=Object.create(C&&C.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(j,C):j.__proto__=C)}var N=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],I=[!1,"serif","monospace"],U=["1","2","3",!1],F=["small",!1,"large","huge"],Z=(function(j){E(C,j);function C(z,H){A(this,C);var R=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,z,H)),M=function K(G){if(!document.body.contains(z.root))return document.body.removeEventListener("click",K);R.tooltip!=null&&!R.tooltip.root.contains(G.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(Y){Y.container.contains(G.target)||Y.close()})};return z.emitter.listenDOM("click",document.body,M),R}return _(C,[{key:"addModule",value:function(H){var R=p(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"addModule",this).call(this,H);return H==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(H,R){H.forEach(function(M){var K=M.getAttribute("class")||"";K.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),R[G]!=null))if(G==="direction")M.innerHTML=R[G][""]+R[G].rtl;else if(typeof R[G]=="string")M.innerHTML=R[G];else{var Y=M.value||"";Y!=null&&R[G][Y]&&(M.innerHTML=R[G][Y])}})})}},{key:"buildPickers",value:function(H,R){var M=this;this.pickers=H.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&q(G,N),new n.default(G,R.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var Y=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&q(G,P,Y==="background"?"#ffffff":"#000000"),new r.default(G,R[Y])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?q(G,I):G.classList.contains("ql-header")?q(G,U):G.classList.contains("ql-size")&&q(G,F)),new x.default(G)});var K=function(){M.pickers.forEach(function(Y){Y.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,K)}}]),C})(l.default);Z.DEFAULTS=(0,m.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var C=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&(z=document.createElement("input"),z.setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var H=new FileReader;H.onload=function(R){var M=C.quill.getSelection(!0);C.quill.updateContents(new d.default().retain(M.index).delete(M.length).insert({image:R.target.result}),e.default.sources.USER),C.quill.setSelection(M.index+1,e.default.sources.SILENT),z.value=""},H.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=(function(j){E(C,j);function C(z,H){A(this,C);var R=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,z,H));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return _(C,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(R){f.default.match(R,"enter")?(H.save(),R.preventDefault()):f.default.match(R,"escape")&&(H.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,e.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":H=L(H);case"formula":{if(!H)break;var M=this.quill.getSelection(!0);if(M!=null){var K=M.index+M.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),H,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",e.default.sources.USER),this.quill.setSelection(K+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),C})(w.default);function L(j){var C=j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||j.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return C?(C[1]||"https")+"://www.youtube.com/embed/"+C[2]+"?showinfo=0":(C=j.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(C[1]||"https")+"://player.vimeo.com/video/"+C[2]+"/":j}function q(j,C){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;C.forEach(function(H){var R=document.createElement("option");H===z?R.setAttribute("selected","selected"):R.setAttribute("value",H),j.appendChild(R)})}s.BaseTooltip=D,s.default=Z}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function p(){this.head=this.tail=null,this.length=0}return p.prototype.append=function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];this.insertBefore(g[0],null),g.length>1&&this.append.apply(this,g.slice(1))},p.prototype.contains=function(g){for(var m,b=this.iterator();m=b();)if(m===g)return!0;return!1},p.prototype.insertBefore=function(g,m){g&&(g.next=m,m!=null?(g.prev=m.prev,m.prev!=null&&(m.prev.next=g),m.prev=g,m===this.head&&(this.head=g)):this.tail!=null?(this.tail.next=g,g.prev=this.tail,this.tail=g):(g.prev=null,this.head=this.tail=g),this.length+=1)},p.prototype.offset=function(g){for(var m=0,b=this.head;b!=null;){if(b===g)return m;m+=b.length(),b=b.next}return-1},p.prototype.remove=function(g){this.contains(g)&&(g.prev!=null&&(g.prev.next=g.next),g.next!=null&&(g.next.prev=g.prev),g===this.head&&(this.head=g.next),g===this.tail&&(this.tail=g.prev),this.length-=1)},p.prototype.iterator=function(g){return g===void 0&&(g=this.head),function(){var m=g;return g!=null&&(g=g.next),m}},p.prototype.find=function(g,m){m===void 0&&(m=!1);for(var b,d=this.iterator();b=d();){var i=b.length();if(g<i||m&&g===i&&(b.next==null||b.next.length()!==0))return[b,g];g-=i}return[null,0]},p.prototype.forEach=function(g){for(var m,b=this.iterator();m=b();)g(m)},p.prototype.forEachAt=function(g,m,b){if(!(m<=0))for(var d=this.find(g),i=d[0],e=d[1],t,f=g-e,o=this.iterator(i);(t=o())&&f<g+m;){var l=t.length();g>f?b(t,g-f,Math.min(m,f+l-g)):b(t,0,Math.min(l,g+m-f)),f+=l}},p.prototype.map=function(g){return this.reduce(function(m,b){return m.push(g(b)),m},[])},p.prototype.reduce=function(g,m){for(var b,d=this.iterator();b=d();)m=g(m,b);return m},p})();s.default=_}),(function(v,s,u){var _=this&&this.__extends||(function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var f in t)t.hasOwnProperty(f)&&(e[f]=t[f])};return function(e,t){i(e,t);function f(){this.constructor=e}e.prototype=t===null?Object.create(t):(f.prototype=t.prototype,new f)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(17),g=u(1),m={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},b=100,d=(function(i){_(e,i);function e(t){var f=i.call(this,t)||this;return f.scroll=f,f.observer=new MutationObserver(function(o){f.update(o)}),f.observer.observe(f.domNode,m),f.attach(),f}return e.prototype.detach=function(){i.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,f){this.update(),t===0&&f===this.length()?this.children.forEach(function(o){o.remove()}):i.prototype.deleteAt.call(this,t,f)},e.prototype.formatAt=function(t,f,o,l){this.update(),i.prototype.formatAt.call(this,t,f,o,l)},e.prototype.insertAt=function(t,f,o){this.update(),i.prototype.insertAt.call(this,t,f,o)},e.prototype.optimize=function(t,f){var o=this;t===void 0&&(t=[]),f===void 0&&(f={}),i.prototype.optimize.call(this,f);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var a=function(h,x){x===void 0&&(x=!0),!(h==null||h===o)&&h.domNode.parentNode!=null&&(h.domNode[g.DATA_KEY].mutations==null&&(h.domNode[g.DATA_KEY].mutations=[]),x&&a(h.parent))},r=function(h){h.domNode[g.DATA_KEY]==null||h.domNode[g.DATA_KEY].mutations==null||(h instanceof p.default&&h.children.forEach(r),h.optimize(f))},c=t,n=0;c.length>0;n+=1){if(n>=b)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(h){var x=g.find(h.target,!0);x!=null&&(x.domNode===h.target&&(h.type==="childList"?(a(g.find(h.previousSibling,!1)),[].forEach.call(h.addedNodes,function(O){var w=g.find(O,!1);a(w,!1),w instanceof p.default&&w.children.forEach(function(k){a(k,!1)})})):h.type==="attributes"&&a(x.prev)),a(x))}),this.children.forEach(r),c=[].slice.call(this.observer.takeRecords()),l=c.slice();l.length>0;)t.push(l.pop())}},e.prototype.update=function(t,f){var o=this;f===void 0&&(f={}),t=t||this.observer.takeRecords(),t.map(function(l){var a=g.find(l.target,!0);return a==null?null:a.domNode[g.DATA_KEY].mutations==null?(a.domNode[g.DATA_KEY].mutations=[l],a):(a.domNode[g.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===o||l.domNode[g.DATA_KEY]==null||l.update(l.domNode[g.DATA_KEY].mutations||[],f)}),this.domNode[g.DATA_KEY].mutations!=null&&i.prototype.update.call(this,this.domNode[g.DATA_KEY].mutations,f),this.optimize(t,f)},e.blotName="scroll",e.defaultChild="block",e.scope=g.Scope.BLOCK_BLOT,e.tagName="DIV",e})(p.default);s.default=d}),(function(v,s,u){var _=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t])};return function(i,e){d(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(18),g=u(1);function m(d,i){if(Object.keys(d).length!==Object.keys(i).length)return!1;for(var e in d)if(d[e]!==i[e])return!1;return!0}var b=(function(d){_(i,d);function i(){return d!==null&&d.apply(this,arguments)||this}return i.formats=function(e){if(e.tagName!==i.tagName)return d.formats.call(this,e)},i.prototype.format=function(e,t){var f=this;e===this.statics.blotName&&!t?(this.children.forEach(function(o){o instanceof p.default||(o=o.wrap(i.blotName,!0)),f.attributes.copy(o)}),this.unwrap()):d.prototype.format.call(this,e,t)},i.prototype.formatAt=function(e,t,f,o){if(this.formats()[f]!=null||g.query(f,g.Scope.ATTRIBUTE)){var l=this.isolate(e,t);l.format(f,o)}else d.prototype.formatAt.call(this,e,t,f,o)},i.prototype.optimize=function(e){d.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var f=this.next;f instanceof i&&f.prev===this&&m(t,f.formats())&&(f.moveChildren(this),f.remove())},i.blotName="inline",i.scope=g.Scope.INLINE_BLOT,i.tagName="SPAN",i})(p.default);s.default=b}),(function(v,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,i){d.__proto__=i}||function(d,i){for(var e in i)i.hasOwnProperty(e)&&(d[e]=i[e])};return function(d,i){b(d,i);function e(){this.constructor=d}d.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(18),g=u(1),m=(function(b){_(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.formats=function(i){var e=g.query(d.blotName).tagName;if(i.tagName!==e)return b.formats.call(this,i)},d.prototype.format=function(i,e){g.query(i,g.Scope.BLOCK)!=null&&(i===this.statics.blotName&&!e?this.replaceWith(d.blotName):b.prototype.format.call(this,i,e))},d.prototype.formatAt=function(i,e,t,f){g.query(t,g.Scope.BLOCK)!=null?this.format(t,f):b.prototype.formatAt.call(this,i,e,t,f)},d.prototype.insertAt=function(i,e,t){if(t==null||g.query(e,g.Scope.INLINE)!=null)b.prototype.insertAt.call(this,i,e,t);else{var f=this.split(i),o=g.create(e,t);f.parent.insertBefore(o,f)}},d.prototype.update=function(i,e){navigator.userAgent.match(/Trident/)?this.build():b.prototype.update.call(this,i,e)},d.blotName="block",d.scope=g.Scope.BLOCK_BLOT,d.tagName="P",d})(p.default);s.default=m}),(function(v,s,u){var _=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var i in d)d.hasOwnProperty(i)&&(b[i]=d[i])};return function(b,d){m(b,d);function i(){this.constructor=b}b.prototype=d===null?Object.create(d):(i.prototype=d.prototype,new i)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(19),g=(function(m){_(b,m);function b(){return m!==null&&m.apply(this,arguments)||this}return b.formats=function(d){},b.prototype.format=function(d,i){m.prototype.formatAt.call(this,0,this.length(),d,i)},b.prototype.formatAt=function(d,i,e,t){d===0&&i===this.length()?this.format(e,t):m.prototype.formatAt.call(this,d,i,e,t)},b.prototype.formats=function(){return this.statics.formats(this.domNode)},b})(p.default);s.default=g}),(function(v,s,u){var _=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,i){d.__proto__=i}||function(d,i){for(var e in i)i.hasOwnProperty(e)&&(d[e]=i[e])};return function(d,i){b(d,i);function e(){this.constructor=d}d.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=u(19),g=u(1),m=(function(b){_(d,b);function d(i){var e=b.call(this,i)||this;return e.text=e.statics.value(e.domNode),e}return d.create=function(i){return document.createTextNode(i)},d.value=function(i){var e=i.data;return e.normalize&&(e=e.normalize()),e},d.prototype.deleteAt=function(i,e){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+e)},d.prototype.index=function(i,e){return this.domNode===i?e:-1},d.prototype.insertAt=function(i,e,t){t==null?(this.text=this.text.slice(0,i)+e+this.text.slice(i),this.domNode.data=this.text):b.prototype.insertAt.call(this,i,e,t)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(i){b.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(i,e){return[this.domNode,i]},d.prototype.split=function(i,e){if(e===void 0&&(e=!1),!e){if(i===0)return this;if(i===this.length())return this.next}var t=g.create(this.domNode.splitText(i));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},d.prototype.update=function(i,e){var t=this;i.some(function(f){return f.type==="characterData"&&f.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=g.Scope.INLINE_BLOT,d})(p.default);s.default=m}),(function(v,s,u){var _=document.createElement("div");if(_.classList.toggle("test-class",!1),_.classList.contains("test-class")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(g,m){return arguments.length>1&&!this.contains(g)==!m?m:p.call(this,g)}}String.prototype.startsWith||(String.prototype.startsWith=function(g,m){return m=m||0,this.substr(m,g.length)===g}),String.prototype.endsWith||(String.prototype.endsWith=function(g,m){var b=this.toString();(typeof m!="number"||!isFinite(m)||Math.floor(m)!==m||m>b.length)&&(m=b.length),m-=g.length;var d=b.indexOf(g,m);return d!==-1&&d===m}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(m){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof m!="function")throw new TypeError("predicate must be a function");for(var b=Object(this),d=b.length>>>0,i=arguments[1],e,t=0;t<d;t++)if(e=b[t],m.call(i,e,t,b))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(v,s){var u=-1,_=1,p=0;function g(n,h,x){if(n==h)return n?[[p,n]]:[];(x<0||n.length<x)&&(x=null);var O=i(n,h),w=n.substring(0,O);n=n.substring(O),h=h.substring(O),O=e(n,h);var k=n.substring(n.length-O);n=n.substring(0,n.length-O),h=h.substring(0,h.length-O);var A=m(n,h);return w&&A.unshift([p,w]),k&&A.push([p,k]),f(A),x!=null&&(A=a(A,x)),A=r(A),A}function m(n,h){var x;if(!n)return[[_,h]];if(!h)return[[u,n]];var O=n.length>h.length?n:h,w=n.length>h.length?h:n,k=O.indexOf(w);if(k!=-1)return x=[[_,O.substring(0,k)],[p,w],[_,O.substring(k+w.length)]],n.length>h.length&&(x[0][0]=x[2][0]=u),x;if(w.length==1)return[[u,n],[_,h]];var A=t(n,h);if(A){var y=A[0],E=A[1],N=A[2],P=A[3],I=A[4],U=g(y,N),F=g(E,P);return U.concat([[p,I]],F)}return b(n,h)}function b(n,h){for(var x=n.length,O=h.length,w=Math.ceil((x+O)/2),k=w,A=2*w,y=new Array(A),E=new Array(A),N=0;N<A;N++)y[N]=-1,E[N]=-1;y[k+1]=0,E[k+1]=0;for(var P=x-O,I=P%2!=0,U=0,F=0,Z=0,D=0,L=0;L<w;L++){for(var q=-L+U;q<=L-F;q+=2){var j=k+q,C;q==-L||q!=L&&y[j-1]<y[j+1]?C=y[j+1]:C=y[j-1]+1;for(var z=C-q;C<x&&z<O&&n.charAt(C)==h.charAt(z);)C++,z++;if(y[j]=C,C>x)F+=2;else if(z>O)U+=2;else if(I){var H=k+P-q;if(H>=0&&H<A&&E[H]!=-1){var R=x-E[H];if(C>=R)return d(n,h,C,z)}}}for(var M=-L+Z;M<=L-D;M+=2){var H=k+M,R;M==-L||M!=L&&E[H-1]<E[H+1]?R=E[H+1]:R=E[H-1]+1;for(var K=R-M;R<x&&K<O&&n.charAt(x-R-1)==h.charAt(O-K-1);)R++,K++;if(E[H]=R,R>x)D+=2;else if(K>O)Z+=2;else if(!I){var j=k+P-M;if(j>=0&&j<A&&y[j]!=-1){var C=y[j],z=k+C-j;if(R=x-R,C>=R)return d(n,h,C,z)}}}}return[[u,n],[_,h]]}function d(n,h,x,O){var w=n.substring(0,x),k=h.substring(0,O),A=n.substring(x),y=h.substring(O),E=g(w,k),N=g(A,y);return E.concat(N)}function i(n,h){if(!n||!h||n.charAt(0)!=h.charAt(0))return 0;for(var x=0,O=Math.min(n.length,h.length),w=O,k=0;x<w;)n.substring(k,w)==h.substring(k,w)?(x=w,k=x):O=w,w=Math.floor((O-x)/2+x);return w}function e(n,h){if(!n||!h||n.charAt(n.length-1)!=h.charAt(h.length-1))return 0;for(var x=0,O=Math.min(n.length,h.length),w=O,k=0;x<w;)n.substring(n.length-w,n.length-k)==h.substring(h.length-w,h.length-k)?(x=w,k=x):O=w,w=Math.floor((O-x)/2+x);return w}function t(n,h){var x=n.length>h.length?n:h,O=n.length>h.length?h:n;if(x.length<4||O.length*2<x.length)return null;function w(F,Z,D){for(var L=F.substring(D,D+Math.floor(F.length/4)),q=-1,j="",C,z,H,R;(q=Z.indexOf(L,q+1))!=-1;){var M=i(F.substring(D),Z.substring(q)),K=e(F.substring(0,D),Z.substring(0,q));j.length<K+M&&(j=Z.substring(q-K,q)+Z.substring(q,q+M),C=F.substring(0,D-K),z=F.substring(D+M),H=Z.substring(0,q-K),R=Z.substring(q+M))}return j.length*2>=F.length?[C,z,H,R,j]:null}var k=w(x,O,Math.ceil(x.length/4)),A=w(x,O,Math.ceil(x.length/2)),y;if(!k&&!A)return null;A?k?y=k[4].length>A[4].length?k:A:y=A:y=k;var E,N,P,I;n.length>h.length?(E=y[0],N=y[1],P=y[2],I=y[3]):(P=y[0],I=y[1],E=y[2],N=y[3]);var U=y[4];return[E,N,P,I,U]}function f(n){n.push([p,""]);for(var h=0,x=0,O=0,w="",k="",A;h<n.length;)switch(n[h][0]){case _:O++,k+=n[h][1],h++;break;case u:x++,w+=n[h][1],h++;break;case p:x+O>1?(x!==0&&O!==0&&(A=i(k,w),A!==0&&(h-x-O>0&&n[h-x-O-1][0]==p?n[h-x-O-1][1]+=k.substring(0,A):(n.splice(0,0,[p,k.substring(0,A)]),h++),k=k.substring(A),w=w.substring(A)),A=e(k,w),A!==0&&(n[h][1]=k.substring(k.length-A)+n[h][1],k=k.substring(0,k.length-A),w=w.substring(0,w.length-A))),x===0?n.splice(h-O,x+O,[_,k]):O===0?n.splice(h-x,x+O,[u,w]):n.splice(h-x-O,x+O,[u,w],[_,k]),h=h-x-O+(x?1:0)+(O?1:0)+1):h!==0&&n[h-1][0]==p?(n[h-1][1]+=n[h][1],n.splice(h,1)):h++,O=0,x=0,w="",k="";break}n[n.length-1][1]===""&&n.pop();var y=!1;for(h=1;h<n.length-1;)n[h-1][0]==p&&n[h+1][0]==p&&(n[h][1].substring(n[h][1].length-n[h-1][1].length)==n[h-1][1]?(n[h][1]=n[h-1][1]+n[h][1].substring(0,n[h][1].length-n[h-1][1].length),n[h+1][1]=n[h-1][1]+n[h+1][1],n.splice(h-1,1),y=!0):n[h][1].substring(0,n[h+1][1].length)==n[h+1][1]&&(n[h-1][1]+=n[h+1][1],n[h][1]=n[h][1].substring(n[h+1][1].length)+n[h+1][1],n.splice(h+1,1),y=!0)),h++;y&&f(n)}var o=g;o.INSERT=_,o.DELETE=u,o.EQUAL=p,v.exports=o;function l(n,h){if(h===0)return[p,n];for(var x=0,O=0;O<n.length;O++){var w=n[O];if(w[0]===u||w[0]===p){var k=x+w[1].length;if(h===k)return[O+1,n];if(h<k){n=n.slice();var A=h-x,y=[w[0],w[1].slice(0,A)],E=[w[0],w[1].slice(A)];return n.splice(O,1,y,E),[O+1,n]}else x=k}}throw new Error("cursor_pos is out of bounds!")}function a(n,h){var x=l(n,h),O=x[1],w=x[0],k=O[w],A=O[w+1];if(k==null)return n;if(k[0]!==p)return n;if(A!=null&&k[1]+A[1]===A[1]+k[1])return O.splice(w,2,A,k),c(O,w,2);if(A!=null&&A[1].indexOf(k[1])===0){O.splice(w,2,[A[0],k[1]],[0,k[1]]);var y=A[1].slice(k[1].length);return y.length>0&&O.splice(w+2,0,[A[0],y]),c(O,w,3)}else return n}function r(n){for(var h=!1,x=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},O=function(A){return A.charCodeAt(A.length-1)>=55296&&A.charCodeAt(A.length-1)<=56319},w=2;w<n.length;w+=1)n[w-2][0]===p&&O(n[w-2][1])&&n[w-1][0]===u&&x(n[w-1][1])&&n[w][0]===_&&x(n[w][1])&&(h=!0,n[w-1][1]=n[w-2][1].slice(-1)+n[w-1][1],n[w][1]=n[w-2][1].slice(-1)+n[w][1],n[w-2][1]=n[w-2][1].slice(0,-1));if(!h)return n;for(var k=[],w=0;w<n.length;w+=1)n[w][1].length>0&&k.push(n[w]);return k}function c(n,h,x){for(var O=h+x-1;O>=0&&O>=h-1;O--)if(O+1<n.length){var w=n[O],k=n[O+1];w[0]===k[1]&&n.splice(O,2,[w[0],w[1]+k[1]])}return n}}),(function(v,s){s=v.exports=typeof Object.keys=="function"?Object.keys:u,s.shim=u;function u(_){var p=[];for(var g in _)p.push(g);return p}}),(function(v,s){var u=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";s=v.exports=u?_:p,s.supported=_;function _(g){return Object.prototype.toString.call(g)=="[object Arguments]"}s.unsupported=p;function p(g){return g&&typeof g=="object"&&typeof g.length=="number"&&Object.prototype.hasOwnProperty.call(g,"callee")&&!Object.prototype.propertyIsEnumerable.call(g,"callee")||!1}}),(function(v,s){var u=Object.prototype.hasOwnProperty,_="~";function p(){}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(_=!1));function g(b,d,i){this.fn=b,this.context=d,this.once=i||!1}function m(){this._events=new p,this._eventsCount=0}m.prototype.eventNames=function(){var d=[],i,e;if(this._eventsCount===0)return d;for(e in i=this._events)u.call(i,e)&&d.push(_?e.slice(1):e);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(i)):d},m.prototype.listeners=function(d,i){var e=_?_+d:d,t=this._events[e];if(i)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var f=0,o=t.length,l=new Array(o);f<o;f++)l[f]=t[f].fn;return l},m.prototype.emit=function(d,i,e,t,f,o){var l=_?_+d:d;if(!this._events[l])return!1;var a=this._events[l],r=arguments.length,c,n;if(a.fn){switch(a.once&&this.removeListener(d,a.fn,void 0,!0),r){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,i),!0;case 3:return a.fn.call(a.context,i,e),!0;case 4:return a.fn.call(a.context,i,e,t),!0;case 5:return a.fn.call(a.context,i,e,t,f),!0;case 6:return a.fn.call(a.context,i,e,t,f,o),!0}for(n=1,c=new Array(r-1);n<r;n++)c[n-1]=arguments[n];a.fn.apply(a.context,c)}else{var h=a.length,x;for(n=0;n<h;n++)switch(a[n].once&&this.removeListener(d,a[n].fn,void 0,!0),r){case 1:a[n].fn.call(a[n].context);break;case 2:a[n].fn.call(a[n].context,i);break;case 3:a[n].fn.call(a[n].context,i,e);break;case 4:a[n].fn.call(a[n].context,i,e,t);break;default:if(!c)for(x=1,c=new Array(r-1);x<r;x++)c[x-1]=arguments[x];a[n].fn.apply(a[n].context,c)}}return!0},m.prototype.on=function(d,i,e){var t=new g(i,e||this),f=_?_+d:d;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],t]:this._events[f].push(t):(this._events[f]=t,this._eventsCount++),this},m.prototype.once=function(d,i,e){var t=new g(i,e||this,!0),f=_?_+d:d;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],t]:this._events[f].push(t):(this._events[f]=t,this._eventsCount++),this},m.prototype.removeListener=function(d,i,e,t){var f=_?_+d:d;if(!this._events[f])return this;if(!i)return--this._eventsCount===0?this._events=new p:delete this._events[f],this;var o=this._events[f];if(o.fn)o.fn===i&&(!t||o.once)&&(!e||o.context===e)&&(--this._eventsCount===0?this._events=new p:delete this._events[f]);else{for(var l=0,a=[],r=o.length;l<r;l++)(o[l].fn!==i||t&&!o[l].once||e&&o[l].context!==e)&&a.push(o[l]);a.length?this._events[f]=a.length===1?a[0]:a:--this._eventsCount===0?this._events=new p:delete this._events[f]}return this},m.prototype.removeAllListeners=function(d){var i;return d?(i=_?_+d:d,this._events[i]&&(--this._eventsCount===0?this._events=new p:delete this._events[i])):(this._events=new p,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prototype.setMaxListeners=function(){return this},m.prefixed=_,m.EventEmitter=m,typeof v<"u"&&(v.exports=m)}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.matchText=s.matchSpacing=s.matchNewline=s.matchBlot=s.matchAttributor=s.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},p=(function(){function W(V,$){var ee=[],Q=!0,ae=!1,oe=void 0;try{for(var le=V[Symbol.iterator](),Oe;!(Q=(Oe=le.next()).done)&&(ee.push(Oe.value),!($&&ee.length===$));Q=!0);}catch(we){ae=!0,oe=we}finally{try{!Q&&le.return&&le.return()}finally{if(ae)throw oe}}return ee}return function(V,$){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return W(V,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),g=(function(){function W(V,$){for(var ee=0;ee<$.length;ee++){var Q=$[ee];Q.enumerable=Q.enumerable||!1,Q.configurable=!0,"value"in Q&&(Q.writable=!0),Object.defineProperty(V,Q.key,Q)}}return function(V,$,ee){return $&&W(V.prototype,$),ee&&W(V,ee),V}})(),m=u(3),b=E(m),d=u(2),i=E(d),e=u(0),t=E(e),f=u(5),o=E(f),l=u(10),a=E(l),r=u(9),c=E(r),n=u(36),h=u(37),x=u(13),O=E(x),w=u(26),k=u(38),A=u(39),y=u(40);function E(W){return W&&W.__esModule?W:{default:W}}function N(W,V,$){return V in W?Object.defineProperty(W,V,{value:$,enumerable:!0,configurable:!0,writable:!0}):W[V]=$,W}function P(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}function I(W,V){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:W}function U(W,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);W.prototype=Object.create(V&&V.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(W,V):W.__proto__=V)}var F=(0,a.default)("quill:clipboard"),Z="__ql-matcher",D=[[Node.TEXT_NODE,de],[Node.TEXT_NODE,ue],["br",te],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,_e],["li",ie],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",ne]],L=[n.AlignAttribute,k.DirectionAttribute].reduce(function(W,V){return W[V.keyName]=V,W},{}),q=[n.AlignStyle,h.BackgroundStyle,w.ColorStyle,k.DirectionStyle,A.FontStyle,y.SizeStyle].reduce(function(W,V){return W[V.keyName]=V,W},{}),j=(function(W){U(V,W);function V($,ee){P(this,V);var Q=I(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,$,ee));return Q.quill.root.addEventListener("paste",Q.onPaste.bind(Q)),Q.container=Q.quill.addContainer("ql-clipboard"),Q.container.setAttribute("contenteditable",!0),Q.container.setAttribute("tabindex",-1),Q.matchers=[],D.concat(Q.options.matchers).forEach(function(ae){var oe=p(ae,2),le=oe[0],Oe=oe[1];!ee.matchVisual&&Oe===fe||Q.addMatcher(le,Oe)}),Q}return g(V,[{key:"addMatcher",value:function(ee,Q){this.matchers.push([ee,Q])}},{key:"convert",value:function(ee){if(typeof ee=="string")return this.container.innerHTML=ee.replace(/\>\r?\n +\</g,"><"),this.convert();var Q=this.quill.getFormat(this.quill.selection.savedRange.index);if(Q[O.default.blotName]){var ae=this.container.innerText;return this.container.innerHTML="",new i.default().insert(ae,N({},O.default.blotName,Q[O.default.blotName]))}var oe=this.prepareMatching(),le=p(oe,2),Oe=le[0],we=le[1],he=M(this.container,Oe,we);return H(he,`
`)&&he.ops[he.ops.length-1].attributes==null&&(he=he.compose(new i.default().retain(he.length()-1).delete(1))),F.log("convert",this.container.innerHTML,he),this.container.innerHTML="",he}},{key:"dangerouslyPasteHTML",value:function(ee,Q){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof ee=="string")this.quill.setContents(this.convert(ee),Q),this.quill.setSelection(0,o.default.sources.SILENT);else{var oe=this.convert(Q);this.quill.updateContents(new i.default().retain(ee).concat(oe),ae),this.quill.setSelection(ee+oe.length(),o.default.sources.SILENT)}}},{key:"onPaste",value:function(ee){var Q=this;if(!(ee.defaultPrevented||!this.quill.isEnabled())){var ae=this.quill.getSelection(),oe=new i.default().retain(ae.index),le=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(o.default.sources.SILENT),setTimeout(function(){oe=oe.concat(Q.convert()).delete(ae.length),Q.quill.updateContents(oe,o.default.sources.USER),Q.quill.setSelection(oe.length()-ae.length,o.default.sources.SILENT),Q.quill.scrollingContainer.scrollTop=le,Q.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ee=this,Q=[],ae=[];return this.matchers.forEach(function(oe){var le=p(oe,2),Oe=le[0],we=le[1];switch(Oe){case Node.TEXT_NODE:ae.push(we);break;case Node.ELEMENT_NODE:Q.push(we);break;default:[].forEach.call(ee.container.querySelectorAll(Oe),function(he){he[Z]=he[Z]||[],he[Z].push(we)});break}}),[Q,ae]}}]),V})(c.default);j.DEFAULTS={matchers:[],matchVisual:!0};function C(W,V,$){return(typeof V>"u"?"undefined":_(V))==="object"?Object.keys(V).reduce(function(ee,Q){return C(ee,Q,V[Q])},W):W.reduce(function(ee,Q){return Q.attributes&&Q.attributes[V]?ee.push(Q):ee.insert(Q.insert,(0,b.default)({},N({},V,$),Q.attributes))},new i.default)}function z(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var V="__ql-computed-style";return W[V]||(W[V]=window.getComputedStyle(W))}function H(W,V){for(var $="",ee=W.ops.length-1;ee>=0&&$.length<V.length;--ee){var Q=W.ops[ee];if(typeof Q.insert!="string")break;$=Q.insert+$}return $.slice(-1*V.length)===V}function R(W){if(W.childNodes.length===0)return!1;var V=z(W);return["block","list-item"].indexOf(V.display)>-1}function M(W,V,$){return W.nodeType===W.TEXT_NODE?$.reduce(function(ee,Q){return Q(W,ee)},new i.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(ee,Q){var ae=M(Q,V,$);return Q.nodeType===W.ELEMENT_NODE&&(ae=V.reduce(function(oe,le){return le(Q,oe)},ae),ae=(Q[Z]||[]).reduce(function(oe,le){return le(Q,oe)},ae)),ee.concat(ae)},new i.default):new i.default}function K(W,V,$){return C($,W,!0)}function G(W,V){var $=t.default.Attributor.Attribute.keys(W),ee=t.default.Attributor.Class.keys(W),Q=t.default.Attributor.Style.keys(W),ae={};return $.concat(ee).concat(Q).forEach(function(oe){var le=t.default.query(oe,t.default.Scope.ATTRIBUTE);le!=null&&(ae[le.attrName]=le.value(W),ae[le.attrName])||(le=L[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(ae[le.attrName]=le.value(W)||void 0),le=q[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(le=q[oe],ae[le.attrName]=le.value(W)||void 0))}),Object.keys(ae).length>0&&(V=C(V,ae)),V}function Y(W,V){var $=t.default.query(W);if($==null)return V;if($.prototype instanceof t.default.Embed){var ee={},Q=$.value(W);Q!=null&&(ee[$.blotName]=Q,V=new i.default().insert(ee,$.formats(W)))}else typeof $.formats=="function"&&(V=C(V,$.blotName,$.formats(W)));return V}function te(W,V){return H(V,`
`)||V.insert(`
`),V}function ne(){return new i.default}function ie(W,V){var $=t.default.query(W);if($==null||$.blotName!=="list-item"||!H(V,`
`))return V;for(var ee=-1,Q=W.parentNode;!Q.classList.contains("ql-clipboard");)(t.default.query(Q)||{}).blotName==="list"&&(ee+=1),Q=Q.parentNode;return ee<=0?V:V.compose(new i.default().retain(V.length()-1).retain(1,{indent:ee}))}function ue(W,V){return H(V,`
`)||(R(W)||V.length()>0&&W.nextSibling&&R(W.nextSibling))&&V.insert(`
`),V}function fe(W,V){if(R(W)&&W.nextElementSibling!=null&&!H(V,`

`)){var $=W.offsetHeight+parseFloat(z(W).marginTop)+parseFloat(z(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+$*1.5&&V.insert(`
`)}return V}function _e(W,V){var $={},ee=W.style||{};return ee.fontStyle&&z(W).fontStyle==="italic"&&($.italic=!0),ee.fontWeight&&(z(W).fontWeight.startsWith("bold")||parseInt(z(W).fontWeight)>=700)&&($.bold=!0),Object.keys($).length>0&&(V=C(V,$)),parseFloat(ee.textIndent||0)>0&&(V=new i.default().insert("	").concat(V)),V}function de(W,V){var $=W.data;if(W.parentNode.tagName==="O:P")return V.insert($.trim());if($.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return V;if(!z(W.parentNode).whiteSpace.startsWith("pre")){var ee=function(ae,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&ae?" ":oe};$=$.replace(/\r\n/g," ").replace(/\n/g," "),$=$.replace(/\s\s+/g,ee.bind(ee,!0)),(W.previousSibling==null&&R(W.parentNode)||W.previousSibling!=null&&R(W.previousSibling))&&($=$.replace(/^\s+/,ee.bind(ee,!1))),(W.nextSibling==null&&R(W.parentNode)||W.nextSibling!=null&&R(W.nextSibling))&&($=$.replace(/\s+$/,ee.bind(ee,!1)))}return V.insert($)}s.default=j,s.matchAttributor=G,s.matchBlot=Y,s.matchNewline=ue,s.matchSpacing=fe,s.matchText=de}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var a=0;a<l.length;a++){var r=l[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,l,a){return l&&f(o.prototype,l),a&&f(o,a),o}})(),p=function f(o,l,a){o===null&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(r===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,a)}else{if("value"in r)return r.value;var n=r.get;return n===void 0?void 0:n.call(a)}},g=u(6),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function i(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _(o,[{key:"optimize",value:function(a){p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"optimize",this).call(this,a),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return p(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),o})(m.default);t.blotName="bold",t.tagName=["STRONG","B"],s.default=t}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.addControls=s.default=void 0;var _=(function(){function y(E,N){var P=[],I=!0,U=!1,F=void 0;try{for(var Z=E[Symbol.iterator](),D;!(I=(D=Z.next()).done)&&(P.push(D.value),!(N&&P.length===N));I=!0);}catch(L){U=!0,F=L}finally{try{!I&&Z.return&&Z.return()}finally{if(U)throw F}}return P}return function(E,N){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return y(E,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function y(E,N){for(var P=0;P<N.length;P++){var I=N[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(E,I.key,I)}}return function(E,N,P){return N&&y(E.prototype,N),P&&y(E,P),E}})(),g=u(2),m=a(g),b=u(0),d=a(b),i=u(5),e=a(i),t=u(10),f=a(t),o=u(9),l=a(o);function a(y){return y&&y.__esModule?y:{default:y}}function r(y,E,N){return E in y?Object.defineProperty(y,E,{value:N,enumerable:!0,configurable:!0,writable:!0}):y[E]=N,y}function c(y,E){if(!(y instanceof E))throw new TypeError("Cannot call a class as a function")}function n(y,E){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:y}function h(y,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);y.prototype=Object.create(E&&E.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(y,E):y.__proto__=E)}var x=(0,f.default)("quill:toolbar"),O=(function(y){h(E,y);function E(N,P){c(this,E);var I=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,N,P));if(Array.isArray(I.options.container)){var U=document.createElement("div");k(U,I.options.container),N.container.parentNode.insertBefore(U,N.container),I.container=U}else typeof I.options.container=="string"?I.container=document.querySelector(I.options.container):I.container=I.options.container;if(!(I.container instanceof HTMLElement)){var F;return F=x.error("Container required for toolbar",I.options),n(I,F)}return I.container.classList.add("ql-toolbar"),I.controls=[],I.handlers={},Object.keys(I.options.handlers).forEach(function(Z){I.addHandler(Z,I.options.handlers[Z])}),[].forEach.call(I.container.querySelectorAll("button, select"),function(Z){I.attach(Z)}),I.quill.on(e.default.events.EDITOR_CHANGE,function(Z,D){Z===e.default.events.SELECTION_CHANGE&&I.update(D)}),I.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var Z=I.quill.selection.getRange(),D=_(Z,1),L=D[0];I.update(L)}),I}return p(E,[{key:"addHandler",value:function(P,I){this.handlers[P]=I}},{key:"attach",value:function(P){var I=this,U=[].find.call(P.classList,function(Z){return Z.indexOf("ql-")===0});if(U){if(U=U.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){x.warn("ignoring attaching to disabled format",U,P);return}if(d.default.query(U)==null){x.warn("ignoring attaching to nonexistent format",U,P);return}}var F=P.tagName==="SELECT"?"change":"click";P.addEventListener(F,function(Z){var D=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var L=P.options[P.selectedIndex];L.hasAttribute("selected")?D=!1:D=L.value||!1}else P.classList.contains("ql-active")?D=!1:D=P.value||!P.hasAttribute("value"),Z.preventDefault();I.quill.focus();var q=I.quill.selection.getRange(),j=_(q,1),C=j[0];if(I.handlers[U]!=null)I.handlers[U].call(I,D);else if(d.default.query(U).prototype instanceof d.default.Embed){if(D=prompt("Enter "+U),!D)return;I.quill.updateContents(new m.default().retain(C.index).delete(C.length).insert(r({},U,D)),e.default.sources.USER)}else I.quill.format(U,D,e.default.sources.USER);I.update(C)}),this.controls.push([U,P])}}},{key:"update",value:function(P){var I=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(U){var F=_(U,2),Z=F[0],D=F[1];if(D.tagName==="SELECT"){var L=void 0;if(P==null)L=null;else if(I[Z]==null)L=D.querySelector("option[selected]");else if(!Array.isArray(I[Z])){var q=I[Z];typeof q=="string"&&(q=q.replace(/\"/g,'\\"')),L=D.querySelector('option[value="'+q+'"]')}L==null?(D.value="",D.selectedIndex=-1):L.selected=!0}else if(P==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var j=I[Z]===D.getAttribute("value")||I[Z]!=null&&I[Z].toString()===D.getAttribute("value")||I[Z]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",j)}else D.classList.toggle("ql-active",I[Z]!=null)})}}]),E})(l.default);O.DEFAULTS={};function w(y,E,N){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+E),N!=null&&(P.value=N),y.appendChild(P)}function k(y,E){Array.isArray(E[0])||(E=[E]),E.forEach(function(N){var P=document.createElement("span");P.classList.add("ql-formats"),N.forEach(function(I){if(typeof I=="string")w(P,I);else{var U=Object.keys(I)[0],F=I[U];Array.isArray(F)?A(P,U,F):w(P,U,F)}}),y.appendChild(P)})}function A(y,E,N){var P=document.createElement("select");P.classList.add("ql-"+E),N.forEach(function(I){var U=document.createElement("option");I!==!1?U.setAttribute("value",I):U.setAttribute("selected","selected"),P.appendChild(U)}),y.appendChild(P)}O.DEFAULTS={container:null,handlers:{clean:function(){var E=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(I){d.default.query(I,d.default.Scope.INLINE)!=null&&E.quill.format(I,!1)})}else this.quill.removeFormat(N,e.default.sources.USER)},direction:function(E){var N=this.quill.getFormat().align;E==="rtl"&&N==null?this.quill.format("align","right",e.default.sources.USER):!E&&N==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",E,e.default.sources.USER)},indent:function(E){var N=this.quill.getSelection(),P=this.quill.getFormat(N),I=parseInt(P.indent||0);if(E==="+1"||E==="-1"){var U=E==="+1"?1:-1;P.direction==="rtl"&&(U*=-1),this.quill.format("indent",I+U,e.default.sources.USER)}},link:function(E){E===!0&&(E=prompt("Enter link URL:")),this.quill.format("link",E,e.default.sources.USER)},list:function(E){var N=this.quill.getSelection(),P=this.quill.getFormat(N);E==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",E,e.default.sources.USER)}}},s.default=O,s.addControls=k}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var a=0;a<l.length;a++){var r=l[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,l,a){return l&&f(o.prototype,l),a&&f(o,a),o}})(),p=function f(o,l,a){o===null&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(r===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,a)}else{if("value"in r)return r.value;var n=r.get;return n===void 0?void 0:n.call(a)}},g=u(28),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function i(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(l,a){d(this,o);var r=i(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return r.label.innerHTML=a,r.container.classList.add("ql-color-picker"),[].slice.call(r.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(c){c.classList.add("ql-primary")}),r}return _(o,[{key:"buildItem",value:function(a){var r=p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"buildItem",this).call(this,a);return r.style.backgroundColor=a.getAttribute("value")||"",r}},{key:"selectItem",value:function(a,r){p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,a,r);var c=this.label.querySelector(".ql-color-label"),n=a&&a.getAttribute("data-value")||"";c&&(c.tagName==="line"?c.style.stroke=n:c.style.fill=n)}}]),o})(m.default);s.default=t}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var a=0;a<l.length;a++){var r=l[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,l,a){return l&&f(o.prototype,l),a&&f(o,a),o}})(),p=function f(o,l,a){o===null&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(r===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,a)}else{if("value"in r)return r.value;var n=r.get;return n===void 0?void 0:n.call(a)}},g=u(28),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function i(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(l,a){d(this,o);var r=i(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return r.container.classList.add("ql-icon-picker"),[].forEach.call(r.container.querySelectorAll(".ql-picker-item"),function(c){c.innerHTML=a[c.getAttribute("data-value")||""]}),r.defaultItem=r.container.querySelector(".ql-selected"),r.selectItem(r.defaultItem),r}return _(o,[{key:"selectItem",value:function(a,r){p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,a,r),a=a||this.defaultItem,this.label.innerHTML=a.innerHTML}}]),o})(m.default);s.default=t}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function m(b,d){for(var i=0;i<d.length;i++){var e=d[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}}return function(b,d,i){return d&&m(b.prototype,d),i&&m(b,i),b}})();function p(m,b){if(!(m instanceof b))throw new TypeError("Cannot call a class as a function")}var g=(function(){function m(b,d){var i=this;p(this,m),this.quill=b,this.boundsContainer=d||document.body,this.root=b.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return _(m,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var i=d.left+d.width/2-this.root.offsetWidth/2,e=d.bottom+this.quill.root.scrollTop;this.root.style.left=i+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),o=0;if(f.right>t.right&&(o=t.right-f.right,this.root.style.left=i+o+"px"),f.left<t.left&&(o=t.left-f.left,this.root.style.left=i+o+"px"),f.bottom>t.bottom){var l=f.bottom-f.top,a=d.bottom-d.top+l;this.root.style.top=e-a+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),m})();s.default=g}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function A(y,E){var N=[],P=!0,I=!1,U=void 0;try{for(var F=y[Symbol.iterator](),Z;!(P=(Z=F.next()).done)&&(N.push(Z.value),!(E&&N.length===E));P=!0);}catch(D){I=!0,U=D}finally{try{!P&&F.return&&F.return()}finally{if(I)throw U}}return N}return function(y,E){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return A(y,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=function A(y,E,N){y===null&&(y=Function.prototype);var P=Object.getOwnPropertyDescriptor(y,E);if(P===void 0){var I=Object.getPrototypeOf(y);return I===null?void 0:A(I,E,N)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(N)}},g=(function(){function A(y,E){for(var N=0;N<E.length;N++){var P=E[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(y,P.key,P)}}return function(y,E,N){return E&&A(y.prototype,E),N&&A(y,N),y}})(),m=u(3),b=c(m),d=u(8),i=c(d),e=u(43),t=c(e),f=u(27),o=c(f),l=u(15),a=u(41),r=c(a);function c(A){return A&&A.__esModule?A:{default:A}}function n(A,y){if(!(A instanceof y))throw new TypeError("Cannot call a class as a function")}function h(A,y){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:A}function x(A,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);A.prototype=Object.create(y&&y.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(A,y):A.__proto__=y)}var O=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],w=(function(A){x(y,A);function y(E,N){n(this,y),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=O);var P=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E,N));return P.quill.container.classList.add("ql-snow"),P}return g(y,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),r.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),r.default),this.tooltip=new k(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,I){N.handlers.link.call(N,!I.format.link)})}}]),y})(t.default);w.DEFAULTS=(0,b.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(y){if(y){var E=this.quill.getSelection();if(E==null||E.length==0)return;var N=this.quill.getText(E);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var P=this.quill.theme.tooltip;P.edit("link",N)}else this.quill.format("link",!1)}}}}});var k=(function(A){x(y,A);function y(E,N){n(this,y);var P=h(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,E,N));return P.preview=P.root.querySelector("a.ql-preview"),P}return g(y,[{key:"listen",value:function(){var N=this;p(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(N.linkRange!=null){var I=N.linkRange;N.restoreFocus(),N.quill.formatText(I,"link",!1,i.default.sources.USER),delete N.linkRange}P.preventDefault(),N.hide()}),this.quill.on(i.default.events.SELECTION_CHANGE,function(P,I,U){if(P!=null){if(P.length===0&&U===i.default.sources.USER){var F=N.quill.scroll.descendant(o.default,P.index),Z=_(F,2),D=Z[0],L=Z[1];if(D!=null){N.linkRange=new l.Range(P.index-L,D.length());var q=o.default.formats(D.domNode);N.preview.textContent=q,N.preview.setAttribute("href",q),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){p(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),y})(e.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),s.default=w}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(29),p=Q(_),g=u(36),m=u(38),b=u(64),d=u(65),i=Q(d),e=u(66),t=Q(e),f=u(67),o=Q(f),l=u(37),a=u(26),r=u(39),c=u(40),n=u(56),h=Q(n),x=u(68),O=Q(x),w=u(27),k=Q(w),A=u(69),y=Q(A),E=u(70),N=Q(E),P=u(71),I=Q(P),U=u(72),F=Q(U),Z=u(73),D=Q(Z),L=u(13),q=Q(L),j=u(74),C=Q(j),z=u(75),H=Q(z),R=u(57),M=Q(R),K=u(41),G=Q(K),Y=u(28),te=Q(Y),ne=u(59),ie=Q(ne),ue=u(60),fe=Q(ue),_e=u(61),de=Q(_e),W=u(108),V=Q(W),$=u(62),ee=Q($);function Q(ae){return ae&&ae.__esModule?ae:{default:ae}}p.default.register({"attributors/attribute/direction":m.DirectionAttribute,"attributors/class/align":g.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":a.ColorClass,"attributors/class/direction":m.DirectionClass,"attributors/class/font":r.FontClass,"attributors/class/size":c.SizeClass,"attributors/style/align":g.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":a.ColorStyle,"attributors/style/direction":m.DirectionStyle,"attributors/style/font":r.FontStyle,"attributors/style/size":c.SizeStyle},!0),p.default.register({"formats/align":g.AlignClass,"formats/direction":m.DirectionClass,"formats/indent":b.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":a.ColorStyle,"formats/font":r.FontClass,"formats/size":c.SizeClass,"formats/blockquote":i.default,"formats/code-block":q.default,"formats/header":t.default,"formats/list":o.default,"formats/bold":h.default,"formats/code":L.Code,"formats/italic":O.default,"formats/link":k.default,"formats/script":y.default,"formats/strike":N.default,"formats/underline":I.default,"formats/image":F.default,"formats/video":D.default,"formats/list/item":f.ListItem,"modules/formula":C.default,"modules/syntax":H.default,"modules/toolbar":M.default,"themes/bubble":V.default,"themes/snow":ee.default,"ui/icons":G.default,"ui/picker":te.default,"ui/icon-picker":fe.default,"ui/color-picker":ie.default,"ui/tooltip":de.default},!0),s.default=p.default}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.IndentClass=void 0;var _=(function(){function o(l,a){for(var r=0;r<a.length;r++){var c=a[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(l,a,r){return a&&o(l.prototype,a),r&&o(l,r),l}})(),p=function o(l,a,r){l===null&&(l=Function.prototype);var c=Object.getOwnPropertyDescriptor(l,a);if(c===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:o(n,a,r)}else{if("value"in c)return c.value;var h=c.get;return h===void 0?void 0:h.call(r)}},g=u(0),m=b(g);function b(o){return o&&o.__esModule?o:{default:o}}function d(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function i(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return d(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return _(l,[{key:"add",value:function(r,c){if(c==="+1"||c==="-1"){var n=this.value(r)||0;c=c==="+1"?n+1:n-1}return c===0?(this.remove(r),!0):p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,r,c)}},{key:"canAdd",value:function(r,c){return p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,r,c)||p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,r,parseInt(c))}},{key:"value",value:function(r){return parseInt(p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,r))||void 0}}]),l})(m.default.Attributor.Class),f=new t("indent","ql-indent",{scope:m.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});s.IndentClass=f}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(4),p=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);i.blotName="blockquote",i.tagName="blockquote",s.default=i}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function t(f,o){for(var l=0;l<o.length;l++){var a=o[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(f,a.key,a)}}return function(f,o,l){return o&&t(f.prototype,o),l&&t(f,l),f}})(),p=u(4),g=m(p);function m(t){return t&&t.__esModule?t:{default:t}}function b(t,f){if(!(t instanceof f))throw new TypeError("Cannot call a class as a function")}function d(t,f){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f&&(typeof f=="object"||typeof f=="function")?f:t}function i(t,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);t.prototype=Object.create(f&&f.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(t,f):t.__proto__=f)}var e=(function(t){i(f,t);function f(){return b(this,f),d(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return _(f,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),f})(g.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],s.default=e}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ListItem=void 0;var _=(function(){function n(h,x){for(var O=0;O<x.length;O++){var w=x[O];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(h,w.key,w)}}return function(h,x,O){return x&&n(h.prototype,x),O&&n(h,O),h}})(),p=function n(h,x,O){h===null&&(h=Function.prototype);var w=Object.getOwnPropertyDescriptor(h,x);if(w===void 0){var k=Object.getPrototypeOf(h);return k===null?void 0:n(k,x,O)}else{if("value"in w)return w.value;var A=w.get;return A===void 0?void 0:A.call(O)}},g=u(0),m=t(g),b=u(4),d=t(b),i=u(25),e=t(i);function t(n){return n&&n.__esModule?n:{default:n}}function f(n,h,x){return h in n?Object.defineProperty(n,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):n[h]=x,n}function o(n,h){if(!(n instanceof h))throw new TypeError("Cannot call a class as a function")}function l(n,h){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:n}function a(n,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);n.prototype=Object.create(h&&h.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(n,h):n.__proto__=h)}var r=(function(n){a(h,n);function h(){return o(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return _(h,[{key:"format",value:function(O,w){O===c.blotName&&!w?this.replaceWith(m.default.create(this.statics.scope)):p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,O,w)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(O,w){return this.parent.isolate(this.offset(this.parent),this.length()),O===this.parent.statics.blotName?(this.parent.replaceWith(O,w),this):(this.parent.unwrap(),p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replaceWith",this).call(this,O,w))}}],[{key:"formats",value:function(O){return O.tagName===this.tagName?void 0:p(h.__proto__||Object.getPrototypeOf(h),"formats",this).call(this,O)}}]),h})(d.default);r.blotName="list-item",r.tagName="LI";var c=(function(n){a(h,n),_(h,null,[{key:"create",value:function(O){var w=O==="ordered"?"OL":"UL",k=p(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,w);return(O==="checked"||O==="unchecked")&&k.setAttribute("data-checked",O==="checked"),k}},{key:"formats",value:function(O){if(O.tagName==="OL")return"ordered";if(O.tagName==="UL")return O.hasAttribute("data-checked")?O.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function h(x){o(this,h);var O=l(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,x)),w=function(A){if(A.target.parentNode===x){var y=O.statics.formats(x),E=m.default.find(A.target);y==="checked"?E.format("list","unchecked"):y==="unchecked"&&E.format("list","checked")}};return x.addEventListener("touchstart",w),x.addEventListener("mousedown",w),O}return _(h,[{key:"format",value:function(O,w){this.children.length>0&&this.children.tail.format(O,w)}},{key:"formats",value:function(){return f({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(O,w){if(O instanceof r)p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,O,w);else{var k=w==null?this.length():w.offset(this),A=this.split(k);A.parent.insertBefore(O,A)}}},{key:"optimize",value:function(O){p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,O);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&w.domNode.tagName===this.domNode.tagName&&w.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(w.moveChildren(this),w.remove())}},{key:"replace",value:function(O){if(O.statics.blotName!==this.statics.blotName){var w=m.default.create(this.statics.defaultChild);O.moveChildren(w),this.appendChild(w)}p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replace",this).call(this,O)}}]),h})(e.default);c.blotName="list",c.scope=m.default.Scope.BLOCK_BLOT,c.tagName=["OL","UL"],c.defaultChild="list-item",c.allowedChildren=[r],s.ListItem=r,s.default=c}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(56),p=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);i.blotName="italic",i.tagName=["EM","I"],s.default=i}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function f(o,l){for(var a=0;a<l.length;a++){var r=l[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,l,a){return l&&f(o.prototype,l),a&&f(o,a),o}})(),p=function f(o,l,a){o===null&&(o=Function.prototype);var r=Object.getOwnPropertyDescriptor(o,l);if(r===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:f(c,l,a)}else{if("value"in r)return r.value;var n=r.get;return n===void 0?void 0:n.call(a)}},g=u(6),m=b(g);function b(f){return f&&f.__esModule?f:{default:f}}function d(f,o){if(!(f instanceof o))throw new TypeError("Cannot call a class as a function")}function i(f,o){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:f}function e(f,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);f.prototype=Object.create(o&&o.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(f,o):f.__proto__=o)}var t=(function(f){e(o,f);function o(){return d(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _(o,null,[{key:"create",value:function(a){return a==="super"?document.createElement("sup"):a==="sub"?document.createElement("sub"):p(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,a)}},{key:"formats",value:function(a){if(a.tagName==="SUB")return"sub";if(a.tagName==="SUP")return"super"}}]),o})(m.default);t.blotName="script",t.tagName=["SUB","SUP"],s.default=t}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(6),p=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);i.blotName="strike",i.tagName="S",s.default=i}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=u(6),p=g(_);function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=(function(e){d(t,e);function t(){return m(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);i.blotName="underline",i.tagName="U",s.default=i}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function l(a,r){for(var c=0;c<r.length;c++){var n=r[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,r,c){return r&&l(a.prototype,r),c&&l(a,c),a}})(),p=function l(a,r,c){a===null&&(a=Function.prototype);var n=Object.getOwnPropertyDescriptor(a,r);if(n===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,r,c)}else{if("value"in n)return n.value;var x=n.get;return x===void 0?void 0:x.call(c)}},g=u(0),m=d(g),b=u(27);function d(l){return l&&l.__esModule?l:{default:l}}function i(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function e(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function t(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var f=["alt","height","width"],o=(function(l){t(a,l);function a(){return i(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"format",value:function(c,n){f.indexOf(c)>-1?n?this.domNode.setAttribute(c,n):this.domNode.removeAttribute(c):p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,c,n)}}],[{key:"create",value:function(c){var n=p(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,c);return typeof c=="string"&&n.setAttribute("src",this.sanitize(c)),n}},{key:"formats",value:function(c){return f.reduce(function(n,h){return c.hasAttribute(h)&&(n[h]=c.getAttribute(h)),n},{})}},{key:"match",value:function(c){return/\.(jpe?g|gif|png)$/.test(c)||/^data:image\/.+;base64/.test(c)}},{key:"sanitize",value:function(c){return(0,b.sanitize)(c,["http","https","data"])?c:"//:0"}},{key:"value",value:function(c){return c.getAttribute("src")}}]),a})(m.default.Embed);o.blotName="image",o.tagName="IMG",s.default=o}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0});var _=(function(){function l(a,r){for(var c=0;c<r.length;c++){var n=r[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(a,n.key,n)}}return function(a,r,c){return r&&l(a.prototype,r),c&&l(a,c),a}})(),p=function l(a,r,c){a===null&&(a=Function.prototype);var n=Object.getOwnPropertyDescriptor(a,r);if(n===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,r,c)}else{if("value"in n)return n.value;var x=n.get;return x===void 0?void 0:x.call(c)}},g=u(4),m=u(27),b=d(m);function d(l){return l&&l.__esModule?l:{default:l}}function i(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function e(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function t(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var f=["height","width"],o=(function(l){t(a,l);function a(){return i(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _(a,[{key:"format",value:function(c,n){f.indexOf(c)>-1?n?this.domNode.setAttribute(c,n):this.domNode.removeAttribute(c):p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,c,n)}}],[{key:"create",value:function(c){var n=p(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,c);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(c)),n}},{key:"formats",value:function(c){return f.reduce(function(n,h){return c.hasAttribute(h)&&(n[h]=c.getAttribute(h)),n},{})}},{key:"sanitize",value:function(c){return b.default.sanitize(c)}},{key:"value",value:function(c){return c.getAttribute("src")}}]),a})(g.BlockEmbed);o.blotName="video",o.className="ql-video",o.tagName="IFRAME",s.default=o}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.FormulaBlot=void 0;var _=(function(){function c(n,h){for(var x=0;x<h.length;x++){var O=h[x];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(n,O.key,O)}}return function(n,h,x){return h&&c(n.prototype,h),x&&c(n,x),n}})(),p=function c(n,h,x){n===null&&(n=Function.prototype);var O=Object.getOwnPropertyDescriptor(n,h);if(O===void 0){var w=Object.getPrototypeOf(n);return w===null?void 0:c(w,h,x)}else{if("value"in O)return O.value;var k=O.get;return k===void 0?void 0:k.call(x)}},g=u(35),m=t(g),b=u(5),d=t(b),i=u(9),e=t(i);function t(c){return c&&c.__esModule?c:{default:c}}function f(c,n){if(!(c instanceof n))throw new TypeError("Cannot call a class as a function")}function o(c,n){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:c}function l(c,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);c.prototype=Object.create(n&&n.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(c,n):c.__proto__=n)}var a=(function(c){l(n,c);function n(){return f(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _(n,null,[{key:"create",value:function(x){var O=p(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,x);return typeof x=="string"&&(window.katex.render(x,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",x)),O}},{key:"value",value:function(x){return x.getAttribute("data-value")}}]),n})(m.default);a.blotName="formula",a.className="ql-formula",a.tagName="SPAN";var r=(function(c){l(n,c),_(n,null,[{key:"register",value:function(){d.default.register(a,!0)}}]);function n(){f(this,n);var h=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return h}return n})(e.default);s.FormulaBlot=a,s.default=r}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CodeToken=s.CodeBlock=void 0;var _=(function(){function x(O,w){for(var k=0;k<w.length;k++){var A=w[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,w,k){return w&&x(O.prototype,w),k&&x(O,k),O}})(),p=function x(O,w,k){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,w);if(A===void 0){var y=Object.getPrototypeOf(O);return y===null?void 0:x(y,w,k)}else{if("value"in A)return A.value;var E=A.get;return E===void 0?void 0:E.call(k)}},g=u(0),m=o(g),b=u(5),d=o(b),i=u(9),e=o(i),t=u(13),f=o(t);function o(x){return x&&x.__esModule?x:{default:x}}function l(x,O){if(!(x instanceof O))throw new TypeError("Cannot call a class as a function")}function a(x,O){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O&&(typeof O=="object"||typeof O=="function")?O:x}function r(x,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);x.prototype=Object.create(O&&O.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(x,O):x.__proto__=O)}var c=(function(x){r(O,x);function O(){return l(this,O),a(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return _(O,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),p(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var A=this.domNode.textContent;this.cachedText!==A&&((A.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(A),this.domNode.normalize(),this.attach()),this.cachedText=A)}}]),O})(f.default);c.className="ql-syntax";var n=new m.default.Attributor.Class("token","hljs",{scope:m.default.Scope.INLINE}),h=(function(x){r(O,x),_(O,null,[{key:"register",value:function(){d.default.register(n,!0),d.default.register(c,!0)}}]);function O(w,k){l(this,O);var A=a(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,w,k));if(typeof A.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var y=null;return A.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(y),y=setTimeout(function(){A.highlight(),y=null},A.options.interval)}),A.highlight(),A}return _(O,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var A=this.quill.getSelection();this.quill.scroll.descendants(c).forEach(function(y){y.highlight(k.options.highlight)}),this.quill.update(d.default.sources.SILENT),A!=null&&this.quill.setSelection(A,d.default.sources.SILENT)}}}]),O})(e.default);h.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(x){var O=window.hljs.highlightAuto(x);return O.value}})(),interval:1e3},s.CodeBlock=c,s.CodeToken=n,s.default=h}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(v,s){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(v,s){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(v,s){v.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(v,s){v.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(v,s){v.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(v,s,u){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BubbleTooltip=void 0;var _=function O(w,k,A){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,k);if(y===void 0){var E=Object.getPrototypeOf(w);return E===null?void 0:O(E,k,A)}else{if("value"in y)return y.value;var N=y.get;return N===void 0?void 0:N.call(A)}},p=(function(){function O(w,k){for(var A=0;A<k.length;A++){var y=k[A];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,k,A){return k&&O(w.prototype,k),A&&O(w,A),w}})(),g=u(3),m=l(g),b=u(8),d=l(b),i=u(43),e=l(i),t=u(15),f=u(41),o=l(f);function l(O){return O&&O.__esModule?O:{default:O}}function a(O,w){if(!(O instanceof w))throw new TypeError("Cannot call a class as a function")}function r(O,w){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:O}function c(O,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);O.prototype=Object.create(w&&w.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(O,w):O.__proto__=w)}var n=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],h=(function(O){c(w,O);function w(k,A){a(this,w),A.modules.toolbar!=null&&A.modules.toolbar.container==null&&(A.modules.toolbar.container=n);var y=r(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k,A));return y.quill.container.classList.add("ql-bubble"),y}return p(w,[{key:"extendToolbar",value:function(A){this.tooltip=new x(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),o.default)}}]),w})(e.default);h.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(w){w?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var x=(function(O){c(w,O);function w(k,A){a(this,w);var y=r(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k,A));return y.quill.on(d.default.events.EDITOR_CHANGE,function(E,N,P,I){if(E===d.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&I===d.default.sources.USER){y.show(),y.root.style.left="0px",y.root.style.width="",y.root.style.width=y.root.offsetWidth+"px";var U=y.quill.getLines(N.index,N.length);if(U.length===1)y.position(y.quill.getBounds(N));else{var F=U[U.length-1],Z=y.quill.getIndex(F),D=Math.min(F.length()-1,N.index+N.length-Z),L=y.quill.getBounds(new t.Range(Z,D));y.position(L)}}else document.activeElement!==y.textbox&&y.quill.hasFocus()&&y.hide()}),y}return p(w,[{key:"listen",value:function(){var A=this;_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var y=A.quill.getSelection();y!=null&&A.position(A.quill.getBounds(y))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var y=_(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"position",this).call(this,A),E=this.root.querySelector(".ql-tooltip-arrow");if(E.style.marginLeft="",y===0)return y;E.style.marginLeft=-1*y-E.offsetWidth/2+"px"}}]),w})(i.BaseTooltip);x.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),s.BubbleTooltip=x,s.default=h}),(function(v,s,u){v.exports=u(63)})]).default})})(Ye)),Ye.exports}var Pe,Gi;function Ml(){if(Gi)return Pe;Gi=1;var S=Pe&&Pe.__extends||(function(){var d=function(i,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,f){t.__proto__=f}||function(t,f){for(var o in f)f.hasOwnProperty(o)&&(t[o]=f[o])},d(i,e)};return function(i,e){d(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})(),T=Pe&&Pe.__assign||function(){return T=Object.assign||function(d){for(var i,e=1,t=arguments.length;e<t;e++){i=arguments[e];for(var f in i)Object.prototype.hasOwnProperty.call(i,f)&&(d[f]=i[f])}return d},T.apply(this,arguments)},v=Pe&&Pe.__spreadArrays||function(){for(var d=0,i=0,e=arguments.length;i<e;i++)d+=arguments[i].length;for(var t=Array(d),f=0,i=0;i<e;i++)for(var o=arguments[i],l=0,a=o.length;l<a;l++,f++)t[f]=o[l];return t},s=Pe&&Pe.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},u=s(Da()),_=s(Ma()),p=s(Il()),g=s(Dl()),m=(function(d){S(i,d);function i(e){var t=d.call(this,e)||this;t.dirtyProps=["modules","formats","bounds","theme","children"],t.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],t.state={generation:0},t.selection=null,t.onEditorChange=function(o,l,a,r){var c,n,h,x;o==="text-change"?(n=(c=t).onEditorChangeText)===null||n===void 0||n.call(c,t.editor.root.innerHTML,l,r,t.unprivilegedEditor):o==="selection-change"&&((x=(h=t).onEditorChangeSelection)===null||x===void 0||x.call(h,l,r,t.unprivilegedEditor))};var f=t.isControlled()?e.value:e.defaultValue;return t.value=f??"",t}return i.prototype.validateProps=function(e){var t;if(u.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(u.default.Children.count(e.children)){var f=u.default.Children.only(e.children);if(((t=f)===null||t===void 0?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},i.prototype.shouldComponentUpdate=function(e,t){var f=this,o;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var l=this.getEditorContents(),a=(o=e.value,o??"");this.isEqualValue(a,l)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),v(this.cleanProps,this.dirtyProps).some(function(r){return!p.default(e[r],f.props[r])})},i.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(f){return!p.default(e[f],t.props[f])})},i.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},i.prototype.componentWillUnmount=function(){this.destroyEditor()},i.prototype.componentDidUpdate=function(e,t){var f=this;if(this.editor&&this.shouldComponentRegenerate(e)){var o=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var a=this.regenerationSnapshot,o=a.delta,r=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),b(function(){return f.setEditorSelection(c,r)})}},i.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},i.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},i.prototype.isControlled=function(){return"value"in this.props},i.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},i.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},i.prototype.createEditor=function(e,t){var f=new g.default(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(f,t.tabIndex),this.hookEditor(f),f},i.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},i.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},i.prototype.getEditorContents=function(){return this.value},i.prototype.getEditorSelection=function(){return this.selection},i.prototype.isDelta=function(e){return e&&e.ops},i.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?p.default(e.ops,t.ops):p.default(e,t)},i.prototype.setEditorContents=function(e,t){var f=this;this.value=t;var o=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert(t)):e.setContents(t),b(function(){return f.setEditorSelection(e,o)})},i.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var f=e.getLength();t.index=Math.max(0,Math.min(t.index,f-1)),t.length=Math.max(0,Math.min(t.length,f-1-t.index)),e.setSelection(t)}},i.prototype.setEditorTabIndex=function(e,t){var f,o;!((o=(f=e)===null||f===void 0?void 0:f.scroll)===null||o===void 0)&&o.domNode&&(e.scroll.domNode.tabIndex=t)},i.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},i.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},i.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=_.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},i.prototype.renderEditingArea=function(){var e=this,t=this.props,f=t.children,o=t.preserveWhitespace,l=this.state.generation,a={key:l,ref:function(r){e.editingArea=r}};return u.default.Children.count(f)?u.default.cloneElement(u.default.Children.only(f),a):o?u.default.createElement("pre",T({},a)):u.default.createElement("div",T({},a))},i.prototype.render=function(){var e;return u.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},i.prototype.onEditorChangeText=function(e,t,f,o){var l,a;if(this.editor){var r=this.isDelta(this.value)?o.getContents():o.getHTML();r!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=r,(a=(l=this.props).onChange)===null||a===void 0||a.call(l,e,t,f,o))}},i.prototype.onEditorChangeSelection=function(e,t,f){var o,l,a,r,c,n;if(this.editor){var h=this.getEditorSelection(),x=!h&&e,O=h&&!e;p.default(e,h)||(this.selection=e,(l=(o=this.props).onChangeSelection)===null||l===void 0||l.call(o,e,t,f),x?(r=(a=this.props).onFocus)===null||r===void 0||r.call(a,e,t,f):O&&((n=(c=this.props).onBlur)===null||n===void 0||n.call(c,h,t,f)))}},i.prototype.focus=function(){this.editor&&this.editor.focus()},i.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},i.displayName="React Quill",i.Quill=g.default,i.defaultProps={theme:"snow",modules:{},readOnly:!1},i})(u.default.Component);function b(d){Promise.resolve().then(d)}return Pe=m,Pe}var je=Ml();const Bl=Ba(je),Fl=Ha({__proto__:null,default:Bl},[je]);let Wi=!1;const Ul=5*1024*1024,Hl=25*1024*1024,zl="https://wa.me/5591985807373?text=Ol%C3%A1%20Dra.%20Lueine%2C%20gostaria%20de%20agendar%20uma%20consulta.";function Kl(){if(Wi)return;const S=je.Quill.import("blots/block/embed"),T=je.Quill.import("formats/link"),v=je.Quill.import("ui/icons");class s extends T{static blotName="button";static tagName="A";static className="ql-button-link";static create(g){const m=super.create(g);return m.setAttribute("role","button"),m.classList.add("ql-button-link"),m}}class u extends S{static blotName="figureImage";static tagName="figure";static className="quill-figure";static create(g){const m=super.create(),b=document.createElement("img");if(b.setAttribute("src",g?.src||""),g?.alt&&b.setAttribute("alt",g.alt),g?.title&&b.setAttribute("title",g.title),b.setAttribute("loading","lazy"),b.setAttribute("decoding","async"),m.dataset.alt=g?.alt||"",m.dataset.caption=g?.caption||"",m.dataset.source=g?.source||"",m.appendChild(b),!!(g?.caption||g?.source)){const i=document.createElement("figcaption");g?.caption&&g?.source?i.textContent=`Legenda: ${g.caption} - Fonte: ${g.source}`:g?.caption?i.textContent=`Legenda: ${g.caption}`:g?.source&&(i.textContent=`Fonte: ${g.source}`),m.appendChild(i)}return m}static value(g){return{src:g.querySelector("img")?.getAttribute("src")||"",alt:g.dataset.alt||"",caption:g.dataset.caption||"",source:g.dataset.source||""}}}class _ extends S{static blotName="spacer";static tagName="p";static className="quill-spacer"}v.button='<svg viewBox="0 0 448 512" width="18" height="18" aria-hidden="true"><path d="M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM48 80h352v352H48V80zm256 160h-56v-56c0-4.4-3.6-8-8-8h-32c-4.4 0-8 3.6-8 8v56h-56c-4.4 0-8 3.6-8 8v32c0 4.4 3.6 8 8 8h56v56c0 4.4 3.6 8 8 8h32c4.4 0 8-3.6 8-8v-56h56c4.4 0 8-3.6 8-8v-32c0-4.4-3.6-8-8-8z" fill="currentColor"/></svg>',v.spacer='<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M4 7h16v2H4V7zm0 8h16v2H4v-2z" fill="currentColor"/></svg>',je.Quill.register(s),je.Quill.register(u),je.Quill.register(_),Wi=!0}const Vi={open:!1,type:"",sourceType:"url",fields:{url:"",file:null,alt:"",caption:"",source:"",buttonText:"",buttonUrl:""},errors:{}},Zi=S=>new Promise((T,v)=>{const s=new FileReader;s.onload=()=>T(s.result),s.onerror=u=>v(u),s.readAsDataURL(S)}),Ze=S=>{const T=S.getSelection(!0);return T&&typeof T.index=="number"?T.index:Math.max(S.getLength()-1,0)},ya=S=>{try{return new URL(S)}catch{return null}},Br=S=>{const T=ya(S.trim());return!T||!["http:","https:"].includes(T.protocol)?"":T.toString()},Yi=S=>{const T=S.trim();if(!T)return"";if(T.startsWith("/")||T.startsWith("#"))return T;const v=ya(T);return!v||!["http:","https:","mailto:","tel:"].includes(v.protocol)?"":v.toString()},Qi=(S,T)=>{if(!S)return T==="image"?"Selecione um arquivo de imagem.":"Selecione um arquivo de video.";if(T==="image"){if(!S.type.startsWith("image/"))return"Arquivo invalido. Use um formato de imagem.";if(S.size>Ul)return"A imagem deve ter no maximo 5MB."}if(T==="video"){if(!S.type.startsWith("video/"))return"Arquivo invalido. Use um formato de video.";if(S.size>Hl)return"O video deve ter no maximo 25MB."}return""},Xi=S=>{const T=Br(S);if(!T)return"";try{const v=new URL(T),s=v.hostname.replace("www.","");if(s==="youtube.com"||s==="m.youtube.com"){const u=v.searchParams.get("v");if(u)return`https://www.youtube.com/embed/${u}`}if(s==="youtu.be"){const u=v.pathname.replace("/","");if(u)return`https://www.youtube.com/embed/${u}`}if(T.includes("/embed/"))return T}catch{return""}return T},Ae=(S,T)=>{!S||!T||(S.setAttribute("title",T),S.setAttribute("aria-label",T))},Gl=S=>{const T=S.querySelector(".ql-picker.ql-header");if(!T)return;const v=T.querySelector(".ql-picker-label");Ae(v,"Nivel de titulo");const s={2:"Titulo H2",3:"Titulo H3",4:"Titulo H4","":"Texto normal"};T.querySelectorAll(".ql-picker-item").forEach(u=>{const _=u.getAttribute("data-value")||"";Ae(u,s[_]||"Titulo")})},Wl=S=>{const T=S.querySelector(".ql-picker.ql-align");if(!T)return;const v=T.querySelector(".ql-picker-label");Ae(v,"Alinhamento");const s={"":"Alinhar a esquerda",center:"Centralizar",right:"Alinhar a direita",justify:"Justificar"};T.querySelectorAll(".ql-picker-item").forEach(u=>{const _=u.getAttribute("data-value")||"";Ae(u,s[_]||"Alinhamento")})},Vl=S=>{Ae(S.querySelector("button.ql-bold"),"Negrito"),Ae(S.querySelector("button.ql-italic"),"Italico"),Ae(S.querySelector("button.ql-underline"),"Sublinhado"),Ae(S.querySelector("button.ql-strike"),"Tachado"),Ae(S.querySelector("button.ql-blockquote"),"Citacao"),Ae(S.querySelector("button.ql-link"),"Inserir link"),Ae(S.querySelector("button.ql-button"),"Inserir botao"),Ae(S.querySelector("button.ql-image"),"Inserir imagem"),Ae(S.querySelector("button.ql-video"),"Inserir video"),Ae(S.querySelector("button.ql-spacer"),"Inserir espaco"),Ae(S.querySelector("button.ql-clean"),"Limpar formatacao"),S.querySelectorAll("button.ql-script").forEach(T=>{const v=T.value||T.getAttribute("value");Ae(T,v==="super"?"Sobrescrito":"Subscrito")}),S.querySelectorAll("button.ql-list").forEach(T=>{const v=T.value||T.getAttribute("value");Ae(T,v==="ordered"?"Lista numerada":"Lista com marcadores")}),Gl(S),Wl(S)};function Zl({setUploading:S}){const T=X.useRef(null),[v,s]=X.useState(Vi);Kl();const u=X.useCallback(({src:o,alt:l,caption:a,source:r})=>{const c=T.current?.getEditor();if(!c)return;const n=Ze(c);c.insertEmbed(n,"figureImage",{src:o,alt:l,caption:a,source:r}),c.setSelection(n+1)},[]),_=X.useCallback(o=>{s({open:!0,type:o,sourceType:"url",fields:{url:"",file:null,alt:"",caption:"",source:"",buttonText:o==="button"?"Agende sua consulta":"",buttonUrl:o==="button"?zl:""},errors:{}})},[]),p=X.useCallback(()=>{s(Vi)},[]),g=X.useCallback((o,l)=>{s(a=>({...a,fields:{...a.fields,[o]:l},errors:{...a.errors,[o]:""}}))},[]),m=X.useCallback(o=>{s(l=>({...l,fields:{...l.fields,file:o},errors:{...l.errors,file:""}}))},[]),b=X.useCallback(o=>{s(l=>({...l,sourceType:o,fields:{...l.fields,url:"",file:null},errors:{}}))},[]),d=X.useCallback(()=>{const o={},l=v.fields.url.trim(),a=v.fields.buttonText.trim(),r=v.fields.buttonUrl.trim();if(v.type==="image")if(v.sourceType==="url")l?Br(l)||(o.url="Use uma URL valida iniciando com http:// ou https://."):o.url="Informe a URL da imagem.";else{const c=Qi(v.fields.file,"image");c&&(o.file=c)}if(v.type==="video")if(v.sourceType==="url")l?Xi(l)||(o.url="Use uma URL valida iniciando com http:// ou https://."):o.url="Informe a URL do video.";else{const c=Qi(v.fields.file,"video");c&&(o.file=c)}return v.type==="button"&&(a||(o.buttonText="Informe o texto do botao."),r?Yi(r)||(o.buttonUrl="Use um link valido (https://, mailto:, tel:, / ou #)."):o.buttonUrl="Informe o link do botao."),s(c=>({...c,errors:o})),Object.keys(o).length===0},[v]),i=X.useCallback(async()=>{const o=T.current?.getEditor();if(o&&d()){S(!0);try{if(v.type==="image"){const l=v.fields.alt.trim(),a=v.fields.caption.trim(),r=v.fields.source.trim();if(v.sourceType==="url"){const c=Br(v.fields.url);if(!c)throw new Error("invalid-image-url");u({src:c,alt:l,caption:a,source:r})}else{const c=await Zi(v.fields.file);u({src:c,alt:l,caption:a,source:r})}}if(v.type==="video"){const l=Ze(o);if(v.sourceType==="url"){const a=Xi(v.fields.url);if(!a)throw new Error("invalid-video-url");o.insertEmbed(l,"video",a)}else{const a=await Zi(v.fields.file);o.insertEmbed(l,"video",a)}o.setSelection(l+1)}if(v.type==="button"){const l=v.fields.buttonText.trim(),a=Yi(v.fields.buttonUrl);if(!l||!a)throw new Error("invalid-button");const r=Ze(o);o.insertText(r,l,"button",a),o.setSelection(r+l.length)}p()}catch(l){console.error(l);let a="Nao foi possivel inserir a midia. Tente novamente.";l?.message==="invalid-image-url"&&(a="URL da imagem invalida."),l?.message==="invalid-video-url"&&(a="URL do video invalida."),l?.message==="invalid-button"&&(a="Dados do botao invalidos."),s(r=>({...r,errors:{...r.errors,form:a}}))}finally{S(!1)}}},[p,u,v,S,d]),e=X.useMemo(()=>({toolbar:{container:[[{header:[2,3,4,!1]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["blockquote"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","button","image","video","spacer"],["clean"]],handlers:{image:()=>_("image"),video:()=>_("video"),button:()=>_("button"),spacer:()=>{const o=T.current?.getEditor();if(!o)return;const l=Ze(o);o.insertEmbed(l,"spacer",!0),o.setSelection(l+1)}}}}),[_]),t=["header","bold","italic","underline","strike","list","bullet","script","blockquote","align","link","button","image","figureImage","video","spacer"],f=X.useCallback(()=>{const l=T.current?.getEditor()?.getModule("toolbar")?.container;return l?(Vl(l),!0):!1},[]);return{quillRef:T,quillModules:e,quillFormats:t,mediaModal:v,closeModal:p,submitModal:i,updateField:g,updateFile:m,updateSourceType:b,attachToolbarTooltips:f}}function Xl(){const[S,T]=X.useState(!1),[v,s]=X.useState(!1),u=X.useRef(null),{user:_,userProfile:p,setUserProfile:g,originalProfile:m,setOriginalProfile:b,editingProfile:d,setEditingProfile:i,handleProfileImageUpload:e,handleProfileImageRemove:t,resetProfileEditState:f,saveUserProfile:o,hasProfileChanged:l}=go({setUploading:T}),{posts:a,showForm:r,setShowForm:c,isEditing:n,editingStatus:h,activePostTab:x,setActivePostTab:O,postTotals:w,postStats:k,postsLoading:A,title:y,setTitle:E,summary:N,setSummary:P,content:I,setContent:U,featuredImage:F,featuredLinkDraft:Z,canPublish:D,canSaveDraft:L,publishingDraftId:q,bulkActionType:j,selectedPostIds:C,selectedPostsCount:z,allVisiblePostsSelected:H,handleFeaturedLinkChange:R,handleFeaturedLinkApply:M,clearFeaturedImage:K,togglePostSelection:G,toggleSelectAllPosts:Y,handleFeaturedImageSelect:te,handleSavePost:ne,handlePublishDraft:ie,handlePublishSelectedDrafts:ue,handleDelete:fe,handleDeleteSelectedPosts:_e,startEdit:de,resetForm:W}=Oo({user:_,setUploading:T}),{quillRef:V,quillModules:$,quillFormats:ee,mediaModal:Q,closeModal:ae,submitModal:oe,updateField:le,updateFile:Oe,updateSourceType:we,attachToolbarTooltips:he}=Zl({setUploading:T});X.useEffect(()=>{const be=window.matchMedia("(max-width: 760px)"),Se=qe=>{qe.matches||s(!1)};return be.addEventListener("change",Se),()=>be.removeEventListener("change",Se)},[]),X.useEffect(()=>{if(!v||!window.matchMedia("(max-width: 760px)").matches)return;const be=qe=>{qe.key==="Escape"&&s(!1)},Se=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",be),()=>{document.body.style.overflow=Se,window.removeEventListener("keydown",be)}},[v]);const Ue=X.useMemo(()=>{const be=Ce=>{const Zr=ia(Ce);return Zr?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",year:"numeric"}).format(new Date(Zr)):"--"},Se=k.totalPublished,qe=k.totalDrafts,Me=k.postsThisMonth,Re=k.latestPublishedPost;return[{icon:"posts",label:"Total de posts",value:String(Se),note:Se?"Conteúdos publicados":"Nenhum conteúdo publicado"},{icon:"drafts",label:"Rascunhos",value:String(qe),note:qe?"Conteúdos em preparação":"Nenhum rascunho salvo"},{icon:"month",label:"Publicados no mês",value:String(Me),note:"Ritmo editorial atual"},{icon:"latest",label:"Última publicação",value:Re?be(Re.publishedAt||Re.date):"--",note:Re?.title||"Publique para atualizar este indicador"}]},[k]),pe=!!(y||N||I||F),ke=!!p.photoURL,J=n?h===Ne.DRAFT?"Editar rascunho":"Editar post":"Novo post",re=n?"Revise o conteúdo e atualize as informações antes de salvar.":"Estruture o conteúdo com clareza para manter o blog organizado e consistente.",se=(be="published")=>{r&&pe&&!window.confirm("Descartar alterações do post?")||(W(),O(be),c(!1),s(!1))},ve=()=>{r&&pe&&!window.confirm("Descartar alterações do post?")||(W(),c(!0),s(!1))},me=async()=>{await ne(Ne.PUBLISHED)},Ee=async()=>{await ne(Ne.DRAFT)},ge=()=>{u.current&&u.current.click()},ce=()=>{b(p),f(),i(!0)},ye=()=>{l()&&!window.confirm("Descartar alterações do perfil?")||(g(m),f(),i(!1))},xe=async()=>{await o(),i(!1)};return _?B.jsxs("section",{className:"admin-shell",children:[B.jsxs("aside",{id:"admin-sidebar-menu",className:`admin-sidebar ${v?"is-open":""}`,children:[B.jsxs("div",{className:`user-profile admin-sidebar-profile ${d?"editing":""}`,children:[B.jsxs("div",{className:"avatar-wrapper",children:[ke?B.jsx("img",{src:p.photoURL,alt:"Avatar",className:"avatar"}):B.jsx("div",{className:"avatar avatar-fallback","aria-label":"Avatar padrao",children:B.jsxs("svg",{viewBox:"0 0 64 64",role:"img","aria-hidden":"true",children:[B.jsx("circle",{cx:"32",cy:"24",r:"14"}),B.jsx("path",{d:"M12 58c4-12 16-18 20-18s16 6 20 18"})]})}),d&&ke&&B.jsx("button",{type:"button",className:"avatar-action remove",onClick:t,"aria-label":"Remover foto",children:"x"}),d&&!ke&&B.jsx("button",{type:"button",className:"avatar-action add",onClick:ge,"aria-label":"Adicionar foto",children:"+"}),d&&B.jsx("input",{ref:u,type:"file",accept:"image/*",className:"avatar-input",onChange:e})]}),B.jsx("div",{className:"user-info",children:d?B.jsxs(B.Fragment,{children:[B.jsx("label",{className:"profile-input-label",htmlFor:"sidebar-profile-display-name",children:"Nome exibido"}),B.jsx("input",{id:"sidebar-profile-display-name",type:"text",placeholder:"Seu nome",value:p.displayName,onChange:be=>g({...p,displayName:be.target.value})}),B.jsxs("div",{className:"profile-actions",children:[B.jsx("button",{type:"button",className:"admin-btn primary",disabled:!l()||S,onClick:xe,children:S?"Enviando...":"Salvar perfil"}),B.jsx("button",{type:"button",className:"admin-btn cancel",onClick:ye,children:"Cancelar"})]})]}):B.jsxs(B.Fragment,{children:[B.jsx("strong",{className:"user-name",children:p.displayName||_.email}),B.jsx("small",{className:"user-email",children:_.email}),B.jsx("button",{type:"button",className:"edit-profile-link",onClick:ce,children:"Editar perfil"})]})})]}),B.jsxs("nav",{className:"admin-sidebar-nav","aria-label":"Navegacao do painel",children:[B.jsxs("button",{type:"button",className:`admin-side-btn ${!r&&x==="published"?"is-active":""}`,onClick:()=>se("published"),children:[B.jsx(Ji,{className:"side-btn-icon","aria-hidden":"true"}),"Gerenciar posts"]}),B.jsxs("button",{type:"button",className:`admin-side-btn ${!r&&x==="drafts"?"is-active":""}`,onClick:()=>se("drafts"),children:[B.jsx(Ge,{className:"side-btn-icon","aria-hidden":"true"}),"Rascunhos"]}),B.jsxs("button",{type:"button",className:`admin-side-btn ${r?"is-active":""}`,onClick:ve,children:[B.jsx($i,{className:"side-btn-icon","aria-hidden":"true"}),n?h===Ne.DRAFT?"Editando rascunho":"Editando post":"Novo post"]})]}),B.jsxs("button",{type:"button",className:"admin-logout admin-sidebar-logout",onClick:()=>{s(!1),Ua(ra)},children:[B.jsx(Fa,{"aria-hidden":"true"}),"Sair"]})]}),B.jsx("div",{className:`admin-sidebar-overlay ${v?"is-visible":""}`,onClick:()=>s(!1),"aria-hidden":!v}),B.jsx("div",{className:"admin-content",children:B.jsxs("section",{className:"admin-wrapper",children:[B.jsx("button",{type:"button",className:`admin-mobile-menu-btn ${v?"is-open":""}`,"aria-controls":"admin-sidebar-menu","aria-expanded":v,onClick:()=>s(be=>!be),"aria-label":v?"Fechar menu lateral":"Abrir menu lateral",children:B.jsxs("span",{className:"admin-hamburger-icon","aria-hidden":"true",children:[B.jsx("span",{}),B.jsx("span",{}),B.jsx("span",{})]})}),r?B.jsxs("header",{className:"admin-editor-header",children:[B.jsxs("span",{className:"admin-chip",children:[B.jsx(Fr,{"aria-hidden":"true"}),"Área editorial"]}),B.jsx("h1",{children:J}),B.jsx("p",{children:re})]}):B.jsx(Ka,{stats:Ue}),r&&B.jsx(so,{isEditing:n,editingStatus:h,hideHeading:!0,title:y,summary:N,content:I,featuredImage:F,featuredLinkDraft:Z,canPublish:D,canSaveDraft:L,uploading:S,onTitleChange:E,onSummaryChange:P,onContentChange:U,onFeaturedSelect:te,onFeaturedLinkChange:R,onFeaturedLinkApply:M,onRemoveFeatured:K,onSavePost:me,onSaveDraft:Ee,onCancel:()=>{pe&&!window.confirm("Descartar alterações do post?")||W()},quillRef:V,quillModules:$,quillFormats:ee,onAttachQuillTooltips:he,mediaModal:Q,onMediaClose:ae,onMediaSubmit:oe,onMediaFieldChange:le,onMediaFileChange:Oe,onMediaSourceTypeChange:we}),!r&&B.jsx(vo,{posts:a,activeTab:x,totals:w,isLoading:A||k.loading,bulkActionType:j,selectedPostIds:C,selectedPostsCount:z,allVisiblePostsSelected:H,onTabChange:O,onNewPost:ve,onTogglePostSelection:G,onToggleSelectAllPosts:Y,onPublishSelectedDrafts:ue,onDeleteSelectedPosts:_e,onEdit:de,onDelete:fe,onPublishDraft:ie,publishingDraftId:q})]})})]}):B.jsx("p",{className:"loading-text",children:"Carregando painel..."})}export{Xl as default};
