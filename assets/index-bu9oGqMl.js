(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fa(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yd={exports:{}},hl={},vd={exports:{}},Qe={};var R_;function lI(){if(R_)return Qe;R_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function d(j){return j===null||typeof j!="object"?null:(j=m&&j[m]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function _(j,q,K){this.props=j,this.context=q,this.refs=E,this.updater=K||y}_.prototype.isReactComponent={},_.prototype.setState=function(j,q){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,q,"setState")},_.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function A(){}A.prototype=_.prototype;function w(j,q,K){this.props=j,this.context=q,this.refs=E,this.updater=K||y}var P=w.prototype=new A;P.constructor=w,S(P,_.prototype),P.isPureReactComponent=!0;var b=Array.isArray,D=Object.prototype.hasOwnProperty,U={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function R(j,q,K){var Y,Z={},z=null,J=null;if(q!=null)for(Y in q.ref!==void 0&&(J=q.ref),q.key!==void 0&&(z=""+q.key),q)D.call(q,Y)&&!k.hasOwnProperty(Y)&&(Z[Y]=q[Y]);var ne=arguments.length-2;if(ne===1)Z.children=K;else if(1<ne){for(var oe=Array(ne),me=0;me<ne;me++)oe[me]=arguments[me+2];Z.children=oe}if(j&&j.defaultProps)for(Y in ne=j.defaultProps,ne)Z[Y]===void 0&&(Z[Y]=ne[Y]);return{$$typeof:n,type:j,key:z,ref:J,props:Z,_owner:U.current}}function M(j,q){return{$$typeof:n,type:j.type,key:q,ref:j.ref,props:j.props,_owner:j._owner}}function x(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function I(j){var q={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(K){return q[K]})}var L=/\/+/g;function N(j,q){return typeof j=="object"&&j!==null&&j.key!=null?I(""+j.key):q.toString(36)}function $(j,q,K,Y,Z){var z=typeof j;(z==="undefined"||z==="boolean")&&(j=null);var J=!1;if(j===null)J=!0;else switch(z){case"string":case"number":J=!0;break;case"object":switch(j.$$typeof){case n:case e:J=!0}}if(J)return J=j,Z=Z(J),j=Y===""?"."+N(J,0):Y,b(Z)?(K="",j!=null&&(K=j.replace(L,"$&/")+"/"),$(Z,q,K,"",function(me){return me})):Z!=null&&(x(Z)&&(Z=M(Z,K+(!Z.key||J&&J.key===Z.key?"":(""+Z.key).replace(L,"$&/")+"/")+j)),q.push(Z)),1;if(J=0,Y=Y===""?".":Y+":",b(j))for(var ne=0;ne<j.length;ne++){z=j[ne];var oe=Y+N(z,ne);J+=$(z,q,K,oe,Z)}else if(oe=d(j),typeof oe=="function")for(j=oe.call(j),ne=0;!(z=j.next()).done;)z=z.value,oe=Y+N(z,ne++),J+=$(z,q,K,oe,Z);else if(z==="object")throw q=String(j),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return J}function G(j,q,K){if(j==null)return j;var Y=[],Z=0;return $(j,Y,"","",function(z){return q.call(K,z,Z++)}),Y}function ie(j){if(j._status===-1){var q=j._result;q=q(),q.then(function(K){(j._status===0||j._status===-1)&&(j._status=1,j._result=K)},function(K){(j._status===0||j._status===-1)&&(j._status=2,j._result=K)}),j._status===-1&&(j._status=0,j._result=q)}if(j._status===1)return j._result.default;throw j._result}var re={current:null},se={transition:null},X={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:se,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:G,forEach:function(j,q,K){G(j,function(){q.apply(this,arguments)},K)},count:function(j){var q=0;return G(j,function(){q++}),q},toArray:function(j){return G(j,function(q){return q})||[]},only:function(j){if(!x(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},Qe.Component=_,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=w,Qe.StrictMode=r,Qe.Suspense=h,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Qe.act=W,Qe.cloneElement=function(j,q,K){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Y=S({},j.props),Z=j.key,z=j.ref,J=j._owner;if(q!=null){if(q.ref!==void 0&&(z=q.ref,J=U.current),q.key!==void 0&&(Z=""+q.key),j.type&&j.type.defaultProps)var ne=j.type.defaultProps;for(oe in q)D.call(q,oe)&&!k.hasOwnProperty(oe)&&(Y[oe]=q[oe]===void 0&&ne!==void 0?ne[oe]:q[oe])}var oe=arguments.length-2;if(oe===1)Y.children=K;else if(1<oe){ne=Array(oe);for(var me=0;me<oe;me++)ne[me]=arguments[me+2];Y.children=ne}return{$$typeof:n,type:j.type,key:Z,ref:z,props:Y,_owner:J}},Qe.createContext=function(j){return j={$$typeof:l,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:a,_context:j},j.Consumer=j},Qe.createElement=R,Qe.createFactory=function(j){var q=R.bind(null,j);return q.type=j,q},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(j){return{$$typeof:c,render:j}},Qe.isValidElement=x,Qe.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:ie}},Qe.memo=function(j,q){return{$$typeof:g,type:j,compare:q===void 0?null:q}},Qe.startTransition=function(j){var q=se.transition;se.transition={};try{j()}finally{se.transition=q}},Qe.unstable_act=W,Qe.useCallback=function(j,q){return re.current.useCallback(j,q)},Qe.useContext=function(j){return re.current.useContext(j)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(j){return re.current.useDeferredValue(j)},Qe.useEffect=function(j,q){return re.current.useEffect(j,q)},Qe.useId=function(){return re.current.useId()},Qe.useImperativeHandle=function(j,q,K){return re.current.useImperativeHandle(j,q,K)},Qe.useInsertionEffect=function(j,q){return re.current.useInsertionEffect(j,q)},Qe.useLayoutEffect=function(j,q){return re.current.useLayoutEffect(j,q)},Qe.useMemo=function(j,q){return re.current.useMemo(j,q)},Qe.useReducer=function(j,q,K){return re.current.useReducer(j,q,K)},Qe.useRef=function(j){return re.current.useRef(j)},Qe.useState=function(j){return re.current.useState(j)},Qe.useSyncExternalStore=function(j,q,K){return re.current.useSyncExternalStore(j,q,K)},Qe.useTransition=function(){return re.current.useTransition()},Qe.version="18.3.1",Qe}var k_;function mf(){return k_||(k_=1,vd.exports=lI()),vd.exports}var P_;function uI(){if(P_)return hl;P_=1;var n=mf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,g){var v,m={},d=null,y=null;g!==void 0&&(d=""+g),h.key!==void 0&&(d=""+h.key),h.ref!==void 0&&(y=h.ref);for(v in h)r.call(h,v)&&!a.hasOwnProperty(v)&&(m[v]=h[v]);if(c&&c.defaultProps)for(v in h=c.defaultProps,h)m[v]===void 0&&(m[v]=h[v]);return{$$typeof:e,type:c,key:d,ref:y,props:m,_owner:o.current}}return hl.Fragment=t,hl.jsx=l,hl.jsxs=l,hl}var C_;function cI(){return C_||(C_=1,yd.exports=uI()),yd.exports}var B=cI(),ce=mf();const un=fa(ce);var wc={},_d={exports:{}},_n={},Ed={exports:{}},wd={};var O_;function fI(){return O_||(O_=1,(function(n){function e(se,X){var W=se.length;se.push(X);e:for(;0<W;){var j=W-1>>>1,q=se[j];if(0<o(q,X))se[j]=X,se[W]=q,W=j;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var X=se[0],W=se.pop();if(W!==X){se[0]=W;e:for(var j=0,q=se.length,K=q>>>1;j<K;){var Y=2*(j+1)-1,Z=se[Y],z=Y+1,J=se[z];if(0>o(Z,W))z<q&&0>o(J,Z)?(se[j]=J,se[z]=W,j=z):(se[j]=Z,se[Y]=W,j=Y);else if(z<q&&0>o(J,W))se[j]=J,se[z]=W,j=z;else break e}}return X}function o(se,X){var W=se.sortIndex-X.sortIndex;return W!==0?W:se.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var h=[],g=[],v=1,m=null,d=3,y=!1,S=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(se){for(var X=t(g);X!==null;){if(X.callback===null)r(g);else if(X.startTime<=se)r(g),X.sortIndex=X.expirationTime,e(h,X);else break;X=t(g)}}function b(se){if(E=!1,P(se),!S)if(t(h)!==null)S=!0,ie(D);else{var X=t(g);X!==null&&re(b,X.startTime-se)}}function D(se,X){S=!1,E&&(E=!1,A(R),R=-1),y=!0;var W=d;try{for(P(X),m=t(h);m!==null&&(!(m.expirationTime>X)||se&&!I());){var j=m.callback;if(typeof j=="function"){m.callback=null,d=m.priorityLevel;var q=j(m.expirationTime<=X);X=n.unstable_now(),typeof q=="function"?m.callback=q:m===t(h)&&r(h),P(X)}else r(h);m=t(h)}if(m!==null)var K=!0;else{var Y=t(g);Y!==null&&re(b,Y.startTime-X),K=!1}return K}finally{m=null,d=W,y=!1}}var U=!1,k=null,R=-1,M=5,x=-1;function I(){return!(n.unstable_now()-x<M)}function L(){if(k!==null){var se=n.unstable_now();x=se;var X=!0;try{X=k(!0,se)}finally{X?N():(U=!1,k=null)}}else U=!1}var N;if(typeof w=="function")N=function(){w(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,G=$.port2;$.port1.onmessage=L,N=function(){G.postMessage(null)}}else N=function(){_(L,0)};function ie(se){k=se,U||(U=!0,N())}function re(se,X){R=_(function(){se(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){S||y||(S=!0,ie(D))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(se){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var W=d;d=X;try{return se()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,X){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var W=d;d=se;try{return X()}finally{d=W}},n.unstable_scheduleCallback=function(se,X,W){var j=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?j+W:j):W=j,se){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=W+q,se={id:v++,callback:X,priorityLevel:se,startTime:W,expirationTime:q,sortIndex:-1},W>j?(se.sortIndex=W,e(g,se),t(h)===null&&se===t(g)&&(E?(A(R),R=-1):E=!0,re(b,W-j))):(se.sortIndex=q,e(h,se),S||y||(S=!0,ie(D))),se},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(se){var X=d;return function(){var W=d;d=X;try{return se.apply(this,arguments)}finally{d=W}}}})(wd)),wd}var x_;function hI(){return x_||(x_=1,Ed.exports=fI()),Ed.exports}var N_;function dI(){if(N_)return _n;N_=1;var n=mf(),e=hI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function d(i){return h.call(m,i)?!0:h.call(v,i)?!1:g.test(i)?m[i]=!0:(v[i]=!0,!1)}function y(i,s,u,p){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,u,p){if(s===null||typeof s>"u"||y(i,s,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(i,s,u,p,T,C,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=T,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=C,this.removeEmptyString=F}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];_[s]=new E(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function w(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(A,w);_[s]=new E(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(A,w);_[s]=new E(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(A,w);_[s]=new E(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function P(i,s,u,p){var T=_.hasOwnProperty(s)?_[s]:null;(T!==null?T.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,u,T,p)&&(u=null),p||T===null?d(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):T.mustUseProperty?i[T.propertyName]=u===null?T.type===3?!1:"":u:(s=T.attributeName,p=T.attributeNamespace,u===null?i.removeAttribute(s):(T=T.type,u=T===3||T===4&&u===!0?"":""+u,p?i.setAttributeNS(p,s,u):i.setAttribute(s,u))))}var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),se=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,j;function q(i){if(j===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+i}var K=!1;function Y(i,s){if(!i||K)return"";K=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(fe){var p=fe}Reflect.construct(i,[],s)}else{try{s.call()}catch(fe){p=fe}i.call(s.prototype)}else{try{throw Error()}catch(fe){p=fe}i()}}catch(fe){if(fe&&p&&typeof fe.stack=="string"){for(var T=fe.stack.split(`
`),C=p.stack.split(`
`),F=T.length-1,Q=C.length-1;1<=F&&0<=Q&&T[F]!==C[Q];)Q--;for(;1<=F&&0<=Q;F--,Q--)if(T[F]!==C[Q]){if(F!==1||Q!==1)do if(F--,Q--,0>Q||T[F]!==C[Q]){var ee=`
`+T[F].replace(" at new "," at ");return i.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",i.displayName)),ee}while(1<=F&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?q(i):""}function Z(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=Y(i.type,!1),i;case 11:return i=Y(i.type.render,!1),i;case 1:return i=Y(i.type,!0),i;default:return""}}function z(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case k:return"Fragment";case U:return"Portal";case M:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case $:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case x:return(i._context.displayName||"Context")+".Provider";case L:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:z(i.type)||"Memo";case ie:s=i._payload,i=i._init;try{return z(i(s))}catch{}}return null}function J(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ne(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function oe(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function me(i){var s=oe(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var T=u.get,C=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return T.call(this)},set:function(F){p=""+F,C.call(this,F)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(F){p=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ie(i){i._valueTracker||(i._valueTracker=me(i))}function je(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return i&&(p=oe(i)?i.checked?"true":"false":i.value),i=p,i!==u?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ge(i,s){var u=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function et(i,s){var u=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;u=ne(s.value!=null?s.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Rt(i,s){s=s.checked,s!=null&&P(i,"checked",s,!1)}function ut(i,s){Rt(i,s);var u=ne(s.value),p=s.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?de(i,s.type,u):s.hasOwnProperty("defaultValue")&&de(i,s.type,ne(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pe(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function de(i,s,u){(s!=="number"||Ve(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var we=Array.isArray;function Se(i,s,u,p){if(i=i.options,s){s={};for(var T=0;T<u.length;T++)s["$"+u[T]]=!0;for(u=0;u<i.length;u++)T=s.hasOwnProperty("$"+i[u].value),i[u].selected!==T&&(i[u].selected=T),T&&p&&(i[u].defaultSelected=!0)}else{for(u=""+ne(u),s=null,T=0;T<i.length;T++){if(i[T].value===u){i[T].selected=!0,p&&(i[T].defaultSelected=!0);return}s!==null||i[T].disabled||(s=i[T])}s!==null&&(s.selected=!0)}}function ve(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function He(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(we(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:ne(u)}}function Ke(i,s){var u=ne(s.value),p=ne(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function Be(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Ft(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Ft(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var rt,ts=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,p,T){MSApp.execUnsafeLocalFunction(function(){return i(s,u,p,T)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=rt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function lt(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var $t={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lu=["Webkit","ms","Moz","O"];Object.keys($t).forEach(function(i){lu.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),$t[s]=$t[i]})});function gi(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||$t.hasOwnProperty(i)&&$t[i]?(""+s).trim():s+"px"}function ns(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var p=u.indexOf("--")===0,T=gi(u,s[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,T):i[u]=T}}var Aa=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kn(i,s){if(s){if(Aa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function rs(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function is(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ur=null,Fr=null,St=null;function ba(i){if(i=Xa(i)){if(typeof Ur!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Du(s),Ur(i.stateNode,i.type,s))}}function vi(i){Fr?St?St.push(i):St=[i]:Fr=i}function _i(){if(Fr){var i=Fr,s=St;if(St=Fr=null,ba(i),s)for(i=0;i<s.length;i++)ba(s[i])}}function uu(i,s){return i(s)}function cu(){}var fr=!1;function fu(i,s,u){if(fr)return i(s,u);fr=!0;try{return uu(i,s,u)}finally{fr=!1,(Fr!==null||St!==null)&&(cu(),_i())}}function co(i,s){var u=i.stateNode;if(u===null)return null;var p=Du(u);if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Ei=!1;if(c)try{var wi={};Object.defineProperty(wi,"passive",{get:function(){Ei=!0}}),window.addEventListener("test",wi,wi),window.removeEventListener("test",wi,wi)}catch{Ei=!1}function hu(i,s,u,p,T,C,F,Q,ee){var fe=Array.prototype.slice.call(arguments,3);try{s.apply(u,fe)}catch(Ee){this.onError(Ee)}}var qr=!1,hr=null,os=!1,Ln=null,du={onError:function(i){qr=!0,hr=i}};function pu(i,s,u,p,T,C,F,Q,ee){qr=!1,hr=null,hu.apply(du,arguments)}function Sa(i,s,u,p,T,C,F,Q,ee){if(pu.apply(this,arguments),qr){if(qr){var fe=hr;qr=!1,hr=null}else throw Error(t(198));os||(os=!0,Ln=fe)}}function Gn(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Ia(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function mu(i){if(Gn(i)!==i)throw Error(t(188))}function gu(i){var s=i.alternate;if(!s){if(s=Gn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,p=s;;){var T=u.return;if(T===null)break;var C=T.alternate;if(C===null){if(p=T.return,p!==null){u=p;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===u)return mu(T),i;if(C===p)return mu(T),s;C=C.sibling}throw Error(t(188))}if(u.return!==p.return)u=T,p=C;else{for(var F=!1,Q=T.child;Q;){if(Q===u){F=!0,u=T,p=C;break}if(Q===p){F=!0,p=T,u=C;break}Q=Q.sibling}if(!F){for(Q=C.child;Q;){if(Q===u){F=!0,u=C,p=T;break}if(Q===p){F=!0,p=C,u=T;break}Q=Q.sibling}if(!F)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function yu(i){return i=gu(i),i!==null?fo(i):null}function fo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=fo(i);if(s!==null)return s;i=i.sibling}return null}var Ra=e.unstable_scheduleCallback,ss=e.unstable_cancelCallback,ho=e.unstable_shouldYield,Br=e.unstable_requestPaint,dt=e.unstable_now,Gf=e.unstable_getCurrentPriorityLevel,as=e.unstable_ImmediatePriority,ka=e.unstable_UserBlockingPriority,po=e.unstable_NormalPriority,Pa=e.unstable_LowPriority,ls=e.unstable_IdlePriority,mo=null,An=null;function vu(i){if(An&&typeof An.onCommitFiberRoot=="function")try{An.onCommitFiberRoot(mo,i,void 0,(i.current.flags&128)===128)}catch{}}var bn=Math.clz32?Math.clz32:go,dr=Math.log,Dn=Math.LN2;function go(i){return i>>>=0,i===0?32:31-(dr(i)/Dn|0)|0}var pr=64,Ti=4194304;function ot(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function zr(i,s){var u=i.pendingLanes;if(u===0)return 0;var p=0,T=i.suspendedLanes,C=i.pingedLanes,F=u&268435455;if(F!==0){var Q=F&~T;Q!==0?p=ot(Q):(C&=F,C!==0&&(p=ot(C)))}else F=u&~T,F!==0?p=ot(F):C!==0&&(p=ot(C));if(p===0)return 0;if(s!==0&&s!==p&&(s&T)===0&&(T=p&-p,C=s&-s,T>=C||T===16&&(C&4194240)!==0))return s;if((p&4)!==0&&(p|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)u=31-bn(s),T=1<<u,p|=i[u],s&=~T;return p}function yo(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(i,s){for(var u=i.suspendedLanes,p=i.pingedLanes,T=i.expirationTimes,C=i.pendingLanes;0<C;){var F=31-bn(C),Q=1<<F,ee=T[F];ee===-1?((Q&u)===0||(Q&p)!==0)&&(T[F]=yo(Q,s)):ee<=s&&(i.expiredLanes|=Q),C&=~Q}}function Ca(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Oa(){var i=pr;return pr<<=1,(pr&4194240)===0&&(pr=64),i}function xa(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function _o(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-bn(s),i[s]=u}function Qf(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var T=31-bn(u),C=1<<T;s[T]=0,p[T]=-1,i[T]=-1,u&=~C}}function Na(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var p=31-bn(u),T=1<<p;T&s|i[p]&s&&(i[p]|=s),u&=~T}}var Ze=0;function mr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var La,us,Da,Ma,ja,gr=!1,cs=[],yr=null,vr=null,Wt=null,Eo=new Map,Hr=new Map,Sn=[],_u="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ai(i,s){switch(i){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":Wt=null;break;case"pointerover":case"pointerout":Eo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(s.pointerId)}}function Qn(i,s,u,p,T,C){return i===null||i.nativeEvent!==C?(i={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:C,targetContainers:[T]},s!==null&&(s=Xa(s),s!==null&&us(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,T!==null&&s.indexOf(T)===-1&&s.push(T),i)}function Eu(i,s,u,p,T){switch(s){case"focusin":return yr=Qn(yr,i,s,u,p,T),!0;case"dragenter":return vr=Qn(vr,i,s,u,p,T),!0;case"mouseover":return Wt=Qn(Wt,i,s,u,p,T),!0;case"pointerover":var C=T.pointerId;return Eo.set(C,Qn(Eo.get(C)||null,i,s,u,p,T)),!0;case"gotpointercapture":return C=T.pointerId,Hr.set(C,Qn(Hr.get(C)||null,i,s,u,p,T)),!0}return!1}function fs(i){var s=bo(i.target);if(s!==null){var u=Gn(s);if(u!==null){if(s=u.tag,s===13){if(s=Ia(u),s!==null){i.blockedOn=s,ja(i.priority,function(){Da(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ct(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=hs(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);yi=p,u.target.dispatchEvent(p),yi=null}else return s=Xa(u),s!==null&&us(s),i.blockedOn=u,!1;s.shift()}return!0}function wu(i,s,u){ct(i)&&u.delete(s)}function Yf(){gr=!1,yr!==null&&ct(yr)&&(yr=null),vr!==null&&ct(vr)&&(vr=null),Wt!==null&&ct(Wt)&&(Wt=null),Eo.forEach(wu),Hr.forEach(wu)}function bi(i,s){i.blockedOn===s&&(i.blockedOn=null,gr||(gr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Yf)))}function Si(i){function s(T){return bi(T,i)}if(0<cs.length){bi(cs[0],i);for(var u=1;u<cs.length;u++){var p=cs[u];p.blockedOn===i&&(p.blockedOn=null)}}for(yr!==null&&bi(yr,i),vr!==null&&bi(vr,i),Wt!==null&&bi(Wt,i),Eo.forEach(s),Hr.forEach(s),u=0;u<Sn.length;u++)p=Sn[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<Sn.length&&(u=Sn[0],u.blockedOn===null);)fs(u),u.blockedOn===null&&Sn.shift()}var $r=b.ReactCurrentBatchConfig,Wr=!0;function _r(i,s,u,p){var T=Ze,C=$r.transition;$r.transition=null;try{Ze=1,Va(i,s,u,p)}finally{Ze=T,$r.transition=C}}function Tu(i,s,u,p){var T=Ze,C=$r.transition;$r.transition=null;try{Ze=4,Va(i,s,u,p)}finally{Ze=T,$r.transition=C}}function Va(i,s,u,p){if(Wr){var T=hs(i,s,u,p);if(T===null)ah(i,s,p,Er,u),Ai(i,p);else if(Eu(T,i,s,u,p))p.stopPropagation();else if(Ai(i,p),s&4&&-1<_u.indexOf(i)){for(;T!==null;){var C=Xa(T);if(C!==null&&La(C),C=hs(i,s,u,p),C===null&&ah(i,s,p,Er,u),C===T)break;T=C}T!==null&&p.stopPropagation()}else ah(i,s,p,null,u)}}var Er=null;function hs(i,s,u,p){if(Er=null,i=is(p),i=bo(i),i!==null)if(s=Gn(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Ia(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Er=i,null}function ds(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gf()){case as:return 1;case ka:return 4;case po:case Pa:return 16;case ls:return 536870912;default:return 16}default:return 16}}var In=null,ps=null,Kr=null;function Au(){if(Kr)return Kr;var i,s=ps,u=s.length,p,T="value"in In?In.value:In.textContent,C=T.length;for(i=0;i<u&&s[i]===T[i];i++);var F=u-i;for(p=1;p<=F&&s[u-p]===T[C-p];p++);return Kr=T.slice(i,1<p?1-p:void 0)}function wo(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function Ua(){return!1}function en(i){function s(u,p,T,C,F){this._reactName=u,this._targetInst=T,this.type=p,this.nativeEvent=C,this.target=F,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(u=i[Q],this[Q]=u?u(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?wr:Ua,this.isPropagationStopped=Ua,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),s}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=en(Tr),Ii=W({},Tr,{view:0,detail:0}),ms=en(Ii),gs,ys,Rn,Ao=W({},Ii,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Rn&&(Rn&&i.type==="mousemove"?(gs=i.screenX-Rn.screenX,ys=i.screenY-Rn.screenY):ys=gs=0,Rn=i),gs)},movementY:function(i){return"movementY"in i?i.movementY:ys}}),Fa=en(Ao),bu=W({},Ao,{dataTransfer:0}),Su=en(bu),vs=W({},Ii,{relatedTarget:0}),Kt=en(vs),Iu=W({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ru=en(Iu),Ri=W({},Tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),f=en(Ri),O=W({},Tr,{data:0}),V=en(O),H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},le={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},he={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function be(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=he[i])?!!s[i]:!1}function $e(){return be}var kt=W({},Ii,{key:function(i){if(i.key){var s=H[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=wo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?le[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(i){return i.type==="keypress"?wo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?wo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),at=en(kt),xt=W({},Ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kn=en(xt),Gr=W({},Ii,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),Ar=en(Gr),br=W({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_s=en(br),qa=W({},Ao,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),nS=en(qa),rS=[9,13,27,32],Xf=c&&"CompositionEvent"in window,Ba=null;c&&"documentMode"in document&&(Ba=document.documentMode);var iS=c&&"TextEvent"in window&&!Ba,_y=c&&(!Xf||Ba&&8<Ba&&11>=Ba),Ey=" ",wy=!1;function Ty(i,s){switch(i){case"keyup":return rS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Es=!1;function oS(i,s){switch(i){case"compositionend":return Ay(s);case"keypress":return s.which!==32?null:(wy=!0,Ey);case"textInput":return i=s.data,i===Ey&&wy?null:i;default:return null}}function sS(i,s){if(Es)return i==="compositionend"||!Xf&&Ty(i,s)?(i=Au(),Kr=ps=In=null,Es=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _y&&s.locale!=="ko"?null:s.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function by(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!aS[i.type]:s==="textarea"}function Sy(i,s,u,p){vi(p),s=xu(s,"onChange"),0<s.length&&(u=new To("onChange","change",null,u,p),i.push({event:u,listeners:s}))}var za=null,Ha=null;function lS(i){zy(i,0)}function ku(i){var s=Ss(i);if(je(s))return i}function uS(i,s){if(i==="change")return s}var Iy=!1;if(c){var Jf;if(c){var Zf="oninput"in document;if(!Zf){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Zf=typeof Ry.oninput=="function"}Jf=Zf}else Jf=!1;Iy=Jf&&(!document.documentMode||9<document.documentMode)}function ky(){za&&(za.detachEvent("onpropertychange",Py),Ha=za=null)}function Py(i){if(i.propertyName==="value"&&ku(Ha)){var s=[];Sy(s,Ha,i,is(i)),fu(lS,s)}}function cS(i,s,u){i==="focusin"?(ky(),za=s,Ha=u,za.attachEvent("onpropertychange",Py)):i==="focusout"&&ky()}function fS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ku(Ha)}function hS(i,s){if(i==="click")return ku(s)}function dS(i,s){if(i==="input"||i==="change")return ku(s)}function pS(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Yn=typeof Object.is=="function"?Object.is:pS;function $a(i,s){if(Yn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var T=u[p];if(!h.call(s,T)||!Yn(i[T],s[T]))return!1}return!0}function Cy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Oy(i,s){var u=Cy(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=s&&p>=s)return{node:u,offset:s-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Cy(u)}}function xy(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?xy(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Ny(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Ve(i.document)}return s}function eh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function mS(i){var s=Ny(),u=i.focusedElem,p=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&xy(u.ownerDocument.documentElement,u)){if(p!==null&&eh(u)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var T=u.textContent.length,C=Math.min(p.start,T);p=p.end===void 0?C:Math.min(p.end,T),!i.extend&&C>p&&(T=p,p=C,C=T),T=Oy(u,C);var F=Oy(u,p);T&&F&&(i.rangeCount!==1||i.anchorNode!==T.node||i.anchorOffset!==T.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(T.node,T.offset),i.removeAllRanges(),C>p?(i.addRange(s),i.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var gS=c&&"documentMode"in document&&11>=document.documentMode,ws=null,th=null,Wa=null,nh=!1;function Ly(i,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;nh||ws==null||ws!==Ve(p)||(p=ws,"selectionStart"in p&&eh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Wa&&$a(Wa,p)||(Wa=p,p=xu(th,"onSelect"),0<p.length&&(s=new To("onSelect","select",null,s,u),i.push({event:s,listeners:p}),s.target=ws)))}function Pu(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Ts={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},rh={},Dy={};c&&(Dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Cu(i){if(rh[i])return rh[i];if(!Ts[i])return i;var s=Ts[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Dy)return rh[i]=s[u];return i}var My=Cu("animationend"),jy=Cu("animationiteration"),Vy=Cu("animationstart"),Uy=Cu("transitionend"),Fy=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(i,s){Fy.set(i,s),a(s,[i])}for(var ih=0;ih<qy.length;ih++){var oh=qy[ih],yS=oh.toLowerCase(),vS=oh[0].toUpperCase()+oh.slice(1);ki(yS,"on"+vS)}ki(My,"onAnimationEnd"),ki(jy,"onAnimationIteration"),ki(Vy,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Uy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ka));function By(i,s,u){var p=i.type||"unknown-event";i.currentTarget=u,Sa(p,s,void 0,i),i.currentTarget=null}function zy(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],T=p.event;p=p.listeners;e:{var C=void 0;if(s)for(var F=p.length-1;0<=F;F--){var Q=p[F],ee=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,ee!==C&&T.isPropagationStopped())break e;By(T,Q,fe),C=ee}else for(F=0;F<p.length;F++){if(Q=p[F],ee=Q.instance,fe=Q.currentTarget,Q=Q.listener,ee!==C&&T.isPropagationStopped())break e;By(T,Q,fe),C=ee}}}if(os)throw i=Ln,os=!1,Ln=null,i}function pt(i,s){var u=s[dh];u===void 0&&(u=s[dh]=new Set);var p=i+"__bubble";u.has(p)||(Hy(s,i,2,!1),u.add(p))}function sh(i,s,u){var p=0;s&&(p|=4),Hy(u,i,p,s)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Ga(i){if(!i[Ou]){i[Ou]=!0,r.forEach(function(u){u!=="selectionchange"&&(_S.has(u)||sh(u,!1,i),sh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Ou]||(s[Ou]=!0,sh("selectionchange",!1,s))}}function Hy(i,s,u,p){switch(ds(s)){case 1:var T=_r;break;case 4:T=Tu;break;default:T=Va}u=T.bind(null,s,u,i),T=void 0,!Ei||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(T=!0),p?T!==void 0?i.addEventListener(s,u,{capture:!0,passive:T}):i.addEventListener(s,u,!0):T!==void 0?i.addEventListener(s,u,{passive:T}):i.addEventListener(s,u,!1)}function ah(i,s,u,p,T){var C=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var F=p.tag;if(F===3||F===4){var Q=p.stateNode.containerInfo;if(Q===T||Q.nodeType===8&&Q.parentNode===T)break;if(F===4)for(F=p.return;F!==null;){var ee=F.tag;if((ee===3||ee===4)&&(ee=F.stateNode.containerInfo,ee===T||ee.nodeType===8&&ee.parentNode===T))return;F=F.return}for(;Q!==null;){if(F=bo(Q),F===null)return;if(ee=F.tag,ee===5||ee===6){p=C=F;continue e}Q=Q.parentNode}}p=p.return}fu(function(){var fe=C,Ee=is(u),Te=[];e:{var _e=Fy.get(i);if(_e!==void 0){var ke=To,Oe=i;switch(i){case"keypress":if(wo(u)===0)break e;case"keydown":case"keyup":ke=at;break;case"focusin":Oe="focus",ke=Kt;break;case"focusout":Oe="blur",ke=Kt;break;case"beforeblur":case"afterblur":ke=Kt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Su;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Ar;break;case My:case jy:case Vy:ke=Ru;break;case Uy:ke=_s;break;case"scroll":ke=ms;break;case"wheel":ke=nS;break;case"copy":case"cut":case"paste":ke=f;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=kn}var xe=(s&4)!==0,Pt=!xe&&i==="scroll",ae=xe?_e!==null?_e+"Capture":null:_e;xe=[];for(var te=fe,ue;te!==null;){ue=te;var Ae=ue.stateNode;if(ue.tag===5&&Ae!==null&&(ue=Ae,ae!==null&&(Ae=co(te,ae),Ae!=null&&xe.push(Qa(te,Ae,ue)))),Pt)break;te=te.return}0<xe.length&&(_e=new ke(_e,Oe,null,u,Ee),Te.push({event:_e,listeners:xe}))}}if((s&7)===0){e:{if(_e=i==="mouseover"||i==="pointerover",ke=i==="mouseout"||i==="pointerout",_e&&u!==yi&&(Oe=u.relatedTarget||u.fromElement)&&(bo(Oe)||Oe[Qr]))break e;if((ke||_e)&&(_e=Ee.window===Ee?Ee:(_e=Ee.ownerDocument)?_e.defaultView||_e.parentWindow:window,ke?(Oe=u.relatedTarget||u.toElement,ke=fe,Oe=Oe?bo(Oe):null,Oe!==null&&(Pt=Gn(Oe),Oe!==Pt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(ke=null,Oe=fe),ke!==Oe)){if(xe=Fa,Ae="onMouseLeave",ae="onMouseEnter",te="mouse",(i==="pointerout"||i==="pointerover")&&(xe=kn,Ae="onPointerLeave",ae="onPointerEnter",te="pointer"),Pt=ke==null?_e:Ss(ke),ue=Oe==null?_e:Ss(Oe),_e=new xe(Ae,te+"leave",ke,u,Ee),_e.target=Pt,_e.relatedTarget=ue,Ae=null,bo(Ee)===fe&&(xe=new xe(ae,te+"enter",Oe,u,Ee),xe.target=ue,xe.relatedTarget=Pt,Ae=xe),Pt=Ae,ke&&Oe)t:{for(xe=ke,ae=Oe,te=0,ue=xe;ue;ue=As(ue))te++;for(ue=0,Ae=ae;Ae;Ae=As(Ae))ue++;for(;0<te-ue;)xe=As(xe),te--;for(;0<ue-te;)ae=As(ae),ue--;for(;te--;){if(xe===ae||ae!==null&&xe===ae.alternate)break t;xe=As(xe),ae=As(ae)}xe=null}else xe=null;ke!==null&&$y(Te,_e,ke,xe,!1),Oe!==null&&Pt!==null&&$y(Te,Pt,Oe,xe,!0)}}e:{if(_e=fe?Ss(fe):window,ke=_e.nodeName&&_e.nodeName.toLowerCase(),ke==="select"||ke==="input"&&_e.type==="file")var Ne=uS;else if(by(_e))if(Iy)Ne=dS;else{Ne=fS;var De=cS}else(ke=_e.nodeName)&&ke.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ne=hS);if(Ne&&(Ne=Ne(i,fe))){Sy(Te,Ne,u,Ee);break e}De&&De(i,_e,fe),i==="focusout"&&(De=_e._wrapperState)&&De.controlled&&_e.type==="number"&&de(_e,"number",_e.value)}switch(De=fe?Ss(fe):window,i){case"focusin":(by(De)||De.contentEditable==="true")&&(ws=De,th=fe,Wa=null);break;case"focusout":Wa=th=ws=null;break;case"mousedown":nh=!0;break;case"contextmenu":case"mouseup":case"dragend":nh=!1,Ly(Te,u,Ee);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":Ly(Te,u,Ee)}var Me;if(Xf)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Es?Ty(i,u)&&(qe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(qe="onCompositionStart");qe&&(_y&&u.locale!=="ko"&&(Es||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Es&&(Me=Au()):(In=Ee,ps="value"in In?In.value:In.textContent,Es=!0)),De=xu(fe,qe),0<De.length&&(qe=new V(qe,i,null,u,Ee),Te.push({event:qe,listeners:De}),Me?qe.data=Me:(Me=Ay(u),Me!==null&&(qe.data=Me)))),(Me=iS?oS(i,u):sS(i,u))&&(fe=xu(fe,"onBeforeInput"),0<fe.length&&(Ee=new V("onBeforeInput","beforeinput",null,u,Ee),Te.push({event:Ee,listeners:fe}),Ee.data=Me))}zy(Te,s)})}function Qa(i,s,u){return{instance:i,listener:s,currentTarget:u}}function xu(i,s){for(var u=s+"Capture",p=[];i!==null;){var T=i,C=T.stateNode;T.tag===5&&C!==null&&(T=C,C=co(i,u),C!=null&&p.unshift(Qa(i,C,T)),C=co(i,s),C!=null&&p.push(Qa(i,C,T))),i=i.return}return p}function As(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function $y(i,s,u,p,T){for(var C=s._reactName,F=[];u!==null&&u!==p;){var Q=u,ee=Q.alternate,fe=Q.stateNode;if(ee!==null&&ee===p)break;Q.tag===5&&fe!==null&&(Q=fe,T?(ee=co(u,C),ee!=null&&F.unshift(Qa(u,ee,Q))):T||(ee=co(u,C),ee!=null&&F.push(Qa(u,ee,Q)))),u=u.return}F.length!==0&&i.push({event:s,listeners:F})}var ES=/\r\n?/g,wS=/\u0000|\uFFFD/g;function Wy(i){return(typeof i=="string"?i:""+i).replace(ES,`
`).replace(wS,"")}function Nu(i,s,u){if(s=Wy(s),Wy(i)!==s&&u)throw Error(t(425))}function Lu(){}var lh=null,uh=null;function ch(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var fh=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,Ky=typeof Promise=="function"?Promise:void 0,AS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ky<"u"?function(i){return Ky.resolve(null).then(i).catch(bS)}:fh;function bS(i){setTimeout(function(){throw i})}function hh(i,s){var u=s,p=0;do{var T=u.nextSibling;if(i.removeChild(u),T&&T.nodeType===8)if(u=T.data,u==="/$"){if(p===0){i.removeChild(T),Si(s);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=T}while(u);Si(s)}function Pi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Gy(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Sr="__reactFiber$"+bs,Ya="__reactProps$"+bs,Qr="__reactContainer$"+bs,dh="__reactEvents$"+bs,SS="__reactListeners$"+bs,IS="__reactHandles$"+bs;function bo(i){var s=i[Sr];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Qr]||u[Sr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=Gy(i);i!==null;){if(u=i[Sr])return u;i=Gy(i)}return s}i=u,u=i.parentNode}return null}function Xa(i){return i=i[Sr]||i[Qr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ss(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Du(i){return i[Ya]||null}var ph=[],Is=-1;function Ci(i){return{current:i}}function mt(i){0>Is||(i.current=ph[Is],ph[Is]=null,Is--)}function ft(i,s){Is++,ph[Is]=i.current,i.current=s}var Oi={},tn=Ci(Oi),pn=Ci(!1),So=Oi;function Rs(i,s){var u=i.type.contextTypes;if(!u)return Oi;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var T={},C;for(C in u)T[C]=s[C];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=T),T}function mn(i){return i=i.childContextTypes,i!=null}function Mu(){mt(pn),mt(tn)}function Qy(i,s,u){if(tn.current!==Oi)throw Error(t(168));ft(tn,s),ft(pn,u)}function Yy(i,s,u){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var T in p)if(!(T in s))throw Error(t(108,J(i)||"Unknown",T));return W({},u,p)}function ju(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Oi,So=tn.current,ft(tn,i),ft(pn,pn.current),!0}function Xy(i,s,u){var p=i.stateNode;if(!p)throw Error(t(169));u?(i=Yy(i,s,So),p.__reactInternalMemoizedMergedChildContext=i,mt(pn),mt(tn),ft(tn,i)):mt(pn),ft(pn,u)}var Yr=null,Vu=!1,mh=!1;function Jy(i){Yr===null?Yr=[i]:Yr.push(i)}function RS(i){Vu=!0,Jy(i)}function xi(){if(!mh&&Yr!==null){mh=!0;var i=0,s=Ze;try{var u=Yr;for(Ze=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Yr=null,Vu=!1}catch(T){throw Yr!==null&&(Yr=Yr.slice(i+1)),Ra(as,xi),T}finally{Ze=s,mh=!1}}return null}var ks=[],Ps=0,Uu=null,Fu=0,Mn=[],jn=0,Io=null,Xr=1,Jr="";function Ro(i,s){ks[Ps++]=Fu,ks[Ps++]=Uu,Uu=i,Fu=s}function Zy(i,s,u){Mn[jn++]=Xr,Mn[jn++]=Jr,Mn[jn++]=Io,Io=i;var p=Xr;i=Jr;var T=32-bn(p)-1;p&=~(1<<T),u+=1;var C=32-bn(s)+T;if(30<C){var F=T-T%5;C=(p&(1<<F)-1).toString(32),p>>=F,T-=F,Xr=1<<32-bn(s)+T|u<<T|p,Jr=C+i}else Xr=1<<C|u<<T|p,Jr=i}function gh(i){i.return!==null&&(Ro(i,1),Zy(i,1,0))}function yh(i){for(;i===Uu;)Uu=ks[--Ps],ks[Ps]=null,Fu=ks[--Ps],ks[Ps]=null;for(;i===Io;)Io=Mn[--jn],Mn[jn]=null,Jr=Mn[--jn],Mn[jn]=null,Xr=Mn[--jn],Mn[jn]=null}var Pn=null,Cn=null,vt=!1,Xn=null;function ev(i,s){var u=qn(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function tv(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Pn=i,Cn=Pi(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Pn=i,Cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Io!==null?{id:Xr,overflow:Jr}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=qn(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Pn=i,Cn=null,!0):!1;default:return!1}}function vh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function _h(i){if(vt){var s=Cn;if(s){var u=s;if(!tv(i,s)){if(vh(i))throw Error(t(418));s=Pi(u.nextSibling);var p=Pn;s&&tv(i,s)?ev(p,u):(i.flags=i.flags&-4097|2,vt=!1,Pn=i)}}else{if(vh(i))throw Error(t(418));i.flags=i.flags&-4097|2,vt=!1,Pn=i}}}function nv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Pn=i}function qu(i){if(i!==Pn)return!1;if(!vt)return nv(i),vt=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!ch(i.type,i.memoizedProps)),s&&(s=Cn)){if(vh(i))throw rv(),Error(t(418));for(;s;)ev(i,s),s=Pi(s.nextSibling)}if(nv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Cn=Pi(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Cn=null}}else Cn=Pn?Pi(i.stateNode.nextSibling):null;return!0}function rv(){for(var i=Cn;i;)i=Pi(i.nextSibling)}function Cs(){Cn=Pn=null,vt=!1}function Eh(i){Xn===null?Xn=[i]:Xn.push(i)}var kS=b.ReactCurrentBatchConfig;function Ja(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,i));var T=p,C=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===C?s.ref:(s=function(F){var Q=T.refs;F===null?delete Q[C]:Q[C]=F},s._stringRef=C,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Bu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function iv(i){var s=i._init;return s(i._payload)}function ov(i){function s(ae,te){if(i){var ue=ae.deletions;ue===null?(ae.deletions=[te],ae.flags|=16):ue.push(te)}}function u(ae,te){if(!i)return null;for(;te!==null;)s(ae,te),te=te.sibling;return null}function p(ae,te){for(ae=new Map;te!==null;)te.key!==null?ae.set(te.key,te):ae.set(te.index,te),te=te.sibling;return ae}function T(ae,te){return ae=Fi(ae,te),ae.index=0,ae.sibling=null,ae}function C(ae,te,ue){return ae.index=ue,i?(ue=ae.alternate,ue!==null?(ue=ue.index,ue<te?(ae.flags|=2,te):ue):(ae.flags|=2,te)):(ae.flags|=1048576,te)}function F(ae){return i&&ae.alternate===null&&(ae.flags|=2),ae}function Q(ae,te,ue,Ae){return te===null||te.tag!==6?(te=fd(ue,ae.mode,Ae),te.return=ae,te):(te=T(te,ue),te.return=ae,te)}function ee(ae,te,ue,Ae){var Ne=ue.type;return Ne===k?Ee(ae,te,ue.props.children,Ae,ue.key):te!==null&&(te.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ie&&iv(Ne)===te.type)?(Ae=T(te,ue.props),Ae.ref=Ja(ae,te,ue),Ae.return=ae,Ae):(Ae=hc(ue.type,ue.key,ue.props,null,ae.mode,Ae),Ae.ref=Ja(ae,te,ue),Ae.return=ae,Ae)}function fe(ae,te,ue,Ae){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=hd(ue,ae.mode,Ae),te.return=ae,te):(te=T(te,ue.children||[]),te.return=ae,te)}function Ee(ae,te,ue,Ae,Ne){return te===null||te.tag!==7?(te=Do(ue,ae.mode,Ae,Ne),te.return=ae,te):(te=T(te,ue),te.return=ae,te)}function Te(ae,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=fd(""+te,ae.mode,ue),te.return=ae,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case D:return ue=hc(te.type,te.key,te.props,null,ae.mode,ue),ue.ref=Ja(ae,null,te),ue.return=ae,ue;case U:return te=hd(te,ae.mode,ue),te.return=ae,te;case ie:var Ae=te._init;return Te(ae,Ae(te._payload),ue)}if(we(te)||X(te))return te=Do(te,ae.mode,ue,null),te.return=ae,te;Bu(ae,te)}return null}function _e(ae,te,ue,Ae){var Ne=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return Ne!==null?null:Q(ae,te,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:return ue.key===Ne?ee(ae,te,ue,Ae):null;case U:return ue.key===Ne?fe(ae,te,ue,Ae):null;case ie:return Ne=ue._init,_e(ae,te,Ne(ue._payload),Ae)}if(we(ue)||X(ue))return Ne!==null?null:Ee(ae,te,ue,Ae,null);Bu(ae,ue)}return null}function ke(ae,te,ue,Ae,Ne){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return ae=ae.get(ue)||null,Q(te,ae,""+Ae,Ne);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case D:return ae=ae.get(Ae.key===null?ue:Ae.key)||null,ee(te,ae,Ae,Ne);case U:return ae=ae.get(Ae.key===null?ue:Ae.key)||null,fe(te,ae,Ae,Ne);case ie:var De=Ae._init;return ke(ae,te,ue,De(Ae._payload),Ne)}if(we(Ae)||X(Ae))return ae=ae.get(ue)||null,Ee(te,ae,Ae,Ne,null);Bu(te,Ae)}return null}function Oe(ae,te,ue,Ae){for(var Ne=null,De=null,Me=te,qe=te=0,zt=null;Me!==null&&qe<ue.length;qe++){Me.index>qe?(zt=Me,Me=null):zt=Me.sibling;var it=_e(ae,Me,ue[qe],Ae);if(it===null){Me===null&&(Me=zt);break}i&&Me&&it.alternate===null&&s(ae,Me),te=C(it,te,qe),De===null?Ne=it:De.sibling=it,De=it,Me=zt}if(qe===ue.length)return u(ae,Me),vt&&Ro(ae,qe),Ne;if(Me===null){for(;qe<ue.length;qe++)Me=Te(ae,ue[qe],Ae),Me!==null&&(te=C(Me,te,qe),De===null?Ne=Me:De.sibling=Me,De=Me);return vt&&Ro(ae,qe),Ne}for(Me=p(ae,Me);qe<ue.length;qe++)zt=ke(Me,ae,qe,ue[qe],Ae),zt!==null&&(i&&zt.alternate!==null&&Me.delete(zt.key===null?qe:zt.key),te=C(zt,te,qe),De===null?Ne=zt:De.sibling=zt,De=zt);return i&&Me.forEach(function(qi){return s(ae,qi)}),vt&&Ro(ae,qe),Ne}function xe(ae,te,ue,Ae){var Ne=X(ue);if(typeof Ne!="function")throw Error(t(150));if(ue=Ne.call(ue),ue==null)throw Error(t(151));for(var De=Ne=null,Me=te,qe=te=0,zt=null,it=ue.next();Me!==null&&!it.done;qe++,it=ue.next()){Me.index>qe?(zt=Me,Me=null):zt=Me.sibling;var qi=_e(ae,Me,it.value,Ae);if(qi===null){Me===null&&(Me=zt);break}i&&Me&&qi.alternate===null&&s(ae,Me),te=C(qi,te,qe),De===null?Ne=qi:De.sibling=qi,De=qi,Me=zt}if(it.done)return u(ae,Me),vt&&Ro(ae,qe),Ne;if(Me===null){for(;!it.done;qe++,it=ue.next())it=Te(ae,it.value,Ae),it!==null&&(te=C(it,te,qe),De===null?Ne=it:De.sibling=it,De=it);return vt&&Ro(ae,qe),Ne}for(Me=p(ae,Me);!it.done;qe++,it=ue.next())it=ke(Me,ae,qe,it.value,Ae),it!==null&&(i&&it.alternate!==null&&Me.delete(it.key===null?qe:it.key),te=C(it,te,qe),De===null?Ne=it:De.sibling=it,De=it);return i&&Me.forEach(function(aI){return s(ae,aI)}),vt&&Ro(ae,qe),Ne}function Pt(ae,te,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===k&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case D:e:{for(var Ne=ue.key,De=te;De!==null;){if(De.key===Ne){if(Ne=ue.type,Ne===k){if(De.tag===7){u(ae,De.sibling),te=T(De,ue.props.children),te.return=ae,ae=te;break e}}else if(De.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ie&&iv(Ne)===De.type){u(ae,De.sibling),te=T(De,ue.props),te.ref=Ja(ae,De,ue),te.return=ae,ae=te;break e}u(ae,De);break}else s(ae,De);De=De.sibling}ue.type===k?(te=Do(ue.props.children,ae.mode,Ae,ue.key),te.return=ae,ae=te):(Ae=hc(ue.type,ue.key,ue.props,null,ae.mode,Ae),Ae.ref=Ja(ae,te,ue),Ae.return=ae,ae=Ae)}return F(ae);case U:e:{for(De=ue.key;te!==null;){if(te.key===De)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){u(ae,te.sibling),te=T(te,ue.children||[]),te.return=ae,ae=te;break e}else{u(ae,te);break}else s(ae,te);te=te.sibling}te=hd(ue,ae.mode,Ae),te.return=ae,ae=te}return F(ae);case ie:return De=ue._init,Pt(ae,te,De(ue._payload),Ae)}if(we(ue))return Oe(ae,te,ue,Ae);if(X(ue))return xe(ae,te,ue,Ae);Bu(ae,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(u(ae,te.sibling),te=T(te,ue),te.return=ae,ae=te):(u(ae,te),te=fd(ue,ae.mode,Ae),te.return=ae,ae=te),F(ae)):u(ae,te)}return Pt}var Os=ov(!0),sv=ov(!1),zu=Ci(null),Hu=null,xs=null,wh=null;function Th(){wh=xs=Hu=null}function Ah(i){var s=zu.current;mt(zu),i._currentValue=s}function bh(i,s,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===u)break;i=i.return}}function Ns(i,s){Hu=i,wh=xs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(gn=!0),i.firstContext=null)}function Vn(i){var s=i._currentValue;if(wh!==i)if(i={context:i,memoizedValue:s,next:null},xs===null){if(Hu===null)throw Error(t(308));xs=i,Hu.dependencies={lanes:0,firstContext:i}}else xs=xs.next=i;return s}var ko=null;function Sh(i){ko===null?ko=[i]:ko.push(i)}function av(i,s,u,p){var T=s.interleaved;return T===null?(u.next=u,Sh(s)):(u.next=T.next,T.next=u),s.interleaved=u,Zr(i,p)}function Zr(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ni=!1;function Ih(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ei(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Li(i,s,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(nt&2)!==0){var T=p.pending;return T===null?s.next=s:(s.next=T.next,T.next=s),p.pending=s,Zr(i,u)}return T=p.interleaved,T===null?(s.next=s,Sh(p)):(s.next=T.next,T.next=s),p.interleaved=s,Zr(i,u)}function $u(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,Na(i,u)}}function uv(i,s){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var T=null,C=null;if(u=u.firstBaseUpdate,u!==null){do{var F={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};C===null?T=C=F:C=C.next=F,u=u.next}while(u!==null);C===null?T=C=s:C=C.next=s}else T=C=s;u={baseState:p.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Wu(i,s,u,p){var T=i.updateQueue;Ni=!1;var C=T.firstBaseUpdate,F=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var ee=Q,fe=ee.next;ee.next=null,F===null?C=fe:F.next=fe,F=ee;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,Q=Ee.lastBaseUpdate,Q!==F&&(Q===null?Ee.firstBaseUpdate=fe:Q.next=fe,Ee.lastBaseUpdate=ee))}if(C!==null){var Te=T.baseState;F=0,Ee=fe=ee=null,Q=C;do{var _e=Q.lane,ke=Q.eventTime;if((p&_e)===_e){Ee!==null&&(Ee=Ee.next={eventTime:ke,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Oe=i,xe=Q;switch(_e=s,ke=u,xe.tag){case 1:if(Oe=xe.payload,typeof Oe=="function"){Te=Oe.call(ke,Te,_e);break e}Te=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=xe.payload,_e=typeof Oe=="function"?Oe.call(ke,Te,_e):Oe,_e==null)break e;Te=W({},Te,_e);break e;case 2:Ni=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,_e=T.effects,_e===null?T.effects=[Q]:_e.push(Q))}else ke={eventTime:ke,lane:_e,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ee===null?(fe=Ee=ke,ee=Te):Ee=Ee.next=ke,F|=_e;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;_e=Q,Q=_e.next,_e.next=null,T.lastBaseUpdate=_e,T.shared.pending=null}}while(!0);if(Ee===null&&(ee=Te),T.baseState=ee,T.firstBaseUpdate=fe,T.lastBaseUpdate=Ee,s=T.shared.interleaved,s!==null){T=s;do F|=T.lane,T=T.next;while(T!==s)}else C===null&&(T.shared.lanes=0);Oo|=F,i.lanes=F,i.memoizedState=Te}}function cv(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],T=p.callback;if(T!==null){if(p.callback=null,p=u,typeof T!="function")throw Error(t(191,T));T.call(p)}}}var Za={},Ir=Ci(Za),el=Ci(Za),tl=Ci(Za);function Po(i){if(i===Za)throw Error(t(174));return i}function Rh(i,s){switch(ft(tl,s),ft(el,i),ft(Ir,Za),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Zt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Zt(s,i)}mt(Ir),ft(Ir,s)}function Ls(){mt(Ir),mt(el),mt(tl)}function fv(i){Po(tl.current);var s=Po(Ir.current),u=Zt(s,i.type);s!==u&&(ft(el,i),ft(Ir,u))}function kh(i){el.current===i&&(mt(Ir),mt(el))}var _t=Ci(0);function Ku(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ph=[];function Ch(){for(var i=0;i<Ph.length;i++)Ph[i]._workInProgressVersionPrimary=null;Ph.length=0}var Gu=b.ReactCurrentDispatcher,Oh=b.ReactCurrentBatchConfig,Co=0,Et=null,jt=null,qt=null,Qu=!1,nl=!1,rl=0,PS=0;function nn(){throw Error(t(321))}function xh(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Yn(i[u],s[u]))return!1;return!0}function Nh(i,s,u,p,T,C){if(Co=C,Et=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gu.current=i===null||i.memoizedState===null?NS:LS,i=u(p,T),nl){C=0;do{if(nl=!1,rl=0,25<=C)throw Error(t(301));C+=1,qt=jt=null,s.updateQueue=null,Gu.current=DS,i=u(p,T)}while(nl)}if(Gu.current=Ju,s=jt!==null&&jt.next!==null,Co=0,qt=jt=Et=null,Qu=!1,s)throw Error(t(300));return i}function Lh(){var i=rl!==0;return rl=0,i}function Rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Et.memoizedState=qt=i:qt=qt.next=i,qt}function Un(){if(jt===null){var i=Et.alternate;i=i!==null?i.memoizedState:null}else i=jt.next;var s=qt===null?Et.memoizedState:qt.next;if(s!==null)qt=s,jt=i;else{if(i===null)throw Error(t(310));jt=i,i={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},qt===null?Et.memoizedState=qt=i:qt=qt.next=i}return qt}function il(i,s){return typeof s=="function"?s(i):s}function Dh(i){var s=Un(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=jt,T=p.baseQueue,C=u.pending;if(C!==null){if(T!==null){var F=T.next;T.next=C.next,C.next=F}p.baseQueue=T=C,u.pending=null}if(T!==null){C=T.next,p=p.baseState;var Q=F=null,ee=null,fe=C;do{var Ee=fe.lane;if((Co&Ee)===Ee)ee!==null&&(ee=ee.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),p=fe.hasEagerState?fe.eagerState:i(p,fe.action);else{var Te={lane:Ee,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};ee===null?(Q=ee=Te,F=p):ee=ee.next=Te,Et.lanes|=Ee,Oo|=Ee}fe=fe.next}while(fe!==null&&fe!==C);ee===null?F=p:ee.next=Q,Yn(p,s.memoizedState)||(gn=!0),s.memoizedState=p,s.baseState=F,s.baseQueue=ee,u.lastRenderedState=p}if(i=u.interleaved,i!==null){T=i;do C=T.lane,Et.lanes|=C,Oo|=C,T=T.next;while(T!==i)}else T===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function Mh(i){var s=Un(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=u.dispatch,T=u.pending,C=s.memoizedState;if(T!==null){u.pending=null;var F=T=T.next;do C=i(C,F.action),F=F.next;while(F!==T);Yn(C,s.memoizedState)||(gn=!0),s.memoizedState=C,s.baseQueue===null&&(s.baseState=C),u.lastRenderedState=C}return[C,p]}function hv(){}function dv(i,s){var u=Et,p=Un(),T=s(),C=!Yn(p.memoizedState,T);if(C&&(p.memoizedState=T,gn=!0),p=p.queue,jh(gv.bind(null,u,p,i),[i]),p.getSnapshot!==s||C||qt!==null&&qt.memoizedState.tag&1){if(u.flags|=2048,ol(9,mv.bind(null,u,p,T,s),void 0,null),Bt===null)throw Error(t(349));(Co&30)!==0||pv(u,s,T)}return T}function pv(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function mv(i,s,u,p){s.value=u,s.getSnapshot=p,yv(s)&&vv(i)}function gv(i,s,u){return u(function(){yv(s)&&vv(i)})}function yv(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Yn(i,u)}catch{return!0}}function vv(i){var s=Zr(i,1);s!==null&&tr(s,i,1,-1)}function _v(i){var s=Rr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:il,lastRenderedState:i},s.queue=i,i=i.dispatch=xS.bind(null,Et,i),[s.memoizedState,i]}function ol(i,s,u,p){return i={tag:i,create:s,destroy:u,deps:p,next:null},s=Et.updateQueue,s===null?(s={lastEffect:null,stores:null},Et.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,s.lastEffect=i)),i}function Ev(){return Un().memoizedState}function Yu(i,s,u,p){var T=Rr();Et.flags|=i,T.memoizedState=ol(1|s,u,void 0,p===void 0?null:p)}function Xu(i,s,u,p){var T=Un();p=p===void 0?null:p;var C=void 0;if(jt!==null){var F=jt.memoizedState;if(C=F.destroy,p!==null&&xh(p,F.deps)){T.memoizedState=ol(s,u,C,p);return}}Et.flags|=i,T.memoizedState=ol(1|s,u,C,p)}function wv(i,s){return Yu(8390656,8,i,s)}function jh(i,s){return Xu(2048,8,i,s)}function Tv(i,s){return Xu(4,2,i,s)}function Av(i,s){return Xu(4,4,i,s)}function bv(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Sv(i,s,u){return u=u!=null?u.concat([i]):null,Xu(4,4,bv.bind(null,s,i),u)}function Vh(){}function Iv(i,s){var u=Un();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&xh(s,p[1])?p[0]:(u.memoizedState=[i,s],i)}function Rv(i,s){var u=Un();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&xh(s,p[1])?p[0]:(i=i(),u.memoizedState=[i,s],i)}function kv(i,s,u){return(Co&21)===0?(i.baseState&&(i.baseState=!1,gn=!0),i.memoizedState=u):(Yn(u,s)||(u=Oa(),Et.lanes|=u,Oo|=u,i.baseState=!0),s)}function CS(i,s){var u=Ze;Ze=u!==0&&4>u?u:4,i(!0);var p=Oh.transition;Oh.transition={};try{i(!1),s()}finally{Ze=u,Oh.transition=p}}function Pv(){return Un().memoizedState}function OS(i,s,u){var p=Vi(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},Cv(i))Ov(s,u);else if(u=av(i,s,u,p),u!==null){var T=hn();tr(u,i,p,T),xv(u,s,p)}}function xS(i,s,u){var p=Vi(i),T={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(Cv(i))Ov(s,T);else{var C=i.alternate;if(i.lanes===0&&(C===null||C.lanes===0)&&(C=s.lastRenderedReducer,C!==null))try{var F=s.lastRenderedState,Q=C(F,u);if(T.hasEagerState=!0,T.eagerState=Q,Yn(Q,F)){var ee=s.interleaved;ee===null?(T.next=T,Sh(s)):(T.next=ee.next,ee.next=T),s.interleaved=T;return}}catch{}u=av(i,s,T,p),u!==null&&(T=hn(),tr(u,i,p,T),xv(u,s,p))}}function Cv(i){var s=i.alternate;return i===Et||s!==null&&s===Et}function Ov(i,s){nl=Qu=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function xv(i,s,u){if((u&4194240)!==0){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,Na(i,u)}}var Ju={readContext:Vn,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useInsertionEffect:nn,useLayoutEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useMutableSource:nn,useSyncExternalStore:nn,useId:nn,unstable_isNewReconciler:!1},NS={readContext:Vn,useCallback:function(i,s){return Rr().memoizedState=[i,s===void 0?null:s],i},useContext:Vn,useEffect:wv,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Yu(4194308,4,bv.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Yu(4194308,4,i,s)},useInsertionEffect:function(i,s){return Yu(4,2,i,s)},useMemo:function(i,s){var u=Rr();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var p=Rr();return s=u!==void 0?u(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=OS.bind(null,Et,i),[p.memoizedState,i]},useRef:function(i){var s=Rr();return i={current:i},s.memoizedState=i},useState:_v,useDebugValue:Vh,useDeferredValue:function(i){return Rr().memoizedState=i},useTransition:function(){var i=_v(!1),s=i[0];return i=CS.bind(null,i[1]),Rr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var p=Et,T=Rr();if(vt){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),Bt===null)throw Error(t(349));(Co&30)!==0||pv(p,s,u)}T.memoizedState=u;var C={value:u,getSnapshot:s};return T.queue=C,wv(gv.bind(null,p,C,i),[i]),p.flags|=2048,ol(9,mv.bind(null,p,C,u,s),void 0,null),u},useId:function(){var i=Rr(),s=Bt.identifierPrefix;if(vt){var u=Jr,p=Xr;u=(p&~(1<<32-bn(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=rl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=PS++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},LS={readContext:Vn,useCallback:Iv,useContext:Vn,useEffect:jh,useImperativeHandle:Sv,useInsertionEffect:Tv,useLayoutEffect:Av,useMemo:Rv,useReducer:Dh,useRef:Ev,useState:function(){return Dh(il)},useDebugValue:Vh,useDeferredValue:function(i){var s=Un();return kv(s,jt.memoizedState,i)},useTransition:function(){var i=Dh(il)[0],s=Un().memoizedState;return[i,s]},useMutableSource:hv,useSyncExternalStore:dv,useId:Pv,unstable_isNewReconciler:!1},DS={readContext:Vn,useCallback:Iv,useContext:Vn,useEffect:jh,useImperativeHandle:Sv,useInsertionEffect:Tv,useLayoutEffect:Av,useMemo:Rv,useReducer:Mh,useRef:Ev,useState:function(){return Mh(il)},useDebugValue:Vh,useDeferredValue:function(i){var s=Un();return jt===null?s.memoizedState=i:kv(s,jt.memoizedState,i)},useTransition:function(){var i=Mh(il)[0],s=Un().memoizedState;return[i,s]},useMutableSource:hv,useSyncExternalStore:dv,useId:Pv,unstable_isNewReconciler:!1};function Jn(i,s){if(i&&i.defaultProps){s=W({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Uh(i,s,u,p){s=i.memoizedState,u=u(p,s),u=u==null?s:W({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Zu={isMounted:function(i){return(i=i._reactInternals)?Gn(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var p=hn(),T=Vi(i),C=ei(p,T);C.payload=s,u!=null&&(C.callback=u),s=Li(i,C,T),s!==null&&(tr(s,i,T,p),$u(s,i,T))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var p=hn(),T=Vi(i),C=ei(p,T);C.tag=1,C.payload=s,u!=null&&(C.callback=u),s=Li(i,C,T),s!==null&&(tr(s,i,T,p),$u(s,i,T))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=hn(),p=Vi(i),T=ei(u,p);T.tag=2,s!=null&&(T.callback=s),s=Li(i,T,p),s!==null&&(tr(s,i,p,u),$u(s,i,p))}};function Nv(i,s,u,p,T,C,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,C,F):s.prototype&&s.prototype.isPureReactComponent?!$a(u,p)||!$a(T,C):!0}function Lv(i,s,u){var p=!1,T=Oi,C=s.contextType;return typeof C=="object"&&C!==null?C=Vn(C):(T=mn(s)?So:tn.current,p=s.contextTypes,C=(p=p!=null)?Rs(i,T):Oi),s=new s(u,C),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Zu,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=T,i.__reactInternalMemoizedMaskedChildContext=C),s}function Dv(i,s,u,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==i&&Zu.enqueueReplaceState(s,s.state,null)}function Fh(i,s,u,p){var T=i.stateNode;T.props=u,T.state=i.memoizedState,T.refs={},Ih(i);var C=s.contextType;typeof C=="object"&&C!==null?T.context=Vn(C):(C=mn(s)?So:tn.current,T.context=Rs(i,C)),T.state=i.memoizedState,C=s.getDerivedStateFromProps,typeof C=="function"&&(Uh(i,s,C,u),T.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(s=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),s!==T.state&&Zu.enqueueReplaceState(T,T.state,null),Wu(i,u,T,p),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308)}function Ds(i,s){try{var u="",p=s;do u+=Z(p),p=p.return;while(p);var T=u}catch(C){T=`
Error generating stack: `+C.message+`
`+C.stack}return{value:i,source:s,stack:T,digest:null}}function qh(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Bh(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var MS=typeof WeakMap=="function"?WeakMap:Map;function Mv(i,s,u){u=ei(-1,u),u.tag=3,u.payload={element:null};var p=s.value;return u.callback=function(){sc||(sc=!0,rd=p),Bh(i,s)},u}function jv(i,s,u){u=ei(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var T=s.value;u.payload=function(){return p(T)},u.callback=function(){Bh(i,s)}}var C=i.stateNode;return C!==null&&typeof C.componentDidCatch=="function"&&(u.callback=function(){Bh(i,s),typeof p!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),u}function Vv(i,s,u){var p=i.pingCache;if(p===null){p=i.pingCache=new MS;var T=new Set;p.set(s,T)}else T=p.get(s),T===void 0&&(T=new Set,p.set(s,T));T.has(u)||(T.add(u),i=YS.bind(null,i,s,u),s.then(i,i))}function Uv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Fv(i,s,u,p,T){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=ei(-1,1),s.tag=2,Li(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=T,i)}var jS=b.ReactCurrentOwner,gn=!1;function fn(i,s,u,p){s.child=i===null?sv(s,null,u,p):Os(s,i.child,u,p)}function qv(i,s,u,p,T){u=u.render;var C=s.ref;return Ns(s,T),p=Nh(i,s,u,p,C,T),u=Lh(),i!==null&&!gn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~T,ti(i,s,T)):(vt&&u&&gh(s),s.flags|=1,fn(i,s,p,T),s.child)}function Bv(i,s,u,p,T){if(i===null){var C=u.type;return typeof C=="function"&&!cd(C)&&C.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=C,zv(i,s,C,p,T)):(i=hc(u.type,null,p,s,s.mode,T),i.ref=s.ref,i.return=s,s.child=i)}if(C=i.child,(i.lanes&T)===0){var F=C.memoizedProps;if(u=u.compare,u=u!==null?u:$a,u(F,p)&&i.ref===s.ref)return ti(i,s,T)}return s.flags|=1,i=Fi(C,p),i.ref=s.ref,i.return=s,s.child=i}function zv(i,s,u,p,T){if(i!==null){var C=i.memoizedProps;if($a(C,p)&&i.ref===s.ref)if(gn=!1,s.pendingProps=p=C,(i.lanes&T)!==0)(i.flags&131072)!==0&&(gn=!0);else return s.lanes=i.lanes,ti(i,s,T)}return zh(i,s,u,p,T)}function Hv(i,s,u){var p=s.pendingProps,T=p.children,C=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(js,On),On|=u;else{if((u&1073741824)===0)return i=C!==null?C.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,ft(js,On),On|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=C!==null?C.baseLanes:u,ft(js,On),On|=p}else C!==null?(p=C.baseLanes|u,s.memoizedState=null):p=u,ft(js,On),On|=p;return fn(i,s,T,u),s.child}function $v(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function zh(i,s,u,p,T){var C=mn(u)?So:tn.current;return C=Rs(s,C),Ns(s,T),u=Nh(i,s,u,p,C,T),p=Lh(),i!==null&&!gn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~T,ti(i,s,T)):(vt&&p&&gh(s),s.flags|=1,fn(i,s,u,T),s.child)}function Wv(i,s,u,p,T){if(mn(u)){var C=!0;ju(s)}else C=!1;if(Ns(s,T),s.stateNode===null)tc(i,s),Lv(s,u,p),Fh(s,u,p,T),p=!0;else if(i===null){var F=s.stateNode,Q=s.memoizedProps;F.props=Q;var ee=F.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=Vn(fe):(fe=mn(u)?So:tn.current,fe=Rs(s,fe));var Ee=u.getDerivedStateFromProps,Te=typeof Ee=="function"||typeof F.getSnapshotBeforeUpdate=="function";Te||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==p||ee!==fe)&&Dv(s,F,p,fe),Ni=!1;var _e=s.memoizedState;F.state=_e,Wu(s,p,F,T),ee=s.memoizedState,Q!==p||_e!==ee||pn.current||Ni?(typeof Ee=="function"&&(Uh(s,u,Ee,p),ee=s.memoizedState),(Q=Ni||Nv(s,u,Q,p,_e,ee,fe))?(Te||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),F.props=p,F.state=ee,F.context=fe,p=Q):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{F=s.stateNode,lv(i,s),Q=s.memoizedProps,fe=s.type===s.elementType?Q:Jn(s.type,Q),F.props=fe,Te=s.pendingProps,_e=F.context,ee=u.contextType,typeof ee=="object"&&ee!==null?ee=Vn(ee):(ee=mn(u)?So:tn.current,ee=Rs(s,ee));var ke=u.getDerivedStateFromProps;(Ee=typeof ke=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Q!==Te||_e!==ee)&&Dv(s,F,p,ee),Ni=!1,_e=s.memoizedState,F.state=_e,Wu(s,p,F,T);var Oe=s.memoizedState;Q!==Te||_e!==Oe||pn.current||Ni?(typeof ke=="function"&&(Uh(s,u,ke,p),Oe=s.memoizedState),(fe=Ni||Nv(s,u,fe,p,_e,Oe,ee)||!1)?(Ee||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(p,Oe,ee),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(p,Oe,ee)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=Oe),F.props=p,F.state=Oe,F.context=ee,p=fe):(typeof F.componentDidUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),p=!1)}return Hh(i,s,u,p,C,T)}function Hh(i,s,u,p,T,C){$v(i,s);var F=(s.flags&128)!==0;if(!p&&!F)return T&&Xy(s,u,!1),ti(i,s,C);p=s.stateNode,jS.current=s;var Q=F&&typeof u.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&F?(s.child=Os(s,i.child,null,C),s.child=Os(s,null,Q,C)):fn(i,s,Q,C),s.memoizedState=p.state,T&&Xy(s,u,!0),s.child}function Kv(i){var s=i.stateNode;s.pendingContext?Qy(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Qy(i,s.context,!1),Rh(i,s.containerInfo)}function Gv(i,s,u,p,T){return Cs(),Eh(T),s.flags|=256,fn(i,s,u,p),s.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Wh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Qv(i,s,u){var p=s.pendingProps,T=_t.current,C=!1,F=(s.flags&128)!==0,Q;if((Q=F)||(Q=i!==null&&i.memoizedState===null?!1:(T&2)!==0),Q?(C=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(T|=1),ft(_t,T&1),i===null)return _h(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(F=p.children,i=p.fallback,C?(p=s.mode,C=s.child,F={mode:"hidden",children:F},(p&1)===0&&C!==null?(C.childLanes=0,C.pendingProps=F):C=dc(F,p,0,null),i=Do(i,p,u,null),C.return=s,i.return=s,C.sibling=i,s.child=C,s.child.memoizedState=Wh(u),s.memoizedState=$h,i):Kh(s,F));if(T=i.memoizedState,T!==null&&(Q=T.dehydrated,Q!==null))return VS(i,s,F,p,Q,T,u);if(C){C=p.fallback,F=s.mode,T=i.child,Q=T.sibling;var ee={mode:"hidden",children:p.children};return(F&1)===0&&s.child!==T?(p=s.child,p.childLanes=0,p.pendingProps=ee,s.deletions=null):(p=Fi(T,ee),p.subtreeFlags=T.subtreeFlags&14680064),Q!==null?C=Fi(Q,C):(C=Do(C,F,u,null),C.flags|=2),C.return=s,p.return=s,p.sibling=C,s.child=p,p=C,C=s.child,F=i.child.memoizedState,F=F===null?Wh(u):{baseLanes:F.baseLanes|u,cachePool:null,transitions:F.transitions},C.memoizedState=F,C.childLanes=i.childLanes&~u,s.memoizedState=$h,p}return C=i.child,i=C.sibling,p=Fi(C,{mode:"visible",children:p.children}),(s.mode&1)===0&&(p.lanes=u),p.return=s,p.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=p,s.memoizedState=null,p}function Kh(i,s){return s=dc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ec(i,s,u,p){return p!==null&&Eh(p),Os(s,i.child,null,u),i=Kh(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function VS(i,s,u,p,T,C,F){if(u)return s.flags&256?(s.flags&=-257,p=qh(Error(t(422))),ec(i,s,F,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(C=p.fallback,T=s.mode,p=dc({mode:"visible",children:p.children},T,0,null),C=Do(C,T,F,null),C.flags|=2,p.return=s,C.return=s,p.sibling=C,s.child=p,(s.mode&1)!==0&&Os(s,i.child,null,F),s.child.memoizedState=Wh(F),s.memoizedState=$h,C);if((s.mode&1)===0)return ec(i,s,F,null);if(T.data==="$!"){if(p=T.nextSibling&&T.nextSibling.dataset,p)var Q=p.dgst;return p=Q,C=Error(t(419)),p=qh(C,p,void 0),ec(i,s,F,p)}if(Q=(F&i.childLanes)!==0,gn||Q){if(p=Bt,p!==null){switch(F&-F){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(p.suspendedLanes|F))!==0?0:T,T!==0&&T!==C.retryLane&&(C.retryLane=T,Zr(i,T),tr(p,i,T,-1))}return ud(),p=qh(Error(t(421))),ec(i,s,F,p)}return T.data==="$?"?(s.flags|=128,s.child=i.child,s=XS.bind(null,i),T._reactRetry=s,null):(i=C.treeContext,Cn=Pi(T.nextSibling),Pn=s,vt=!0,Xn=null,i!==null&&(Mn[jn++]=Xr,Mn[jn++]=Jr,Mn[jn++]=Io,Xr=i.id,Jr=i.overflow,Io=s),s=Kh(s,p.children),s.flags|=4096,s)}function Yv(i,s,u){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),bh(i.return,s,u)}function Gh(i,s,u,p,T){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:T}:(C.isBackwards=s,C.rendering=null,C.renderingStartTime=0,C.last=p,C.tail=u,C.tailMode=T)}function Xv(i,s,u){var p=s.pendingProps,T=p.revealOrder,C=p.tail;if(fn(i,s,p.children,u),p=_t.current,(p&2)!==0)p=p&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yv(i,u,s);else if(i.tag===19)Yv(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(ft(_t,p),(s.mode&1)===0)s.memoizedState=null;else switch(T){case"forwards":for(u=s.child,T=null;u!==null;)i=u.alternate,i!==null&&Ku(i)===null&&(T=u),u=u.sibling;u=T,u===null?(T=s.child,s.child=null):(T=u.sibling,u.sibling=null),Gh(s,!1,T,u,C);break;case"backwards":for(u=null,T=s.child,s.child=null;T!==null;){if(i=T.alternate,i!==null&&Ku(i)===null){s.child=T;break}i=T.sibling,T.sibling=u,u=T,T=i}Gh(s,!0,u,null,C);break;case"together":Gh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ti(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Oo|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=Fi(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Fi(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function US(i,s,u){switch(s.tag){case 3:Kv(s),Cs();break;case 5:fv(s);break;case 1:mn(s.type)&&ju(s);break;case 4:Rh(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,T=s.memoizedProps.value;ft(zu,p._currentValue),p._currentValue=T;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(ft(_t,_t.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?Qv(i,s,u):(ft(_t,_t.current&1),i=ti(i,s,u),i!==null?i.sibling:null);ft(_t,_t.current&1);break;case 19:if(p=(u&s.childLanes)!==0,(i.flags&128)!==0){if(p)return Xv(i,s,u);s.flags|=128}if(T=s.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),ft(_t,_t.current),p)break;return null;case 22:case 23:return s.lanes=0,Hv(i,s,u)}return ti(i,s,u)}var Jv,Qh,Zv,e_;Jv=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Qh=function(){},Zv=function(i,s,u,p){var T=i.memoizedProps;if(T!==p){i=s.stateNode,Po(Ir.current);var C=null;switch(u){case"input":T=Ge(i,T),p=Ge(i,p),C=[];break;case"select":T=W({},T,{value:void 0}),p=W({},p,{value:void 0}),C=[];break;case"textarea":T=ve(i,T),p=ve(i,p),C=[];break;default:typeof T.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Lu)}Kn(u,p);var F;u=null;for(fe in T)if(!p.hasOwnProperty(fe)&&T.hasOwnProperty(fe)&&T[fe]!=null)if(fe==="style"){var Q=T[fe];for(F in Q)Q.hasOwnProperty(F)&&(u||(u={}),u[F]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(o.hasOwnProperty(fe)?C||(C=[]):(C=C||[]).push(fe,null));for(fe in p){var ee=p[fe];if(Q=T?.[fe],p.hasOwnProperty(fe)&&ee!==Q&&(ee!=null||Q!=null))if(fe==="style")if(Q){for(F in Q)!Q.hasOwnProperty(F)||ee&&ee.hasOwnProperty(F)||(u||(u={}),u[F]="");for(F in ee)ee.hasOwnProperty(F)&&Q[F]!==ee[F]&&(u||(u={}),u[F]=ee[F])}else u||(C||(C=[]),C.push(fe,u)),u=ee;else fe==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,Q=Q?Q.__html:void 0,ee!=null&&Q!==ee&&(C=C||[]).push(fe,ee)):fe==="children"?typeof ee!="string"&&typeof ee!="number"||(C=C||[]).push(fe,""+ee):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(fe)?(ee!=null&&fe==="onScroll"&&pt("scroll",i),C||Q===ee||(C=[])):(C=C||[]).push(fe,ee))}u&&(C=C||[]).push("style",u);var fe=C;(s.updateQueue=fe)&&(s.flags|=4)}},e_=function(i,s,u,p){u!==p&&(s.flags|=4)};function sl(i,s){if(!vt)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function rn(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(s)for(var T=i.child;T!==null;)u|=T.lanes|T.childLanes,p|=T.subtreeFlags&14680064,p|=T.flags&14680064,T.return=i,T=T.sibling;else for(T=i.child;T!==null;)u|=T.lanes|T.childLanes,p|=T.subtreeFlags,p|=T.flags,T.return=i,T=T.sibling;return i.subtreeFlags|=p,i.childLanes=u,s}function FS(i,s,u){var p=s.pendingProps;switch(yh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(s),null;case 1:return mn(s.type)&&Mu(),rn(s),null;case 3:return p=s.stateNode,Ls(),mt(pn),mt(tn),Ch(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(qu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xn!==null&&(sd(Xn),Xn=null))),Qh(i,s),rn(s),null;case 5:kh(s);var T=Po(tl.current);if(u=s.type,i!==null&&s.stateNode!=null)Zv(i,s,u,p,T),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(t(166));return rn(s),null}if(i=Po(Ir.current),qu(s)){p=s.stateNode,u=s.type;var C=s.memoizedProps;switch(p[Sr]=s,p[Ya]=C,i=(s.mode&1)!==0,u){case"dialog":pt("cancel",p),pt("close",p);break;case"iframe":case"object":case"embed":pt("load",p);break;case"video":case"audio":for(T=0;T<Ka.length;T++)pt(Ka[T],p);break;case"source":pt("error",p);break;case"img":case"image":case"link":pt("error",p),pt("load",p);break;case"details":pt("toggle",p);break;case"input":et(p,C),pt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!C.multiple},pt("invalid",p);break;case"textarea":He(p,C),pt("invalid",p)}Kn(u,C),T=null;for(var F in C)if(C.hasOwnProperty(F)){var Q=C[F];F==="children"?typeof Q=="string"?p.textContent!==Q&&(C.suppressHydrationWarning!==!0&&Nu(p.textContent,Q,i),T=["children",Q]):typeof Q=="number"&&p.textContent!==""+Q&&(C.suppressHydrationWarning!==!0&&Nu(p.textContent,Q,i),T=["children",""+Q]):o.hasOwnProperty(F)&&Q!=null&&F==="onScroll"&&pt("scroll",p)}switch(u){case"input":Ie(p),pe(p,C,!0);break;case"textarea":Ie(p),Be(p);break;case"select":case"option":break;default:typeof C.onClick=="function"&&(p.onclick=Lu)}p=T,s.updateQueue=p,p!==null&&(s.flags|=4)}else{F=T.nodeType===9?T:T.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ft(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=F.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=F.createElement(u,{is:p.is}):(i=F.createElement(u),u==="select"&&(F=i,p.multiple?F.multiple=!0:p.size&&(F.size=p.size))):i=F.createElementNS(i,u),i[Sr]=s,i[Ya]=p,Jv(i,s,!1,!1),s.stateNode=i;e:{switch(F=rs(u,p),u){case"dialog":pt("cancel",i),pt("close",i),T=p;break;case"iframe":case"object":case"embed":pt("load",i),T=p;break;case"video":case"audio":for(T=0;T<Ka.length;T++)pt(Ka[T],i);T=p;break;case"source":pt("error",i),T=p;break;case"img":case"image":case"link":pt("error",i),pt("load",i),T=p;break;case"details":pt("toggle",i),T=p;break;case"input":et(i,p),T=Ge(i,p),pt("invalid",i);break;case"option":T=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},T=W({},p,{value:void 0}),pt("invalid",i);break;case"textarea":He(i,p),T=ve(i,p),pt("invalid",i);break;default:T=p}Kn(u,T),Q=T;for(C in Q)if(Q.hasOwnProperty(C)){var ee=Q[C];C==="style"?ns(i,ee):C==="dangerouslySetInnerHTML"?(ee=ee?ee.__html:void 0,ee!=null&&ts(i,ee)):C==="children"?typeof ee=="string"?(u!=="textarea"||ee!=="")&&lt(i,ee):typeof ee=="number"&&lt(i,""+ee):C!=="suppressContentEditableWarning"&&C!=="suppressHydrationWarning"&&C!=="autoFocus"&&(o.hasOwnProperty(C)?ee!=null&&C==="onScroll"&&pt("scroll",i):ee!=null&&P(i,C,ee,F))}switch(u){case"input":Ie(i),pe(i,p,!1);break;case"textarea":Ie(i),Be(i);break;case"option":p.value!=null&&i.setAttribute("value",""+ne(p.value));break;case"select":i.multiple=!!p.multiple,C=p.value,C!=null?Se(i,!!p.multiple,C,!1):p.defaultValue!=null&&Se(i,!!p.multiple,p.defaultValue,!0);break;default:typeof T.onClick=="function"&&(i.onclick=Lu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return rn(s),null;case 6:if(i&&s.stateNode!=null)e_(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(t(166));if(u=Po(tl.current),Po(Ir.current),qu(s)){if(p=s.stateNode,u=s.memoizedProps,p[Sr]=s,(C=p.nodeValue!==u)&&(i=Pn,i!==null))switch(i.tag){case 3:Nu(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Nu(p.nodeValue,u,(i.mode&1)!==0)}C&&(s.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Sr]=s,s.stateNode=p}return rn(s),null;case 13:if(mt(_t),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(vt&&Cn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)rv(),Cs(),s.flags|=98560,C=!1;else if(C=qu(s),p!==null&&p.dehydrated!==null){if(i===null){if(!C)throw Error(t(318));if(C=s.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));C[Sr]=s}else Cs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rn(s),C=!1}else Xn!==null&&(sd(Xn),Xn=null),C=!0;if(!C)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(_t.current&1)!==0?Vt===0&&(Vt=3):ud())),s.updateQueue!==null&&(s.flags|=4),rn(s),null);case 4:return Ls(),Qh(i,s),i===null&&Ga(s.stateNode.containerInfo),rn(s),null;case 10:return Ah(s.type._context),rn(s),null;case 17:return mn(s.type)&&Mu(),rn(s),null;case 19:if(mt(_t),C=s.memoizedState,C===null)return rn(s),null;if(p=(s.flags&128)!==0,F=C.rendering,F===null)if(p)sl(C,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(F=Ku(i),F!==null){for(s.flags|=128,sl(C,!1),p=F.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=u,u=s.child;u!==null;)C=u,i=p,C.flags&=14680066,F=C.alternate,F===null?(C.childLanes=0,C.lanes=i,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=F.childLanes,C.lanes=F.lanes,C.child=F.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=F.memoizedProps,C.memoizedState=F.memoizedState,C.updateQueue=F.updateQueue,C.type=F.type,i=F.dependencies,C.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ft(_t,_t.current&1|2),s.child}i=i.sibling}C.tail!==null&&dt()>Vs&&(s.flags|=128,p=!0,sl(C,!1),s.lanes=4194304)}else{if(!p)if(i=Ku(F),i!==null){if(s.flags|=128,p=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),sl(C,!0),C.tail===null&&C.tailMode==="hidden"&&!F.alternate&&!vt)return rn(s),null}else 2*dt()-C.renderingStartTime>Vs&&u!==1073741824&&(s.flags|=128,p=!0,sl(C,!1),s.lanes=4194304);C.isBackwards?(F.sibling=s.child,s.child=F):(u=C.last,u!==null?u.sibling=F:s.child=F,C.last=F)}return C.tail!==null?(s=C.tail,C.rendering=s,C.tail=s.sibling,C.renderingStartTime=dt(),s.sibling=null,u=_t.current,ft(_t,p?u&1|2:u&1),s):(rn(s),null);case 22:case 23:return ld(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&(s.mode&1)!==0?(On&1073741824)!==0&&(rn(s),s.subtreeFlags&6&&(s.flags|=8192)):rn(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function qS(i,s){switch(yh(s),s.tag){case 1:return mn(s.type)&&Mu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ls(),mt(pn),mt(tn),Ch(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return kh(s),null;case 13:if(mt(_t),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Cs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return mt(_t),null;case 4:return Ls(),null;case 10:return Ah(s.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var nc=!1,on=!1,BS=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Ms(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){It(i,s,p)}else u.current=null}function Yh(i,s,u){try{u()}catch(p){It(i,s,p)}}var t_=!1;function zS(i,s){if(lh=Wr,i=Ny(),eh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var T=p.anchorOffset,C=p.focusNode;p=p.focusOffset;try{u.nodeType,C.nodeType}catch{u=null;break e}var F=0,Q=-1,ee=-1,fe=0,Ee=0,Te=i,_e=null;t:for(;;){for(var ke;Te!==u||T!==0&&Te.nodeType!==3||(Q=F+T),Te!==C||p!==0&&Te.nodeType!==3||(ee=F+p),Te.nodeType===3&&(F+=Te.nodeValue.length),(ke=Te.firstChild)!==null;)_e=Te,Te=ke;for(;;){if(Te===i)break t;if(_e===u&&++fe===T&&(Q=F),_e===C&&++Ee===p&&(ee=F),(ke=Te.nextSibling)!==null)break;Te=_e,_e=Te.parentNode}Te=ke}u=Q===-1||ee===-1?null:{start:Q,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(uh={focusedElem:i,selectionRange:u},Wr=!1,Ce=s;Ce!==null;)if(s=Ce,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ce=i;else for(;Ce!==null;){s=Ce;try{var Oe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var xe=Oe.memoizedProps,Pt=Oe.memoizedState,ae=s.stateNode,te=ae.getSnapshotBeforeUpdate(s.elementType===s.type?xe:Jn(s.type,xe),Pt);ae.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=s.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ae){It(s,s.return,Ae)}if(i=s.sibling,i!==null){i.return=s.return,Ce=i;break}Ce=s.return}return Oe=t_,t_=!1,Oe}function al(i,s,u){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var T=p=p.next;do{if((T.tag&i)===i){var C=T.destroy;T.destroy=void 0,C!==void 0&&Yh(s,u,C)}T=T.next}while(T!==p)}}function rc(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==s)}}function Xh(i){var s=i.ref;if(s!==null){var u=i.stateNode;i.tag,i=u,typeof s=="function"?s(i):s.current=i}}function n_(i){var s=i.alternate;s!==null&&(i.alternate=null,n_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Sr],delete s[Ya],delete s[dh],delete s[SS],delete s[IS])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function r_(i){return i.tag===5||i.tag===3||i.tag===4}function i_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||r_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Jh(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Lu));else if(p!==4&&(i=i.child,i!==null))for(Jh(i,s,u),i=i.sibling;i!==null;)Jh(i,s,u),i=i.sibling}function Zh(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Zh(i,s,u),i=i.sibling;i!==null;)Zh(i,s,u),i=i.sibling}var Gt=null,Zn=!1;function Di(i,s,u){for(u=u.child;u!==null;)o_(i,s,u),u=u.sibling}function o_(i,s,u){if(An&&typeof An.onCommitFiberUnmount=="function")try{An.onCommitFiberUnmount(mo,u)}catch{}switch(u.tag){case 5:on||Ms(u,s);case 6:var p=Gt,T=Zn;Gt=null,Di(i,s,u),Gt=p,Zn=T,Gt!==null&&(Zn?(i=Gt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Gt.removeChild(u.stateNode));break;case 18:Gt!==null&&(Zn?(i=Gt,u=u.stateNode,i.nodeType===8?hh(i.parentNode,u):i.nodeType===1&&hh(i,u),Si(i)):hh(Gt,u.stateNode));break;case 4:p=Gt,T=Zn,Gt=u.stateNode.containerInfo,Zn=!0,Di(i,s,u),Gt=p,Zn=T;break;case 0:case 11:case 14:case 15:if(!on&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){T=p=p.next;do{var C=T,F=C.destroy;C=C.tag,F!==void 0&&((C&2)!==0||(C&4)!==0)&&Yh(u,s,F),T=T.next}while(T!==p)}Di(i,s,u);break;case 1:if(!on&&(Ms(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(Q){It(u,s,Q)}Di(i,s,u);break;case 21:Di(i,s,u);break;case 22:u.mode&1?(on=(p=on)||u.memoizedState!==null,Di(i,s,u),on=p):Di(i,s,u);break;default:Di(i,s,u)}}function s_(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new BS),s.forEach(function(p){var T=JS.bind(null,i,p);u.has(p)||(u.add(p),p.then(T,T))})}}function er(i,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var T=u[p];try{var C=i,F=s,Q=F;e:for(;Q!==null;){switch(Q.tag){case 5:Gt=Q.stateNode,Zn=!1;break e;case 3:Gt=Q.stateNode.containerInfo,Zn=!0;break e;case 4:Gt=Q.stateNode.containerInfo,Zn=!0;break e}Q=Q.return}if(Gt===null)throw Error(t(160));o_(C,F,T),Gt=null,Zn=!1;var ee=T.alternate;ee!==null&&(ee.return=null),T.return=null}catch(fe){It(T,s,fe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)a_(s,i),s=s.sibling}function a_(i,s){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(er(s,i),kr(i),p&4){try{al(3,i,i.return),rc(3,i)}catch(xe){It(i,i.return,xe)}try{al(5,i,i.return)}catch(xe){It(i,i.return,xe)}}break;case 1:er(s,i),kr(i),p&512&&u!==null&&Ms(u,u.return);break;case 5:if(er(s,i),kr(i),p&512&&u!==null&&Ms(u,u.return),i.flags&32){var T=i.stateNode;try{lt(T,"")}catch(xe){It(i,i.return,xe)}}if(p&4&&(T=i.stateNode,T!=null)){var C=i.memoizedProps,F=u!==null?u.memoizedProps:C,Q=i.type,ee=i.updateQueue;if(i.updateQueue=null,ee!==null)try{Q==="input"&&C.type==="radio"&&C.name!=null&&Rt(T,C),rs(Q,F);var fe=rs(Q,C);for(F=0;F<ee.length;F+=2){var Ee=ee[F],Te=ee[F+1];Ee==="style"?ns(T,Te):Ee==="dangerouslySetInnerHTML"?ts(T,Te):Ee==="children"?lt(T,Te):P(T,Ee,Te,fe)}switch(Q){case"input":ut(T,C);break;case"textarea":Ke(T,C);break;case"select":var _e=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!C.multiple;var ke=C.value;ke!=null?Se(T,!!C.multiple,ke,!1):_e!==!!C.multiple&&(C.defaultValue!=null?Se(T,!!C.multiple,C.defaultValue,!0):Se(T,!!C.multiple,C.multiple?[]:"",!1))}T[Ya]=C}catch(xe){It(i,i.return,xe)}}break;case 6:if(er(s,i),kr(i),p&4){if(i.stateNode===null)throw Error(t(162));T=i.stateNode,C=i.memoizedProps;try{T.nodeValue=C}catch(xe){It(i,i.return,xe)}}break;case 3:if(er(s,i),kr(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Si(s.containerInfo)}catch(xe){It(i,i.return,xe)}break;case 4:er(s,i),kr(i);break;case 13:er(s,i),kr(i),T=i.child,T.flags&8192&&(C=T.memoizedState!==null,T.stateNode.isHidden=C,!C||T.alternate!==null&&T.alternate.memoizedState!==null||(nd=dt())),p&4&&s_(i);break;case 22:if(Ee=u!==null&&u.memoizedState!==null,i.mode&1?(on=(fe=on)||Ee,er(s,i),on=fe):er(s,i),kr(i),p&8192){if(fe=i.memoizedState!==null,(i.stateNode.isHidden=fe)&&!Ee&&(i.mode&1)!==0)for(Ce=i,Ee=i.child;Ee!==null;){for(Te=Ce=Ee;Ce!==null;){switch(_e=Ce,ke=_e.child,_e.tag){case 0:case 11:case 14:case 15:al(4,_e,_e.return);break;case 1:Ms(_e,_e.return);var Oe=_e.stateNode;if(typeof Oe.componentWillUnmount=="function"){p=_e,u=_e.return;try{s=p,Oe.props=s.memoizedProps,Oe.state=s.memoizedState,Oe.componentWillUnmount()}catch(xe){It(p,u,xe)}}break;case 5:Ms(_e,_e.return);break;case 22:if(_e.memoizedState!==null){c_(Te);continue}}ke!==null?(ke.return=_e,Ce=ke):c_(Te)}Ee=Ee.sibling}e:for(Ee=null,Te=i;;){if(Te.tag===5){if(Ee===null){Ee=Te;try{T=Te.stateNode,fe?(C=T.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none"):(Q=Te.stateNode,ee=Te.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null,Q.style.display=gi("display",F))}catch(xe){It(i,i.return,xe)}}}else if(Te.tag===6){if(Ee===null)try{Te.stateNode.nodeValue=fe?"":Te.memoizedProps}catch(xe){It(i,i.return,xe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===i)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===i)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===i)break e;Ee===Te&&(Ee=null),Te=Te.return}Ee===Te&&(Ee=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:er(s,i),kr(i),p&4&&s_(i);break;case 21:break;default:er(s,i),kr(i)}}function kr(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(r_(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var T=p.stateNode;p.flags&32&&(lt(T,""),p.flags&=-33);var C=i_(i);Zh(i,C,T);break;case 3:case 4:var F=p.stateNode.containerInfo,Q=i_(i);Jh(i,Q,F);break;default:throw Error(t(161))}}catch(ee){It(i,i.return,ee)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function HS(i,s,u){Ce=i,l_(i)}function l_(i,s,u){for(var p=(i.mode&1)!==0;Ce!==null;){var T=Ce,C=T.child;if(T.tag===22&&p){var F=T.memoizedState!==null||nc;if(!F){var Q=T.alternate,ee=Q!==null&&Q.memoizedState!==null||on;Q=nc;var fe=on;if(nc=F,(on=ee)&&!fe)for(Ce=T;Ce!==null;)F=Ce,ee=F.child,F.tag===22&&F.memoizedState!==null?f_(T):ee!==null?(ee.return=F,Ce=ee):f_(T);for(;C!==null;)Ce=C,l_(C),C=C.sibling;Ce=T,nc=Q,on=fe}u_(i)}else(T.subtreeFlags&8772)!==0&&C!==null?(C.return=T,Ce=C):u_(i)}}function u_(i){for(;Ce!==null;){var s=Ce;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:on||rc(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!on)if(u===null)p.componentDidMount();else{var T=s.elementType===s.type?u.memoizedProps:Jn(s.type,u.memoizedProps);p.componentDidUpdate(T,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var C=s.updateQueue;C!==null&&cv(s,C,p);break;case 3:var F=s.updateQueue;if(F!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}cv(s,F,u)}break;case 5:var Q=s.stateNode;if(u===null&&s.flags&4){u=Q;var ee=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ee.autoFocus&&u.focus();break;case"img":ee.src&&(u.src=ee.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var fe=s.alternate;if(fe!==null){var Ee=fe.memoizedState;if(Ee!==null){var Te=Ee.dehydrated;Te!==null&&Si(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}on||s.flags&512&&Xh(s)}catch(_e){It(s,s.return,_e)}}if(s===i){Ce=null;break}if(u=s.sibling,u!==null){u.return=s.return,Ce=u;break}Ce=s.return}}function c_(i){for(;Ce!==null;){var s=Ce;if(s===i){Ce=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Ce=u;break}Ce=s.return}}function f_(i){for(;Ce!==null;){var s=Ce;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{rc(4,s)}catch(ee){It(s,u,ee)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var T=s.return;try{p.componentDidMount()}catch(ee){It(s,T,ee)}}var C=s.return;try{Xh(s)}catch(ee){It(s,C,ee)}break;case 5:var F=s.return;try{Xh(s)}catch(ee){It(s,F,ee)}}}catch(ee){It(s,s.return,ee)}if(s===i){Ce=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,Ce=Q;break}Ce=s.return}}var $S=Math.ceil,ic=b.ReactCurrentDispatcher,ed=b.ReactCurrentOwner,Fn=b.ReactCurrentBatchConfig,nt=0,Bt=null,Nt=null,Qt=0,On=0,js=Ci(0),Vt=0,ll=null,Oo=0,oc=0,td=0,ul=null,yn=null,nd=0,Vs=1/0,ni=null,sc=!1,rd=null,Mi=null,ac=!1,ji=null,lc=0,cl=0,id=null,uc=-1,cc=0;function hn(){return(nt&6)!==0?dt():uc!==-1?uc:uc=dt()}function Vi(i){return(i.mode&1)===0?1:(nt&2)!==0&&Qt!==0?Qt&-Qt:kS.transition!==null?(cc===0&&(cc=Oa()),cc):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:ds(i.type)),i)}function tr(i,s,u,p){if(50<cl)throw cl=0,id=null,Error(t(185));_o(i,u,p),((nt&2)===0||i!==Bt)&&(i===Bt&&((nt&2)===0&&(oc|=u),Vt===4&&Ui(i,Qt)),vn(i,p),u===1&&nt===0&&(s.mode&1)===0&&(Vs=dt()+500,Vu&&xi()))}function vn(i,s){var u=i.callbackNode;vo(i,s);var p=zr(i,i===Bt?Qt:0);if(p===0)u!==null&&ss(u),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(u!=null&&ss(u),s===1)i.tag===0?RS(d_.bind(null,i)):Jy(d_.bind(null,i)),AS(function(){(nt&6)===0&&xi()}),u=null;else{switch(mr(p)){case 1:u=as;break;case 4:u=ka;break;case 16:u=po;break;case 536870912:u=ls;break;default:u=po}u=w_(u,h_.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function h_(i,s){if(uc=-1,cc=0,(nt&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Us()&&i.callbackNode!==u)return null;var p=zr(i,i===Bt?Qt:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||s)s=fc(i,p);else{s=p;var T=nt;nt|=2;var C=m_();(Bt!==i||Qt!==s)&&(ni=null,Vs=dt()+500,No(i,s));do try{GS();break}catch(Q){p_(i,Q)}while(!0);Th(),ic.current=C,nt=T,Nt!==null?s=0:(Bt=null,Qt=0,s=Vt)}if(s!==0){if(s===2&&(T=Ca(i),T!==0&&(p=T,s=od(i,T))),s===1)throw u=ll,No(i,0),Ui(i,p),vn(i,dt()),u;if(s===6)Ui(i,p);else{if(T=i.current.alternate,(p&30)===0&&!WS(T)&&(s=fc(i,p),s===2&&(C=Ca(i),C!==0&&(p=C,s=od(i,C))),s===1))throw u=ll,No(i,0),Ui(i,p),vn(i,dt()),u;switch(i.finishedWork=T,i.finishedLanes=p,s){case 0:case 1:throw Error(t(345));case 2:Lo(i,yn,ni);break;case 3:if(Ui(i,p),(p&130023424)===p&&(s=nd+500-dt(),10<s)){if(zr(i,0)!==0)break;if(T=i.suspendedLanes,(T&p)!==p){hn(),i.pingedLanes|=i.suspendedLanes&T;break}i.timeoutHandle=fh(Lo.bind(null,i,yn,ni),s);break}Lo(i,yn,ni);break;case 4:if(Ui(i,p),(p&4194240)===p)break;for(s=i.eventTimes,T=-1;0<p;){var F=31-bn(p);C=1<<F,F=s[F],F>T&&(T=F),p&=~C}if(p=T,p=dt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*$S(p/1960))-p,10<p){i.timeoutHandle=fh(Lo.bind(null,i,yn,ni),p);break}Lo(i,yn,ni);break;case 5:Lo(i,yn,ni);break;default:throw Error(t(329))}}}return vn(i,dt()),i.callbackNode===u?h_.bind(null,i):null}function od(i,s){var u=ul;return i.current.memoizedState.isDehydrated&&(No(i,s).flags|=256),i=fc(i,s),i!==2&&(s=yn,yn=u,s!==null&&sd(s)),i}function sd(i){yn===null?yn=i:yn.push.apply(yn,i)}function WS(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var T=u[p],C=T.getSnapshot;T=T.value;try{if(!Yn(C(),T))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ui(i,s){for(s&=~td,s&=~oc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-bn(s),p=1<<u;i[u]=-1,s&=~p}}function d_(i){if((nt&6)!==0)throw Error(t(327));Us();var s=zr(i,0);if((s&1)===0)return vn(i,dt()),null;var u=fc(i,s);if(i.tag!==0&&u===2){var p=Ca(i);p!==0&&(s=p,u=od(i,p))}if(u===1)throw u=ll,No(i,0),Ui(i,s),vn(i,dt()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Lo(i,yn,ni),vn(i,dt()),null}function ad(i,s){var u=nt;nt|=1;try{return i(s)}finally{nt=u,nt===0&&(Vs=dt()+500,Vu&&xi())}}function xo(i){ji!==null&&ji.tag===0&&(nt&6)===0&&Us();var s=nt;nt|=1;var u=Fn.transition,p=Ze;try{if(Fn.transition=null,Ze=1,i)return i()}finally{Ze=p,Fn.transition=u,nt=s,(nt&6)===0&&xi()}}function ld(){On=js.current,mt(js)}function No(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,TS(u)),Nt!==null)for(u=Nt.return;u!==null;){var p=u;switch(yh(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Mu();break;case 3:Ls(),mt(pn),mt(tn),Ch();break;case 5:kh(p);break;case 4:Ls();break;case 13:mt(_t);break;case 19:mt(_t);break;case 10:Ah(p.type._context);break;case 22:case 23:ld()}u=u.return}if(Bt=i,Nt=i=Fi(i.current,null),Qt=On=s,Vt=0,ll=null,td=oc=Oo=0,yn=ul=null,ko!==null){for(s=0;s<ko.length;s++)if(u=ko[s],p=u.interleaved,p!==null){u.interleaved=null;var T=p.next,C=u.pending;if(C!==null){var F=C.next;C.next=T,p.next=F}u.pending=p}ko=null}return i}function p_(i,s){do{var u=Nt;try{if(Th(),Gu.current=Ju,Qu){for(var p=Et.memoizedState;p!==null;){var T=p.queue;T!==null&&(T.pending=null),p=p.next}Qu=!1}if(Co=0,qt=jt=Et=null,nl=!1,rl=0,ed.current=null,u===null||u.return===null){Vt=1,ll=s,Nt=null;break}e:{var C=i,F=u.return,Q=u,ee=s;if(s=Qt,Q.flags|=32768,ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var fe=ee,Ee=Q,Te=Ee.tag;if((Ee.mode&1)===0&&(Te===0||Te===11||Te===15)){var _e=Ee.alternate;_e?(Ee.updateQueue=_e.updateQueue,Ee.memoizedState=_e.memoizedState,Ee.lanes=_e.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var ke=Uv(F);if(ke!==null){ke.flags&=-257,Fv(ke,F,Q,C,s),ke.mode&1&&Vv(C,fe,s),s=ke,ee=fe;var Oe=s.updateQueue;if(Oe===null){var xe=new Set;xe.add(ee),s.updateQueue=xe}else Oe.add(ee);break e}else{if((s&1)===0){Vv(C,fe,s),ud();break e}ee=Error(t(426))}}else if(vt&&Q.mode&1){var Pt=Uv(F);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),Fv(Pt,F,Q,C,s),Eh(Ds(ee,Q));break e}}C=ee=Ds(ee,Q),Vt!==4&&(Vt=2),ul===null?ul=[C]:ul.push(C),C=F;do{switch(C.tag){case 3:C.flags|=65536,s&=-s,C.lanes|=s;var ae=Mv(C,ee,s);uv(C,ae);break e;case 1:Q=ee;var te=C.type,ue=C.stateNode;if((C.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Mi===null||!Mi.has(ue)))){C.flags|=65536,s&=-s,C.lanes|=s;var Ae=jv(C,Q,s);uv(C,Ae);break e}}C=C.return}while(C!==null)}y_(u)}catch(Ne){s=Ne,Nt===u&&u!==null&&(Nt=u=u.return);continue}break}while(!0)}function m_(){var i=ic.current;return ic.current=Ju,i===null?Ju:i}function ud(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Bt===null||(Oo&268435455)===0&&(oc&268435455)===0||Ui(Bt,Qt)}function fc(i,s){var u=nt;nt|=2;var p=m_();(Bt!==i||Qt!==s)&&(ni=null,No(i,s));do try{KS();break}catch(T){p_(i,T)}while(!0);if(Th(),nt=u,ic.current=p,Nt!==null)throw Error(t(261));return Bt=null,Qt=0,Vt}function KS(){for(;Nt!==null;)g_(Nt)}function GS(){for(;Nt!==null&&!ho();)g_(Nt)}function g_(i){var s=E_(i.alternate,i,On);i.memoizedProps=i.pendingProps,s===null?y_(i):Nt=s,ed.current=null}function y_(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=FS(u,s,On),u!==null){Nt=u;return}}else{if(u=qS(u,s),u!==null){u.flags&=32767,Nt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Vt=6,Nt=null;return}}if(s=s.sibling,s!==null){Nt=s;return}Nt=s=i}while(s!==null);Vt===0&&(Vt=5)}function Lo(i,s,u){var p=Ze,T=Fn.transition;try{Fn.transition=null,Ze=1,QS(i,s,u,p)}finally{Fn.transition=T,Ze=p}return null}function QS(i,s,u,p){do Us();while(ji!==null);if((nt&6)!==0)throw Error(t(327));u=i.finishedWork;var T=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var C=u.lanes|u.childLanes;if(Qf(i,C),i===Bt&&(Nt=Bt=null,Qt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||ac||(ac=!0,w_(po,function(){return Us(),null})),C=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||C){C=Fn.transition,Fn.transition=null;var F=Ze;Ze=1;var Q=nt;nt|=4,ed.current=null,zS(i,u),a_(u,i),mS(uh),Wr=!!lh,uh=lh=null,i.current=u,HS(u),Br(),nt=Q,Ze=F,Fn.transition=C}else i.current=u;if(ac&&(ac=!1,ji=i,lc=T),C=i.pendingLanes,C===0&&(Mi=null),vu(u.stateNode),vn(i,dt()),s!==null)for(p=i.onRecoverableError,u=0;u<s.length;u++)T=s[u],p(T.value,{componentStack:T.stack,digest:T.digest});if(sc)throw sc=!1,i=rd,rd=null,i;return(lc&1)!==0&&i.tag!==0&&Us(),C=i.pendingLanes,(C&1)!==0?i===id?cl++:(cl=0,id=i):cl=0,xi(),null}function Us(){if(ji!==null){var i=mr(lc),s=Fn.transition,u=Ze;try{if(Fn.transition=null,Ze=16>i?16:i,ji===null)var p=!1;else{if(i=ji,ji=null,lc=0,(nt&6)!==0)throw Error(t(331));var T=nt;for(nt|=4,Ce=i.current;Ce!==null;){var C=Ce,F=C.child;if((Ce.flags&16)!==0){var Q=C.deletions;if(Q!==null){for(var ee=0;ee<Q.length;ee++){var fe=Q[ee];for(Ce=fe;Ce!==null;){var Ee=Ce;switch(Ee.tag){case 0:case 11:case 15:al(8,Ee,C)}var Te=Ee.child;if(Te!==null)Te.return=Ee,Ce=Te;else for(;Ce!==null;){Ee=Ce;var _e=Ee.sibling,ke=Ee.return;if(n_(Ee),Ee===fe){Ce=null;break}if(_e!==null){_e.return=ke,Ce=_e;break}Ce=ke}}}var Oe=C.alternate;if(Oe!==null){var xe=Oe.child;if(xe!==null){Oe.child=null;do{var Pt=xe.sibling;xe.sibling=null,xe=Pt}while(xe!==null)}}Ce=C}}if((C.subtreeFlags&2064)!==0&&F!==null)F.return=C,Ce=F;else e:for(;Ce!==null;){if(C=Ce,(C.flags&2048)!==0)switch(C.tag){case 0:case 11:case 15:al(9,C,C.return)}var ae=C.sibling;if(ae!==null){ae.return=C.return,Ce=ae;break e}Ce=C.return}}var te=i.current;for(Ce=te;Ce!==null;){F=Ce;var ue=F.child;if((F.subtreeFlags&2064)!==0&&ue!==null)ue.return=F,Ce=ue;else e:for(F=te;Ce!==null;){if(Q=Ce,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:rc(9,Q)}}catch(Ne){It(Q,Q.return,Ne)}if(Q===F){Ce=null;break e}var Ae=Q.sibling;if(Ae!==null){Ae.return=Q.return,Ce=Ae;break e}Ce=Q.return}}if(nt=T,xi(),An&&typeof An.onPostCommitFiberRoot=="function")try{An.onPostCommitFiberRoot(mo,i)}catch{}p=!0}return p}finally{Ze=u,Fn.transition=s}}return!1}function v_(i,s,u){s=Ds(u,s),s=Mv(i,s,1),i=Li(i,s,1),s=hn(),i!==null&&(_o(i,1,s),vn(i,s))}function It(i,s,u){if(i.tag===3)v_(i,i,u);else for(;s!==null;){if(s.tag===3){v_(s,i,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Mi===null||!Mi.has(p))){i=Ds(u,i),i=jv(s,i,1),s=Li(s,i,1),i=hn(),s!==null&&(_o(s,1,i),vn(s,i));break}}s=s.return}}function YS(i,s,u){var p=i.pingCache;p!==null&&p.delete(s),s=hn(),i.pingedLanes|=i.suspendedLanes&u,Bt===i&&(Qt&u)===u&&(Vt===4||Vt===3&&(Qt&130023424)===Qt&&500>dt()-nd?No(i,0):td|=u),vn(i,s)}function __(i,s){s===0&&((i.mode&1)===0?s=1:(s=Ti,Ti<<=1,(Ti&130023424)===0&&(Ti=4194304)));var u=hn();i=Zr(i,s),i!==null&&(_o(i,s,u),vn(i,u))}function XS(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),__(i,u)}function JS(i,s){var u=0;switch(i.tag){case 13:var p=i.stateNode,T=i.memoizedState;T!==null&&(u=T.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(s),__(i,u)}var E_;E_=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||pn.current)gn=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return gn=!1,US(i,s,u);gn=(i.flags&131072)!==0}else gn=!1,vt&&(s.flags&1048576)!==0&&Zy(s,Fu,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;tc(i,s),i=s.pendingProps;var T=Rs(s,tn.current);Ns(s,u),T=Nh(null,s,p,i,T,u);var C=Lh();return s.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,mn(p)?(C=!0,ju(s)):C=!1,s.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,Ih(s),T.updater=Zu,s.stateNode=T,T._reactInternals=s,Fh(s,p,i,u),s=Hh(null,s,p,!0,C,u)):(s.tag=0,vt&&C&&gh(s),fn(null,s,T,u),s=s.child),s;case 16:p=s.elementType;e:{switch(tc(i,s),i=s.pendingProps,T=p._init,p=T(p._payload),s.type=p,T=s.tag=eI(p),i=Jn(p,i),T){case 0:s=zh(null,s,p,i,u);break e;case 1:s=Wv(null,s,p,i,u);break e;case 11:s=qv(null,s,p,i,u);break e;case 14:s=Bv(null,s,p,Jn(p.type,i),u);break e}throw Error(t(306,p,""))}return s;case 0:return p=s.type,T=s.pendingProps,T=s.elementType===p?T:Jn(p,T),zh(i,s,p,T,u);case 1:return p=s.type,T=s.pendingProps,T=s.elementType===p?T:Jn(p,T),Wv(i,s,p,T,u);case 3:e:{if(Kv(s),i===null)throw Error(t(387));p=s.pendingProps,C=s.memoizedState,T=C.element,lv(i,s),Wu(s,p,null,u);var F=s.memoizedState;if(p=F.element,C.isDehydrated)if(C={element:p,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=C,s.memoizedState=C,s.flags&256){T=Ds(Error(t(423)),s),s=Gv(i,s,p,u,T);break e}else if(p!==T){T=Ds(Error(t(424)),s),s=Gv(i,s,p,u,T);break e}else for(Cn=Pi(s.stateNode.containerInfo.firstChild),Pn=s,vt=!0,Xn=null,u=sv(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Cs(),p===T){s=ti(i,s,u);break e}fn(i,s,p,u)}s=s.child}return s;case 5:return fv(s),i===null&&_h(s),p=s.type,T=s.pendingProps,C=i!==null?i.memoizedProps:null,F=T.children,ch(p,T)?F=null:C!==null&&ch(p,C)&&(s.flags|=32),$v(i,s),fn(i,s,F,u),s.child;case 6:return i===null&&_h(s),null;case 13:return Qv(i,s,u);case 4:return Rh(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Os(s,null,p,u):fn(i,s,p,u),s.child;case 11:return p=s.type,T=s.pendingProps,T=s.elementType===p?T:Jn(p,T),qv(i,s,p,T,u);case 7:return fn(i,s,s.pendingProps,u),s.child;case 8:return fn(i,s,s.pendingProps.children,u),s.child;case 12:return fn(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(p=s.type._context,T=s.pendingProps,C=s.memoizedProps,F=T.value,ft(zu,p._currentValue),p._currentValue=F,C!==null)if(Yn(C.value,F)){if(C.children===T.children&&!pn.current){s=ti(i,s,u);break e}}else for(C=s.child,C!==null&&(C.return=s);C!==null;){var Q=C.dependencies;if(Q!==null){F=C.child;for(var ee=Q.firstContext;ee!==null;){if(ee.context===p){if(C.tag===1){ee=ei(-1,u&-u),ee.tag=2;var fe=C.updateQueue;if(fe!==null){fe=fe.shared;var Ee=fe.pending;Ee===null?ee.next=ee:(ee.next=Ee.next,Ee.next=ee),fe.pending=ee}}C.lanes|=u,ee=C.alternate,ee!==null&&(ee.lanes|=u),bh(C.return,u,s),Q.lanes|=u;break}ee=ee.next}}else if(C.tag===10)F=C.type===s.type?null:C.child;else if(C.tag===18){if(F=C.return,F===null)throw Error(t(341));F.lanes|=u,Q=F.alternate,Q!==null&&(Q.lanes|=u),bh(F,u,s),F=C.sibling}else F=C.child;if(F!==null)F.return=C;else for(F=C;F!==null;){if(F===s){F=null;break}if(C=F.sibling,C!==null){C.return=F.return,F=C;break}F=F.return}C=F}fn(i,s,T.children,u),s=s.child}return s;case 9:return T=s.type,p=s.pendingProps.children,Ns(s,u),T=Vn(T),p=p(T),s.flags|=1,fn(i,s,p,u),s.child;case 14:return p=s.type,T=Jn(p,s.pendingProps),T=Jn(p.type,T),Bv(i,s,p,T,u);case 15:return zv(i,s,s.type,s.pendingProps,u);case 17:return p=s.type,T=s.pendingProps,T=s.elementType===p?T:Jn(p,T),tc(i,s),s.tag=1,mn(p)?(i=!0,ju(s)):i=!1,Ns(s,u),Lv(s,p,T),Fh(s,p,T,u),Hh(null,s,p,!0,i,u);case 19:return Xv(i,s,u);case 22:return Hv(i,s,u)}throw Error(t(156,s.tag))};function w_(i,s){return Ra(i,s)}function ZS(i,s,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(i,s,u,p){return new ZS(i,s,u,p)}function cd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function eI(i){if(typeof i=="function")return cd(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===G)return 14}return 2}function Fi(i,s){var u=i.alternate;return u===null?(u=qn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function hc(i,s,u,p,T,C){var F=2;if(p=i,typeof i=="function")cd(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case k:return Do(u.children,T,C,s);case R:F=8,T|=8;break;case M:return i=qn(12,u,s,T|2),i.elementType=M,i.lanes=C,i;case N:return i=qn(13,u,s,T),i.elementType=N,i.lanes=C,i;case $:return i=qn(19,u,s,T),i.elementType=$,i.lanes=C,i;case re:return dc(u,T,C,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case x:F=10;break e;case I:F=9;break e;case L:F=11;break e;case G:F=14;break e;case ie:F=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=qn(F,u,s,T),s.elementType=i,s.type=p,s.lanes=C,s}function Do(i,s,u,p){return i=qn(7,i,p,s),i.lanes=u,i}function dc(i,s,u,p){return i=qn(22,i,p,s),i.elementType=re,i.lanes=u,i.stateNode={isHidden:!1},i}function fd(i,s,u){return i=qn(6,i,null,s),i.lanes=u,i}function hd(i,s,u){return s=qn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function tI(i,s,u,p,T){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=p,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function dd(i,s,u,p,T,C,F,Q,ee){return i=new tI(i,s,u,Q,ee),s===1?(s=1,C===!0&&(s|=8)):s=0,C=qn(3,null,null,s),i.current=C,C.stateNode=i,C.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ih(C),i}function nI(i,s,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:p==null?null:""+p,children:i,containerInfo:s,implementation:u}}function T_(i){if(!i)return Oi;i=i._reactInternals;e:{if(Gn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(mn(u))return Yy(i,u,s)}return s}function A_(i,s,u,p,T,C,F,Q,ee){return i=dd(u,p,!0,i,T,C,F,Q,ee),i.context=T_(null),u=i.current,p=hn(),T=Vi(u),C=ei(p,T),C.callback=s??null,Li(u,C,T),i.current.lanes=T,_o(i,T,p),vn(i,p),i}function pc(i,s,u,p){var T=s.current,C=hn(),F=Vi(T);return u=T_(u),s.context===null?s.context=u:s.pendingContext=u,s=ei(C,F),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Li(T,s,F),i!==null&&(tr(i,T,F,C),$u(i,T,F)),F}function mc(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function b_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function pd(i,s){b_(i,s),(i=i.alternate)&&b_(i,s)}function rI(){return null}var S_=typeof reportError=="function"?reportError:function(i){console.error(i)};function md(i){this._internalRoot=i}gc.prototype.render=md.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));pc(i,s,null,null)},gc.prototype.unmount=md.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;xo(function(){pc(null,i,null,null)}),s[Qr]=null}};function gc(i){this._internalRoot=i}gc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ma();i={blockedOn:null,target:i,priority:s};for(var u=0;u<Sn.length&&s!==0&&s<Sn[u].priority;u++);Sn.splice(u,0,i),u===0&&fs(i)}};function gd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function yc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function I_(){}function iI(i,s,u,p,T){if(T){if(typeof p=="function"){var C=p;p=function(){var fe=mc(F);C.call(fe)}}var F=A_(s,p,i,0,null,!1,!1,"",I_);return i._reactRootContainer=F,i[Qr]=F.current,Ga(i.nodeType===8?i.parentNode:i),xo(),F}for(;T=i.lastChild;)i.removeChild(T);if(typeof p=="function"){var Q=p;p=function(){var fe=mc(ee);Q.call(fe)}}var ee=dd(i,0,!1,null,null,!1,!1,"",I_);return i._reactRootContainer=ee,i[Qr]=ee.current,Ga(i.nodeType===8?i.parentNode:i),xo(function(){pc(s,ee,u,p)}),ee}function vc(i,s,u,p,T){var C=u._reactRootContainer;if(C){var F=C;if(typeof T=="function"){var Q=T;T=function(){var ee=mc(F);Q.call(ee)}}pc(s,F,i,T)}else F=iI(u,s,i,T,p);return mc(F)}La=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=ot(s.pendingLanes);u!==0&&(Na(s,u|1),vn(s,dt()),(nt&6)===0&&(Vs=dt()+500,xi()))}break;case 13:xo(function(){var p=Zr(i,1);if(p!==null){var T=hn();tr(p,i,1,T)}}),pd(i,1)}},us=function(i){if(i.tag===13){var s=Zr(i,134217728);if(s!==null){var u=hn();tr(s,i,134217728,u)}pd(i,134217728)}},Da=function(i){if(i.tag===13){var s=Vi(i),u=Zr(i,s);if(u!==null){var p=hn();tr(u,i,s,p)}pd(i,s)}},Ma=function(){return Ze},ja=function(i,s){var u=Ze;try{return Ze=i,s()}finally{Ze=u}},Ur=function(i,s,u){switch(s){case"input":if(ut(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==i&&p.form===i.form){var T=Du(p);if(!T)throw Error(t(90));je(p),ut(p,T)}}}break;case"textarea":Ke(i,u);break;case"select":s=u.value,s!=null&&Se(i,!!u.multiple,s,!1)}},uu=ad,cu=xo;var oI={usingClientEntryPoint:!1,Events:[Xa,Ss,Du,vi,_i,ad]},fl={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sI={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=yu(i),i===null?null:i.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||rI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{mo=_c.inject(sI),An=_c}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oI,_n.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gd(s))throw Error(t(200));return nI(i,s,null,u)},_n.createRoot=function(i,s){if(!gd(i))throw Error(t(299));var u=!1,p="",T=S_;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=dd(i,1,!1,null,null,u,!1,p,T),i[Qr]=s.current,Ga(i.nodeType===8?i.parentNode:i),new md(s)},_n.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=yu(s),i=i===null?null:i.stateNode,i},_n.flushSync=function(i){return xo(i)},_n.hydrate=function(i,s,u){if(!yc(s))throw Error(t(200));return vc(null,i,s,!0,u)},_n.hydrateRoot=function(i,s,u){if(!gd(i))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,T=!1,C="",F=S_;if(u!=null&&(u.unstable_strictMode===!0&&(T=!0),u.identifierPrefix!==void 0&&(C=u.identifierPrefix),u.onRecoverableError!==void 0&&(F=u.onRecoverableError)),s=A_(s,null,i,1,u??null,T,!1,C,F),i[Qr]=s.current,Ga(i),p)for(i=0;i<p.length;i++)u=p[i],T=u._getVersion,T=T(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,T]:s.mutableSourceEagerHydrationData.push(u,T);return new gc(s)},_n.render=function(i,s,u){if(!yc(s))throw Error(t(200));return vc(null,i,s,!1,u)},_n.unmountComponentAtNode=function(i){if(!yc(i))throw Error(t(40));return i._reactRootContainer?(xo(function(){vc(null,null,i,!1,function(){i._reactRootContainer=null,i[Qr]=null})}),!0):!1},_n.unstable_batchedUpdates=ad,_n.unstable_renderSubtreeIntoContainer=function(i,s,u,p){if(!yc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return vc(i,s,u,!1,p)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var L_;function Ew(){if(L_)return _d.exports;L_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),_d.exports=dI(),_d.exports}var D_;function pI(){if(D_)return wc;D_=1;var n=Ew();return wc.createRoot=n.createRoot,wc.hydrateRoot=n.hydrateRoot,wc}var mI=pI();const gI=fa(mI);var M_="popstate";function yI(n={}){function e(r,o){let{pathname:a,search:l,hash:c}=r.location;return Cm("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Dl(o)}return _I(e,t,null,n)}function wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function sr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vI(){return Math.random().toString(36).substring(2,10)}function j_(n,e){return{usr:n.state,key:n.key,idx:e}}function Cm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:t,key:e&&e.key||r||vI()}}function Dl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function _I(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,c="POP",h=null,g=v();g==null&&(g=0,l.replaceState({...l.state,idx:g},""));function v(){return(l.state||{idx:null}).idx}function m(){c="POP";let _=v(),A=_==null?null:_-g;g=_,h&&h({action:c,location:E.location,delta:A})}function d(_,A){c="PUSH";let w=Cm(E.location,_,A);g=v()+1;let P=j_(w,g),b=E.createHref(w);try{l.pushState(P,"",b)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(b)}a&&h&&h({action:c,location:E.location,delta:1})}function y(_,A){c="REPLACE";let w=Cm(E.location,_,A);g=v();let P=j_(w,g),b=E.createHref(w);l.replaceState(P,"",b),a&&h&&h({action:c,location:E.location,delta:0})}function S(_){return EI(_)}let E={get action(){return c},get location(){return n(o,l)},listen(_){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(M_,m),h=_,()=>{o.removeEventListener(M_,m),h=null}},createHref(_){return e(o,_)},createURL:S,encodeLocation(_){let A=S(_);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:d,replace:y,go(_){return l.go(_)}};return E}function EI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),wt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Dl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ww(n,e,t="/"){return wI(n,e,t,!1)}function wI(n,e,t,r){let o=typeof e=="string"?ha(e):e,a=ui(o.pathname||"/",t);if(a==null)return null;let l=Tw(n);TI(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let g=NI(a);c=OI(l[h],g,r)}return c}function Tw(n,e=[],t=[],r="",o=!1){let a=(l,c,h=o,g)=>{let v={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&h)return;wt(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let m=si([r,v.relativePath]),d=t.concat(v);l.children&&l.children.length>0&&(wt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Tw(l.children,e,d,m,h)),!(l.path==null&&!l.index)&&e.push({path:m,score:PI(m,l.index),routesMeta:d})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let h of Aw(l.path))a(l,c,!0,h)}),e}function Aw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=Aw(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),o&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function TI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:CI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var AI=/^:[\w-]+$/,bI=3,SI=2,II=1,RI=10,kI=-2,V_=n=>n==="*";function PI(n,e){let t=n.split("/"),r=t.length;return t.some(V_)&&(r+=kI),e&&(r+=SI),t.filter(o=>!V_(o)).reduce((o,a)=>o+(AI.test(a)?bI:a===""?II:RI),r)}function CI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function OI(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],g=c===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",m=Wc({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},v),d=h.route;if(!m&&g&&t&&!r[r.length-1].route.index&&(m=Wc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},v)),!m)return null;Object.assign(o,m.params),l.push({params:o,pathname:si([a,m.pathname]),pathnameBase:jI(si([a,m.pathnameBase])),route:d}),m.pathnameBase!=="/"&&(a=si([a,m.pathnameBase]))}return l}function Wc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((g,{paramName:v,isOptional:m},d)=>{if(v==="*"){let S=c[d]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const y=c[d];return m&&!y?g[v]=void 0:g[v]=(y||"").replace(/%2F/g,"/"),g},{}),pathname:a,pathnameBase:l,pattern:n}}function xI(n,e=!1,t=!0){sr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function NI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ui(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LI=n=>bw.test(n);function DI(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?ha(n):n,a;if(t)if(LI(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),sr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=U_(t.substring(1),"/"):a=U_(t,e)}else a=e;return{pathname:a,search:VI(r),hash:UI(o)}}function U_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Td(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Sw(n){let e=MI(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Iw(n,e,t,r=!1){let o;typeof n=="string"?o=ha(n):(o={...n},wt(!o.pathname||!o.pathname.includes("?"),Td("?","pathname","search",o)),wt(!o.pathname||!o.pathname.includes("#"),Td("#","pathname","hash",o)),wt(!o.search||!o.search.includes("#"),Td("#","search","hash",o)));let a=n===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),m-=1;o.pathname=d.join("/")}c=m>=0?e[m]:"/"}let h=DI(o,c),g=l&&l!=="/"&&l.endsWith("/"),v=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(g||v)&&(h.pathname+="/"),h}var si=n=>n.join("/").replace(/\/\/+/g,"/"),jI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,UI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,FI=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function BI(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Rw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kw(n,e){let t=n;if(typeof t!="string"||!bw.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if(Rw)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),c=ui(l.pathname,e);l.origin===a.origin&&c!=null?t=c+l.search+l.hash:o=!0}catch{sr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Pw=["POST","PUT","PATCH","DELETE"];new Set(Pw);var zI=["GET",...Pw];new Set(zI);var da=ce.createContext(null);da.displayName="DataRouter";var gf=ce.createContext(null);gf.displayName="DataRouterState";var HI=ce.createContext(!1),Cw=ce.createContext({isTransitioning:!1});Cw.displayName="ViewTransition";var $I=ce.createContext(new Map);$I.displayName="Fetchers";var WI=ce.createContext(null);WI.displayName="Await";var Wn=ce.createContext(null);Wn.displayName="Navigation";var Wl=ce.createContext(null);Wl.displayName="Location";var cr=ce.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var cg=ce.createContext(null);cg.displayName="RouteError";var Ow="REACT_ROUTER_ERROR",KI="REDIRECT",GI="ROUTE_ERROR_RESPONSE";function QI(n){if(n.startsWith(`${Ow}:${KI}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YI(n){if(n.startsWith(`${Ow}:${GI}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new FI(e.status,e.statusText,e.data)}catch{}}function XI(n,{relative:e}={}){wt(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ce.useContext(Wn),{hash:o,pathname:a,search:l}=Gl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:si([t,a])),r.createHref({pathname:c,search:l,hash:o})}function Kl(){return ce.useContext(Wl)!=null}function Ko(){return wt(Kl(),"useLocation() may be used only in the context of a <Router> component."),ce.useContext(Wl).location}var xw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nw(n){ce.useContext(Wn).static||ce.useLayoutEffect(n)}function JI(){let{isDataRoute:n}=ce.useContext(cr);return n?pR():ZI()}function ZI(){wt(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let n=ce.useContext(da),{basename:e,navigator:t}=ce.useContext(Wn),{matches:r}=ce.useContext(cr),{pathname:o}=Ko(),a=JSON.stringify(Sw(r)),l=ce.useRef(!1);return Nw(()=>{l.current=!0}),ce.useCallback((h,g={})=>{if(sr(l.current,xw),!l.current)return;if(typeof h=="number"){t.go(h);return}let v=Iw(h,JSON.parse(a),o,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:si([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,a,o,n])}var eR=ce.createContext(null);function tR(n){let e=ce.useContext(cr).outlet;return ce.useMemo(()=>e&&ce.createElement(eR.Provider,{value:n},e),[e,n])}function nR(){let{matches:n}=ce.useContext(cr),e=n[n.length-1];return e?e.params:{}}function Gl(n,{relative:e}={}){let{matches:t}=ce.useContext(cr),{pathname:r}=Ko(),o=JSON.stringify(Sw(t));return ce.useMemo(()=>Iw(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function rR(n,e){return Lw(n,e)}function Lw(n,e,t,r,o){wt(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=ce.useContext(Wn),{matches:l}=ce.useContext(cr),c=l[l.length-1],h=c?c.params:{},g=c?c.pathname:"/",v=c?c.pathnameBase:"/",m=c&&c.route;{let w=m&&m.path||"";Mw(g,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let d=Ko(),y;if(e){let w=typeof e=="string"?ha(e):e;wt(v==="/"||w.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=d;let S=y.pathname||"/",E=S;if(v!=="/"){let w=v.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=ww(n,{pathname:E});sr(m||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),sr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=lR(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:si([v,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?v:si([v,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),l,t,r,o);return e&&A?ce.createElement(Wl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},A):A}function iR(){let n=dR(),e=qI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ce.createElement(ce.Fragment,null,ce.createElement("p",null," Hey developer "),ce.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ce.createElement("code",{style:a},"ErrorBoundary")," or"," ",ce.createElement("code",{style:a},"errorElement")," prop on your route.")),ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),t?ce.createElement("pre",{style:o},t):null,l)}var oR=ce.createElement(iR,null),Dw=class extends ce.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=YI(n.digest);t&&(n=t)}let e=n!==void 0?ce.createElement(cr.Provider,{value:this.props.routeContext},ce.createElement(cg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?ce.createElement(sR,{error:n},e):e}};Dw.contextType=HI;var Ad=new WeakMap;function sR({children:n,error:e}){let{basename:t}=ce.useContext(Wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=QI(e.digest);if(r){let o=Ad.get(e);if(o)throw o;let a=kw(r.location,t);if(Rw&&!Ad.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Ad.set(e,l),l}return ce.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function aR({routeContext:n,match:e,children:t}){let r=ce.useContext(da);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ce.createElement(cr.Provider,{value:n},t)}function lR(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let v=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);wt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let c=!1,h=-1;if(t)for(let v=0;v<a.length;v++){let m=a[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=v),m.route.id){let{loaderData:d,errors:y}=t,S=m.route.loader&&!d.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let g=t&&r?(v,m)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:BI(t.matches),errorInfo:m})}:void 0;return a.reduceRight((v,m,d)=>{let y,S=!1,E=null,_=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||oR,c&&(h<0&&d===0?(Mw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,_=null):h===d&&(S=!0,_=m.route.hydrateFallbackElement||null)));let A=e.concat(a.slice(0,d+1)),w=()=>{let P;return y?P=E:S?P=_:m.route.Component?P=ce.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=v,ce.createElement(aR,{match:m,routeContext:{outlet:v,matches:A,isDataRoute:t!=null},children:P})};return t&&(m.route.ErrorBoundary||m.route.errorElement||d===0)?ce.createElement(Dw,{location:t.location,revalidation:t.revalidation,component:E,error:y,children:w(),routeContext:{outlet:null,matches:A,isDataRoute:!0},onError:g}):w()},null)}function fg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uR(n){let e=ce.useContext(da);return wt(e,fg(n)),e}function cR(n){let e=ce.useContext(gf);return wt(e,fg(n)),e}function fR(n){let e=ce.useContext(cr);return wt(e,fg(n)),e}function hg(n){let e=fR(n),t=e.matches[e.matches.length-1];return wt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function hR(){return hg("useRouteId")}function dR(){let n=ce.useContext(cg),e=cR("useRouteError"),t=hg("useRouteError");return n!==void 0?n:e.errors?.[t]}function pR(){let{router:n}=uR("useNavigate"),e=hg("useNavigate"),t=ce.useRef(!1);return Nw(()=>{t.current=!0}),ce.useCallback(async(o,a={})=>{sr(t.current,xw),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var F_={};function Mw(n,e,t){!e&&!F_[n]&&(F_[n]=!0,sr(!1,t))}ce.memo(mR);function mR({routes:n,future:e,state:t,onError:r}){return Lw(n,void 0,t,r,e)}function gR(n){return tR(n.context)}function vl(n){wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function yR({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1,unstable_useTransitions:l}){wt(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=ce.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[c,o,a,l]);typeof t=="string"&&(t=ha(t));let{pathname:g="/",search:v="",hash:m="",state:d=null,key:y="default"}=t,S=ce.useMemo(()=>{let E=ui(g,c);return E==null?null:{location:{pathname:E,search:v,hash:m,state:d,key:y},navigationType:r}},[c,g,v,m,d,y,r]);return sr(S!=null,`<Router basename="${c}"> is not able to match the URL "${g}${v}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:ce.createElement(Wn.Provider,{value:h},ce.createElement(Wl.Provider,{children:e,value:S}))}function vR({children:n,location:e}){return rR(Om(n),e)}function Om(n,e=[]){let t=[];return ce.Children.forEach(n,(r,o)=>{if(!ce.isValidElement(r))return;let a=[...e,o];if(r.type===ce.Fragment){t.push.apply(t,Om(r.props.children,a));return}wt(r.type===vl,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),wt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Om(r.props.children,a)),t.push(l)}),t}var xc="get",Nc="application/x-www-form-urlencoded";function yf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _R(n){return yf(n)&&n.tagName.toLowerCase()==="button"}function ER(n){return yf(n)&&n.tagName.toLowerCase()==="form"}function wR(n){return yf(n)&&n.tagName.toLowerCase()==="input"}function TR(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AR(n,e){return n.button===0&&(!e||e==="_self")&&!TR(n)}var Tc=null;function bR(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var SR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bd(n){return n!=null&&!SR.has(n)?(sr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nc}"`),null):n}function IR(n,e){let t,r,o,a,l;if(ER(n)){let c=n.getAttribute("action");r=c?ui(c,e):null,t=n.getAttribute("method")||xc,o=bd(n.getAttribute("enctype"))||Nc,a=new FormData(n)}else if(_R(n)||wR(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?ui(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||xc,o=bd(n.getAttribute("formenctype"))||bd(c.getAttribute("enctype"))||Nc,a=new FormData(c,n),!bR()){let{name:g,type:v,value:m}=n;if(v==="image"){let d=g?`${g}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else g&&a.append(g,m)}}else{if(yf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xc,r=null,o=Nc,l=n}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RR(n,e,t,r){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&ui(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function kR(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function PR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function CR(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await kR(a,t);return l.links?l.links():[]}return[]}));return LR(r.flat(1).filter(PR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function q_(n,e,t,r,o,a){let l=(h,g)=>t[g]?h.route.id!==t[g].route.id:!0,c=(h,g)=>t[g].pathname!==h.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==h.params["*"];return a==="assets"?e.filter((h,g)=>l(h,g)||c(h,g)):a==="data"?e.filter((h,g)=>{let v=r.routes[h.route.id];if(!v||!v.hasLoader)return!1;if(l(h,g)||c(h,g))return!0;if(h.route.shouldRevalidate){let m=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function OR(n,e,{includeHydrateFallback:t}={}){return xR(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function xR(n){return[...new Set(n)]}function NR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function LR(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(NR(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function jw(){let n=ce.useContext(da);return dg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DR(){let n=ce.useContext(gf);return dg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pg=ce.createContext(void 0);pg.displayName="FrameworkContext";function Vw(){let n=ce.useContext(pg);return dg(n,"You must render this element inside a <HydratedRouter> element"),n}function MR(n,e){let t=ce.useContext(pg),[r,o]=ce.useState(!1),[a,l]=ce.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:g,onMouseLeave:v,onTouchStart:m}=e,d=ce.useRef(null);ce.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let E=A=>{A.forEach(w=>{l(w.isIntersecting)})},_=new IntersectionObserver(E,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[n]),ce.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{o(!0)},S=()=>{o(!1),l(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:dl(c,y),onBlur:dl(h,S),onMouseEnter:dl(g,y),onMouseLeave:dl(v,S),onTouchStart:dl(m,y)}]:[!1,d,{}]}function dl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function jR({page:n,...e}){let{router:t}=jw(),r=ce.useMemo(()=>ww(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ce.createElement(UR,{page:n,matches:r,...e}):null}function VR(n){let{manifest:e,routeModules:t}=Vw(),[r,o]=ce.useState([]);return ce.useEffect(()=>{let a=!1;return CR(n,e,t).then(l=>{a||o(l)}),()=>{a=!0}},[n,e,t]),r}function UR({page:n,matches:e,...t}){let r=Ko(),{future:o,manifest:a,routeModules:l}=Vw(),{basename:c}=jw(),{loaderData:h,matches:g}=DR(),v=ce.useMemo(()=>q_(n,e,g,a,r,"data"),[n,e,g,a,r]),m=ce.useMemo(()=>q_(n,e,g,a,r,"assets"),[n,e,g,a,r]),d=ce.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,_=!1;if(e.forEach(w=>{let P=a.routes[w.route.id];!P||!P.hasLoader||(!v.some(b=>b.route.id===w.route.id)&&w.route.id in h&&l[w.route.id]?.shouldRevalidate||P.hasClientLoader?_=!0:E.add(w.route.id))}),E.size===0)return[];let A=RR(n,c,o.unstable_trailingSlashAwareDataRequests,"data");return _&&E.size>0&&A.searchParams.set("_routes",e.filter(w=>E.has(w.route.id)).map(w=>w.route.id).join(",")),[A.pathname+A.search]},[c,o.unstable_trailingSlashAwareDataRequests,h,r,a,v,e,n,l]),y=ce.useMemo(()=>OR(m,a),[m,a]),S=VR(m);return ce.createElement(ce.Fragment,null,d.map(E=>ce.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>ce.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),S.map(({key:E,link:_})=>ce.createElement("link",{key:E,nonce:t.nonce,..._})))}function FR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var qR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qR&&(window.__reactRouterVersion="7.12.0")}catch{}function BR({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=ce.useRef();o.current==null&&(o.current=yI({window:r,v5Compat:!0}));let a=o.current,[l,c]=ce.useState({action:a.action,location:a.location}),h=ce.useCallback(g=>{t===!1?c(g):ce.startTransition(()=>c(g))},[t]);return ce.useLayoutEffect(()=>a.listen(h),[a,h]),ce.createElement(yR,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ri=ce.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:c,target:h,to:g,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d,...y},S){let{basename:E,unstable_useTransitions:_}=ce.useContext(Wn),A=typeof g=="string"&&Uw.test(g),w=kw(g,E);g=w.to;let P=XI(g,{relative:o}),[b,D,U]=MR(r,y),k=WR(g,{replace:l,state:c,target:h,preventScrollReset:v,relative:o,viewTransition:m,unstable_defaultShouldRevalidate:d,unstable_useTransitions:_});function R(x){e&&e(x),x.defaultPrevented||k(x)}let M=ce.createElement("a",{...y,...U,href:w.absoluteURL||P,onClick:w.isExternal||a?e:R,ref:FR(S,D),target:h,"data-discover":!A&&t==="render"?"true":void 0});return b&&!A?ce.createElement(ce.Fragment,null,M,ce.createElement(jR,{page:P})):M});ri.displayName="Link";var zR=ce.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:c,children:h,...g},v){let m=Gl(l,{relative:g.relative}),d=Ko(),y=ce.useContext(gf),{navigator:S,basename:E}=ce.useContext(Wn),_=y!=null&&XR(m)&&c===!0,A=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,w=d.pathname,P=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(w=w.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&E&&(P=ui(P,E)||P);const b=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let D=w===A||!o&&w.startsWith(A)&&w.charAt(b)==="/",U=P!=null&&(P===A||!o&&P.startsWith(A)&&P.charAt(A.length)==="/"),k={isActive:D,isPending:U,isTransitioning:_},R=D?e:void 0,M;typeof r=="function"?M=r(k):M=[r,D?"active":null,U?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let x=typeof a=="function"?a(k):a;return ce.createElement(ri,{...g,"aria-current":R,className:M,ref:v,style:x,to:l,viewTransition:c},typeof h=="function"?h(k):h)});zR.displayName="NavLink";var HR=ce.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:l=xc,action:c,onSubmit:h,relative:g,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d,...y},S)=>{let{unstable_useTransitions:E}=ce.useContext(Wn),_=QR(),A=YR(c,{relative:g}),w=l.toLowerCase()==="get"?"get":"post",P=typeof c=="string"&&Uw.test(c),b=D=>{if(h&&h(D),D.defaultPrevented)return;D.preventDefault();let U=D.nativeEvent.submitter,k=U?.getAttribute("formmethod")||l,R=()=>_(U||D.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:o,state:a,relative:g,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d});E&&t!==!1?ce.startTransition(()=>R()):R()};return ce.createElement("form",{ref:S,method:w,action:A,onSubmit:r?h:b,...y,"data-discover":!P&&n==="render"?"true":void 0})});HR.displayName="Form";function $R(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fw(n){let e=ce.useContext(da);return wt(e,$R(n)),e}function WR(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:h}={}){let g=JI(),v=Ko(),m=Gl(n,{relative:a});return ce.useCallback(d=>{if(AR(d,e)){d.preventDefault();let y=t!==void 0?t:Dl(v)===Dl(m),S=()=>g(n,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});h?ce.startTransition(()=>S()):S()}},[v,g,m,t,r,e,n,o,a,l,c,h])}var KR=0,GR=()=>`__${String(++KR)}__`;function QR(){let{router:n}=Fw("useSubmit"),{basename:e}=ce.useContext(Wn),t=hR(),r=n.fetch,o=n.navigate;return ce.useCallback(async(a,l={})=>{let{action:c,method:h,encType:g,formData:v,body:m}=IR(a,e);if(l.navigate===!1){let d=l.fetcherKey||GR();await r(d,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:v,body:m,formMethod:l.method||h,formEncType:l.encType||g,flushSync:l.flushSync})}else await o(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:v,body:m,formMethod:l.method||h,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,o,e,t])}function YR(n,{relative:e}={}){let{basename:t}=ce.useContext(Wn),r=ce.useContext(cr);wt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Gl(n||".",{relative:e})},l=Ko();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(v=>v==="")){c.delete("index"),h.filter(m=>m).forEach(m=>c.append("index",m));let v=c.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:si([t,a.pathname])),Dl(a)}function XR(n,{relative:e}={}){let t=ce.useContext(Cw);wt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Fw("useViewTransitionState"),o=Gl(n,{relative:e});if(!t.isTransitioning)return!1;let a=ui(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ui(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Wc(o.pathname,l)!=null||Wc(o.pathname,a)!=null}function JR(){const[n,e]=ce.useState(null),t=[{question:"Quais so os mtodos de pagamento aceitos?",answer:"Aceitamos Pix, carto de crdito, carto de dbito e dinheiro, para sua maior comodidade."},{question:"Quando tempo dura a consulta?",answer:"A consulta tem durao aproximada de 60 minutos, pois envolve uma avaliao clnica detalhada, incluindo histrico mdico, fatores de risco cardiovasculares, hbitos de vida e definio de um plano de cuidado individualizado."},{question:"Tenho direito a ter consulta aps a consulta mdica?",answer:"Resposta"},{question:"H contato telefnico aps a consulta?",answer:"O contato  realizado exclusivamente para orientaes administrativas e esclarecimento de dvidas pontuais, quando necessrio. Demandas clnicas so avaliadas em consulta, garantindo segurana e qualidade do cuidado."}];function r(o){e(n===o?null:o)}return B.jsx("section",{id:"faq",className:"faq",children:B.jsxs("div",{className:"faq-container",children:[B.jsxs("div",{className:"faq-info",children:[B.jsxs("header",{className:"section-header",children:[B.jsx("span",{className:"label",children:"FAQ"}),B.jsx("h2",{children:"Perguntas frequentes"})]}),B.jsxs("p",{children:["No encontrou a resposta que procurava?",B.jsx("br",{}),"Entre em contato pelo WhatsApp para um atendimento personalizado."]}),B.jsx("a",{href:"#",className:"faq-button",children:"Enviar mensagem"})]}),B.jsx("div",{className:"faq-list",children:t.map((o,a)=>B.jsxs("div",{className:`faq-item ${n===a?"active":""}`,onClick:()=>r(a),children:[B.jsxs("div",{className:"faq-question",children:[B.jsx("span",{children:o.question}),B.jsx("span",{className:"arrow",children:""})]}),B.jsx("div",{className:"faq-answer",children:B.jsx("p",{children:o.answer})})]},a))})]})})}const B_="/assets/imagem1-CSyna_sS.jpg",ZR="/assets/dralueinebarradas-DWpK2tKZ.webp",z_="/assets/lueine-barradas-BdmOqLmn.webp",ek=()=>{};var H_={};const qw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},tk=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],l=n[t++],c=n[t++],h=((o&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Bw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],l=o+1<n.length,c=l?n[o+1]:0,h=o+2<n.length,g=h?n[o+2]:0,v=a>>2,m=(a&3)<<4|c>>4;let d=(c&15)<<2|g>>6,y=g&63;h||(y=64,l||(d=64)),r.push(t[v],t[m],t[d],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(qw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],c=o<n.length?t[n.charAt(o)]:0;++o;const g=o<n.length?t[n.charAt(o)]:64;++o;const m=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||c==null||g==null||m==null)throw new nk;const d=a<<2|c>>4;if(r.push(d),g!==64){const y=c<<4&240|g>>2;if(r.push(y),m!==64){const S=g<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nk extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rk=function(n){const e=qw(n);return Bw.encodeByteArray(e,!0)},Kc=function(n){return rk(n).replace(/\./g,"")},zw=function(n){try{return Bw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ik(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ok=()=>ik().__FIREBASE_DEFAULTS__,sk=()=>{if(typeof process>"u"||typeof H_>"u")return;const n=H_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ak=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zw(n[1]);return e&&JSON.parse(e)},vf=()=>{try{return ek()||ok()||sk()||ak()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Hw=n=>vf()?.emulatorHosts?.[n],$w=n=>{const e=Hw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ww=()=>vf()?.config,Kw=n=>vf()?.[`_${n}`];class lk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function ao(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mg(n){return(await fetch(n,{credentials:"include"})).ok}function Gw(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Kc(JSON.stringify(t)),Kc(JSON.stringify(l)),""].join(".")}const Rl={};function uk(){const n={prod:[],emulator:[]};for(const e of Object.keys(Rl))Rl[e]?n.emulator.push(e):n.prod.push(e);return n}function ck(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let $_=!1;function gg(n,e){if(typeof window>"u"||typeof document>"u"||!ao(window.location.host)||Rl[n]===e||Rl[n]||$_)return;Rl[n]=e;function t(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=uk().prod.length>0;function l(){const d=document.getElementById(r);d&&d.remove()}function c(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function h(d,y){d.setAttribute("width","24"),d.setAttribute("id",y),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function g(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{$_=!0,l()},d}function v(d,y){d.setAttribute("id",y),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function m(){const d=ck(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),E=t("learnmore"),_=document.getElementById(E)||document.createElement("a"),A=t("preprendIcon"),w=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const P=d.element;c(P),v(_,E);const b=g();h(w,A),P.append(w,S,_,b),document.body.appendChild(P)}a?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function hk(){const n=vf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gk(){const n=cn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yk(){return!hk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vk(){try{return typeof indexedDB=="object"}catch{return!1}}function _k(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const Ek="FirebaseError";class Vr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ek,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?wk(a,r):"Error",c=`${this.serviceName}: ${l} (${o}).`;return new Vr(o,c,r)}}function wk(n,e){return n.replace(Tk,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const Tk=/\{\$([^}]+)}/g;function Ak(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function qo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],l=e[o];if(W_(a)&&W_(l)){if(!qo(a,l))return!1}else if(a!==l)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function W_(n){return n!==null&&typeof n=="object"}function Yl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _l(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function El(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bk(n,e){const t=new Sk(n,e);return t.subscribe.bind(t)}class Sk{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Ik(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Sd),o.error===void 0&&(o.error=Sd),o.complete===void 0&&(o.complete=Sd);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ik(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Sd(){}function Tt(n){return n&&n._delegate?n._delegate:n}class eo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Mo="[DEFAULT]";class Rk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new lk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pk(e))try{this.getOrInitializeService({instanceIdentifier:Mo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=Mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mo){return this.instances.has(e)}getOptions(e=Mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mo){return this.component?this.component.multipleInstances?e:Mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kk(n){return n===Mo?void 0:n}function Pk(n){return n.instantiationMode==="EAGER"}class Ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Rk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const Ok={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},xk=Ye.INFO,Nk={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Lk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=Nk[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=xk,this._logHandler=Lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const Dk=(n,e)=>e.some(t=>n instanceof t);let K_,G_;function Mk(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jk(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qw=new WeakMap,xm=new WeakMap,Yw=new WeakMap,Id=new WeakMap,vg=new WeakMap;function Vk(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Qi(n.result)),o()},l=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&Qw.set(t,n)}).catch(()=>{}),vg.set(e,n),e}function Uk(n){if(xm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),o()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});xm.set(n,e)}let Nm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Yw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Fk(n){Nm=n(Nm)}function qk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Rd(this),e,...t);return Yw.set(r,e.sort?e.sort():[e]),Qi(r)}:jk().includes(n)?function(...e){return n.apply(Rd(this),e),Qi(Qw.get(this))}:function(...e){return Qi(n.apply(Rd(this),e))}}function Bk(n){return typeof n=="function"?qk(n):(n instanceof IDBTransaction&&Uk(n),Dk(n,Mk())?new Proxy(n,Nm):n)}function Qi(n){if(n instanceof IDBRequest)return Vk(n);if(Id.has(n))return Id.get(n);const e=Bk(n);return e!==n&&(Id.set(n,e),vg.set(e,n)),e}const Rd=n=>vg.get(n);function zk(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const l=indexedDB.open(n,e),c=Qi(l);return r&&l.addEventListener("upgradeneeded",h=>{r(Qi(l.result),h.oldVersion,h.newVersion,Qi(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),c}const Hk=["get","getKey","getAll","getAllKeys","count"],$k=["put","add","delete","clear"],kd=new Map;function Q_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(kd.get(e))return kd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=$k.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Hk.includes(t)))return;const a=async function(l,...c){const h=this.transaction(l,o?"readwrite":"readonly");let g=h.store;return r&&(g=g.index(c.shift())),(await Promise.all([g[t](...c),o&&h.done]))[0]};return kd.set(e,a),a}Fk(n=>({...n,get:(e,t,r)=>Q_(e,t)||n.get(e,t,r),has:(e,t)=>!!Q_(e,t)||n.has(e,t)}));class Wk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Kk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Kk(n){return n.getComponent()?.type==="VERSION"}const Lm="@firebase/app",Y_="0.14.7";const ci=new yg("@firebase/app"),Gk="@firebase/app-compat",Qk="@firebase/analytics-compat",Yk="@firebase/analytics",Xk="@firebase/app-check-compat",Jk="@firebase/app-check",Zk="@firebase/auth",eP="@firebase/auth-compat",tP="@firebase/database",nP="@firebase/data-connect",rP="@firebase/database-compat",iP="@firebase/functions",oP="@firebase/functions-compat",sP="@firebase/installations",aP="@firebase/installations-compat",lP="@firebase/messaging",uP="@firebase/messaging-compat",cP="@firebase/performance",fP="@firebase/performance-compat",hP="@firebase/remote-config",dP="@firebase/remote-config-compat",pP="@firebase/storage",mP="@firebase/storage-compat",gP="@firebase/firestore",yP="@firebase/ai",vP="@firebase/firestore-compat",_P="firebase",EP="12.8.0";const Dm="[DEFAULT]",wP={[Lm]:"fire-core",[Gk]:"fire-core-compat",[Yk]:"fire-analytics",[Qk]:"fire-analytics-compat",[Jk]:"fire-app-check",[Xk]:"fire-app-check-compat",[Zk]:"fire-auth",[eP]:"fire-auth-compat",[tP]:"fire-rtdb",[nP]:"fire-data-connect",[rP]:"fire-rtdb-compat",[iP]:"fire-fn",[oP]:"fire-fn-compat",[sP]:"fire-iid",[aP]:"fire-iid-compat",[lP]:"fire-fcm",[uP]:"fire-fcm-compat",[cP]:"fire-perf",[fP]:"fire-perf-compat",[hP]:"fire-rc",[dP]:"fire-rc-compat",[pP]:"fire-gcs",[mP]:"fire-gcs-compat",[gP]:"fire-fst",[vP]:"fire-fst-compat",[yP]:"fire-vertex","fire-js":"fire-js",[_P]:"fire-js-all"};const Gc=new Map,TP=new Map,Mm=new Map;function X_(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bo(n){const e=n.name;if(Mm.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;Mm.set(e,n);for(const t of Gc.values())X_(t,n);for(const t of TP.values())X_(t,n);return!0}function _f(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function zn(n){return n==null?!1:n.settings!==void 0}const AP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Ql("app","Firebase",AP);class bP{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}const Go=EP;function Xw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Dm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(t||(t=Ww()),!t)throw Yi.create("no-options");const a=Gc.get(o);if(a){if(qo(t,a.options)&&qo(r,a.config))return a;throw Yi.create("duplicate-app",{appName:o})}const l=new Ck(o);for(const h of Mm.values())l.addComponent(h);const c=new bP(t,r,l);return Gc.set(o,c),c}function _g(n=Dm){const e=Gc.get(n);if(!e&&n===Dm&&Ww())return Xw();if(!e)throw Yi.create("no-app",{appName:n});return e}function Or(n,e,t){let r=wP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(l.join(" "));return}Bo(new eo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const SP="firebase-heartbeat-database",IP=1,Ml="firebase-heartbeat-store";let Pd=null;function Jw(){return Pd||(Pd=zk(SP,IP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ml)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yi.create("idb-open",{originalErrorMessage:n.message})})),Pd}async function RP(n){try{const t=(await Jw()).transaction(Ml),r=await t.objectStore(Ml).get(Zw(n));return await t.done,r}catch(e){if(e instanceof Vr)ci.warn(e.message);else{const t=Yi.create("idb-get",{originalErrorMessage:e?.message});ci.warn(t.message)}}}async function J_(n,e){try{const r=(await Jw()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(e,Zw(n)),await r.done}catch(t){if(t instanceof Vr)ci.warn(t.message);else{const r=Yi.create("idb-set",{originalErrorMessage:t?.message});ci.warn(r.message)}}}function Zw(n){return`${n.name}!${n.options.appId}`}const kP=1024,PP=30;class CP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>PP){const o=NP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ci.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Z_(),{heartbeatsToSend:t,unsentEntries:r}=OP(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ci.warn(e),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function OP(n,e=kP){const t=[];let r=n.slice();for(const o of n){const a=t.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),e1(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),e1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vk()?_k().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function e1(n){return Kc(JSON.stringify({version:2,heartbeats:n})).length}function NP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function LP(n){Bo(new eo("platform-logger",e=>new Wk(e),"PRIVATE")),Bo(new eo("heartbeat",e=>new CP(e),"PRIVATE")),Or(Lm,Y_,n),Or(Lm,Y_,"esm2020"),Or("fire-js","")}LP("");var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xi,eT;(function(){var n;function e(k,R){function M(){}M.prototype=R.prototype,k.F=R.prototype,k.prototype=new M,k.prototype.constructor=k,k.D=function(x,I,L){for(var N=Array(arguments.length-2),$=2;$<arguments.length;$++)N[$-2]=arguments[$];return R.prototype[I].apply(x,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,R,M){M||(M=0);const x=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)x[I]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(I=0;I<16;++I)x[I]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=k.g[0],M=k.g[1],I=k.g[2];let L=k.g[3],N;N=R+(L^M&(I^L))+x[0]+3614090360&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[2]+606105819&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[3]+3250441966&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+x[4]+4118548399&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[6]+2821735955&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[7]+4249261313&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+x[8]+1770035416&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[10]+4294925233&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[11]+2304563134&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+x[12]+1804603682&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+x[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+x[14]+2792965006&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+x[15]+1236535329&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(I^L&(M^I))+x[1]+4129170786&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[11]+643717713&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[0]+3921069994&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+x[5]+3593408605&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[15]+3634488961&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[4]+3889429448&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+x[9]+568446438&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[3]+4107603335&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[8]+1163531501&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+x[13]+2850285829&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+x[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+x[7]+1735328473&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+x[12]+2368359562&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(M^I^L)+x[5]+4294588738&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[11]+1839030562&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[14]+4259657740&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+x[1]+2763975236&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[7]+4139469664&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[10]+3200236656&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+x[13]+681279174&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[3]+3572445317&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[6]+76029189&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+x[9]+3654602809&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+x[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+x[15]+530742520&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+x[2]+3299628645&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(I^(M|~L))+x[0]+4096336452&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[14]+2878612391&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[5]+4237533241&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+x[12]+1700485571&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[10]+4293915773&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[1]+2240044497&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+x[8]+1873313359&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[6]+2734768916&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[13]+1309151649&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+x[4]+4149444226&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+x[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+x[2]+718787259&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+R&4294967295,k.g[1]=k.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+I&4294967295,k.g[3]=k.g[3]+L&4294967295}r.prototype.v=function(k,R){R===void 0&&(R=k.length);const M=R-this.blockSize,x=this.C;let I=this.h,L=0;for(;L<R;){if(I==0)for(;L<=M;)o(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<R;)if(x[I++]=k.charCodeAt(L++),I==this.blockSize){o(this,x),I=0;break}}else for(;L<R;)if(x[I++]=k[L++],I==this.blockSize){o(this,x),I=0;break}}this.h=I,this.o+=R},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var R=1;R<k.length-8;++R)k[R]=0;R=this.o*8;for(var M=k.length-8;M<k.length;++M)k[M]=R&255,R/=256;for(this.v(k),k=Array(16),R=0,M=0;M<4;++M)for(let x=0;x<32;x+=8)k[R++]=this.g[M]>>>x&255;return k};function a(k,R){var M=c;return Object.prototype.hasOwnProperty.call(M,k)?M[k]:M[k]=R(k)}function l(k,R){this.h=R;const M=[];let x=!0;for(let I=k.length-1;I>=0;I--){const L=k[I]|0;x&&L==R||(M[I]=L,x=!1)}this.g=M}var c={};function h(k){return-128<=k&&k<128?a(k,function(R){return new l([R|0],R<0?-1:0)}):new l([k|0],k<0?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return m;if(k<0)return _(g(-k));const R=[];let M=1;for(let x=0;k>=M;x++)R[x]=k/M|0,M*=4294967296;return new l(R,0)}function v(k,R){if(k.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k.charAt(0)=="-")return _(v(k.substring(1),R));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=g(Math.pow(R,8));let x=m;for(let L=0;L<k.length;L+=8){var I=Math.min(8,k.length-L);const N=parseInt(k.substring(L,L+I),R);I<8?(I=g(Math.pow(R,I)),x=x.j(I).add(g(N))):(x=x.j(M),x=x.add(g(N)))}return x}var m=h(0),d=h(1),y=h(16777216);n=l.prototype,n.m=function(){if(E(this))return-_(this).m();let k=0,R=1;for(let M=0;M<this.g.length;M++){const x=this.i(M);k+=(x>=0?x:4294967296+x)*R,R*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(E(this))return"-"+_(this).toString(k);const R=g(Math.pow(k,6));var M=this;let x="";for(;;){const I=b(M,R).g;M=A(M,I.j(R));let L=((M.g.length>0?M.g[0]:M.h)>>>0).toString(k);if(M=I,S(M))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(let R=0;R<k.g.length;R++)if(k.g[R]!=0)return!1;return!0}function E(k){return k.h==-1}n.l=function(k){return k=A(this,k),E(k)?-1:S(k)?0:1};function _(k){const R=k.g.length,M=[];for(let x=0;x<R;x++)M[x]=~k.g[x];return new l(M,~k.h).add(d)}n.abs=function(){return E(this)?_(this):this},n.add=function(k){const R=Math.max(this.g.length,k.g.length),M=[];let x=0;for(let I=0;I<=R;I++){let L=x+(this.i(I)&65535)+(k.i(I)&65535),N=(L>>>16)+(this.i(I)>>>16)+(k.i(I)>>>16);x=N>>>16,L&=65535,N&=65535,M[I]=N<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function A(k,R){return k.add(_(R))}n.j=function(k){if(S(this)||S(k))return m;if(E(this))return E(k)?_(this).j(_(k)):_(_(this).j(k));if(E(k))return _(this.j(_(k)));if(this.l(y)<0&&k.l(y)<0)return g(this.m()*k.m());const R=this.g.length+k.g.length,M=[];for(var x=0;x<2*R;x++)M[x]=0;for(x=0;x<this.g.length;x++)for(let I=0;I<k.g.length;I++){const L=this.i(x)>>>16,N=this.i(x)&65535,$=k.i(I)>>>16,G=k.i(I)&65535;M[2*x+2*I]+=N*G,w(M,2*x+2*I),M[2*x+2*I+1]+=L*G,w(M,2*x+2*I+1),M[2*x+2*I+1]+=N*$,w(M,2*x+2*I+1),M[2*x+2*I+2]+=L*$,w(M,2*x+2*I+2)}for(k=0;k<R;k++)M[k]=M[2*k+1]<<16|M[2*k];for(k=R;k<2*R;k++)M[k]=0;return new l(M,0)};function w(k,R){for(;(k[R]&65535)!=k[R];)k[R+1]+=k[R]>>>16,k[R]&=65535,R++}function P(k,R){this.g=k,this.h=R}function b(k,R){if(S(R))throw Error("division by zero");if(S(k))return new P(m,m);if(E(k))return R=b(_(k),R),new P(_(R.g),_(R.h));if(E(R))return R=b(k,_(R)),new P(_(R.g),R.h);if(k.g.length>30){if(E(k)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var M=d,x=R;x.l(k)<=0;)M=D(M),x=D(x);var I=U(M,1),L=U(x,1);for(x=U(x,2),M=U(M,2);!S(x);){var N=L.add(x);N.l(k)<=0&&(I=I.add(M),L=N),x=U(x,1),M=U(M,1)}return R=A(k,I.j(R)),new P(I,R)}for(I=m;k.l(R)>=0;){for(M=Math.max(1,Math.floor(k.m()/R.m())),x=Math.ceil(Math.log(M)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=g(M),N=L.j(R);E(N)||N.l(k)>0;)M-=x,L=g(M),N=L.j(R);S(L)&&(L=d),I=I.add(L),k=A(k,N)}return new P(I,k)}n.B=function(k){return b(this,k).h},n.and=function(k){const R=Math.max(this.g.length,k.g.length),M=[];for(let x=0;x<R;x++)M[x]=this.i(x)&k.i(x);return new l(M,this.h&k.h)},n.or=function(k){const R=Math.max(this.g.length,k.g.length),M=[];for(let x=0;x<R;x++)M[x]=this.i(x)|k.i(x);return new l(M,this.h|k.h)},n.xor=function(k){const R=Math.max(this.g.length,k.g.length),M=[];for(let x=0;x<R;x++)M[x]=this.i(x)^k.i(x);return new l(M,this.h^k.h)};function D(k){const R=k.g.length+1,M=[];for(let x=0;x<R;x++)M[x]=k.i(x)<<1|k.i(x-1)>>>31;return new l(M,k.h)}function U(k,R){const M=R>>5;R%=32;const x=k.g.length-M,I=[];for(let L=0;L<x;L++)I[L]=R>0?k.i(L+M)>>>R|k.i(L+M+1)<<32-R:k.i(L+M);return new l(I,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,eT=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=g,l.fromString=v,Xi=l}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tT,wl,nT,Lc,jm,rT,iT,oT;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var O=0;O<f.length;++O){var V=f[O];if(V&&V.Math==Math)return V}throw Error("Cannot find global object")}var r=t(this);function o(f,O){if(O)e:{var V=r;f=f.split(".");for(var H=0;H<f.length-1;H++){var le=f[H];if(!(le in V))break e;V=V[le]}f=f[f.length-1],H=V[f],O=O(H),O!=H&&O!=null&&e(V,f,{configurable:!0,writable:!0,value:O})}}o("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(f){return f||function(O){var V=[],H;for(H in O)Object.prototype.hasOwnProperty.call(O,H)&&V.push([H,O[H]]);return V}});var a=a||{},l=this||self;function c(f){var O=typeof f;return O=="object"&&f!=null||O=="function"}function h(f,O,V){return f.call.apply(f.bind,arguments)}function g(f,O,V){return g=h,g.apply(null,arguments)}function v(f,O){var V=Array.prototype.slice.call(arguments,1);return function(){var H=V.slice();return H.push.apply(H,arguments),f.apply(this,H)}}function m(f,O){function V(){}V.prototype=O.prototype,f.Z=O.prototype,f.prototype=new V,f.prototype.constructor=f,f.Ob=function(H,le,he){for(var be=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)be[$e-2]=arguments[$e];return O.prototype[le].apply(H,be)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function y(f){const O=f.length;if(O>0){const V=Array(O);for(let H=0;H<O;H++)V[H]=f[H];return V}return[]}function S(f,O){for(let H=1;H<arguments.length;H++){const le=arguments[H];var V=typeof le;if(V=V!="object"?V:le?Array.isArray(le)?"array":V:"null",V=="array"||V=="object"&&typeof le.length=="number"){V=f.length||0;const he=le.length||0;f.length=V+he;for(let be=0;be<he;be++)f[V+be]=le[be]}else f.push(le)}}class E{constructor(O,V){this.i=O,this.j=V,this.h=0,this.g=null}get(){let O;return this.h>0?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function _(f){l.setTimeout(()=>{throw f},0)}function A(){var f=k;let O=null;return f.g&&(O=f.g,f.g=f.g.next,f.g||(f.h=null),O.next=null),O}class w{constructor(){this.h=this.g=null}add(O,V){const H=P.get();H.set(O,V),this.h?this.h.next=H:this.g=H,this.h=H}}var P=new E(()=>new b,f=>f.reset());class b{constructor(){this.next=this.g=this.h=null}set(O,V){this.h=O,this.g=V,this.next=null}reset(){this.next=this.g=this.h=null}}let D,U=!1,k=new w,R=()=>{const f=Promise.resolve(void 0);D=()=>{f.then(M)}};function M(){for(var f;f=A();){try{f.h.call(f.g)}catch(V){_(V)}var O=P;O.j(f),O.h<100&&(O.h++,f.next=O.g,O.g=f)}U=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(f,O){this.type=f,this.g=this.target=O,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,O=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const V=()=>{};l.addEventListener("test",V,O),l.removeEventListener("test",V,O)}catch{}return f})();function N(f){return/^[\s\xa0]*$/.test(f)}function $(f,O){I.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,O)}m($,I),$.prototype.init=function(f,O){const V=this.type=f.type,H=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=O,O=f.relatedTarget,O||(V=="mouseover"?O=f.fromElement:V=="mouseout"&&(O=f.toElement)),this.relatedTarget=O,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),ie=0;function re(f,O,V,H,le){this.listener=f,this.proxy=null,this.src=O,this.type=V,this.capture=!!H,this.ha=le,this.key=++ie,this.da=this.fa=!1}function se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function X(f,O,V){for(const H in f)O.call(V,f[H],H,f)}function W(f,O){for(const V in f)O.call(void 0,f[V],V,f)}function j(f){const O={};for(const V in f)O[V]=f[V];return O}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(f,O){let V,H;for(let le=1;le<arguments.length;le++){H=arguments[le];for(V in H)f[V]=H[V];for(let he=0;he<q.length;he++)V=q[he],Object.prototype.hasOwnProperty.call(H,V)&&(f[V]=H[V])}}function Y(f){this.src=f,this.g={},this.h=0}Y.prototype.add=function(f,O,V,H,le){const he=f.toString();f=this.g[he],f||(f=this.g[he]=[],this.h++);const be=z(f,O,H,le);return be>-1?(O=f[be],V||(O.fa=!1)):(O=new re(O,this.src,he,!!H,le),O.fa=V,f.push(O)),O};function Z(f,O){const V=O.type;if(V in f.g){var H=f.g[V],le=Array.prototype.indexOf.call(H,O,void 0),he;(he=le>=0)&&Array.prototype.splice.call(H,le,1),he&&(se(O),f.g[V].length==0&&(delete f.g[V],f.h--))}}function z(f,O,V,H){for(let le=0;le<f.length;++le){const he=f[le];if(!he.da&&he.listener==O&&he.capture==!!V&&he.ha==H)return le}return-1}var J="closure_lm_"+(Math.random()*1e6|0),ne={};function oe(f,O,V,H,le){if(Array.isArray(O)){for(let he=0;he<O.length;he++)oe(f,O[he],V,H,le);return null}return V=pe(V),f&&f[G]?f.J(O,V,c(H)?!!H.capture:!1,le):me(f,O,V,!1,H,le)}function me(f,O,V,H,le,he){if(!O)throw Error("Invalid event type");const be=c(le)?!!le.capture:!!le;let $e=Rt(f);if($e||(f[J]=$e=new Y(f)),V=$e.add(O,V,H,be,he),V.proxy)return V;if(H=Ie(),V.proxy=H,H.src=f,H.listener=V,f.addEventListener)L||(le=be),le===void 0&&(le=!1),f.addEventListener(O.toString(),H,le);else if(f.attachEvent)f.attachEvent(Ge(O.toString()),H);else if(f.addListener&&f.removeListener)f.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return V}function Ie(){function f(V){return O.call(f.src,f.listener,V)}const O=et;return f}function je(f,O,V,H,le){if(Array.isArray(O))for(var he=0;he<O.length;he++)je(f,O[he],V,H,le);else H=c(H)?!!H.capture:!!H,V=pe(V),f&&f[G]?(f=f.i,he=String(O).toString(),he in f.g&&(O=f.g[he],V=z(O,V,H,le),V>-1&&(se(O[V]),Array.prototype.splice.call(O,V,1),O.length==0&&(delete f.g[he],f.h--)))):f&&(f=Rt(f))&&(O=f.g[O.toString()],f=-1,O&&(f=z(O,V,H,le)),(V=f>-1?O[f]:null)&&Ve(V))}function Ve(f){if(typeof f!="number"&&f&&!f.da){var O=f.src;if(O&&O[G])Z(O.i,f);else{var V=f.type,H=f.proxy;O.removeEventListener?O.removeEventListener(V,H,f.capture):O.detachEvent?O.detachEvent(Ge(V),H):O.addListener&&O.removeListener&&O.removeListener(H),(V=Rt(O))?(Z(V,f),V.h==0&&(V.src=null,O[J]=null)):se(f)}}}function Ge(f){return f in ne?ne[f]:ne[f]="on"+f}function et(f,O){if(f.da)f=!0;else{O=new $(O,this);const V=f.listener,H=f.ha||f.src;f.fa&&Ve(f),f=V.call(H,O)}return f}function Rt(f){return f=f[J],f instanceof Y?f:null}var ut="__closure_events_fn_"+(Math.random()*1e9>>>0);function pe(f){return typeof f=="function"?f:(f[ut]||(f[ut]=function(O){return f.handleEvent(O)}),f[ut])}function de(){x.call(this),this.i=new Y(this),this.M=this,this.G=null}m(de,x),de.prototype[G]=!0,de.prototype.removeEventListener=function(f,O,V,H){je(this,f,O,V,H)};function we(f,O){var V,H=f.G;if(H)for(V=[];H;H=H.G)V.push(H);if(f=f.M,H=O.type||O,typeof O=="string")O=new I(O,f);else if(O instanceof I)O.target=O.target||f;else{var le=O;O=new I(H,f),K(O,le)}le=!0;let he,be;if(V)for(be=V.length-1;be>=0;be--)he=O.g=V[be],le=Se(he,H,!0,O)&&le;if(he=O.g=f,le=Se(he,H,!0,O)&&le,le=Se(he,H,!1,O)&&le,V)for(be=0;be<V.length;be++)he=O.g=V[be],le=Se(he,H,!1,O)&&le}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var f=this.i;for(const O in f.g){const V=f.g[O];for(let H=0;H<V.length;H++)se(V[H]);delete f.g[O],f.h--}}this.G=null},de.prototype.J=function(f,O,V,H){return this.i.add(String(f),O,!1,V,H)},de.prototype.K=function(f,O,V,H){return this.i.add(String(f),O,!0,V,H)};function Se(f,O,V,H){if(O=f.i.g[String(O)],!O)return!0;O=O.concat();let le=!0;for(let he=0;he<O.length;++he){const be=O[he];if(be&&!be.da&&be.capture==V){const $e=be.listener,kt=be.ha||be.src;be.fa&&Z(f.i,be),le=$e.call(kt,H)!==!1&&le}}return le&&!H.defaultPrevented}function ve(f,O){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(O)>2147483647?-1:l.setTimeout(f,O||0)}function He(f){f.g=ve(()=>{f.g=null,f.i&&(f.i=!1,He(f))},f.l);const O=f.h;f.h=null,f.m.apply(null,O)}class Ke extends x{constructor(O,V){super(),this.m=O,this.l=V,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(f){x.call(this),this.h=f,this.g={}}m(Be,x);var Ft=[];function Zt(f){X(f.g,function(O,V){this.g.hasOwnProperty(V)&&Ve(O)},f),f.g={}}Be.prototype.N=function(){Be.Z.N.call(this),Zt(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=l.JSON.stringify,ts=l.JSON.parse,lt=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function $t(){}function lu(){}var gi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ns(){I.call(this,"d")}m(ns,I);function Aa(){I.call(this,"c")}m(Aa,I);var Kn={},rs=null;function yi(){return rs=rs||new de}Kn.Ia="serverreachability";function is(f){I.call(this,Kn.Ia,f)}m(is,I);function Ur(f){const O=yi();we(O,new is(O))}Kn.STAT_EVENT="statevent";function Fr(f,O){I.call(this,Kn.STAT_EVENT,f),this.stat=O}m(Fr,I);function St(f){const O=yi();we(O,new Fr(O,f))}Kn.Ja="timingevent";function ba(f,O){I.call(this,Kn.Ja,f),this.size=O}m(ba,I);function vi(f,O){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},O)}function _i(){this.g=!0}_i.prototype.ua=function(){this.g=!1};function uu(f,O,V,H,le,he){f.info(function(){if(f.g)if(he){var be="",$e=he.split("&");for(let at=0;at<$e.length;at++){var kt=$e[at].split("=");if(kt.length>1){const xt=kt[0];kt=kt[1];const kn=xt.split("_");be=kn.length>=2&&kn[1]=="type"?be+(xt+"="+kt+"&"):be+(xt+"=redacted&")}}}else be=null;else be=he;return"XMLHTTP REQ ("+H+") [attempt "+le+"]: "+O+`
`+V+`
`+be})}function cu(f,O,V,H,le,he,be){f.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+le+"]: "+O+`
`+V+`
`+he+" "+be})}function fr(f,O,V,H){f.info(function(){return"XMLHTTP TEXT ("+O+"): "+co(f,V)+(H?" "+H:"")})}function fu(f,O){f.info(function(){return"TIMEOUT: "+O})}_i.prototype.info=function(){};function co(f,O){if(!f.g)return O;if(!O)return null;try{const he=JSON.parse(O);if(he){for(f=0;f<he.length;f++)if(Array.isArray(he[f])){var V=he[f];if(!(V.length<2)){var H=V[1];if(Array.isArray(H)&&!(H.length<1)){var le=H[0];if(le!="noop"&&le!="stop"&&le!="close")for(let be=1;be<H.length;be++)H[be]=""}}}}return rt(he)}catch{return O}}var Ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},hu;function qr(){}m(qr,$t),qr.prototype.g=function(){return new XMLHttpRequest},hu=new qr;function hr(f){return encodeURIComponent(String(f))}function os(f){var O=1;f=f.split(":");const V=[];for(;O>0&&f.length;)V.push(f.shift()),O--;return f.length&&V.push(f.join(":")),V}function Ln(f,O,V,H){this.j=f,this.i=O,this.l=V,this.S=H||1,this.V=new Be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new du}function du(){this.i=null,this.g="",this.h=!1}var pu={},Sa={};function Gn(f,O,V){f.M=1,f.A=zr(Dn(O)),f.u=V,f.R=!0,Ia(f,null)}function Ia(f,O){f.F=Date.now(),fo(f),f.B=Dn(f.A);var V=f.B,H=f.S;Array.isArray(H)||(H=[String(H)]),Ma(V.i,"t",H),f.C=0,V=f.j.L,f.h=new du,f.g=bu(f.j,V?O:null,!f.u),f.P>0&&(f.O=new Ke(g(f.Y,f,f.g),f.P)),O=f.V,V=f.g,H=f.ba;var le="readystatechange";Array.isArray(le)||(le&&(Ft[0]=le.toString()),le=Ft);for(let he=0;he<le.length;he++){const be=oe(V,le[he],H||O.handleEvent,!1,O.h||O);if(!be)break;O.g[be.key]=be}O=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),O["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,O)):(f.v="GET",f.g.ea(f.B,f.v,null,O)),Ur(),uu(f.i,f.v,f.B,f.l,f.S,f.u)}Ln.prototype.ba=function(f){f=f.target;const O=this.O;O&&_r(f)==3?O.j():this.Y(f)},Ln.prototype.Y=function(f){try{if(f==this.g)e:{const $e=_r(this.g),kt=this.g.ya(),at=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Tu(this.g)))){this.K||$e!=4||kt==7||(kt==8||at<=0?Ur(3):Ur(2)),ss(this);var O=this.g.ca();this.X=O;var V=mu(this);if(this.o=O==200,cu(this.i,this.v,this.B,this.l,this.S,$e,O),this.o){if(this.U&&!this.L){t:{if(this.g){var H,le=this.g;if((H=le.g?le.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(H)){var he=H;break t}}he=null}if(f=he)fr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,dt(this,f);else{this.o=!1,this.m=3,St(12),Br(this),ho(this);break e}}if(this.R){f=!0;let xt;for(;!this.K&&this.C<V.length;)if(xt=yu(this,V),xt==Sa){$e==4&&(this.m=4,St(14),f=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(xt==pu){this.m=4,St(15),fr(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else fr(this.i,this.l,xt,null),dt(this,xt);if(gu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||V.length!=0||this.h.h||(this.m=1,St(16),f=!1),this.o=this.o&&f,!f)fr(this.i,this.l,V,"[Invalid Chunked Response]"),Br(this),ho(this);else if(V.length>0&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.aa&&!be.P&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),To(be),be.P=!0,St(11))}}else fr(this.i,this.l,V,null),dt(this,V);$e==4&&Br(this),this.o&&!this.K&&($e==4?gs(this.j,this):(this.o=!1,fo(this)))}else Va(this.g),O==400&&V.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Br(this),ho(this)}}}catch{}};function mu(f){if(!gu(f))return f.g.la();const O=Tu(f.g);if(O==="")return"";let V="";const H=O.length,le=_r(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Br(f),ho(f),"";f.h.i=new l.TextDecoder}for(let he=0;he<H;he++)f.h.h=!0,V+=f.h.i.decode(O[he],{stream:!(le&&he==H-1)});return O.length=0,f.h.g+=V,f.C=0,f.h.g}function gu(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function yu(f,O){var V=f.C,H=O.indexOf(`
`,V);return H==-1?Sa:(V=Number(O.substring(V,H)),isNaN(V)?pu:(H+=1,H+V>O.length?Sa:(O=O.slice(H,H+V),f.C=H+V,O)))}Ln.prototype.cancel=function(){this.K=!0,Br(this)};function fo(f){f.T=Date.now()+f.H,Ra(f,f.H)}function Ra(f,O){if(f.D!=null)throw Error("WatchDog timer not null");f.D=vi(g(f.aa,f),O)}function ss(f){f.D&&(l.clearTimeout(f.D),f.D=null)}Ln.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(fu(this.i,this.B),this.M!=2&&(Ur(),St(17)),Br(this),this.m=2,ho(this)):Ra(this,this.T-f)};function ho(f){f.j.I==0||f.K||gs(f.j,f)}function Br(f){ss(f);var O=f.O;O&&typeof O.dispose=="function"&&O.dispose(),f.O=null,Zt(f.V),f.g&&(O=f.g,f.g=null,O.abort(),O.dispose())}function dt(f,O){try{var V=f.j;if(V.I!=0&&(V.g==f||Pa(V.h,f))){if(!f.L&&Pa(V.h,f)&&V.I==3){try{var H=V.Ba.g.parse(O)}catch{H=null}if(Array.isArray(H)&&H.length==3){var le=H;if(le[0]==0){e:if(!V.v){if(V.g)if(V.g.F+3e3<f.F)ms(V),In(V);else break e;Tr(V),St(18)}}else V.xa=le[1],0<V.xa-V.K&&le[2]<37500&&V.F&&V.A==0&&!V.C&&(V.C=vi(g(V.Va,V),6e3));po(V.h)<=1&&V.ta&&(V.ta=void 0)}else Rn(V,11)}else if((f.L||V.g==f)&&ms(V),!N(O))for(le=V.Ba.g.parse(O),O=0;O<le.length;O++){let at=le[O];const xt=at[0];if(!(xt<=V.K))if(V.K=xt,at=at[1],V.I==2)if(at[0]=="c"){V.M=at[1],V.ba=at[2];const kn=at[3];kn!=null&&(V.ka=kn,V.j.info("VER="+V.ka));const Gr=at[4];Gr!=null&&(V.za=Gr,V.j.info("SVER="+V.za));const Ar=at[5];Ar!=null&&typeof Ar=="number"&&Ar>0&&(H=1.5*Ar,V.O=H,V.j.info("backChannelRequestTimeoutMs_="+H)),H=V;const br=f.g;if(br){const _s=br.g?br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_s){var he=H.h;he.g||_s.indexOf("spdy")==-1&&_s.indexOf("quic")==-1&&_s.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ls(he,he.h),he.h=null))}if(H.G){const qa=br.g?br.g.getResponseHeader("X-HTTP-Session-Id"):null;qa&&(H.wa=qa,ot(H.J,H.G,qa))}}V.I=3,V.l&&V.l.ra(),V.aa&&(V.T=Date.now()-f.F,V.j.info("Handshake RTT: "+V.T+"ms")),H=V;var be=f;if(H.na=Fa(H,H.L?H.ba:null,H.W),be.L){mo(H.h,be);var $e=be,kt=H.O;kt&&($e.H=kt),$e.D&&(ss($e),fo($e)),H.g=be}else en(H);V.i.length>0&&Kr(V)}else at[0]!="stop"&&at[0]!="close"||Rn(V,7);else V.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Rn(V,7):ds(V):at[0]!="noop"&&V.l&&V.l.qa(at),V.A=0)}}Ur(4)}catch{}}var Gf=class{constructor(f,O){this.g=f,this.map=O}};function as(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ka(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function po(f){return f.h?1:f.g?f.g.size:0}function Pa(f,O){return f.h?f.h==O:f.g?f.g.has(O):!1}function ls(f,O){f.g?f.g.add(O):f.h=O}function mo(f,O){f.h&&f.h==O?f.h=null:f.g&&f.g.has(O)&&f.g.delete(O)}as.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function An(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let O=f.i;for(const V of f.g.values())O=O.concat(V.G);return O}return y(f.i)}var vu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bn(f,O){if(f){f=f.split("&");for(let V=0;V<f.length;V++){const H=f[V].indexOf("=");let le,he=null;H>=0?(le=f[V].substring(0,H),he=f[V].substring(H+1)):le=f[V],O(le,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function dr(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let O;f instanceof dr?(this.l=f.l,go(this,f.j),this.o=f.o,this.g=f.g,pr(this,f.u),this.h=f.h,Ti(this,ja(f.i)),this.m=f.m):f&&(O=String(f).match(vu))?(this.l=!1,go(this,O[1]||"",!0),this.o=yo(O[2]||""),this.g=yo(O[3]||"",!0),pr(this,O[4]),this.h=yo(O[5]||"",!0),Ti(this,O[6]||"",!0),this.m=yo(O[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}dr.prototype.toString=function(){const f=[];var O=this.j;O&&f.push(vo(O,Oa,!0),":");var V=this.g;return(V||O=="file")&&(f.push("//"),(O=this.o)&&f.push(vo(O,Oa,!0),"@"),f.push(hr(V).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),V=this.u,V!=null&&f.push(":",String(V))),(V=this.h)&&(this.g&&V.charAt(0)!="/"&&f.push("/"),f.push(vo(V,V.charAt(0)=="/"?_o:xa,!0))),(V=this.i.toString())&&f.push("?",V),(V=this.m)&&f.push("#",vo(V,Na)),f.join("")},dr.prototype.resolve=function(f){const O=Dn(this);let V=!!f.j;V?go(O,f.j):V=!!f.o,V?O.o=f.o:V=!!f.g,V?O.g=f.g:V=f.u!=null;var H=f.h;if(V)pr(O,f.u);else if(V=!!f.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var le=O.h.lastIndexOf("/");le!=-1&&(H=O.h.slice(0,le+1)+H)}if(le=H,le==".."||le==".")H="";else if(le.indexOf("./")!=-1||le.indexOf("/.")!=-1){H=le.lastIndexOf("/",0)==0,le=le.split("/");const he=[];for(let be=0;be<le.length;){const $e=le[be++];$e=="."?H&&be==le.length&&he.push(""):$e==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),H&&be==le.length&&he.push("")):(he.push($e),H=!0)}H=he.join("/")}else H=le}return V?O.h=H:V=f.i.toString()!=="",V?Ti(O,ja(f.i)):V=!!f.m,V&&(O.m=f.m),O};function Dn(f){return new dr(f)}function go(f,O,V){f.j=V?yo(O,!0):O,f.j&&(f.j=f.j.replace(/:$/,""))}function pr(f,O){if(O){if(O=Number(O),isNaN(O)||O<0)throw Error("Bad port number "+O);f.u=O}else f.u=null}function Ti(f,O,V){O instanceof Ze?(f.i=O,cs(f.i,f.l)):(V||(O=vo(O,Qf)),f.i=new Ze(O,f.l))}function ot(f,O,V){f.i.set(O,V)}function zr(f){return ot(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function yo(f,O){return f?O?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function vo(f,O,V){return typeof f=="string"?(f=encodeURI(f).replace(O,Ca),V&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ca(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Oa=/[#\/\?@]/g,xa=/[#\?:]/g,_o=/[#\?]/g,Qf=/[#\?@]/g,Na=/#/g;function Ze(f,O){this.h=this.g=null,this.i=f||null,this.j=!!O}function mr(f){f.g||(f.g=new Map,f.h=0,f.i&&bn(f.i,function(O,V){f.add(decodeURIComponent(O.replace(/\+/g," ")),V)}))}n=Ze.prototype,n.add=function(f,O){mr(this),this.i=null,f=gr(this,f);let V=this.g.get(f);return V||this.g.set(f,V=[]),V.push(O),this.h+=1,this};function La(f,O){mr(f),O=gr(f,O),f.g.has(O)&&(f.i=null,f.h-=f.g.get(O).length,f.g.delete(O))}function us(f,O){return mr(f),O=gr(f,O),f.g.has(O)}n.forEach=function(f,O){mr(this),this.g.forEach(function(V,H){V.forEach(function(le){f.call(O,le,H,this)},this)},this)};function Da(f,O){mr(f);let V=[];if(typeof O=="string")us(f,O)&&(V=V.concat(f.g.get(gr(f,O))));else for(f=Array.from(f.g.values()),O=0;O<f.length;O++)V=V.concat(f[O]);return V}n.set=function(f,O){return mr(this),this.i=null,f=gr(this,f),us(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[O]),this.h+=1,this},n.get=function(f,O){return f?(f=Da(this,f),f.length>0?String(f[0]):O):O};function Ma(f,O,V){La(f,O),V.length>0&&(f.i=null,f.g.set(gr(f,O),y(V)),f.h+=V.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],O=Array.from(this.g.keys());for(let H=0;H<O.length;H++){var V=O[H];const le=hr(V);V=Da(this,V);for(let he=0;he<V.length;he++){let be=le;V[he]!==""&&(be+="="+hr(V[he])),f.push(be)}}return this.i=f.join("&")};function ja(f){const O=new Ze;return O.i=f.i,f.g&&(O.g=new Map(f.g),O.h=f.h),O}function gr(f,O){return O=String(O),f.j&&(O=O.toLowerCase()),O}function cs(f,O){O&&!f.j&&(mr(f),f.i=null,f.g.forEach(function(V,H){const le=H.toLowerCase();H!=le&&(La(this,H),Ma(this,le,V))},f)),f.j=O}function yr(f,O){const V=new _i;if(l.Image){const H=new Image;H.onload=v(Wt,V,"TestLoadImage: loaded",!0,O,H),H.onerror=v(Wt,V,"TestLoadImage: error",!1,O,H),H.onabort=v(Wt,V,"TestLoadImage: abort",!1,O,H),H.ontimeout=v(Wt,V,"TestLoadImage: timeout",!1,O,H),l.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=f}else O(!1)}function vr(f,O){const V=new _i,H=new AbortController,le=setTimeout(()=>{H.abort(),Wt(V,"TestPingServer: timeout",!1,O)},1e4);fetch(f,{signal:H.signal}).then(he=>{clearTimeout(le),he.ok?Wt(V,"TestPingServer: ok",!0,O):Wt(V,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(le),Wt(V,"TestPingServer: error",!1,O)})}function Wt(f,O,V,H,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),H(V)}catch{}}function Eo(){this.g=new lt}function Hr(f){this.i=f.Sb||null,this.h=f.ab||!1}m(Hr,$t),Hr.prototype.g=function(){return new Sn(this.i,this.h)};function Sn(f,O){de.call(this),this.H=f,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Sn,de),n=Sn.prototype,n.open=function(f,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=O,this.readyState=1,Qn(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const O={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(O.body=f),(this.H||l).fetch(new Request(this.D,O)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ai(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_u(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function _u(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var O=f.value?f.value:new Uint8Array(0);(O=this.B.decode(O,{stream:!f.done}))&&(this.response=this.responseText+=O)}f.done?Ai(this):Qn(this),this.readyState==3&&_u(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Ai(this))},n.Na=function(f){this.g&&(this.response=f,Ai(this))},n.ga=function(){this.g&&Ai(this)};function Ai(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Qn(f)}n.setRequestHeader=function(f,O){this.A.append(f,O)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],O=this.h.entries();for(var V=O.next();!V.done;)V=V.value,f.push(V[0]+": "+V[1]),V=O.next();return f.join(`\r
`)};function Qn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Eu(f){let O="";return X(f,function(V,H){O+=H,O+=":",O+=V,O+=`\r
`}),O}function fs(f,O,V){e:{for(H in V){var H=!1;break e}H=!0}H||(V=Eu(V),typeof f=="string"?V!=null&&hr(V):ot(f,O,V))}function ct(f){de.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(ct,de);var wu=/^https?$/i,Yf=["POST","PUT"];n=ct.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,O,V,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);O=O?O.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():hu.g(),this.g.onreadystatechange=d(g(this.Ca,this));try{this.B=!0,this.g.open(O,String(f),!0),this.B=!1}catch(he){bi(this,he);return}if(f=V||"",V=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var le in H)V.set(le,H[le]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const he of H.keys())V.set(he,H.get(he));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(V.keys()).find(he=>he.toLowerCase()=="content-type"),le=l.FormData&&f instanceof l.FormData,!(Array.prototype.indexOf.call(Yf,O,void 0)>=0)||H||le||V.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,be]of V)this.g.setRequestHeader(he,be);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(he){bi(this,he)}};function bi(f,O){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=O,f.o=5,Si(f),Wr(f)}function Si(f){f.A||(f.A=!0,we(f,"complete"),we(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,we(this,"complete"),we(this,"abort"),Wr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wr(this,!0)),ct.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?$r(this):this.Xa())},n.Xa=function(){$r(this)};function $r(f){if(f.h&&typeof a<"u"){if(f.v&&_r(f)==4)setTimeout(f.Ca.bind(f),0);else if(we(f,"readystatechange"),_r(f)==4){f.h=!1;try{const he=f.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var V;if(!(V=O)){var H;if(H=he===0){let be=String(f.D).match(vu)[1]||null;!be&&l.self&&l.self.location&&(be=l.self.location.protocol.slice(0,-1)),H=!wu.test(be?be.toLowerCase():"")}V=H}if(V)we(f,"complete"),we(f,"success");else{f.o=6;try{var le=_r(f)>2?f.g.statusText:""}catch{le=""}f.l=le+" ["+f.ca()+"]",Si(f)}}finally{Wr(f)}}}}function Wr(f,O){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const V=f.g;f.g=null,O||we(f,"ready");try{V.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function _r(f){return f.g?f.g.readyState:0}n.ca=function(){try{return _r(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var O=this.g.responseText;return f&&O.indexOf(f)==0&&(O=O.substring(f.length)),ts(O)}};function Tu(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Va(f){const O={};f=(f.g&&_r(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<f.length;H++){if(N(f[H]))continue;var V=os(f[H]);const le=V[0];if(V=V[1],typeof V!="string")continue;V=V.trim();const he=O[le]||[];O[le]=he,he.push(V)}W(O,function(H){return H.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(f,O,V){return V&&V.internalChannelParams&&V.internalChannelParams[f]||O}function hs(f){this.za=0,this.i=[],this.j=new _i,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Er("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Er("baseRetryDelayMs",5e3,f),this.Za=Er("retryDelaySeedMs",1e4,f),this.Ta=Er("forwardChannelMaxRetries",2,f),this.va=Er("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new as(f&&f.concurrentRequestLimit),this.Ba=new Eo,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=hs.prototype,n.ka=8,n.I=1,n.connect=function(f,O,V,H){St(0),this.W=f,this.H=O||{},V&&H!==void 0&&(this.H.OSID=V,this.H.OAID=H),this.F=this.X,this.J=Fa(this,null,this.W),Kr(this)};function ds(f){if(ps(f),f.I==3){var O=f.V++,V=Dn(f.J);if(ot(V,"SID",f.M),ot(V,"RID",O),ot(V,"TYPE","terminate"),wr(f,V),O=new Ln(f,f.j,O),O.M=2,O.A=zr(Dn(V)),V=!1,l.navigator&&l.navigator.sendBeacon)try{V=l.navigator.sendBeacon(O.A.toString(),"")}catch{}!V&&l.Image&&(new Image().src=O.A,V=!0),V||(O.g=bu(O.j,null),O.g.ea(O.A)),O.F=Date.now(),fo(O)}Ao(f)}function In(f){f.g&&(To(f),f.g.cancel(),f.g=null)}function ps(f){In(f),f.v&&(l.clearTimeout(f.v),f.v=null),ms(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&l.clearTimeout(f.m),f.m=null)}function Kr(f){if(!ka(f.h)&&!f.m){f.m=!0;var O=f.Ea;D||R(),U||(D(),U=!0),k.add(O,f),f.D=0}}function Au(f,O){return po(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=O.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=vi(g(f.Ea,f,O),ys(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const le=new Ln(this,this.j,f);let he=this.o;if(this.U&&(he?(he=j(he),K(he,this.U)):he=this.U),this.u!==null||this.R||(le.J=he,he=null),this.S)e:{for(var O=0,V=0;V<this.i.length;V++){t:{var H=this.i[V];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(O+=H,O>4096){O=V;break e}if(O===4096||V===this.i.length-1){O=V+1;break e}}O=1e3}else O=1e3;O=Ua(this,le,O),V=Dn(this.J),ot(V,"RID",f),ot(V,"CVER",22),this.G&&ot(V,"X-HTTP-Session-Id",this.G),wr(this,V),he&&(this.R?O="headers="+hr(Eu(he))+"&"+O:this.u&&fs(V,this.u,he)),ls(this.h,le),this.Ra&&ot(V,"TYPE","init"),this.S?(ot(V,"$req",O),ot(V,"SID","null"),le.U=!0,Gn(le,V,null)):Gn(le,V,O),this.I=2}}else this.I==3&&(f?wo(this,f):this.i.length==0||ka(this.h)||wo(this))};function wo(f,O){var V;O?V=O.l:V=f.V++;const H=Dn(f.J);ot(H,"SID",f.M),ot(H,"RID",V),ot(H,"AID",f.K),wr(f,H),f.u&&f.o&&fs(H,f.u,f.o),V=new Ln(f,f.j,V,f.D+1),f.u===null&&(V.J=f.o),O&&(f.i=O.G.concat(f.i)),O=Ua(f,V,1e3),V.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ls(f.h,V),Gn(V,H,O)}function wr(f,O){f.H&&X(f.H,function(V,H){ot(O,H,V)}),f.l&&X({},function(V,H){ot(O,H,V)})}function Ua(f,O,V){V=Math.min(f.i.length,V);const H=f.l?g(f.l.Ka,f.l,f):null;e:{var le=f.i;let $e=-1;for(;;){const kt=["count="+V];$e==-1?V>0?($e=le[0].g,kt.push("ofs="+$e)):$e=0:kt.push("ofs="+$e);let at=!0;for(let xt=0;xt<V;xt++){var he=le[xt].g;const kn=le[xt].map;if(he-=$e,he<0)$e=Math.max(0,le[xt].g-100),at=!1;else try{he="req"+he+"_"||"";try{var be=kn instanceof Map?kn:Object.entries(kn);for(const[Gr,Ar]of be){let br=Ar;c(Ar)&&(br=rt(Ar)),kt.push(he+Gr+"="+encodeURIComponent(br))}}catch(Gr){throw kt.push(he+"type="+encodeURIComponent("_badmap")),Gr}}catch{H&&H(kn)}}if(at){be=kt.join("&");break e}}be=void 0}return f=f.i.splice(0,V),O.G=f,be}function en(f){if(!f.g&&!f.v){f.Y=1;var O=f.Da;D||R(),U||(D(),U=!0),k.add(O,f),f.A=0}}function Tr(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=vi(g(f.Da,f),ys(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Ii(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=vi(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),In(this),Ii(this))};function To(f){f.B!=null&&(l.clearTimeout(f.B),f.B=null)}function Ii(f){f.g=new Ln(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var O=Dn(f.na);ot(O,"RID","rpc"),ot(O,"SID",f.M),ot(O,"AID",f.K),ot(O,"CI",f.F?"0":"1"),!f.F&&f.ia&&ot(O,"TO",f.ia),ot(O,"TYPE","xmlhttp"),wr(f,O),f.u&&f.o&&fs(O,f.u,f.o),f.O&&(f.g.H=f.O);var V=f.g;f=f.ba,V.M=1,V.A=zr(Dn(O)),V.u=null,V.R=!0,Ia(V,f)}n.Va=function(){this.C!=null&&(this.C=null,In(this),Tr(this),St(19))};function ms(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function gs(f,O){var V=null;if(f.g==O){ms(f),To(f),f.g=null;var H=2}else if(Pa(f.h,O))V=O.G,mo(f.h,O),H=1;else return;if(f.I!=0){if(O.o)if(H==1){V=O.u?O.u.length:0,O=Date.now()-O.F;var le=f.D;H=yi(),we(H,new ba(H,V)),Kr(f)}else en(f);else if(le=O.m,le==3||le==0&&O.X>0||!(H==1&&Au(f,O)||H==2&&Tr(f)))switch(V&&V.length>0&&(O=f.h,O.i=O.i.concat(V)),le){case 1:Rn(f,5);break;case 4:Rn(f,10);break;case 3:Rn(f,6);break;default:Rn(f,2)}}}function ys(f,O){let V=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(V*=2),V*O}function Rn(f,O){if(f.j.info("Error code "+O),O==2){var V=g(f.bb,f),H=f.Ua;const le=!H;H=new dr(H||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||go(H,"https"),zr(H),le?yr(H.toString(),V):vr(H.toString(),V)}else St(2);f.I=0,f.l&&f.l.pa(O),Ao(f),ps(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Ao(f){if(f.I=0,f.ja=[],f.l){const O=An(f.h);(O.length!=0||f.i.length!=0)&&(S(f.ja,O),S(f.ja,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.oa()}}function Fa(f,O,V){var H=V instanceof dr?Dn(V):new dr(V);if(H.g!="")O&&(H.g=O+"."+H.g),pr(H,H.u);else{var le=l.location;H=le.protocol,O=O?O+"."+le.hostname:le.hostname,le=+le.port;const he=new dr(null);H&&go(he,H),O&&(he.g=O),le&&pr(he,le),V&&(he.h=V),H=he}return V=f.G,O=f.wa,V&&O&&ot(H,V,O),ot(H,"VER",f.ka),wr(f,H),H}function bu(f,O,V){if(O&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return O=f.Aa&&!f.ma?new ct(new Hr({ab:V})):new ct(f.ma),O.Fa(f.L),O}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}n=Su.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function vs(){}vs.prototype.g=function(f,O){return new Kt(f,O)};function Kt(f,O){de.call(this),this.g=new hs(O),this.l=f,this.h=O&&O.messageUrlParams||null,f=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(f?f["X-WebChannel-Content-Type"]=O.messageContentType:f={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.sa&&(f?f["X-WebChannel-Client-Profile"]=O.sa:f={"X-WebChannel-Client-Profile":O.sa}),this.g.U=f,(f=O&&O.Qb)&&!N(f)&&(this.g.u=f),this.A=O&&O.supportsCrossDomainXhr||!1,this.v=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!N(O)&&(this.g.G=O,f=this.h,f!==null&&O in f&&(f=this.h,O in f&&delete f[O])),this.j=new Ri(this)}m(Kt,de),Kt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){ds(this.g)},Kt.prototype.o=function(f){var O=this.g;if(typeof f=="string"){var V={};V.__data__=f,f=V}else this.v&&(V={},V.__data__=rt(f),f=V);O.i.push(new Gf(O.Ya++,f)),O.I==3&&Kr(O)},Kt.prototype.N=function(){this.g.l=null,delete this.j,ds(this.g),delete this.g,Kt.Z.N.call(this)};function Iu(f){ns.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var O=f.__sm__;if(O){e:{for(const V in O){f=V;break e}f=void 0}(this.i=f)&&(f=this.i,O=O!==null&&f in O?O[f]:void 0),this.data=O}else this.data=f}m(Iu,ns);function Ru(){Aa.call(this),this.status=1}m(Ru,Aa);function Ri(f){this.g=f}m(Ri,Su),Ri.prototype.ra=function(){we(this.g,"a")},Ri.prototype.qa=function(f){we(this.g,new Iu(f))},Ri.prototype.pa=function(f){we(this.g,new Ru)},Ri.prototype.oa=function(){we(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,oT=function(){return new vs},iT=function(){return yi()},rT=Kn,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,Lc=Ei,wi.COMPLETE="complete",nT=wi,lu.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",de.prototype.listen=de.prototype.J,wl=lu,ct.prototype.listenOnce=ct.prototype.K,ct.prototype.getLastError=ct.prototype.Ha,ct.prototype.getLastErrorCode=ct.prototype.ya,ct.prototype.getStatus=ct.prototype.ca,ct.prototype.getResponseJson=ct.prototype.La,ct.prototype.getResponseText=ct.prototype.la,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Fa,tT=ct}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let pa="12.8.0";function DP(n){pa=n}const zo=new yg("@firebase/firestore");function Bs(){return zo.logLevel}function Pe(n,...e){if(zo.logLevel<=Ye.DEBUG){const t=e.map(Eg);zo.debug(`Firestore (${pa}): ${n}`,...t)}}function fi(n,...e){if(zo.logLevel<=Ye.ERROR){const t=e.map(Eg);zo.error(`Firestore (${pa}): ${n}`,...t)}}function na(n,...e){if(zo.logLevel<=Ye.WARN){const t=e.map(Eg);zo.warn(`Firestore (${pa}): ${n}`,...t)}}function Eg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,sT(n,r,t)}function sT(n,e,t){let r=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw fi(r),new Error(r)}function st(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||sT(e,o,r)}function We(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Vr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ai{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class aT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(an.UNAUTHENTICATED)))}shutdown(){}}class jP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class VP{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let r=this.i;const o=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ai,e.enqueueRetryable((()=>o(this.currentUser)))};const l=()=>{const h=a;e.enqueueRetryable((async()=>{await h.promise,await o(this.currentUser)}))},c=h=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((h=>c(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ai)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new aT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class UP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class FP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new UP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class n1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const r=a=>{a.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new n1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new n1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function BP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class wg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=BP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function Vm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Cd(o)===Cd(a)?Xe(o,a):Cd(o)?1:-1}return Xe(n.length,e.length)}const zP=55296,HP=57343;function Cd(n){const e=n.charCodeAt(0);return e>=zP&&e<=HP}function ra(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}const r1="__name__";class Pr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Pr.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Xe(e.length,t.length)}static compareSegments(e,t){const r=Pr.isNumericId(e),o=Pr.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Pr.extractNumericId(e).compare(Pr.extractNumericId(t)):Vm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xi.fromString(e.substring(4,e.length-2))}}class ht extends Pr{construct(e,t,r){return new ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new ht(t)}static emptyPath(){return new ht([])}}const $P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Pr{construct(e,t,r){return new Xt(e,t,r)}static isValidIdentifier(e){return $P.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r1}static keyField(){return new Xt([r1])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Re(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Re(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[o+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Re(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,o+=2}else c==="`"?(l=!l,o++):c!=="."||l?(r+=c,o++):(a(),o++)}if(a(),l)throw new Re(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(t)}static emptyPath(){return new Xt([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(ht.fromString(e))}static fromName(e){return new Le(ht.fromString(e).popFirst(5))}static empty(){return new Le(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new ht(e.slice()))}}function lT(n,e,t){if(!t)throw new Re(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function WP(n,e,t,r){if(e===!0&&r===!0)throw new Re(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i1(n){if(!Le.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o1(n){if(Le.isDocumentKey(n))throw new Re(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function uT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Ef(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function ar(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ef(n);throw new Re(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Mt(n,e){const t={typeString:n};return e&&(t.value=e),t}function Xl(n,e){if(!uT(n))throw new Re(ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(o&&typeof l!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Re(ge.INVALID_ARGUMENT,t);return!0}const s1=-62135596800,a1=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*a1);return new gt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<s1)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/a1}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xl(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-s1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Mt("string",gt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new gt(0,0))}static max(){return new ze(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function KP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new gt(t+1,0):new gt(t,r));return new to(o,Le.empty(),e)}function GP(n){return new to(n.readTime,n.key,jl)}class to{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new to(ze.min(),Le.empty(),jl)}static max(){return new to(ze.max(),Le.empty(),jl)}}function QP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}const YP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ma(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==YP)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,r)=>{t(e)}))}static reject(e){return new ye(((t,r)=>{r(e)}))}static waitFor(e){return new ye(((t,r)=>{let o=0,a=0,l=!1;e.forEach((c=>{++o,c.next((()=>{++a,l&&a===o&&t()}),(h=>r(h)))})),l=!0,a===o&&t()}))}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next((o=>o?ye.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new ye(((r,o)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const g=h;t(e[g]).next((v=>{l[g]=v,++c,c===a&&r(l)}),(v=>o(v)))}}))}static doWhile(e,t){return new ye(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function JP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ga(n){return n.name==="IndexedDbTransactionError"}class wf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;const Tg=-1;function Tf(n){return n==null}function Qc(n){return n===0&&1/n==-1/0}function ZP(n){return typeof n=="number"&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const cT="";function eC(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=l1(e)),e=tC(n.get(t),e);return l1(e)}function tC(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case cT:t+="";break;default:t+=a}}return t}function l1(n){return n+cT+""}function u1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function fT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class At{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new At(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new At(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=a??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Yt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ut{constructor(e){this.comparator=e,this.data=new At(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new c1(this.data.getIterator())}getIteratorFrom(e){return new c1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ut(this.comparator);return t.data=e,t}}class c1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new xn([])}unionWith(e){let t=new Ut(Xt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ra(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class hT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hT("Invalid base64 string: "+a):a}})(e);return new Jt(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a})(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const nC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(n){if(st(!!n,39018),typeof n=="string"){let e=0;const t=nC.exec(n);if(st(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ro(n){return typeof n=="string"?Jt.fromBase64String(n):Jt.fromUint8Array(n)}const dT="server_timestamp",pT="__type__",mT="__previous_value__",gT="__local_write_time__";function Ag(n){return(n?.mapValue?.fields||{})[pT]?.stringValue===dT}function Af(n){const e=n.mapValue.fields[mT];return Ag(e)?Af(e):e}function Vl(n){const e=no(n.mapValue.fields[gT].timestampValue);return new gt(e.seconds,e.nanos)}class rC{constructor(e,t,r,o,a,l,c,h,g,v,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=g,this.isUsingEmulator=v,this.apiKey=m}}const Yc="(default)";class Ul{constructor(e,t){this.projectId=e,this.database=t||Yc}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}function iC(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Re(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(n.options.projectId,e)}const yT="__type__",oC="__max__",Sc={mapValue:{}},vT="__vector__",Xc="value";function io(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ag(n)?4:aC(n)?9007199254740991:sC(n)?10:11:Fe(28295,{value:n})}function jr(n,e){if(n===e)return!0;const t=io(n);if(t!==io(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vl(n).isEqual(Vl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=no(o.timestampValue),c=no(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return ro(o.bytesValue).isEqual(ro(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Ct(o.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Ct(o.integerValue)===Ct(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=Ct(o.doubleValue),c=Ct(a.doubleValue);return l===c?Qc(l)===Qc(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return ra(n.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return(function(o,a){const l=o.mapValue.fields||{},c=a.mapValue.fields||{};if(u1(l)!==u1(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!jr(l[h],c[h])))return!1;return!0})(n,e);default:return Fe(52216,{left:n})}}function Fl(n,e){return(n.values||[]).find((t=>jr(t,e)))!==void 0}function ia(n,e){if(n===e)return 0;const t=io(n),r=io(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Ct(a.integerValue||a.doubleValue),h=Ct(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1})(n,e);case 3:return f1(n.timestampValue,e.timestampValue);case 4:return f1(Vl(n),Vl(e));case 5:return Vm(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=ro(a),h=ro(l);return c.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),h=l.split("/");for(let g=0;g<c.length&&g<h.length;g++){const v=Xe(c[g],h[g]);if(v!==0)return v}return Xe(c.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Xe(Ct(a.latitude),Ct(l.latitude));return c!==0?c:Xe(Ct(a.longitude),Ct(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return h1(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},h=l.fields||{},g=c[Xc]?.arrayValue,v=h[Xc]?.arrayValue,m=Xe(g?.values?.length||0,v?.values?.length||0);return m!==0?m:h1(g,v)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Sc.mapValue&&l===Sc.mapValue)return 0;if(a===Sc.mapValue)return 1;if(l===Sc.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),g=l.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let m=0;m<h.length&&m<v.length;++m){const d=Vm(h[m],v[m]);if(d!==0)return d;const y=ia(c[h[m]],g[v[m]]);if(y!==0)return y}return Xe(h.length,v.length)})(n.mapValue,e.mapValue);default:throw Fe(23264,{he:t})}}function f1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=no(n),r=no(e),o=Xe(t.seconds,r.seconds);return o!==0?o:Xe(t.nanos,r.nanos)}function h1(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ia(t[o],r[o]);if(a)return a}return Xe(t.length,r.length)}function oa(n){return Um(n)}function Um(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=no(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ro(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Le.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=Um(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const l of r)a?a=!1:o+=",",o+=`${l}:${Um(t.fields[l])}`;return o+"}"})(n.mapValue):Fe(61005,{value:n})}function Dc(n){switch(io(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Af(n);return e?16+Dc(e):16;case 5:return 2*n.stringValue.length;case 6:return ro(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Dc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return lo(r.fields,((a,l)=>{o+=a.length+Dc(l)})),o})(n.mapValue);default:throw Fe(13486,{value:n})}}function d1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fm(n){return!!n&&"integerValue"in n}function bg(n){return!!n&&"arrayValue"in n}function p1(n){return!!n&&"nullValue"in n}function m1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mc(n){return!!n&&"mapValue"in n}function sC(n){return(n?.mapValue?.fields||{})[yT]?.stringValue===vT}function kl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return lo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=kl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kl(n.arrayValue.values[t]);return e}return{...n}}function aC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===oC}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(t)}setAll(e){let t=Xt.emptyPath(),r={},o=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,o),r={},o=[],t=c.popLast()}l?r[c.lastSegment()]=kl(l):o.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Mc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){lo(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new Tn(kl(this.value))}}function _T(n){const e=[];return lo(n.fields,((t,r)=>{const o=new Xt([t]);if(Mc(r)){const a=_T(r.mapValue).fields;if(a.length===0)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)})),new xn(e)}class ln{constructor(e,t,r,o,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ln(e,0,ze.min(),ze.min(),ze.min(),Tn.empty(),0)}static newFoundDocument(e,t,r,o){return new ln(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new ln(e,2,t,ze.min(),ze.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,ze.min(),ze.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function g1(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],l=n.position[o];if(a.field.isKeyField()?r=Le.comparator(Le.fromName(l.referenceValue),t.key):r=ia(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function y1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!jr(n.position[t],e.position[t]))return!1;return!0}class ql{constructor(e,t="asc"){this.field=e,this.dir=t}}function lC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ET{}class Dt extends ET{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new cC(e,t,r):t==="array-contains"?new dC(e,r):t==="in"?new pC(e,r):t==="not-in"?new mC(e,r):t==="array-contains-any"?new gC(e,r):new Dt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new fC(e,r):new hC(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ia(t,this.value)):t!==null&&io(this.value)===io(t)&&this.matchesComparison(ia(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends ET{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new lr(e,t)}matches(e){return wT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wT(n){return n.op==="and"}function TT(n){return uC(n)&&wT(n)}function uC(n){for(const e of n.filters)if(e instanceof lr)return!1;return!0}function qm(n){if(n instanceof Dt)return n.field.canonicalString()+n.op.toString()+oa(n.value);if(TT(n))return n.filters.map((e=>qm(e))).join(",");{const e=n.filters.map((t=>qm(t))).join(",");return`${n.op}(${e})`}}function AT(n,e){return n instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&jr(r.value,o.value)})(n,e):n instanceof lr?(function(r,o){return o instanceof lr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,l,c)=>a&&AT(l,o.filters[c])),!0):!1})(n,e):void Fe(19439)}function bT(n){return n instanceof Dt?(function(t){return`${t.field.canonicalString()} ${t.op} ${oa(t.value)}`})(n):n instanceof lr?(function(t){return t.op.toString()+" {"+t.getFilters().map(bT).join(" ,")+"}"})(n):"Filter"}class cC extends Dt{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class fC extends Dt{constructor(e,t){super(e,"in",t),this.keys=ST("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class hC extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=ST("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ST(n,e){return(e.arrayValue?.values||[]).map((t=>Le.fromName(t.referenceValue)))}class dC extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bg(t)&&Fl(t.arrayValue,this.value)}}class pC extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fl(this.value.arrayValue,t)}}class mC extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fl(this.value.arrayValue,t)}}class gC extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Fl(this.value.arrayValue,r)))}}class yC{constructor(e,t=null,r=[],o=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function v1(n,e=null,t=[],r=[],o=null,a=null,l=null){return new yC(n,e,t,r,o,a,l)}function Sg(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>qm(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>oa(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>oa(r))).join(",")),e.Te=t}return e.Te}function Ig(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!AT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!y1(n.startAt,e.startAt)&&y1(n.endAt,e.endAt)}function Bm(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class ya{constructor(e,t=null,r=[],o=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vC(n,e,t,r,o,a,l,c){return new ya(n,e,t,r,o,a,l,c)}function Rg(n){return new ya(n)}function _1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function _C(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function IT(n){return n.collectionGroup!==null}function Pl(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Ut(Xt.comparator);return l.filters.forEach((h=>{h.getFlattenedFilters().forEach((g=>{g.isInequality()&&(c=c.add(g.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new ql(a,r))})),t.has(Xt.keyField().canonicalString())||e.Ie.push(new ql(Xt.keyField(),r))}return e.Ie}function xr(n){const e=We(n);return e.Ee||(e.Ee=EC(e,Pl(n))),e.Ee}function EC(n,e){if(n.limitType==="F")return v1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new ql(o.field,a)}));const t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return v1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zm(n,e){const t=n.filters.concat([e]);return new ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wC(n,e){const t=n.explicitOrderBy.concat([e]);return new ya(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function Hm(n,e,t){return new ya(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bf(n,e){return Ig(xr(n),xr(e))&&n.limitType===e.limitType}function RT(n){return`${Sg(xr(n))}|lt:${n.limitType}`}function zs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>bT(o))).join(", ")}]`),Tf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>oa(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>oa(o))).join(",")),`Target(${r})`})(xr(n))}; limitType=${n.limitType})`}function Sf(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Le.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Pl(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(l,c,h){const g=g1(l,c,h);return l.inclusive?g<=0:g<0})(r.startAt,Pl(r),o)||r.endAt&&!(function(l,c,h){const g=g1(l,c,h);return l.inclusive?g>=0:g>0})(r.endAt,Pl(r),o))})(n,e)}function TC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kT(n){return(e,t)=>{let r=!1;for(const o of Pl(n)){const a=AC(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function AC(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):(function(a,l,c){const h=l.data.field(a),g=c.data.field(a);return h!==null&&g!==null?ia(h,g):Fe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}class Qo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return fT(this.inner)}size(){return this.innerSize}}const bC=new At(Le.comparator);function hi(){return bC}const PT=new At(Le.comparator);function Tl(...n){let e=PT;for(const t of n)e=e.insert(t.key,t);return e}function CT(n){let e=PT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Vo(){return Cl()}function OT(){return Cl()}function Cl(){return new Qo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const SC=new At(Le.comparator),IC=new Ut(Le.comparator);function Je(...n){let e=IC;for(const t of n)e=e.add(t);return e}const RC=new Ut(Xe);function kC(){return RC}function kg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(e)?"-0":e}}function xT(n){return{integerValue:""+n}}function PC(n,e){return ZP(e)?xT(e):kg(n,e)}class If{constructor(){this._=void 0}}function CC(n,e,t){return n instanceof Bl?(function(o,a){const l={fields:{[pT]:{stringValue:dT},[gT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Ag(a)&&(a=Af(a)),a&&(l.fields[mT]=a),{mapValue:l}})(t,e):n instanceof zl?LT(n,e):n instanceof Hl?DT(n,e):(function(o,a){const l=NT(o,a),c=E1(l)+E1(o.Ae);return Fm(l)&&Fm(o.Ae)?xT(c):kg(o.serializer,c)})(n,e)}function OC(n,e,t){return n instanceof zl?LT(n,e):n instanceof Hl?DT(n,e):t}function NT(n,e){return n instanceof Zc?(function(r){return Fm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Bl extends If{}class zl extends If{constructor(e){super(),this.elements=e}}function LT(n,e){const t=MT(e);for(const r of n.elements)t.some((o=>jr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Hl extends If{constructor(e){super(),this.elements=e}}function DT(n,e){let t=MT(e);for(const r of n.elements)t=t.filter((o=>!jr(o,r)));return{arrayValue:{values:t}}}class Zc extends If{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function E1(n){return Ct(n.integerValue||n.doubleValue)}function MT(n){return bg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class xC{constructor(e,t){this.field=e,this.transform=t}}function NC(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof zl&&o instanceof zl||r instanceof Hl&&o instanceof Hl?ra(r.elements,o.elements,jr):r instanceof Zc&&o instanceof Zc?jr(r.Ae,o.Ae):r instanceof Bl&&o instanceof Bl})(n.transform,e.transform)}class LC{constructor(e,t){this.version=e,this.transformResults=t}}class $n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Rf{}function jT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pg(n.key,$n.none()):new Jl(n.key,n.data,$n.none());{const t=n.data,r=Tn.empty();let o=new Ut(Xt.comparator);for(let a of e.fields)if(!o.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),o=o.add(a)}return new uo(n.key,r,new xn(o.toArray()),$n.none())}}function DC(n,e,t){n instanceof Jl?(function(o,a,l){const c=o.value.clone(),h=T1(o.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof uo?(function(o,a,l){if(!jc(o.precondition,a))return void a.convertToUnknownDocument(l.version);const c=T1(o.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(VT(o)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()})(n,e,t):(function(o,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Ol(n,e,t,r){return n instanceof Jl?(function(a,l,c,h){if(!jc(a.precondition,l))return c;const g=a.value.clone(),v=A1(a.fieldTransforms,h,l);return g.setAll(v),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),null})(n,e,t,r):n instanceof uo?(function(a,l,c,h){if(!jc(a.precondition,l))return c;const g=A1(a.fieldTransforms,h,l),v=l.data;return v.setAll(VT(a)),v.setAll(g),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(a,l,c){return jc(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function MC(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=NT(r.transform,o||null);a!=null&&(t===null&&(t=Tn.empty()),t.set(r.field,a))}return t||null}function w1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&ra(r,o,((a,l)=>NC(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Jl extends Rf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class uo extends Rf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function VT(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function T1(n,e,t){const r=new Map;st(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const a=n[o],l=a.transform,c=e.data.field(a.field);r.set(a.field,OC(l,c,t[o]))}return r}function A1(n,e,t){const r=new Map;for(const o of n){const a=o.transform,l=t.data.field(o.field);r.set(o.field,CC(a,l,e))}return r}class Pg extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jC extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class VC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&DC(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ol(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ol(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=OT();return this.mutations.forEach((o=>{const a=e.get(o.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(o.key)?null:c;const h=jT(l,c);h!==null&&r.set(o.key,h),l.isValidDocument()||l.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&ra(this.mutations,e.mutations,((t,r)=>w1(t,r)))&&ra(this.baseMutations,e.baseMutations,((t,r)=>w1(t,r)))}}class Cg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return SC})();const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new Cg(e,t,r,o)}}class UC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class FC{constructor(e,t){this.count=e,this.unchangedNames=t}}var Lt,tt;function qC(n){switch(n){case ge.OK:return Fe(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function UT(n){if(n===void 0)return fi("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Lt.OK:return ge.OK;case Lt.CANCELLED:return ge.CANCELLED;case Lt.UNKNOWN:return ge.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return ge.INTERNAL;case Lt.UNAVAILABLE:return ge.UNAVAILABLE;case Lt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Lt.NOT_FOUND:return ge.NOT_FOUND;case Lt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Lt.ABORTED:return ge.ABORTED;case Lt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Lt.DATA_LOSS:return ge.DATA_LOSS;default:return Fe(39323,{code:n})}}(tt=Lt||(Lt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function BC(){return new TextEncoder}const zC=new Xi([4294967295,4294967295],0);function b1(n){const e=BC().encode(n),t=new eT;return t.update(e),new Uint8Array(t.digest())}function S1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Xi([t,r],0),new Xi([o,a],0)]}class Og{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Al(`Invalid padding: ${t}`);if(r<0)throw new Al(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Al(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Xi.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(Xi.fromNumber(r)));return o.compare(zC)===1&&(o=new Xi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=b1(e),[r,o]=S1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,o,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Og(a,o,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=b1(e),[r,o]=S1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,o,a);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kf(ze.min(),o,new At(Xe),hi(),Je())}}class Zl{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Zl(r,t,Je(),Je(),Je())}}class Vc{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=o}}class FT{constructor(e,t){this.targetId=e,this.Ce=t}}class qT{constructor(e,t,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class I1{constructor(){this.ve=0,this.Fe=R1(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),r=Je();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new Zl(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=R1()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class HC{constructor(e){this.Ge=e,this.ze=new Map,this.je=hi(),this.He=Ic(),this.Je=Ic(),this.Ze=new At(Xe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Bm(a))if(r===0){const l=new Le(a.path);this.et(t,l,ln.newNoDocument(l,ze.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),h=c?this.ct(c,e,l):1;if(h!==0){this.it(t);const g=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let l,c;try{l=ro(r).toUint8Array()}catch(h){if(h instanceof hT)return na("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new Og(l,o,a)}catch(h){return na(h instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Bm(c.target)){const h=new Le(c.target.path);this.It(h).has(l)||this.Et(l,h)||this.et(l,h,ln.newNoDocument(h,e))}a.Be&&(t.set(l,a.ke()),a.Ke())}}));let r=Je();this.Je.forEach(((a,l)=>{let c=!0;l.forEachWhile((h=>{const g=this.ot(h);return!g||g.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const o=new kf(e,t,this.Ze,this.je,r);return this.je=hi(),this.He=Ic(),this.Je=Ic(),this.Ze=new At(Xe),o}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new I1,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Ut(Xe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Ut(Xe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ic(){return new At(Le.comparator)}function R1(){return new At(Le.comparator)}const $C={asc:"ASCENDING",desc:"DESCENDING"},WC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KC={and:"AND",or:"OR"};class GC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $m(n,e){return n.useProto3Json||Tf(e)?e:{value:e}}function ef(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function QC(n,e){return ef(n,e.toTimestamp())}function Nr(n){return st(!!n,49232),ze.fromTimestamp((function(t){const r=no(t);return new gt(r.seconds,r.nanos)})(n))}function xg(n,e){return Wm(n,e).canonicalString()}function Wm(n,e){const t=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function zT(n){const e=ht.fromString(n);return st(GT(e),10190,{key:e.toString()}),e}function Km(n,e){return xg(n.databaseId,e.path)}function Od(n,e){const t=zT(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le($T(t))}function HT(n,e){return xg(n.databaseId,e)}function YC(n){const e=zT(n);return e.length===4?ht.emptyPath():$T(e)}function Gm(n){return new ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $T(n){return st(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function k1(n,e,t){return{name:Km(n,e),fields:t.value.mapValue.fields}}function XC(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Fe(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,v){return g.useProto3Json?(st(v===void 0||typeof v=="string",58123),Jt.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Jt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(g){const v=g.code===void 0?ge.UNKNOWN:UT(g.code);return new Re(v,g.message||"")})(l);t=new qT(r,o,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Od(n,r.document.name),a=Nr(r.document.updateTime),l=r.document.createTime?Nr(r.document.createTime):ze.min(),c=new Tn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(o,a,l,c),g=r.targetIds||[],v=r.removedTargetIds||[];t=new Vc(g,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Od(n,r.document),a=r.readTime?Nr(r.readTime):ze.min(),l=ln.newNoDocument(o,a),c=r.removedTargetIds||[];t=new Vc([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Od(n,r.document),a=r.removedTargetIds||[];t=new Vc([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,l=new FC(o,a),c=r.targetId;t=new FT(c,l)}}return t}function JC(n,e){let t;if(e instanceof Jl)t={update:k1(n,e.key,e.value)};else if(e instanceof Pg)t={delete:Km(n,e.key)};else if(e instanceof uo)t={update:k1(n,e.key,e.data),updateMask:aO(e.fieldMask)};else{if(!(e instanceof jC))return Fe(16599,{dt:e.type});t={verify:Km(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Bl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Hl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Zc)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Fe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:QC(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(n,e.precondition)),t}function ZC(n,e){return n&&n.length>0?(st(e!==void 0,14353),n.map((t=>(function(o,a){let l=o.updateTime?Nr(o.updateTime):Nr(a);return l.isEqual(ze.min())&&(l=Nr(a)),new LC(l,o.transformResults||[])})(t,e)))):[]}function eO(n,e){return{documents:[HT(n,e.path)]}}function tO(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=HT(n,o);const a=(function(g){if(g.length!==0)return KT(lr.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(g){if(g.length!==0)return g.map((v=>(function(d){return{field:Hs(d.field),direction:iO(d.dir)}})(v)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=$m(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:o}}function nO(n){let e=YC(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){st(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(m){const d=WT(m);return d instanceof lr&&TT(d)?d.getFilters():[d]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((d=>(function(S){return new ql($s(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(d)))})(t.orderBy));let c=null;t.limit&&(c=(function(m){let d;return d=typeof m=="object"?m.value:m,Tf(d)?null:d})(t.limit));let h=null;t.startAt&&(h=(function(m){const d=!!m.before,y=m.values||[];return new Jc(y,d)})(t.startAt));let g=null;return t.endAt&&(g=(function(m){const d=!m.before,y=m.values||[];return new Jc(y,d)})(t.endAt)),vC(e,o,l,a,c,"F",h,g)}function rO(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function WT(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$s(t.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=$s(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$s(t.unaryFilter.field);return Dt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=$s(t.unaryFilter.field);return Dt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Dt.create($s(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return lr.create(t.compositeFilter.filters.map((r=>WT(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(t.compositeFilter.op))})(n):Fe(30097,{filter:n})}function iO(n){return $C[n]}function oO(n){return WC[n]}function sO(n){return KC[n]}function Hs(n){return{fieldPath:n.canonicalString()}}function $s(n){return Xt.fromServerFormat(n.fieldPath)}function KT(n){return n instanceof Dt?(function(t){if(t.op==="=="){if(m1(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NAN"}};if(p1(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(m1(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NAN"}};if(p1(t.value))return{unaryFilter:{field:Hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hs(t.field),op:oO(t.op),value:t.value}}})(n):n instanceof lr?(function(t){const r=t.getFilters().map((o=>KT(o)));return r.length===1?r[0]:{compositeFilter:{op:sO(t.op),filters:r}}})(n):Fe(54877,{filter:n})}function aO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function GT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function QT(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Gi{constructor(e,t,r,o,a=ze.min(),l=ze.min(),c=Jt.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lO{constructor(e){this.yt=e}}function uO(n){const e=nO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Hm(e,e.limit,"L"):e}class cO{constructor(){this.Sn=new fO}addToCollectionParentIndex(e,t){return this.Sn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(to.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class fO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ut(ht.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ut(ht.comparator)).toArray()}}const P1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YT=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(YT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class sa{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new sa(0)}static ar(){return new sa(-1)}}const C1="LruGarbageCollector",hO=1048576;function O1([n,e],[t,r]){const o=Xe(n,t);return o===0?Xe(e,r):o}class dO{constructor(e){this.Pr=e,this.buffer=new Ut(O1),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();O1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Pe(C1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ga(t)?Pe(C1,"Ignoring IndexedDB error during garbage collection: ",t):await ma(t)}await this.Ar(3e5)}))}}class mO{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(wf.ce);const r=new dO(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(P1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P1):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,o,a,l,c,h,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),o=this.params.maximumSequenceNumbersToCollect):o=m,l=Date.now(),this.nthSequenceNumber(e,o)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,t)))).next((m=>(a=m,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(g=Date.now(),Bs()<=Ye.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${o} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${m} documents in `+(g-h)+`ms
Total Duration: ${g-v}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:m}))))}}function gO(n,e){return new mO(n,e)}class yO{constructor(){this.changes=new Qo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _O{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Ol(r.mutation,o,xn.empty(),gt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Je()){const o=Vo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let l=Tl();return a.forEach(((c,h)=>{l=l.insert(c,h.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=Vo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Je())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,o){let a=hi();const l=Cl(),c=(function(){return Cl()})();return t.forEach(((h,g)=>{const v=r.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof uo)?a=a.insert(g.key,g):v!==void 0?(l.set(g.key,v.mutation.getFieldMask()),Ol(v.mutation,g,v.mutation.getFieldMask(),gt.now())):l.set(g.key,xn.empty())})),this.recalculateAndSaveOverlays(e,a).next((h=>(h.forEach(((g,v)=>l.set(g,v))),t.forEach(((g,v)=>c.set(g,new vO(v,l.get(g)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Cl();let o=new At(((l,c)=>l-c)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((h=>{const g=t.get(h);if(g===null)return;let v=r.get(h)||xn.empty();v=c.applyToLocalView(g,v),r.set(h,v);const m=(o.get(c.batchId)||Je()).add(h);o=o.insert(c.batchId,m)}))})).next((()=>{const l=[],c=o.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),g=h.key,v=h.value,m=OT();v.forEach((d=>{if(!a.has(d)){const y=jT(t.get(d),r.get(d));y!==null&&m.set(d,y),a=a.add(d)}})),l.push(this.documentOverlayCache.saveOverlays(e,g,m))}return ye.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return _C(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ye.resolve(Vo());let c=jl,h=a;return l.next((g=>ye.forEach(g,((v,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),a.get(v)?ye.resolve():this.remoteDocumentCache.getEntry(e,v).next((d=>{h=h.insert(v,d)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,h,g,Je()))).next((v=>({batchId:c,changes:CT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next((r=>{let o=Tl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let l=Tl();return this.indexManager.getCollectionParents(e,a).next((c=>ye.forEach(c,(h=>{const g=(function(m,d){return new ya(d,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,r,o).next((v=>{v.forEach(((m,d)=>{l=l.insert(m,d)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((l=>{a.forEach(((h,g)=>{const v=g.getKey();l.get(v)===null&&(l=l.insert(v,ln.newInvalidDocument(v)))}));let c=Tl();return l.forEach(((h,g)=>{const v=a.get(h);v!==void 0&&Ol(v.mutation,g,xn.empty(),gt.now()),Sf(t,g)&&(c=c.insert(h,g))})),c}))}}class EO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ye.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:uO(o.bundledQuery),readTime:Nr(o.readTime)}})(t)),ye.resolve()}}class wO{constructor(){this.overlays=new At(Le.comparator),this.Lr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Vo();return ye.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.bt(e,t,a)})),ye.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const o=Vo(),a=t.length+1,l=new Le(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,g=h.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&h.largestBatchId>r&&o.set(h.getKey(),h)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new At(((g,v)=>g-v));const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let v=a.get(g.largestBatchId);v===null&&(v=Vo(),a=a.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const c=Vo(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((g,v)=>c.set(g,v))),!(c.size()>=o)););return ye.resolve(c)}bt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const l=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new UC(t,r));let a=this.Lr.get(t);a===void 0&&(a=Je(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class TO{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}class Ng{constructor(){this.kr=new Ut(Ht.Kr),this.qr=new Ut(Ht.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Ht(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Ht(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Le(new ht([])),r=new Ht(t,e),o=new Ht(t,e+1),a=[];return this.qr.forEachInRange([r,o],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Le(new ht([])),r=new Ht(t,e),o=new Ht(t,e+1);let a=Je();return this.qr.forEachInRange([r,o],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Ht(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Le.comparator(e.key,t.key)||Xe(e.Hr,t.Hr)}static Ur(e,t){return Xe(e.Hr,t.Hr)||Le.comparator(e.key,t.key)}}class AO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(Ht.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new VC(a,t,r,o);this.mutationQueue.push(l);for(const c of o)this.Jr=this.Jr.add(new Ht(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,t){return ye.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Tg:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,o],(l=>{const c=this.Zr(l.Hr);a.push(c)})),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ut(Xe);return t.forEach((o=>{const a=new Ht(o,0),l=new Ht(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(c=>{r=r.add(c.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Le.isDocumentKey(a)||(a=a.child(""));const l=new Ht(new Le(a),0);let c=new Ut(Xe);return this.Jr.forEachWhile((h=>{const g=h.key.path;return!!r.isPrefixOf(g)&&(g.length===o&&(c=c.add(h.Hr)),!0)}),l),ye.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){st(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(t.mutations,(o=>{const a=new Ht(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Ht(t,0),o=this.Jr.firstAfterOrEqual(r);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bO{constructor(e){this.ti=e,this.docs=(function(){return new At(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=hi();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():ln.newInvalidDocument(o))})),ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=hi();const l=t.path,c=new Le(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:g,value:{document:v}}=h.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||QP(GP(v),r)<=0||(o.has(v.key)||Sf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe(9500)}ni(e,t){return ye.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new SO(this)}getSize(e){return ye.resolve(this.size)}}class SO extends yO{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ye.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class IO{constructor(e){this.persistence=e,this.ri=new Qo((t=>Sg(t)),Ig),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new Ng,this.targetCount=0,this.oi=sa._r()}forEachTarget(e,t){return this.ri.forEach(((r,o)=>t(o))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ye.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new sa(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.lr(t),ye.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)})),ye.waitFor(a).next((()=>o))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((l=>{a.push(o.markPotentiallyOrphaned(e,l))})),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.si.containsKey(t))}}class XT{constructor(e,t){this._i={},this.overlays={},this.ai=new wf(0),this.ui=!1,this.ui=!0,this.ci=new TO,this.referenceDelegate=e(this),this.li=new IO(this),this.indexManager=new cO,this.remoteDocumentCache=(function(o){return new bO(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new lO(t),this.Pi=new EO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new AO(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new RO(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class RO extends XP{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Ng,this.Ai=null}static Vi(e){return new Lg(e)}get di(){if(this.Ai)return this.Ai;throw Fe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const o=Le.fromPath(r);return this.mi(e,o).next((a=>{a||t.removeEntry(o,ze.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class tf{constructor(e,t){this.persistence=e,this.fi=new Qo((r=>eC(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=gO(this,t)}static Vi(e,t){return new tf(e,t)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ye.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((a=>a?ye.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(l=>this.wr(e,l,t).next((c=>{c||(r++,a.removeEntry(l,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dc(e.data.value)),t}wr(e,t,r){return ye.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ye.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Dg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=o}static Es(e,t){let r=Je(),o=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Dg(e,t.fromCache,r,o)}}class kO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class PO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return yk()?8:JP(cn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.gs(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,t,o,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new kO;return this.ys(e,t,l).next((c=>{if(a.result=c,this.As)return this.ws(e,t,l,c.size)}))})).next((()=>a.result))}ws(e,t,r,o){return r.documentReadCount<this.Vs?(Bs()<=Ye.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",zs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(Bs()<=Ye.DEBUG&&Pe("QueryEngine","Query:",zs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Bs()<=Ye.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",zs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):ye.resolve())}gs(e,t){if(_1(t))return ye.resolve(null);let r=xr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Hm(t,null,"F"),r=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Je(...a);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((h=>{const g=this.bs(t,c);return this.Ss(t,g,l,h.readTime)?this.gs(e,Hm(t,null,"F")):this.Ds(e,g,t,h)}))))})))))}ps(e,t,r,o){return _1(t)||o.isEqual(ze.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ss(t,l,r,o)?ye.resolve(null):(Bs()<=Ye.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zs(t)),this.Ds(e,l,t,KP(o,jl)).next((c=>c)))}))}bs(e,t){let r=new Ut(kT(e));return t.forEach(((o,a)=>{Sf(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,t,r){return Bs()<=Ye.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",zs(t)),this.fs.getDocumentsMatchingQuery(e,t,to.min(),r)}Ds(e,t,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const Mg="LocalStore",CO=3e8;class OO{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new At(Xe),this.Fs=new Qo((a=>Sg(a)),Ig),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _O(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function xO(n,e,t,r){return new OO(n,e,t,r)}async function JT(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let h=Je();for(const g of o){l.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}for(const g of a){c.push(g.batchId);for(const v of g.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next((g=>({Ns:g,removedBatchIds:l,addedBatchIds:c})))}))}))}function NO(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,h,g,v){const m=g.batch,d=m.keys();let y=ye.resolve();return d.forEach((S=>{y=y.next((()=>v.getEntry(h,S))).next((E=>{const _=g.docVersions.get(S);st(_!==null,48541),E.version.compareTo(_)<0&&(m.applyToRemoteDocument(E,g),E.isValidDocument()&&(E.setReadTime(g.commitVersion),v.addEntry(E)))}))})),y.next((()=>c.mutationQueue.removeMutationBatch(h,m)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let h=Je();for(let g=0;g<c.mutationResults.length;++g)c.mutationResults[g].transformResults.length>0&&(h=h.add(c.batch.mutations[g].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function ZT(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function LO(n,e){const t=We(n),r=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const c=[];e.targetChanges.forEach(((v,m)=>{const d=o.get(m);if(!d)return;c.push(t.li.removeMatchingKeys(a,v.removedDocuments,m).next((()=>t.li.addMatchingKeys(a,v.addedDocuments,m))));let y=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Jt.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(v.resumeToken,r)),o=o.insert(m,y),(function(E,_,A){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=CO?!0:A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size>0})(d,y,v)&&c.push(t.li.updateTargetData(a,y))}));let h=hi(),g=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),c.push(DO(a,l,e.documentUpdates).next((v=>{h=v.Bs,g=v.Ls}))),!r.isEqual(ze.min())){const v=t.li.getLastRemoteSnapshotVersion(a).next((m=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(v)}return ye.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,h,g))).next((()=>h))})).then((a=>(t.vs=o,a)))}function DO(n,e,t){let r=Je(),o=Je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=hi();return t.forEach(((c,h)=>{const g=a.get(c);h.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(c)),h.isNoDocument()&&h.version.isEqual(ze.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!g.isValidDocument()||h.version.compareTo(g.version)>0||h.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):Pe(Mg,"Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",h.version)})),{Bs:l,Ls:o}}))}function MO(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Tg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function jO(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.li.getTargetData(r,e).next((a=>a?(o=a,ye.resolve(o)):t.li.allocateTargetId(r).next((l=>(o=new Gi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Qm(n,e,t){const r=We(n),o=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!ga(l))throw l;Pe(Mg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function x1(n,e,t){const r=We(n);let o=ze.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(h,g,v){const m=We(h),d=m.Fs.get(v);return d!==void 0?ye.resolve(m.vs.get(d)):m.li.getTargetData(g,v)})(r,l,xr(e)).next((c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((h=>{a=h}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?o:ze.min(),t?a:Je()))).next((c=>(VO(r,TC(e),c),{documents:c,ks:a})))))}function VO(n,e,t){let r=n.Ms.get(e)||ze.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class N1{constructor(){this.activeTargetIds=kC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UO{constructor(){this.vo=new N1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new N1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class FO{Mo(e){}shutdown(){}}const L1="ConnectivityMonitor";class D1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Pe(L1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Pe(L1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function Ym(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const xd="RestConnection",qO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===Yc?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const l=Ym(),c=this.Qo(e,t.toUriEncodedString());Pe(xd,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(h,o,a);const{host:g}=new URL(c),v=ao(g);return this.zo(e,c,h,r,v).then((m=>(Pe(xd,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw na(xd,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}jo(e,t,r,o,a,l){return this.Wo(e,t,r,o,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Qo(e,t){const r=qO[e];let o=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class zO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",pl=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Gs extends BO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Gs.c_){const e=iT();pl(e,rT.STAT_EVENT,(t=>{t.stat===jm.PROXY?Pe(sn,"STAT_EVENT: detected buffering proxy"):t.stat===jm.NOPROXY&&Pe(sn,"STAT_EVENT: detected no buffering proxy")})),Gs.c_=!0}}zo(e,t,r,o,a){const l=Ym();return new Promise(((c,h)=>{const g=new tT;g.setWithCredentials(!0),g.listenOnce(nT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Lc.NO_ERROR:const m=g.getResponseJson();Pe(sn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Lc.TIMEOUT:Pe(sn,`RPC '${e}' ${l} timed out`),h(new Re(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const d=g.getStatus();if(Pe(sn,`RPC '${e}' ${l} failed with status:`,d,"response text:",g.getResponseText()),d>0){let y=g.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y?.error;if(S&&S.status&&S.message){const E=(function(A){const w=A.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(w)>=0?w:ge.UNKNOWN})(S.status);h(new Re(E,S.message))}else h(new Re(ge.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Re(ge.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:l,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{Pe(sn,`RPC '${e}' ${l} completed.`)}}));const v=JSON.stringify(o);Pe(sn,`RPC '${e}' ${l} sending request:`,o),g.send(t,"POST",v,r,15)}))}T_(e,t,r){const o=Ym(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const g=a.join("");Pe(sn,`Creating RPC '${e}' stream ${o}: ${g}`,c);const v=l.createWebChannel(g,c);this.I_(v);let m=!1,d=!1;const y=new zO({Ho:S=>{d?Pe(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(m||(Pe(sn,`Opening RPC '${e}' stream ${o} transport.`),v.open(),m=!0),Pe(sn,`RPC '${e}' stream ${o} sending:`,S),v.send(S))},Jo:()=>v.close()});return pl(v,wl.EventType.OPEN,(()=>{d||(Pe(sn,`RPC '${e}' stream ${o} transport opened.`),y.i_())})),pl(v,wl.EventType.CLOSE,(()=>{d||(d=!0,Pe(sn,`RPC '${e}' stream ${o} transport closed`),y.o_(),this.E_(v))})),pl(v,wl.EventType.ERROR,(S=>{d||(d=!0,na(sn,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),y.o_(new Re(ge.UNAVAILABLE,"The operation could not be completed")))})),pl(v,wl.EventType.MESSAGE,(S=>{if(!d){const E=S.data[0];st(!!E,16349);const _=E,A=_?.error||_[0]?.error;if(A){Pe(sn,`RPC '${e}' stream ${o} received error:`,A);const w=A.status;let P=(function(U){const k=Lt[U];if(k!==void 0)return UT(k)})(w),b=A.message;P===void 0&&(P=ge.INTERNAL,b="Unknown error status: "+w+" with message "+A.message),d=!0,y.o_(new Re(P,b)),v.close()}else Pe(sn,`RPC '${e}' stream ${o} received:`,E),y.__(E)}})),Gs.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return oT()}}function HO(n){return new Gs(n)}function Nd(){return typeof document<"u"?document:null}function Pf(n){return new GC(n,!0)}Gs.c_=!1;class eA{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const M1="PersistentStream";class tA{constructor(e,t,r,o,a,l,c,h){this.Ci=e,this.b_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new eA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new Re(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(M1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Pe(M1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $O extends tA{constructor(e,t,r,o,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=XC(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Nr(l.readTime):ze.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Gm(this.serializer),t.addTarget=(function(a,l){let c;const h=l.target;if(c=Bm(h)?{documents:eO(a,h)}:{query:tO(a,h).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=BT(a,l.resumeToken);const g=$m(a,l.expectedCount);g!==null&&(c.expectedCount=g)}else if(l.snapshotVersion.compareTo(ze.min())>0){c.readTime=ef(a,l.snapshotVersion.toTimestamp());const g=$m(a,l.expectedCount);g!==null&&(c.expectedCount=g)}return c})(this.serializer,e);const r=rO(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Gm(this.serializer),t.removeTarget=e,this.K_(t)}}class WO extends tA{constructor(e,t,r,o,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=ZC(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Gm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>JC(this.serializer,r)))};this.K_(t)}}class KO{}class GO extends KO{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Wm(t,r),o,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Re(ge.UNKNOWN,a.toString())}))}jo(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,Wm(t,r),o,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(ge.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function QO(n,e,t,r){return new GO(n,e,t,r)}class YO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fi(t),this.aa=!1):Pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ho="RemoteStore";class XO{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{Yo(this)&&(Pe(Ho,"Restarting streams for network reachability change."),await(async function(h){const g=We(h);g.Ea.add(4),await eu(g),g.Va.set("Unknown"),g.Ea.delete(4),await Cf(g)})(this))}))})),this.Va=new YO(r,o)}}async function Cf(n){if(Yo(n))for(const e of n.Ra)await e(!0)}async function eu(n){for(const e of n.Ra)await e(!1)}function nA(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Fg(t)?Ug(t):va(t).O_()&&Vg(t,e))}function jg(n,e){const t=We(n),r=va(t);t.Ia.delete(e),r.O_()&&rA(t,e),t.Ia.size===0&&(r.O_()?r.L_():Yo(t)&&t.Va.set("Unknown"))}function Vg(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}va(n).Z_(e)}function rA(n,e){n.da.$e(e),va(n).X_(e)}function Ug(n){n.da=new HC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),va(n).start(),n.Va.ua()}function Fg(n){return Yo(n)&&!va(n).x_()&&n.Ia.size>0}function Yo(n){return We(n).Ea.size===0}function iA(n){n.da=void 0}async function JO(n){n.Va.set("Online")}async function ZO(n){n.Ia.forEach(((e,t)=>{Vg(n,e)}))}async function e2(n,e){iA(n),Fg(n)?(n.Va.ha(e),Ug(n)):n.Va.set("Unknown")}async function t2(n,e,t){if(n.Va.set("Online"),e instanceof qT&&e.state===2&&e.cause)try{await(async function(o,a){const l=a.cause;for(const c of a.targetIds)o.Ia.has(c)&&(await o.remoteSyncer.rejectListen(c,l),o.Ia.delete(c),o.da.removeTarget(c))})(n,e)}catch(r){Pe(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nf(n,r)}else if(e instanceof Vc?n.da.Xe(e):e instanceof FT?n.da.st(e):n.da.tt(e),!t.isEqual(ze.min()))try{const r=await ZT(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.da.Tt(l);return c.targetChanges.forEach(((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=a.Ia.get(g);v&&a.Ia.set(g,v.withResumeToken(h.resumeToken,l))}})),c.targetMismatches.forEach(((h,g)=>{const v=a.Ia.get(h);if(!v)return;a.Ia.set(h,v.withResumeToken(Jt.EMPTY_BYTE_STRING,v.snapshotVersion)),rA(a,h);const m=new Gi(v.target,h,g,v.sequenceNumber);Vg(a,m)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Pe(Ho,"Failed to raise snapshot:",r),await nf(n,r)}}async function nf(n,e,t){if(!ga(e))throw e;n.Ea.add(1),await eu(n),n.Va.set("Offline"),t||(t=()=>ZT(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Pe(Ho,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Cf(n)}))}function oA(n,e){return e().catch((t=>nf(n,t,e)))}async function Of(n){const e=We(n),t=oo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Tg;for(;n2(e);)try{const o=await MO(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,r2(e,o)}catch(o){await nf(e,o)}sA(e)&&aA(e)}function n2(n){return Yo(n)&&n.Ta.length<10}function r2(n,e){n.Ta.push(e);const t=oo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function sA(n){return Yo(n)&&!oo(n).x_()&&n.Ta.length>0}function aA(n){oo(n).start()}async function i2(n){oo(n).ra()}async function o2(n){const e=oo(n);for(const t of n.Ta)e.ea(t.mutations)}async function s2(n,e,t){const r=n.Ta.shift(),o=Cg.from(r,e,t);await oA(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Of(n)}async function a2(n,e){e&&oo(n).Y_&&await(async function(r,o){if((function(l){return qC(l)&&l!==ge.ABORTED})(o.code)){const a=r.Ta.shift();oo(r).B_(),await oA(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Of(r)}})(n,e),sA(n)&&aA(n)}async function j1(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Pe(Ho,"RemoteStore received new credentials");const r=Yo(t);t.Ea.add(3),await eu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Cf(t)}async function l2(n,e){const t=We(n);e?(t.Ea.delete(2),await Cf(t)):e||(t.Ea.add(2),await eu(t),t.Va.set("Unknown"))}function va(n){return n.ma||(n.ma=(function(t,r,o){const a=We(t);return a.sa(),new $O(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:JO.bind(null,n),Yo:ZO.bind(null,n),t_:e2.bind(null,n),J_:t2.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Fg(n)?Ug(n):n.Va.set("Unknown")):(await n.ma.stop(),iA(n))}))),n.ma}function oo(n){return n.fa||(n.fa=(function(t,r,o){const a=We(t);return a.sa(),new WO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:i2.bind(null,n),t_:a2.bind(null,n),ta:o2.bind(null,n),na:s2.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Of(n)):(await n.fa.stop(),n.Ta.length>0&&(Pe(Ho,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class qg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const l=Date.now()+r,c=new qg(e,t,l,o,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bg(n,e){if(fi("AsyncQueue",`${e}: ${n}`),ga(n))return new Re(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Qs{static emptySet(e){return new Qs(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Tl(),this.sortedSet=new At(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class V1{constructor(){this.ga=new At(Le.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Fe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class aa{constructor(e,t,r,o,a,l,c,h,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,o,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new aa(e,t,Qs.emptySet(t),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class u2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class c2{constructor(){this.queries=U1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=We(t),a=o.queries;o.queries=U1(),a.forEach(((l,c)=>{for(const h of c.ba)h.onError(r)}))})(this,new Re(ge.ABORTED,"Firestore shutting down"))}}function U1(){return new Qo((n=>RT(n)),bf)}async function lA(n,e){const t=We(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.Da()&&(r=2):(a=new u2,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(l){const c=Bg(l,`Initialization of query '${zs(e.query)}' failed`);return void e.onError(c)}t.queries.set(o,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&zg(t)}async function uA(n,e){const t=We(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function f2(n,e){const t=We(n);let r=!1;for(const o of e){const a=o.query,l=t.queries.get(a);if(l){for(const c of l.ba)c.Fa(o)&&(r=!0);l.wa=o}}r&&zg(t)}function h2(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const a of o.ba)a.onError(t);r.queries.delete(e)}function zg(n){n.Ca.forEach((e=>{e.next()}))}var Xm,F1;(F1=Xm||(Xm={})).Ma="default",F1.Cache="cache";class cA{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new aa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=aa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}class fA{constructor(e){this.key=e}}class hA{constructor(e){this.key=e}}class d2{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=kT(e),this.tu=new Qs(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new V1,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=o,c=!1;const h=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,m)=>{const d=o.get(v),y=Sf(this.query,m)?m:null,S=!!d&&this.mutatedKeys.has(d.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;d&&y?d.data.isEqual(y.data)?S!==E&&(r.track({type:3,doc:y}),_=!0):this.su(d,y)||(r.track({type:2,doc:y}),_=!0,(h&&this.eu(y,h)>0||g&&this.eu(y,g)<0)&&(c=!0)):!d&&y?(r.track({type:0,doc:y}),_=!0):d&&!y&&(r.track({type:1,doc:d}),_=!0,(h||g)&&(c=!0)),_&&(y?(l=l.add(y),a=E?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:l,iu:r,Ss:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((v,m)=>(function(y,S){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:_})}};return E(y)-E(S)})(v.type,m.type)||this.eu(v.doc,m.doc))),this.ou(r),o=o??!1;const c=t&&!o?this._u():[],h=this.Ya.size===0&&this.current&&!o?1:0,g=h!==this.Xa;return this.Xa=h,l.length!==0||g?{snapshot:new aa(this.query,e.tu,a,l,e.mutatedKeys,h===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new hA(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new fA(r))})),t}cu(e){this.Za=e.ks,this.Ya=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return aa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Hg="SyncEngine";class p2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class m2{constructor(e){this.key=e,this.hu=!1}}class g2{constructor(e,t,r,o,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Qo((c=>RT(c)),bf),this.Iu=new Map,this.Eu=new Set,this.Ru=new At(Le.comparator),this.Au=new Map,this.Vu=new Ng,this.du={},this.mu=new Map,this.fu=sa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function y2(n,e,t=!0){const r=vA(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await dA(r,e,t,!0),o}async function v2(n,e){const t=vA(n);await dA(t,e,!0,!1)}async function dA(n,e,t,r){const o=await jO(n.localStore,xr(e)),a=o.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await _2(n,e,a,l==="current",o.resumeToken)),n.isPrimaryClient&&t&&nA(n.remoteStore,o),c}async function _2(n,e,t,r,o){n.pu=(m,d,y)=>(async function(E,_,A,w){let P=_.view.ru(A);P.Ss&&(P=await x1(E.localStore,_.query,!1).then((({documents:k})=>_.view.ru(k,P))));const b=w&&w.targetChanges.get(_.targetId),D=w&&w.targetMismatches.get(_.targetId)!=null,U=_.view.applyChanges(P,E.isPrimaryClient,b,D);return B1(E,_.targetId,U.au),U.snapshot})(n,m,d,y);const a=await x1(n.localStore,e,!0),l=new d2(e,a.ks),c=l.ru(a.documents),h=Zl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),g=l.applyChanges(c,n.isPrimaryClient,h);B1(n,t,g.au);const v=new p2(e,t,l);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function E2(n,e,t){const r=We(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((l=>!bf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&jg(r.remoteStore,o.targetId),Jm(r,o.targetId)})).catch(ma)):(Jm(r,o.targetId),await Qm(r.localStore,o.targetId,!0))}async function w2(n,e){const t=We(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),jg(t.remoteStore,r.targetId))}async function T2(n,e,t){const r=P2(n);try{const o=await(function(l,c){const h=We(l),g=gt.now(),v=c.reduce(((y,S)=>y.add(S.key)),Je());let m,d;return h.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let S=hi(),E=Je();return h.xs.getEntries(y,v).next((_=>{S=_,S.forEach(((A,w)=>{w.isValidDocument()||(E=E.add(A))}))})).next((()=>h.localDocuments.getOverlayedDocuments(y,S))).next((_=>{m=_;const A=[];for(const w of c){const P=MC(w,m.get(w.key).overlayedDocument);P!=null&&A.push(new uo(w.key,P,_T(P.value.mapValue),$n.exists(!0)))}return h.mutationQueue.addMutationBatch(y,g,A,c)})).next((_=>{d=_;const A=_.applyToLocalDocumentSet(m,E);return h.documentOverlayCache.saveOverlays(y,_.batchId,A)}))})).then((()=>({batchId:d.batchId,changes:CT(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(l,c,h){let g=l.du[l.currentUser.toKey()];g||(g=new At(Xe)),g=g.insert(c,h),l.du[l.currentUser.toKey()]=g})(r,o.batchId,t),await tu(r,o.changes),await Of(r.remoteStore)}catch(o){const a=Bg(o,"Failed to persist write");t.reject(a)}}async function pA(n,e){const t=We(n);try{const r=await LO(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const l=t.Au.get(a);l&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.hu=!0:o.modifiedDocuments.size>0?st(l.hu,14607):o.removedDocuments.size>0&&(st(l.hu,42227),l.hu=!1))})),await tu(t,r,e)}catch(r){await ma(r)}}function q1(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&o.push(c.snapshot)})),(function(l,c){const h=We(l);h.onlineState=c;let g=!1;h.queries.forEach(((v,m)=>{for(const d of m.ba)d.va(c)&&(g=!0)})),g&&zg(h)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A2(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let l=new At(Le.comparator);l=l.insert(a,ln.newNoDocument(a,ze.min()));const c=Je().add(a),h=new kf(ze.min(),new Map,new At(Xe),l,c);await pA(r,h),r.Ru=r.Ru.remove(a),r.Au.delete(e),$g(r)}else await Qm(r.localStore,e,!1).then((()=>Jm(r,e,t))).catch(ma)}async function b2(n,e){const t=We(n),r=e.batch.batchId;try{const o=await NO(t.localStore,e);gA(t,r,null),mA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await tu(t,o)}catch(o){await ma(o)}}async function S2(n,e,t){const r=We(n);try{const o=await(function(l,c){const h=We(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return h.mutationQueue.lookupMutationBatch(g,c).next((m=>(st(m!==null,37113),v=m.keys(),h.mutationQueue.removeMutationBatch(g,m)))).next((()=>h.mutationQueue.performConsistencyCheck(g))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,c))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>h.localDocuments.getDocuments(g,v)))}))})(r.localStore,e);gA(r,e,t),mA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await tu(r,o)}catch(o){await ma(o)}}function mA(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function gA(n,e,t){const r=We(n);let o=r.du[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Jm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||yA(n,r)}))}function yA(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(jg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),$g(n))}function B1(n,e,t){for(const r of t)r instanceof fA?(n.Vu.addReference(r.key,e),I2(n,r)):r instanceof hA?(Pe(Hg,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||yA(n,r.key)):Fe(19791,{wu:r})}function I2(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Pe(Hg,"New document in limbo: "+t),n.Eu.add(r),$g(n))}function $g(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Le(ht.fromString(e)),r=n.fu.next();n.Au.set(r,new m2(t)),n.Ru=n.Ru.insert(t,r),nA(n.remoteStore,new Gi(xr(Rg(t.path)),r,"TargetPurposeLimboResolution",wf.ce))}}async function tu(n,e,t){const r=We(n),o=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,h)=>{l.push(r.pu(h,e,t).then((g=>{if((g||t)&&r.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,v?"current":"not-current")}if(g){o.push(g);const v=Dg.Es(h.targetId,g);a.push(v)}})))})),await Promise.all(l),r.Pu.J_(o),await(async function(h,g){const v=We(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ye.forEach(g,(d=>ye.forEach(d.Ts,(y=>v.persistence.referenceDelegate.addReference(m,d.targetId,y))).next((()=>ye.forEach(d.Is,(y=>v.persistence.referenceDelegate.removeReference(m,d.targetId,y)))))))))}catch(m){if(!ga(m))throw m;Pe(Mg,"Failed to update sequence numbers: "+m)}for(const m of g){const d=m.targetId;if(!m.fromCache){const y=v.vs.get(d),S=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(S);v.vs=v.vs.insert(d,E)}}})(r.localStore,a))}async function R2(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Pe(Hg,"User change. New user:",e.toKey());const r=await JT(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((h=>{h.reject(new Re(ge.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(t,r.Ns)}}function k2(n,e){const t=We(n),r=t.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let o=Je();const a=t.Iu.get(e);if(!a)return o;for(const l of a){const c=t.Tu.get(l);o=o.unionWith(c.view.nu)}return o}}function vA(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=pA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A2.bind(null,e),e.Pu.J_=f2.bind(null,e.eventManager),e.Pu.yu=h2.bind(null,e.eventManager),e}function P2(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S2.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xO(this.persistence,new PO,e.initialUser,this.serializer)}Cu(e){return new XT(Lg.Vi,this.serializer)}Du(e){return new UO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class C2 extends rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof tf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new XT((r=>tf.Vi(r,t)),this.serializer)}}class Zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>q1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R2.bind(null,this.syncEngine),await l2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new c2})()}createDatastore(e){const t=Pf(e.databaseInfo.databaseId),r=HO(e.databaseInfo);return QO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,l,c){return new XO(r,o,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>q1(this.syncEngine,t,0)),(function(){return D1.v()?new D1:new FO})())}createSyncEngine(e,t){return(function(o,a,l,c,h,g,v){const m=new g2(o,a,l,c,h,g);return v&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=We(t);Pe(Ho,"RemoteStore shutting down."),r.Ea.add(5),await eu(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Zm.provider={build:()=>new Zm};class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const so="FirestoreClient";class O2{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=wg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Pe(so,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Pe(so,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Bg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Ld(n,e){n.asyncQueue.verifyOperationInProgress(),Pe(so,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await JT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function z1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await x2(n);Pe(so,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>j1(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>j1(e.remoteStore,o))),n._onlineComponents=e}async function x2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe(so,"Using user provided OfflineComponentProvider");try{await Ld(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ge.FAILED_PRECONDITION||o.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;na("Error using user provided cache. Falling back to memory cache: "+t),await Ld(n,new rf)}}else Pe(so,"Using default OfflineComponentProvider"),await Ld(n,new C2(void 0));return n._offlineComponents}async function EA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe(so,"Using user provided OnlineComponentProvider"),await z1(n,n._uninitializedComponentsProvider._online)):(Pe(so,"Using default OnlineComponentProvider"),await z1(n,new Zm))),n._onlineComponents}function N2(n){return EA(n).then((e=>e.syncEngine))}async function wA(n){const e=await EA(n),t=e.eventManager;return t.onListen=y2.bind(null,e.syncEngine),t.onUnlisten=E2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=v2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=w2.bind(null,e.syncEngine),t}function L2(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,g){const v=new _A({next:d=>{v.Nu(),l.enqueueAndForget((()=>uA(a,m)));const y=d.docs.has(c);!y&&d.fromCache?g.reject(new Re(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&d.fromCache&&h&&h.source==="server"?g.reject(new Re(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(d)},error:d=>g.reject(d)}),m=new cA(Rg(c.path),v,{includeMetadataChanges:!0,Ka:!0});return lA(a,m)})(await wA(n),n.asyncQueue,e,t,r))),r.promise}function D2(n,e,t={}){const r=new ai;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,h,g){const v=new _A({next:d=>{v.Nu(),l.enqueueAndForget((()=>uA(a,m))),d.fromCache&&h.source==="server"?g.reject(new Re(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(d)},error:d=>g.reject(d)}),m=new cA(c,v,{includeMetadataChanges:!0,Ka:!0});return lA(a,m)})(await wA(n),n.asyncQueue,e,t,r))),r.promise}function M2(n,e){const t=new ai;return n.asyncQueue.enqueueAndForget((async()=>T2(await N2(n),e,t))),t.promise}function TA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const j2="ComponentProvider",H1=new Map;function V2(n,e,t,r,o){return new rC(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,TA(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const AA="firestore.googleapis.com",$1=!0;class W1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AA,this.ssl=$1}else this.host=e.host,this.ssl=e.ssl??$1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hO)throw new Re(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}WP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new MP;switch(r.type){case"firstParty":return new FP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=H1.get(t);r&&(Pe(j2,"Removing Datastore"),H1.delete(t),r.terminate())})(this),Promise.resolve()}}function U2(n,e,t,r={}){n=ar(n,xf);const o=ao(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;o&&(mg(`https://${c}`),gg("Firestore",!0)),a.host!==AA&&a.host!==c&&na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...a,host:c,ssl:o,emulatorOptions:r};if(!qo(h,l)&&(n._setSettings(h),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=an.MOCK_USER;else{g=Gw(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Re(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new an(m)}n._authCredentials=new jP(new aT(g,v))}}class Xo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xo(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Xl(t,Ot._jsonSchema))return new Ot(e,r||null,new Le(ht.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Mt("string",Ot._jsonSchemaVersion),referencePath:Mt("string")};class Ji extends Xo{constructor(e,t,r){super(e,t,Rg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Le(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function eg(n,e,...t){if(n=Tt(n),lT("collection","path",e),n instanceof xf){const r=ht.fromString(e,...t);return o1(r),new Ji(n,null,r)}{if(!(n instanceof Ot||n instanceof Ji))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return o1(r),new Ji(n.firestore,null,r)}}function xl(n,e,...t){if(n=Tt(n),arguments.length===1&&(e=wg.newId()),lT("doc","path",e),n instanceof xf){const r=ht.fromString(e,...t);return i1(r),new Ot(n,null,new Le(r))}{if(!(n instanceof Ot||n instanceof Ji))throw new Re(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ht.fromString(e,...t));return i1(r),new Ot(n.firestore,n instanceof Ji?n.converter:null,new Le(r))}}const K1="AsyncQueue";class G1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new eA(this,"async_queue_retry"),this._c=()=>{const r=Nd();r&&Pe(K1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Nd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Nd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ai;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ga(e))throw e;Pe(K1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fi("INTERNAL UNHANDLED ERROR: ",Q1(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=qg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Fe(47125,{Pc:Q1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Q1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Jo extends xf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new G1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G1(e),this._firestoreClient=void 0,await e}}}function F2(n,e){const t=typeof n=="object"?n:_g(),r=typeof n=="string"?n:Yc,o=_f(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=$w("firestore");a&&U2(o,...a)}return o}function Wg(n){if(n._terminated)throw new Re(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||q2(n),n._firestoreClient}function q2(n){const e=n._freezeSettings(),t=V2(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new O2(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(t){throw new Re(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xl(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Mt("string",Hn._jsonSchemaVersion),bytes:Mt("string")};class Kg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Nf{constructor(e){this._methodName=e}}class Lr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Lr._jsonSchemaVersion}}static fromJSON(e){if(Xl(e,Lr._jsonSchema))return new Lr(e.latitude,e.longitude)}}Lr._jsonSchemaVersion="firestore/geoPoint/1.0",Lr._jsonSchema={type:Mt("string",Lr._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class or{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xl(e,or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new or(e.vectorValues);throw new Re(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}or._jsonSchemaVersion="firestore/vectorValue/1.0",or._jsonSchema={type:Mt("string",or._jsonSchemaVersion),vectorValues:Mt("object")};const B2=/^__.*__$/;class z2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Jl(e,this.data,t,this.fieldTransforms)}}class bA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new uo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function SA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{dataSource:n})}}class Gg{constructor(e,t,r,o,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Gg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return of(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(SA(this.dataSource)&&B2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class H2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Pf(e)}createContext(e,t,r,o=!1){return new Gg({dataSource:e,methodName:t,targetDoc:r,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lf(n){const e=n._freezeSettings(),t=Pf(n._databaseId);return new H2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function IA(n,e,t,r,o,a={}){const l=n.createContext(a.merge||a.mergeFields?2:0,e,t,o);Yg("Data must be an object, but it was:",l,r);const c=RA(r,l);let h,g;if(a.merge)h=new xn(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const v=[];for(const m of a.mergeFields){const d=la(e,m,t);if(!l.contains(d))throw new Re(ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);CA(v,d)||v.push(d)}h=new xn(v),g=l.fieldTransforms.filter((m=>h.covers(m.field)))}else h=null,g=l.fieldTransforms;return new z2(new Tn(c),h,g)}class Df extends Nf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Df}}class Qg extends Nf{_toFieldTransform(e){return new xC(e.path,new Bl)}isEqual(e){return e instanceof Qg}}function $2(n,e,t,r){const o=n.createContext(1,e,t);Yg("Data must be an object, but it was:",o,r);const a=[],l=Tn.empty();lo(r,((h,g)=>{const v=PA(e,h,t);g=Tt(g);const m=o.childContextForFieldPath(v);if(g instanceof Df)a.push(v);else{const d=nu(g,m);d!=null&&(a.push(v),l.set(v,d))}}));const c=new xn(a);return new bA(l,c,o.fieldTransforms)}function W2(n,e,t,r,o,a){const l=n.createContext(1,e,t),c=[la(e,r,t)],h=[o];if(a.length%2!=0)throw new Re(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)c.push(la(e,a[d])),h.push(a[d+1]);const g=[],v=Tn.empty();for(let d=c.length-1;d>=0;--d)if(!CA(g,c[d])){const y=c[d];let S=h[d];S=Tt(S);const E=l.childContextForFieldPath(y);if(S instanceof Df)g.push(y);else{const _=nu(S,E);_!=null&&(g.push(y),v.set(y,_))}}const m=new xn(g);return new bA(v,m,l.fieldTransforms)}function K2(n,e,t,r=!1){return nu(t,n.createContext(r?4:3,e))}function nu(n,e){if(kA(n=Tt(n)))return Yg("Unsupported field value:",e,n),RA(n,e);if(n instanceof Nf)return(function(r,o){if(!SA(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const a=[];let l=0;for(const c of r){let h=nu(c,o.childContextForArray(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=Tt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PC(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gt.fromDate(r);return{timestampValue:ef(o.serializer,a)}}if(r instanceof gt){const a=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ef(o.serializer,a)}}if(r instanceof Lr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:BT(o.serializer,r._byteString)};if(r instanceof Ot){const a=o.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw o.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:xg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof or)return(function(l,c){const h=l instanceof or?l.toArray():l;return{mapValue:{fields:{[yT]:{stringValue:vT},[Xc]:{arrayValue:{values:h.map((v=>{if(typeof v!="number")throw c.createError("VectorValues must only contain numeric values.");return kg(c.serializer,v)}))}}}}}})(r,o);if(QT(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Ef(r)}`)})(n,e)}function RA(n,e){const t={};return fT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(n,((r,o)=>{const a=nu(o,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function kA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof Lr||n instanceof Hn||n instanceof Ot||n instanceof Nf||n instanceof or||QT(n))}function Yg(n,e,t){if(!kA(t)||!uT(t)){const r=Ef(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function la(n,e,t){if((e=Tt(e))instanceof Kg)return e._internalPath;if(typeof e=="string")return PA(n,e);throw of("Field path arguments must be of type string or ",n,!1,void 0,t)}const G2=new RegExp("[~\\*/\\[\\]]");function PA(n,e,t){if(e.search(G2)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Kg(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function of(n,e,t,r,o){const a=r&&!r.isEmpty(),l=o!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${o}`),h+=")"),new Re(ge.INVALID_ARGUMENT,c+n+h)}function CA(n,e){return n.some((t=>t.isEqual(e)))}class Q2{convertValue(e,t="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return lo(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[Xc].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new or(t)}convertGeoPoint(e){return new Lr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Af(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const t=no(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ht.fromString(e);st(GT(r),9688,{name:e});const o=new Ul(r.get(1),r.get(3)),a=new Le(r.popFirst(5));return o.isEqual(t)||fi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class OA extends Q2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function Y2(){return new Qg("serverTimestamp")}const Y1="@firebase/firestore",X1="4.10.0";class xA{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(la("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class X2 extends xA{data(){return super.data()}}function J2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xg{}class NA extends Xg{}function Z2(n,e,...t){let r=[];e instanceof Xg&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((h=>h instanceof Zg)).length,c=a.filter((h=>h instanceof Jg)).length;if(l>1||l>0&&c>0)throw new Re(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class Jg extends NA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Jg(e,t,r)}_apply(e){const t=this._parse(e);return LA(e._query,t),new Xo(e.firestore,e.converter,zm(e._query,t))}_parse(e){const t=Lf(e.firestore);return(function(a,l,c,h,g,v,m){let d;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Z1(m,v);const S=[];for(const E of m)S.push(J1(h,a,E));d={arrayValue:{values:S}}}else d=J1(h,a,m)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Z1(m,v),d=K2(c,l,m,v==="in"||v==="not-in");return Dt.create(g,v,d)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Zg extends Xg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Zg(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let l=o;const c=a.getFlattenedFilters();for(const h of c)LA(l,h),l=zm(l,h)})(e._query,t),new Xo(e.firestore,e.converter,zm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends NA{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ey(e,t)}_apply(e){const t=(function(o,a,l){if(o.startAt!==null)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Re(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ql(a,l)})(e._query,this._field,this._direction);return new Xo(e.firestore,e.converter,wC(e._query,t))}}function ex(n,e="asc"){const t=e,r=la("orderBy",n);return ey._create(r,t)}function J1(n,e,t){if(typeof(t=Tt(t))=="string"){if(t==="")throw new Re(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IT(e)&&t.indexOf("/")!==-1)throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ht.fromString(t));if(!Le.isDocumentKey(r))throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return d1(n,new Le(r))}if(t instanceof Ot)return d1(n,t._key);throw new Re(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ef(t)}.`)}function Z1(n,e){if(!Array.isArray(n)||n.length===0)throw new Re(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LA(n,e){const t=(function(o,a){for(const l of o)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Re(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function DA(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class bl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uo extends xA{constructor(e,t,r,o,a,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(la("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Uo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Uo._jsonSchema={type:Mt("string",Uo._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Uc extends Uo{data(e={}){return super.data(e)}}class Ys{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Uc(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map((c=>{const h=new Uc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new bl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const h=new Uc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new bl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return c.type!==0&&(g=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),v=l.indexOf(c.doc.key)),{type:tx(c.type),doc:h,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ys._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function tx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}Ys._jsonSchemaVersion="firestore/querySnapshot/1.0",Ys._jsonSchema={type:Mt("string",Ys._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function nx(n){n=ar(n,Ot);const e=ar(n.firestore,Jo),t=Wg(e);return L2(t,n._key).then((r=>ax(e,n,r)))}function MA(n){n=ar(n,Xo);const e=ar(n.firestore,Jo),t=Wg(e),r=new OA(e);return J2(n._query),D2(t,n._query).then((o=>new Ys(e,r,n,o)))}function rx(n,e,t){n=ar(n,Ot);const r=ar(n.firestore,Jo),o=DA(n.converter,e,t),a=Lf(r);return Mf(r,[IA(a,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,$n.none())])}function ix(n,e,t,...r){n=ar(n,Ot);const o=ar(n.firestore,Jo),a=Lf(o);let l;return l=typeof(e=Tt(e))=="string"||e instanceof Kg?W2(a,"updateDoc",n._key,e,t,r):$2(a,"updateDoc",n._key,e),Mf(o,[l.toMutation(n._key,$n.exists(!0))])}function ox(n){return Mf(ar(n.firestore,Jo),[new Pg(n._key,$n.none())])}function sx(n,e){const t=ar(n.firestore,Jo),r=xl(n),o=DA(n.converter,e),a=Lf(n.firestore);return Mf(t,[IA(a,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,$n.exists(!1))]).then((()=>r))}function Mf(n,e){const t=Wg(n);return M2(t,e)}function ax(n,e,t){const r=t.docs.get(e._key),o=new OA(n);return new Uo(n,o,e._key,r,new bl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){DP(Go),Bo(new eo("firestore",((r,{instanceIdentifier:o,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Jo(new VP(r.getProvider("auth-internal")),new qP(l,r.getProvider("app-check-internal")),iC(l,o),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Or(Y1,X1,e),Or(Y1,X1,"esm2020")})();var lx="firebase",ux="12.8.0";Or(lx,ux,"app");function jA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cx=jA,VA=new Ql("auth","Firebase",jA());const sf=new yg("@firebase/auth");function fx(n,...e){sf.logLevel<=Ye.WARN&&sf.warn(`Auth (${Go}): ${n}`,...e)}function Fc(n,...e){sf.logLevel<=Ye.ERROR&&sf.error(`Auth (${Go}): ${n}`,...e)}function ur(n,...e){throw ty(n,...e)}function Dr(n,...e){return ty(n,...e)}function UA(n,e,t){const r={...cx(),[e]:t};return new Ql("auth","Firebase",r).create(e,{appName:n.name})}function Zi(n){return UA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ty(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VA.create(n,...e)}function Ue(n,e,...t){if(!n)throw ty(e,...t)}function ii(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function di(n,e){n||ii(e)}function tg(){return typeof self<"u"&&self.location?.href||""}function hx(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function dx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hx()||pk()||"connection"in navigator)?navigator.onLine:!0}function px(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,di(t>e,"Short delay should be less than long delay!"),this.isMobile=fk()||mk()}get(){return dx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ny(n,e){di(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class FA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yx=new ru(3e4,6e4);function Zo(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function pi(n,e,t,r,o={}){return qA(n,o,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Yl({key:n.config.apiKey,...l}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:h,...a};return dk()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ao(n.emulatorConfig.host)&&(g.credentials="include"),FA.fetch()(await BA(n,n.config.apiHost,t,c),g)})}async function qA(n,e,t){n._canInitEmulator=!1;const r={...mx,...e};try{const o=new _x(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw kc(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,g]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw kc(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw kc(n,"user-disabled",l);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw UA(n,v,g);ur(n,v)}}catch(o){if(o instanceof Vr)throw o;ur(n,"network-request-failed",{message:String(o)})}}async function jf(n,e,t,r,o={}){const a=await pi(n,e,t,r,o);return"mfaPendingCredential"in a&&ur(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function BA(n,e,t,r){const o=`${e}${t}?${r}`,a=n,l=a.config.emulator?ny(n.config,o):`${n.config.apiScheme}://${o}`;return gx.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function vx(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _x{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),yx.get())})}}function kc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Dr(n,e,r);return o.customData._tokenResponse=t,o}function t0(n){return n!==void 0&&n.enterprise!==void 0}class Ex{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wx(n,e){return pi(n,"GET","/v2/recaptchaConfig",Zo(n,e))}async function Tx(n,e){return pi(n,"POST","/v1/accounts:delete",e)}async function af(n,e){return pi(n,"POST","/v1/accounts:lookup",e)}function Nl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ax(n,e=!1){const t=Tt(n),r=await t.getIdToken(e),o=ry(r);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,l=a?.sign_in_provider;return{claims:o,token:r,authTime:Nl(Dd(o.auth_time)),issuedAtTime:Nl(Dd(o.iat)),expirationTime:Nl(Dd(o.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Dd(n){return Number(n)*1e3}function ry(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const o=zw(t);return o?JSON.parse(o):(Fc("Failed to decode base64 JWT payload"),null)}catch(o){return Fc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(n){const e=ry(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ua(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Vr&&bx(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bx({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Sx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ng{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lf(n){const e=n.auth,t=await n.getIdToken(),r=await ua(n,af(e,{idToken:t}));Ue(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?zA(o.providerUserInfo):[],l=Rx(n.providerData,a),c=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!l?.length,g=c?h:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function Ix(n){const e=Tt(n);await lf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rx(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function zA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function kx(n,e){const t=await qA(n,{},async()=>{const r=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,l=await BA(n,o,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:c,body:r};return n.emulatorConfig&&ao(n.emulatorConfig.host)&&(h.credentials="include"),FA.fetch()(l,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Px(n,e){return pi(n,"POST","/v2/accounts:revokeToken",Zo(n,e))}class Xs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=n0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await kx(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,l=new Xs;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),o&&(Ue(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xs,this.toJSON())}_performRefresh(){return ii("not implemented")}}function Bi(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class rr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new Sx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ng(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ua(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Ax(this,e)}reload(){return Ix(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new rr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(Zi(this.auth));const e=await this.getIdToken();return await ua(this,Tx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,h=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:m,emailVerified:d,isAnonymous:y,providerData:S,stsTokenManager:E}=t;Ue(m&&E,e,"internal-error");const _=Xs.fromJSON(this.name,E);Ue(typeof m=="string",e,"internal-error"),Bi(r,e.name),Bi(o,e.name),Ue(typeof d=="boolean",e,"internal-error"),Ue(typeof y=="boolean",e,"internal-error"),Bi(a,e.name),Bi(l,e.name),Bi(c,e.name),Bi(h,e.name),Bi(g,e.name),Bi(v,e.name);const A=new rr({uid:m,auth:e,email:o,emailVerified:d,displayName:r,isAnonymous:y,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:_,createdAt:g,lastLoginAt:v});return S&&Array.isArray(S)&&(A.providerData=S.map(w=>({...w}))),h&&(A._redirectEventId=h),A}static async _fromIdTokenResponse(e,t,r=!1){const o=new Xs;o.updateFromServerResponse(t);const a=new rr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await lf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?zA(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!a?.length,c=new Xs;c.updateFromIdToken(r);const h=new rr({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:l}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ng(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(h,g),h}}const r0=new Map;function oi(n){di(n instanceof Function,"Expected a class definition");let e=r0.get(n);return e?(di(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,r0.set(n,e),e)}class HA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}HA.type="NONE";const i0=HA;function qc(n,e,t){return`firebase:${n}:${e}:${t}`}class Js{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=qc(this.userKey,o.apiKey,a),this.fullPersistenceKey=qc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await af(this.auth,{idToken:e}).catch(()=>{});return t?rr._fromGetAccountInfoResponse(this.auth,t,e):null}return rr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Js(oi(i0),e,r);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=o[0]||oi(i0);const l=qc(r,e.config.apiKey,e.name);let c=null;for(const g of t)try{const v=await g._get(l);if(v){let m;if(typeof v=="string"){const d=await af(e,{idToken:v}).catch(()=>{});if(!d)break;m=await rr._fromGetAccountInfoResponse(e,d,v)}else m=rr._fromJSON(e,v);g!==a&&(c=m),a=g;break}}catch{}const h=o.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Js(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async g=>{if(g!==a)try{await g._remove(l)}catch{}})),new Js(a,e,r))}}function o0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($A(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(XA(e))return"Webos";if(WA(e))return"Safari";if((e.includes("chrome/")||KA(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function $A(n=cn()){return/firefox\//i.test(n)}function WA(n=cn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KA(n=cn()){return/crios\//i.test(n)}function GA(n=cn()){return/iemobile/i.test(n)}function QA(n=cn()){return/android/i.test(n)}function YA(n=cn()){return/blackberry/i.test(n)}function XA(n=cn()){return/webos/i.test(n)}function iy(n=cn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Cx(n=cn()){return iy(n)&&!!window.navigator?.standalone}function Ox(){return gk()&&document.documentMode===10}function JA(n=cn()){return iy(n)||QA(n)||XA(n)||YA(n)||/windows phone/i.test(n)||GA(n)}function ZA(n,e=[]){let t;switch(n){case"Browser":t=o0(cn());break;case"Worker":t=`${o0(cn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Go}/${r}`}class xx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Nx(n,e={}){return pi(n,"GET","/v2/passwordPolicy",Zo(n,e))}const Lx=6;class Dx{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Lx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Mx{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s0(this),this.idTokenSubscription=new s0(this),this.beforeStateQueue=new xx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=oi(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await af(this,{idToken:e}),r=await rr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(zn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=px()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(Zi(this));const t=e?Tt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nx(this),t=new Dx(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Px(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&oi(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[oi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,o);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _a(n){return Tt(n)}class s0{constructor(e){this.auth=e,this.observer=null,this.addObserver=bk(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jx(n){Vf=n}function eb(n){return Vf.loadJS(n)}function Vx(){return Vf.recaptchaEnterpriseScript}function Ux(){return Vf.gapiScript}function Fx(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class qx{constructor(){this.enterprise=new Bx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Bx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const zx="recaptcha-enterprise",tb="NO_RECAPTCHA";class Hx{constructor(e){this.type=zx,this.auth=_a(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{wx(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const g=new Ex(h);return a.tenantId==null?a._agentRecaptchaConfig=g:a._tenantRecaptchaConfigs[a.tenantId]=g,l(g.siteKey)}}).catch(h=>{c(h)})})}function o(a,l,c){const h=window.grecaptcha;t0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(g=>{l(g)}).catch(()=>{l(tb)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new qx().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&t0(window.grecaptcha))o(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Vx();h.length!==0&&(h+=c),eb(h).then(()=>{o(c,a,l)}).catch(g=>{l(g)})}}).catch(c=>{l(c)})})}}async function a0(n,e,t,r=!1,o=!1){const a=new Hx(n);let l;if(o)l=tb;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,g=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:g,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function l0(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await a0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await a0(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)})}function $x(n,e){const t=_f(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(qo(a,e??{}))return o;ur(o,"already-initialized")}return t.initialize({options:e})}function Wx(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(oi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Kx(n,e,t){const r=_a(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=nb(e),{host:l,port:c}=Gx(e),h=c===null?"":`:${c}`,g={url:`${a}//${l}${h}/`},v=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(qo(g,r.config.emulator)&&qo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,ao(l)?(mg(`${a}//${l}${h}`),gg("Auth",!0)):Qx()}function nb(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Gx(n){const e=nb(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:u0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:u0(l)}}}function u0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Qx(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class oy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,t){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}async function Yx(n,e){return pi(n,"POST","/v1/accounts:signUp",e)}async function Xx(n,e){return jf(n,"POST","/v1/accounts:signInWithPassword",Zo(n,e))}async function Jx(n,e){return jf(n,"POST","/v1/accounts:signInWithEmailLink",Zo(n,e))}async function Zx(n,e){return jf(n,"POST","/v1/accounts:signInWithEmailLink",Zo(n,e))}class $l extends oy{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new $l(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new $l(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l0(e,t,"signInWithPassword",Xx);case"emailLink":return Jx(e,{email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return l0(e,r,"signUpPassword",Yx);case"emailLink":return Zx(e,{idToken:t,email:this._email,oobCode:this._password});default:ur(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zs(n,e){return jf(n,"POST","/v1/accounts:signInWithIdp",Zo(n,e))}const eN="http://localhost";class $o extends oy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ur("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const l=new $o(r,o);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Zs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Zs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zs(e,t)}buildRequest(){const e={requestUri:eN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yl(t)}return e}}function tN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nN(n){const e=_l(El(n)).link,t=e?_l(El(e)).deep_link_id:null,r=_l(El(n)).deep_link_id;return(r?_l(El(r)).link:null)||r||t||e||n}class sy{constructor(e){const t=_l(El(e)),r=t.apiKey??null,o=t.oobCode??null,a=tN(t.mode??null);Ue(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=nN(e);try{return new sy(t)}catch{return null}}}class Ea{constructor(){this.providerId=Ea.PROVIDER_ID}static credential(e,t){return $l._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=sy.parseLink(t);return Ue(r,"argument-error"),$l._fromEmailAndCode(e,r.code,r.tenantId)}}Ea.PROVIDER_ID="password";Ea.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ea.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class rb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class iu extends rb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class zi extends iu{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.FACEBOOK_SIGN_IN_METHOD="facebook.com";zi.PROVIDER_ID="facebook.com";class Hi extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $o._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Hi.credential(t,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";class $i extends iu{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";class Wi extends iu{constructor(){super("twitter.com")}static credential(e,t){return $o._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Wi.credential(t,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await rr._fromIdTokenResponse(e,r,o),l=c0(r);return new ca({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=c0(r);return new ca({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function c0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class uf extends Vr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new uf(e,t,r,o)}}function ib(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(n,a,e,r):a})}async function rN(n,e,t=!1){const r=await ua(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ca._forOperation(n,"link",r)}async function iN(n,e,t=!1){const{auth:r}=n;if(zn(r.app))return Promise.reject(Zi(r));const o="reauthenticate";try{const a=await ua(n,ib(r,o,e,n),t);Ue(a.idToken,r,"internal-error");const l=ry(a.idToken);Ue(l,r,"internal-error");const{sub:c}=l;return Ue(n.uid===c,r,"user-mismatch"),ca._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&ur(r,"user-mismatch"),a}}async function ob(n,e,t=!1){if(zn(n.app))return Promise.reject(Zi(n));const r="signIn",o=await ib(n,r,e),a=await ca._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function oN(n,e){return ob(_a(n),e)}async function sN(n){const e=_a(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function aN(n,e,t){return zn(n.app)?Promise.reject(Zi(n)):oN(Tt(n),Ea.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sN(n),r})}async function lN(n,e){return pi(n,"POST","/v1/accounts:update",e)}async function f0(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Tt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await ua(r,lN(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:h})=>h==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function uN(n,e,t,r){return Tt(n).onIdTokenChanged(e,t,r)}function cN(n,e,t){return Tt(n).beforeAuthStateChanged(e,t)}function fN(n,e,t,r){return Tt(n).onAuthStateChanged(e,t,r)}function hN(n){return Tt(n).signOut()}const cf="__sak";class sb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dN=1e3,pN=10;class ab extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);Ox()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,pN):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ab.type="LOCAL";const mN=ab;class lb extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}lb.type="SESSION";const ub=lb;function gN(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,l=this.handlersMap[o];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(l).map(async g=>g(t.origin,a)),h=await gN(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uf.receivers=[];function ay(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class yN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const g=ay("",20);o.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:o,onMessage(m){const d=m;if(d.data.eventId===g)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(d.data.response);break;default:clearTimeout(v),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Mr(){return window}function vN(n){Mr().location.href=n}function cb(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function _N(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EN(){return navigator?.serviceWorker?.controller||null}function wN(){return cb()?self:null}const fb="firebaseLocalStorageDb",TN=1,ff="firebaseLocalStorage",hb="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ff(n,e){return n.transaction([ff],e?"readwrite":"readonly").objectStore(ff)}function AN(){const n=indexedDB.deleteDatabase(fb);return new ou(n).toPromise()}function rg(){const n=indexedDB.open(fb,TN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ff,{keyPath:hb})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(ff)?e(r):(r.close(),await AN(),e(await rg()))})})}async function h0(n,e,t){const r=Ff(n,!0).put({[hb]:e,value:t});return new ou(r).toPromise()}async function bN(n,e){const t=Ff(n,!1).get(e),r=await new ou(t).toPromise();return r===void 0?null:r.value}function d0(n,e){const t=Ff(n,!0).delete(e);return new ou(t).toPromise()}const SN=800,IN=3;class db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>IN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uf._getInstance(wN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _N(),!this.activeServiceWorker)return;this.sender=new yN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||EN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rg();return await h0(e,cf,"1"),await d0(e,cf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>h0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>bN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>d0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Ff(o,!1).getAll();return new ou(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}db.type="LOCAL";const RN=db;new ru(3e4,6e4);function kN(n,e){return e?oi(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ly extends oy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function PN(n){return ob(n.auth,new ly(n),n.bypassAuthState)}function CN(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),iN(t,new ly(n),n.bypassAuthState)}async function ON(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),rN(t,new ly(n),n.bypassAuthState)}class pb{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PN;case"linkViaPopup":case"linkViaRedirect":return ON;case"reauthViaPopup":case"reauthViaRedirect":return CN;default:ur(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xN=new ru(2e3,1e4);class Ks extends pb{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xN.get())};e()}}Ks.currentPopupAction=null;const NN="pendingRedirect",Bc=new Map;class LN extends pb{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bc.get(this.auth._key());if(!e){try{const r=await DN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bc.set(this.auth._key(),e)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DN(n,e){const t=VN(e),r=jN(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function MN(n,e){Bc.set(n._key(),e)}function jN(n){return oi(n._redirectPersistence)}function VN(n){return qc(NN,n.config.apiKey,n.name)}async function UN(n,e,t=!1){if(zn(n.app))return Promise.reject(Zi(n));const r=_a(n),o=kN(r,e),l=await new LN(r,o,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const FN=600*1e3;class qN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!mb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Dr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(p0(e))}saveEventToCache(e){this.cachedEventUids.add(p0(e)),this.lastProcessedEventTime=Date.now()}}function p0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function mb({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function BN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mb(n);default:return!1}}async function zN(n,e={}){return pi(n,"GET","/v1/projects",e)}const HN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$N=/^https?/;async function WN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await zN(n);for(const t of e)try{if(KN(t))return}catch{}ur(n,"unauthorized-domain")}function KN(n){const e=tg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!$N.test(t))return!1;if(HN.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const GN=new ru(3e4,6e4);function m0(){const n=Mr().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function QN(n){return new Promise((e,t)=>{function r(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),t(Dr(n,"network-request-failed"))},timeout:GN.get()})}if(Mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mr().gapi?.load)r();else{const o=Fx("iframefcb");return Mr()[o]=()=>{gapi.load?r():t(Dr(n,"network-request-failed"))},eb(`${Ux()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw zc=null,e})}let zc=null;function YN(n){return zc=zc||QN(n),zc}const XN=new ru(5e3,15e3),JN="__/auth/iframe",ZN="emulator/auth/iframe",eL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nL(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ny(e,ZN):`https://${n.config.authDomain}/${JN}`,r={apiKey:e.apiKey,appName:n.name,v:Go},o=tL.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${Yl(r).slice(1)}`}async function rL(n){const e=await YN(n),t=Mr().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:nL(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eL,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const l=Dr(n,"network-request-failed"),c=Mr().setTimeout(()=>{a(l)},XN.get());function h(){Mr().clearTimeout(c),o(r)}r.ping(h).then(h,()=>{a(l)})}))}const iL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oL=500,sL=600,aL="_blank",lL="http://localhost";class g0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uL(n,e,t,r=oL,o=sL){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h={...iL,width:r.toString(),height:o.toString(),top:a,left:l},g=cn().toLowerCase();t&&(c=KA(g)?aL:t),$A(g)&&(e=e||lL,h.scrollbars="yes");const v=Object.entries(h).reduce((d,[y,S])=>`${d}${y}=${S},`,"");if(Cx(g)&&c!=="_self")return cL(e||"",c),new g0(null);const m=window.open(e||"",c,v);Ue(m,n,"popup-blocked");try{m.focus()}catch{}return new g0(m)}function cL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const fL="__/auth/handler",hL="emulator/auth/handler",dL=encodeURIComponent("fac");async function y0(n,e,t,r,o,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Go,eventId:o};if(e instanceof rb){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Ak(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,m]of Object.entries({}))l[v]=m}if(e instanceof iu){const v=e.getScopes().filter(m=>m!=="");v.length>0&&(l.scopes=v.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const v of Object.keys(c))c[v]===void 0&&delete c[v];const h=await n._getAppCheckToken(),g=h?`#${dL}=${encodeURIComponent(h)}`:"";return`${pL(n)}?${Yl(c).slice(1)}${g}`}function pL({config:n}){return n.emulator?ny(n,hL):`https://${n.authDomain}/${fL}`}const Md="webStorageSupport";class mL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ub,this._completeRedirectFn=UN,this._overrideRedirectResult=MN}async _openPopup(e,t,r,o){di(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await y0(e,t,r,tg(),o);return uL(e,a,ay())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await y0(e,t,r,tg(),o);return vN(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(di(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await rL(e),r=new qN(e);return t.register("authEvent",o=>(Ue(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Md,{type:Md},o=>{const a=o?.[0]?.[Md];a!==void 0&&t(!!a),ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=WN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return JA()||WA()||iy()}}const gL=mL;var v0="@firebase/auth",_0="1.12.0";class yL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function vL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _L(n){Bo(new eo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZA(n)},g=new Mx(r,o,a,h);return Wx(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bo(new eo("auth-internal",e=>{const t=_a(e.getProvider("auth").getImmediate());return(r=>new yL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(v0,_0,vL(n)),Or(v0,_0,"esm2020")}const EL=300,wL=Kw("authIdTokenMaxAge")||EL;let E0=null;const TL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wL)return;const o=t?.token;E0!==o&&(E0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AL(n=_g()){const e=_f(n,"auth");if(e.isInitialized())return e.getImmediate();const t=$x(n,{popupRedirectResolver:gL,persistence:[RN,mN,ub]}),r=Kw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=TL(a.toString());cN(t,l,()=>l(t.currentUser)),uN(t,c=>l(c))}}const o=Hw("auth");return o&&Kx(t,`http://${o}`),t}function bL(){return document.getElementsByTagName("head")?.[0]??document}jx({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Dr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",bL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_L("Browser");const gb="firebasestorage.googleapis.com",yb="storageBucket",SL=120*1e3,IL=600*1e3,RL=1e3;class bt extends Vr{constructor(e,t,r=0){super(jd(e),`Firebase Storage: ${t} (${jd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function jd(n){return"storage/"+n}function uy(){const n="An unknown error occurred, please check the error payload for server response.";return new bt(yt.UNKNOWN,n)}function kL(n){return new bt(yt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function PL(n){return new bt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new bt(yt.UNAUTHENTICATED,n)}function OL(){return new bt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xL(n){return new bt(yt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function vb(){return new bt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _b(){return new bt(yt.CANCELED,"User canceled the upload/download.")}function NL(n){return new bt(yt.INVALID_URL,"Invalid URL '"+n+"'.")}function LL(n){return new bt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function DL(){return new bt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yb+"' property when initializing the app?")}function Eb(){return new bt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function ML(){return new bt(yt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function jL(){return new bt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function VL(n){return new bt(yt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ig(n){return new bt(yt.INVALID_ARGUMENT,n)}function wb(){return new bt(yt.APP_DELETED,"The Firebase app was deleted.")}function UL(n){return new bt(yt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ll(n,e){return new bt(yt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function ml(n){throw new bt(yt.INTERNAL_ERROR,"Internal error: "+n)}class Nn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Nn.makeFromUrl(e,t)}catch{return new Nn(e,"")}if(r.path==="")return r;throw LL(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+o+l,"i"),h={bucket:1,path:3};function g(b){b.path_=decodeURIComponent(b.path)}const v="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${v}/b/${o}/o${d}`,"i"),S={bucket:1,path:3},E=t===gb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",A=new RegExp(`^https?://${E}/${o}/${_}`,"i"),P=[{regex:c,indices:h,postModify:a},{regex:y,indices:S,postModify:g},{regex:A,indices:{bucket:1,path:2},postModify:g}];for(let b=0;b<P.length;b++){const D=P[b],U=D.regex.exec(e);if(U){const k=U[D.indices.bucket];let R=U[D.indices.path];R||(R=""),r=new Nn(k,R),D.postModify(r);break}}if(r==null)throw NL(e);return r}}class FL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function qL(n,e,t){let r=1,o=null,a=null,l=!1,c=0;function h(){return c===2}let g=!1;function v(..._){g||(g=!0,e.apply(null,_))}function m(_){o=setTimeout(()=>{o=null,n(y,h())},_)}function d(){a&&clearTimeout(a)}function y(_,...A){if(g){d();return}if(_){d(),v.call(null,_,...A);return}if(h()||l){d(),v.call(null,_,...A);return}r<64&&(r*=2);let P;c===1?(c=2,P=0):P=(r+Math.random())*1e3,m(P)}let S=!1;function E(_){S||(S=!0,d(),!g&&(o!==null?(_||(c=2),clearTimeout(o),m(0)):_||(c=1)))}return m(0),a=setTimeout(()=>{l=!0,E(!0)},t),E}function BL(n){n(!1)}function zL(n){return n!==void 0}function HL(n){return typeof n=="function"}function $L(n){return typeof n=="object"&&!Array.isArray(n)}function qf(n){return typeof n=="string"||n instanceof String}function w0(n){return cy()&&n instanceof Blob}function cy(){return typeof Blob<"u"}function T0(n,e,t,r){if(r<e)throw ig(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ig(`Invalid value for '${n}'. Expected ${t} or less.`)}function su(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Tb(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Fo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Fo||(Fo={}));function Ab(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}class WL{constructor(e,t,r,o,a,l,c,h,g,v,m,d=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=g,this.progressCallback_=v,this.connectionFactory_=m,this.retry=d,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Pc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,g=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,g)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Fo.NO_ERROR,h=a.getStatus();if(!c||Ab(h,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Fo.ABORT;r(!1,new Pc(!1,null,v));return}const g=this.successCodes_.indexOf(h)!==-1;r(!0,new Pc(g,a))})},t=(r,o)=>{const a=this.resolve_,l=this.reject_,c=o.connection;if(o.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());zL(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=uy();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(o.canceled){const h=this.appDelete_?wb():_b();l(h)}else{const h=vb();l(h)}};this.canceled_?t(!1,new Pc(!1,null,!0)):this.backoffId_=qL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function KL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function GL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function YL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function XL(n,e,t,r,o,a,l=!0,c=!1){const h=Tb(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return QL(v,e),KL(v,t),GL(v,a),YL(v,r),new WL(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,l,c)}function JL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZL(...n){const e=JL();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(cy())return new Blob(n);throw new bt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function tD(n){if(typeof atob>"u")throw VL("base-64");return atob(n)}const Cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vd{constructor(e,t){this.data=e,this.contentType=t||null}}function nD(n,e){switch(n){case Cr.RAW:return new Vd(bb(e));case Cr.BASE64:case Cr.BASE64URL:return new Vd(Sb(n,e));case Cr.DATA_URL:return new Vd(iD(e),oD(e))}throw uy()}function bb(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rD(n){let e;try{e=decodeURIComponent(n)}catch{throw Ll(Cr.DATA_URL,"Malformed data URL.")}return bb(e)}function Sb(n,e){switch(n){case Cr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Ll(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Cr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Ll(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=tD(e)}catch(o){throw o.message.includes("polyfill")?o:Ll(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class Ib{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ll(Cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=sD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iD(n){const e=new Ib(n);return e.base64?Sb(Cr.BASE64,e.rest):rD(e.rest)}function oD(n){return new Ib(n).contentType}function sD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Ki{constructor(e,t){let r=0,o="";w0(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(w0(this.data_)){const r=this.data_,o=eD(r,e,t);return o===null?null:new Ki(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Ki(r,!0)}}static getBlob(...e){if(cy()){const t=e.map(r=>r instanceof Ki?r.data_:r);return new Ki(ZL.apply(null,t))}else{const t=e.map(l=>qf(l)?nD(Cr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)o[a++]=l[c]}),new Ki(o,!0)}}uploadData(){return this.data_}}function Rb(n){let e;try{e=JSON.parse(n)}catch{return null}return $L(e)?e:null}function aD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function lD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function kb(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function uD(n,e){return e}class dn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||uD}}let Cc=null;function cD(n){return!qf(n)||n.length<2?n:kb(n)}function Pb(){if(Cc)return Cc;const n=[];n.push(new dn("bucket")),n.push(new dn("generation")),n.push(new dn("metageneration")),n.push(new dn("name","fullPath",!0));function e(a,l){return cD(l)}const t=new dn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const o=new dn("size");return o.xform=r,n.push(o),n.push(new dn("timeCreated")),n.push(new dn("updated")),n.push(new dn("md5Hash",null,!0)),n.push(new dn("cacheControl",null,!0)),n.push(new dn("contentDisposition",null,!0)),n.push(new dn("contentEncoding",null,!0)),n.push(new dn("contentLanguage",null,!0)),n.push(new dn("contentType",null,!0)),n.push(new dn("metadata","customMetadata",!0)),Cc=n,Cc}function fD(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Nn(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function hD(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return fD(r,n),r}function Cb(n,e,t){const r=Rb(e);return r===null?null:hD(n,r,t)}function dD(n,e,t,r){const o=Rb(e);if(o===null||!qf(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(g=>{const v=n.bucket,m=n.fullPath,d="/b/"+l(v)+"/o/"+l(m),y=su(d,t,r),S=Tb({alt:"media",token:g});return y+S})[0]}function Ob(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class wa{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function li(n){if(!n)throw uy()}function fy(n,e){function t(r,o){const a=Cb(n,o,e);return li(a!==null),a}return t}function pD(n,e){function t(r,o){const a=Cb(n,o,e);return li(a!==null),dD(a,o,n.host,n._protocol)}return t}function au(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=OL():o=CL():t.getStatus()===402?o=PL(n.bucket):t.getStatus()===403?o=xL(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function xb(n){const e=au(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=kL(n.path)),a.serverResponse=o.serverResponse,a}return t}function mD(n,e,t){const r=e.fullServerUrl(),o=su(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new wa(o,a,fy(n,t),l);return c.errorHandler=xb(e),c}function gD(n,e,t){const r=e.fullServerUrl(),o=su(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new wa(o,a,pD(n,t),l);return c.errorHandler=xb(e),c}function yD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Nb(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=yD(null,e)),r}function vD(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let P="";for(let b=0;b<2;b++)P=P+Math.random().toString().slice(2);return P}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const g=Nb(e,r,o),v=Ob(g,t),m="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+h+`\r
Content-Type: `+g.contentType+`\r
\r
`,d=`\r
--`+h+"--",y=Ki.getBlob(m,r,d);if(y===null)throw Eb();const S={name:g.fullPath},E=su(a,n.host,n._protocol),_="POST",A=n.maxUploadRetryTime,w=new wa(E,_,fy(n,t),A);return w.urlParams=S,w.headers=l,w.body=y.uploadData(),w.errorHandler=au(e),w}class hf{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function hy(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{li(!1)}return li(!!t&&(e||["active"]).indexOf(t)!==-1),t}function _D(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),l=Nb(e,r,o),c={name:l.fullPath},h=su(a,n.host,n._protocol),g="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},m=Ob(l,t),d=n.maxUploadRetryTime;function y(E){hy(E);let _;try{_=E.getResponseHeader("X-Goog-Upload-URL")}catch{li(!1)}return li(qf(_)),_}const S=new wa(h,g,y,d);return S.urlParams=c,S.headers=v,S.body=m,S.errorHandler=au(e),S}function ED(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(g){const v=hy(g,["active","final"]);let m=null;try{m=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{li(!1)}m||li(!1);const d=Number(m);return li(!isNaN(d)),new hf(d,r.size(),v==="final")}const l="POST",c=n.maxUploadRetryTime,h=new wa(t,l,a,c);return h.headers=o,h.errorHandler=au(e),h}const A0=256*1024;function wD(n,e,t,r,o,a,l,c){const h=new hf(0,0);if(l?(h.current=l.current,h.total=l.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw ML();const g=h.total-h.current;let v=g;o>0&&(v=Math.min(v,o));const m=h.current,d=m+v;let y="";v===0?y="finalize":g===v?y="upload, finalize":y="upload";const S={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${h.current}`},E=r.slice(m,d);if(E===null)throw Eb();function _(b,D){const U=hy(b,["active","final"]),k=h.current+v,R=r.size();let M;return U==="final"?M=fy(e,a)(b,D):M=null,new hf(k,R,U==="final",M)}const A="POST",w=e.maxUploadRetryTime,P=new wa(t,A,_,w);return P.headers=S,P.body=E.uploadData(),P.progressCallback=c||null,P.errorHandler=au(n),P}const wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ud(n){switch(n){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}class TD{constructor(e,t,r){if(HL(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Fs(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class AD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,a){if(this.sent_)throw ml("cannot .send() more than once");if(ao(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ml("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ml("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ml("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ml("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class bD extends AD{initXhr(){this.xhr_.responseType="text"}}function Ws(){return new bD}class SD{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Pb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(yt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(Ab(o.status,[]))if(a)o=vb();else{this.sleepTime=Math.max(this.sleepTime*2,RL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(yt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=_D(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ws,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=ED(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,Ws,t,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=A0*this._chunkMultiplier,t=new hf(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let l;try{l=wD(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const c=this._ref.storage._makeRequest(l,Ws,o,a,!1);this._request=c,c.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){A0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=mD(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Ws,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=vD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ws,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_b(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ud(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new TD(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ud(this._state)){case wn.SUCCESS:Fs(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:const t=this._reject;Fs(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ud(this._state)){case wn.RUNNING:case wn.PAUSED:e.next&&Fs(e.next.bind(e,this.snapshot))();break;case wn.SUCCESS:e.complete&&Fs(e.complete.bind(e))();break;case wn.CANCELED:case wn.ERROR:e.error&&Fs(e.error.bind(e,this._error))();break;default:e.error&&Fs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class Wo{constructor(e,t){this._service=e,t instanceof Nn?this._location=t:this._location=Nn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wo(e,t)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kb(this._location.path)}get storage(){return this._service}get parent(){const e=aD(this._location.path);if(e===null)return null;const t=new Nn(this._location.bucket,e);return new Wo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw UL(e)}}function ID(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new SD(n,new Ki(e),t)}function RD(n){n._throwIfRoot("getDownloadURL");const e=gD(n.storage,n._location,Pb());return n.storage.makeRequestWithTokens(e,Ws).then(t=>{if(t===null)throw jL();return t})}function kD(n,e){const t=lD(n._location.path,e),r=new Nn(n._location.bucket,t);return new Wo(n.storage,r)}function PD(n){return/^[A-Za-z]+:\/\//.test(n)}function CD(n,e){return new Wo(n,e)}function Lb(n,e){if(n instanceof dy){const t=n;if(t._bucket==null)throw DL();const r=new Wo(t,t._bucket);return e!=null?Lb(r,e):r}else return e!==void 0?kD(n,e):n}function OD(n,e){if(e&&PD(e)){if(n instanceof dy)return CD(n,e);throw ig("To use ref(service, url), the first argument must be a Storage instance.")}else return Lb(n,e)}function b0(n,e){const t=e?.[yb];return t==null?null:Nn.makeFromBucketSpec(t,n)}function xD(n,e,t,r={}){n.host=`${e}:${t}`;const o=ao(e);o&&(mg(`https://${n.host}/b`),gg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:Gw(a,n.app.options.projectId))}class dy{constructor(e,t,r,o,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=gb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SL,this._maxUploadRetryTime=IL,this._requests=new Set,o!=null?this._bucket=Nn.makeFromBucketSpec(o,this._host):this._bucket=b0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=b0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wo(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new FL(wb());{const l=XL(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const S0="@firebase/storage",I0="0.14.0";const Db="storage";function Fd(n,e,t){return n=Tt(n),ID(n,e,t)}function qd(n){return n=Tt(n),RD(n)}function Bd(n,e){return n=Tt(n),OD(n,e)}function ND(n=_g(),e){n=Tt(n);const r=_f(n,Db).getImmediate({identifier:e}),o=$w("storage");return o&&LD(r,...o),r}function LD(n,e,t,r={}){xD(n,e,t,r)}function DD(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new dy(t,r,o,e,Go)}function MD(){Bo(new eo(Db,DD,"PUBLIC").setMultipleInstances(!0)),Or(S0,I0,""),Or(S0,I0,"esm2020")}MD();const jD={apiKey:"AIzaSyDi8vIOxGVabZgG6xkCo6WCwgg5KHEPY74",authDomain:"papo-de-quadrilha.firebaseapp.com",projectId:"papo-de-quadrilha",storageBucket:"papo-de-quadrilha.firebasestorage.app",messagingSenderId:"369004277262",appId:"1:369004277262:web:e2c28cb5eeebdb226c165f"},py=Xw(jD),jo=F2(py),zd=AL(py),Hd=ND(py);function VD(){const[n,e]=ce.useState([]),[t,r]=ce.useState(3),[o,a]=ce.useState(0),l=ce.useRef(0),c=ce.useRef(0);ce.useEffect(()=>{async function d(){const y=Z2(eg(jo,"posts"),ex("date","desc")),E=(await MA(y)).docs.map(_=>({id:_.id,..._.data()}));e(E)}d()},[]),ce.useEffect(()=>{const d=()=>{r(window.innerWidth<768?1:3),a(0)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const h=Math.ceil(n.length/t),g=d=>{l.current=d.touches[0].clientX},v=d=>{c.current=d.touches[0].clientX},m=()=>{const d=l.current-c.current;Math.abs(d)>50&&(d>0&&o<h-1?a(o+1):d<0&&o>0&&a(o-1))};return B.jsxs("section",{id:"blog",className:"blog-section",children:[B.jsxs("header",{className:"label-container",children:[B.jsx("span",{className:"label",children:"ARTIGOS"}),B.jsx("h2",{className:"blog-title",children:"Para leitura"})]}),B.jsx("div",{className:"carousel-wrapper",onTouchStart:g,onTouchMove:v,onTouchEnd:m,children:B.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${o*100}%)`},children:Array.from({length:h}).map((d,y)=>B.jsx("div",{className:"carousel-page",children:n.slice(y*t,y*t+t).map(S=>B.jsxs("article",{className:"blog-card",children:[S.featuredImage&&B.jsx("img",{src:S.featuredImage,alt:S.title,className:"blog-image"}),B.jsxs("div",{className:"blog-content",children:[B.jsx("h3",{children:S.title}),B.jsx("p",{children:S.summary}),B.jsx(ri,{to:`/post/${S.id}`,className:"blog-link",children:"Ler mais "})]})]}))},y))})}),B.jsx("div",{className:"carousel-indicator",children:Array.from({length:h}).map((d,y)=>B.jsx("button",{className:`indicator-line ${y===o?"active":""}`,onClick:()=>a(y),"aria-label":`Pgina ${y+1}`},y))})]})}function UD(){const n=[{id:1,name:"Paciente XXX",text:"Atendimento extremamente atencioso e humanizado. Me senti acolhida desde o incio da consulta."},{id:2,name:"Paciente XXX",text:"Profissional excelente, muito cuidadosa e detalhista. A consulta foi completa e me trouxe muita segurana."},{id:3,name:"Paciente XXX",text:"Atendimento diferenciado, com foco na preveno e no cuidado individual. Recomendo com total confiana."}],[e,t]=ce.useState(3),[r,o]=ce.useState(0),a=ce.useRef(0),l=ce.useRef(0);ce.useEffect(()=>{const m=()=>{t(window.innerWidth<768?1:3),o(0)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const c=Math.ceil(n.length/e),h=m=>{a.current=m.touches[0].clientX},g=m=>{l.current=m.touches[0].clientX},v=()=>{const m=a.current-l.current;Math.abs(m)>50&&(m>0&&r<c-1?o(r+1):m<0&&r>0&&o(r-1))};return B.jsxs("section",{id:"depoimentos",className:"testimonials",children:[B.jsxs("header",{className:"section-header",children:[B.jsx("span",{className:"testimonials-label",children:"DEPOIMENTOS"}),B.jsx("h2",{children:"O que nossos pacientes dizem sobre nosso trabalho?"})]}),B.jsx("div",{className:"carousel-wrapper",onTouchStart:h,onTouchMove:g,onTouchEnd:v,children:B.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${r*100}%)`},children:Array.from({length:c}).map((m,d)=>B.jsx("div",{className:"carousel-page",children:n.slice(d*e,d*e+e).map(y=>B.jsxs("div",{className:"testimonial-card",children:[B.jsxs("div",{className:"testimonial-header",children:[B.jsx("div",{className:"avatar"}),B.jsxs("div",{children:[B.jsx("strong",{children:y.name}),B.jsx("div",{className:"stars",children:""})]})]}),B.jsx("p",{children:y.text})]},y.id))},d))})}),B.jsx("div",{className:"carousel-indicator",children:Array.from({length:c}).map((m,d)=>B.jsx("button",{className:`indicator-line ${d===r?"active":""}`,onClick:()=>o(d)},d))}),B.jsx("a",{href:"#",className:"testimonial-button",children:"Escrever Avaliao "})]})}var Mb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},R0=un.createContext&&un.createContext(Mb),FD=["attr","size","title"];function qD(n,e){if(n==null)return{};var t=BD(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function BD(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function df(){return df=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},df.apply(this,arguments)}function k0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function pf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?k0(Object(t),!0).forEach(function(r){zD(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function zD(n,e,t){return e=HD(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function HD(n){var e=$D(n,"string");return typeof e=="symbol"?e:e+""}function $D(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function jb(n){return n&&n.map((e,t)=>un.createElement(e.tag,pf({key:t},e.attr),jb(e.child)))}function es(n){return e=>un.createElement(WD,df({attr:pf({},n.attr)},e),jb(n.child))}function WD(n){var e=t=>{var{attr:r,size:o,title:a}=n,l=qD(n,FD),c=o||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),un.createElement("svg",df({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:pf(pf({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&un.createElement("title",null,a),n.children)};return R0!==void 0?un.createElement(R0.Consumer,null,t=>e(t)):e(Mb)}function KD(n){return es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"192",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(n)}function GD(n){return es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C167.67 32 96 96.51 96 176c0 128 160 304 160 304s160-176 160-304c0-79.49-71.67-144-160-144zm0 224a64 64 0 1 1 64-64 64.07 64.07 0 0 1-64 64z"},child:[]}]})(n)}function QD(n){return es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"},child:[]}]})(n)}const YD="/assets/sala1-DW-8bNsI.jpeg";function XD(n){return es({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function JD(n){return es({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function ZD(n){return es({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function e4(n){return es({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function og({text:n="Fale pelo WhatsApp",className:e="",phone:t="5591985807373",message:r="Ol Dra. Lueine, gostaria de agendar uma consulta."}){const o=`https://wa.me/${t}?text=${encodeURIComponent(r)}`;return B.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:e,children:[n,B.jsx(e4,{size:20})]})}function t4(){return B.jsx("section",{className:"env-section",children:B.jsxs("div",{className:"env-grid",children:[B.jsxs("div",{className:"env-text-top",children:[B.jsxs("header",{className:"section-header",children:[B.jsx("span",{className:"label",children:"NOSSO AMBIENTE"}),B.jsx("h2",{children:"Cuidado comea pelo ambiente"})]}),B.jsxs("p",{children:["Um consultrio moderno, climatizado e acolhedor, pensado para garantir ",B.jsx("strong",{children:"conforto, privacidade e tranquilidade."})]}),B.jsx("p",{children:"Aqui, cada atendimento acontece de forma individualizada, em um espao reservado, preparado para consultas clnicas e um acompanhamento mdico atento aos detalhes."}),B.jsx(og,{className:"about-button"})]}),B.jsx("div",{className:"env-image-main",children:B.jsx("img",{src:YD,alt:"Ambiente do consultrio"})})]})})}var $d,P0;function n4(){if(P0)return $d;P0=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,h,g;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(h=c;h--!==0;)if(!o(a[h],l[h]))return!1;return!0}var v;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(v=a.entries();!(h=v.next()).done;)if(!l.has(h.value[0]))return!1;for(v=a.entries();!(h=v.next()).done;)if(!o(h.value[1],l.get(h.value[0])))return!1;return!0}if(t&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(v=a.entries();!(h=v.next()).done;)if(!l.has(h.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(h=c;h--!==0;)if(a[h]!==l[h])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(g=Object.keys(a),c=g.length,c!==Object.keys(l).length)return!1;for(h=c;h--!==0;)if(!Object.prototype.hasOwnProperty.call(l,g[h]))return!1;if(n&&a instanceof Element)return!1;for(h=c;h--!==0;)if(!((g[h]==="_owner"||g[h]==="__v"||g[h]==="__o")&&a.$$typeof)&&!o(a[g[h]],l[g[h]]))return!1;return!0}return a!==a&&l!==l}return $d=function(l,c){try{return o(l,c)}catch(h){if((h.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw h}},$d}var r4=n4();const i4=fa(r4);var Wd,C0;function o4(){if(C0)return Wd;C0=1;var n=function(e,t,r,o,a,l,c,h){if(!e){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,o,a,l,c,h],m=0;g=new Error(t.replace(/%s/g,function(){return v[m++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}};return Wd=n,Wd}var s4=o4();const O0=fa(s4);var Kd,x0;function a4(){return x0||(x0=1,Kd=function(e,t,r,o){var a=r?r.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(t),g=0;g<l.length;g++){var v=l[g];if(!h(v))return!1;var m=e[v],d=t[v];if(a=r?r.call(o,m,d,v):void 0,a===!1||a===void 0&&m!==d)return!1}return!0}),Kd}var l4=a4();const u4=fa(l4);var Vb=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(Vb||{}),Gd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},N0=Object.values(Vb),my={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},c4=Object.entries(my).reduce((n,[e,t])=>(n[t]=e,n),{}),ir="data-rh",ea={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ta=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},f4=n=>{let e=ta(n,"title");const t=ta(n,ea.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=ta(n,ea.DEFAULT_TITLE);return e||r||void 0},h4=n=>ta(n,ea.ON_CHANGE_CLIENT_STATE)||(()=>{}),Qd=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),d4=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const o=Object.keys(r);for(let a=0;a<o.length;a+=1){const c=o[a].toLowerCase();if(n.indexOf(c)!==-1&&r[c])return t.concat(r)}}return t},[]),p4=n=>console&&typeof console.warn=="function"&&console.warn(n),gl=(n,e,t)=>{const r={};return t.filter(o=>Array.isArray(o[n])?!0:(typeof o[n]<"u"&&p4(`Helmet: ${n} should be of type "Array". Instead found type "${typeof o[n]}"`),!1)).map(o=>o[n]).reverse().reduce((o,a)=>{const l={};a.filter(h=>{let g;const v=Object.keys(h);for(let d=0;d<v.length;d+=1){const y=v[d],S=y.toLowerCase();e.indexOf(S)!==-1&&!(g==="rel"&&h[g].toLowerCase()==="canonical")&&!(S==="rel"&&h[S].toLowerCase()==="stylesheet")&&(g=S),e.indexOf(y)!==-1&&(y==="innerHTML"||y==="cssText"||y==="itemprop")&&(g=y)}if(!g||!h[g])return!1;const m=h[g].toLowerCase();return r[g]||(r[g]={}),l[g]||(l[g]={}),r[g][m]?!1:(l[g][m]=!0,!0)}).reverse().forEach(h=>o.push(h));const c=Object.keys(l);for(let h=0;h<c.length;h+=1){const g=c[h],v={...r[g],...l[g]};r[g]=v}return o},[]).reverse()},m4=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},g4=n=>({baseTag:d4(["href"],n),bodyAttributes:Qd("bodyAttributes",n),defer:ta(n,ea.DEFER),encode:ta(n,ea.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Qd("htmlAttributes",n),linkTags:gl("link",["rel","href"],n),metaTags:gl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:gl("noscript",["innerHTML"],n),onChangeClientState:h4(n),scriptTags:gl("script",["src","innerHTML"],n),styleTags:gl("style",["cssText"],n),title:f4(n),titleAttributes:Qd("titleAttributes",n),prioritizeSeoTags:m4(n,ea.PRIORITIZE_SEO_TAGS)}),Ub=n=>Array.isArray(n)?n.join(""):n,y4=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},Yd=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(y4(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},L0=(n,e)=>({...n,[e]:void 0}),v4=["noscript","script","style"],sg=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Fb=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),_4=(n,e,t,r)=>{const o=Fb(t),a=Ub(e);return o?`<${n} ${ir}="true" ${o}>${sg(a,r)}</${n}>`:`<${n} ${ir}="true">${sg(a,r)}</${n}>`},E4=(n,e,t=!0)=>e.reduce((r,o)=>{const a=o,l=Object.keys(a).filter(g=>!(g==="innerHTML"||g==="cssText")).reduce((g,v)=>{const m=typeof a[v]>"u"?v:`${v}="${sg(a[v],t)}"`;return g?`${g} ${m}`:m},""),c=a.innerHTML||a.cssText||"",h=v4.indexOf(n)===-1;return`${r}<${n} ${ir}="true" ${l}${h?"/>":`>${c}</${n}>`}`},""),qb=(n,e={})=>Object.keys(n).reduce((t,r)=>{const o=my[r];return t[o||r]=n[r],t},e),w4=(n,e,t)=>{const r={key:e,[ir]:!0},o=qb(t,r);return[un.createElement("title",o,e)]},Hc=(n,e)=>e.map((t,r)=>{const o={key:r,[ir]:!0};return Object.keys(t).forEach(a=>{const c=my[a]||a;if(c==="innerHTML"||c==="cssText"){const h=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:h}}else o[c]=t[a]}),un.createElement(n,o)}),Bn=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>w4(n,e.title,e.titleAttributes),toString:()=>_4(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>qb(e),toString:()=>Fb(e)};default:return{toComponent:()=>Hc(n,e),toString:()=>E4(n,e,t)}}},T4=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const o=Yd(n,Gd.meta),a=Yd(e,Gd.link),l=Yd(t,Gd.script);return{priorityMethods:{toComponent:()=>[...Hc("meta",o.priority),...Hc("link",a.priority),...Hc("script",l.priority)],toString:()=>`${Bn("meta",o.priority,r)} ${Bn("link",a.priority,r)} ${Bn("script",l.priority,r)}`},metaTags:o.default,linkTags:a.default,scriptTags:l.default}},A4=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:o,noscriptTags:a,styleTags:l,title:c="",titleAttributes:h,prioritizeSeoTags:g}=n;let{linkTags:v,metaTags:m,scriptTags:d}=n,y={toComponent:()=>{},toString:()=>""};return g&&({priorityMethods:y,linkTags:v,metaTags:m,scriptTags:d}=T4(n)),{priority:y,base:Bn("base",e,r),bodyAttributes:Bn("bodyAttributes",t,r),htmlAttributes:Bn("htmlAttributes",o,r),link:Bn("link",v,r),meta:Bn("meta",m,r),noscript:Bn("noscript",a,r),script:Bn("script",d,r),style:Bn("style",l,r),title:Bn("title",{title:c,titleAttributes:h},r)}},ag=A4,Oc=[],Bb=!!(typeof window<"u"&&window.document&&window.document.createElement),lg=class{instances=[];canUseDOM=Bb;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Oc:this.instances,add:n=>{(this.canUseDOM?Oc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Oc:this.instances).indexOf(n);(this.canUseDOM?Oc:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=ag({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},b4={},zb=un.createContext(b4),Hb=class $b extends ce.Component{static canUseDOM=Bb;helmetData;constructor(e){super(e),this.helmetData=new lg(this.props.context||{},$b.canUseDOM)}render(){return un.createElement(zb.Provider,{value:this.helmetData.value},this.props.children)}},qs=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${ir}]`),o=[].slice.call(r),a=[];let l;return e&&e.length&&e.forEach(c=>{const h=document.createElement(n);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g))if(g==="innerHTML")h.innerHTML=c.innerHTML;else if(g==="cssText")h.styleSheet?h.styleSheet.cssText=c.cssText:h.appendChild(document.createTextNode(c.cssText));else{const v=g,m=typeof c[v]>"u"?"":c[v];h.setAttribute(g,m)}h.setAttribute(ir,"true"),o.some((g,v)=>(l=v,h.isEqualNode(g)))?o.splice(l,1):a.push(h)}),o.forEach(c=>c.parentNode?.removeChild(c)),a.forEach(c=>t.appendChild(c)),{oldTags:o,newTags:a}},ug=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(ir),o=r?r.split(","):[],a=[...o],l=Object.keys(e);for(const c of l){const h=e[c]||"";t.getAttribute(c)!==h&&t.setAttribute(c,h),o.indexOf(c)===-1&&o.push(c);const g=a.indexOf(c);g!==-1&&a.splice(g,1)}for(let c=a.length-1;c>=0;c-=1)t.removeAttribute(a[c]);o.length===a.length?t.removeAttribute(ir):t.getAttribute(ir)!==l.join(",")&&t.setAttribute(ir,l.join(","))},S4=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=Ub(n)),ug("title",e)},D0=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:o,linkTags:a,metaTags:l,noscriptTags:c,onChangeClientState:h,scriptTags:g,styleTags:v,title:m,titleAttributes:d}=n;ug("body",r),ug("html",o),S4(m,d);const y={baseTag:qs("base",t),linkTags:qs("link",a),metaTags:qs("meta",l),noscriptTags:qs("noscript",c),scriptTags:qs("script",g),styleTags:qs("style",v)},S={},E={};Object.keys(y).forEach(_=>{const{newTags:A,oldTags:w}=y[_];A.length&&(S[_]=A),w.length&&(E[_]=y[_].oldTags)}),e&&e(),h(n,S,E)},yl=null,I4=n=>{yl&&cancelAnimationFrame(yl),n.defer?yl=requestAnimationFrame(()=>{D0(n,()=>{yl=null})}):(D0(n),yl=null)},R4=I4,M0=class extends ce.Component{rendered=!1;shouldComponentUpdate(n){return!u4(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=g4(n.get().map(o=>{const a={...o.props};return delete a.context,a}));Hb.canUseDOM?R4(r):ag&&(t=ag(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},k4=class extends ce.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!i4(L0(this.props,"helmetData"),L0(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return O0(N0.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${N0.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),O0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return un.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:o,...a}=r.props,l=Object.keys(a).reduce((h,g)=>(h[c4[g]||g]=a[g],h),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,o),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,l,o);break;default:e=this.mapObjectTypeChildren(r,e,l,o);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof lg)){const o=r;r=new lg(o.context,!0),delete t.helmetData}return r?un.createElement(M0,{...t,context:r.value}):un.createElement(zb.Consumer,null,o=>un.createElement(M0,{...t,context:o}))}};function P4(){return B.jsxs("main",{children:[B.jsxs(k4,{children:[B.jsx("title",{children:"Dra. Lueine Barradas | Clnica Geral | Cardiologia Clnica"}),B.jsx("meta",{name:"description",content:"Atendimento mdico humanizado em Bragana, PA. Agende sua consulta com a Dra. Lueine Barradas."}),B.jsx("meta",{name:"keywords",content:"Cardiologia Clnica, Bragana PA, Mdica Bragana Par, Check-up cardiolgico, Hipertenso, Dra Lueine Barradas"}),B.jsx("script",{type:"application/ld+json",children:`
            {
              "@context": "https://schema.org",
              "@type": "MedicalBusiness",
              "name": "Dra. Lueine Barradas",
              "address": {
                "@type": "PostalAddress",
                "streetAddress": "Av. Nazeazeno Ferreira, 60",
                "addressLocality": "Bragana",
                "addressRegion": "PA",
                "addressCountry": "BR"
              },
              "geo": {
                "@type": "GeoCoordinates",
                "latitude": -1.0488685, 
                "longitude": -46.7686801
              },
              "telephone": "+5591985807373"
            }
          `})]}),B.jsxs("section",{id:"inicio",className:"hero",children:[B.jsx("div",{className:"hero-overlay"}),B.jsxs("div",{className:"hero-container",children:[B.jsxs("div",{className:"hero-text",children:[B.jsx("span",{className:"hero-label",children:"DRA. LUEINE BARRADAS"}),B.jsxs("h1",{children:["CUIDADO E ",B.jsx("br",{}),B.jsx("span",{children:"COMPROMISSO"})]}),B.jsx("p",{children:"Meu propsito como mdica  alinhar o cuidado humanizado e a excelncia tcnica para garantir sade e qualidade de vida para voc."}),B.jsxs("div",{className:"hero-actions",children:[B.jsxs("div",{className:"hero-location",children:[B.jsx(GD,{size:16,color:"#FFF"}),B.jsx("span",{children:"Atendimento em Bragana - PA"})]}),B.jsx("div",{children:B.jsx(og,{className:"hero-btn primary"})})]})]}),B.jsx("div",{className:"hero-image",children:B.jsx("img",{src:ZR,alt:"Dra. Lueine Barradas - Mdica Cardiologista em Bragana Par",loading:"eager",fetchpriority:"high",decoding:"async"})}),B.jsxs("aside",{className:"hero-card",children:[B.jsx("strong",{children:"Dra. Lueine Barradas"}),B.jsx("p",{children:"CRM PA 18364"}),B.jsxs("ul",{children:[B.jsxs("li",{children:[B.jsx("b",{children:"rea de atuao:"})," Clnica Geral | Cardiologia Clnica"]}),B.jsxs("li",{children:[B.jsx("b",{children:"Foco:"})," Preveno e cuidado integral"]}),B.jsxs("li",{children:[B.jsx("b",{children:"Experincia:"})," Atendimento clnico humanizado"]})]})]})]}),B.jsx("div",{className:"hero-scroll",children:""})]}),B.jsxs("section",{id:"servicos",children:[B.jsxs("header",{className:"section-header",children:[B.jsx("span",{className:"label",children:"SERVIOS"}),B.jsx("h2",{children:"O que eu posso te ajudar?"})]}),B.jsxs("div",{className:"cards-grid",children:[B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Consulta de rotina"}),B.jsx("p",{children:"Atendimento clnico integral, com foco na preveno, no acompanhamento contnuo e no cuidado individualizado em todas as fases da vida."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Check-up Cardiolgico"}),B.jsx("p",{children:"Avaliao completa da sade cardiovascular, com anlise de fatores de risco, histrico clnico e solicitao de exames conforme indicao individual."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Avaliao e Liberao para Atividade Fsica"}),B.jsx("p",{children:"Avaliao clnica e cardiovascular para liberao segura da prtica de atividade fsica, considerando idade, histrico de sade e exames complementares."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Consultas Pr-operatrias"}),B.jsx("p",{children:"Avaliao clnica e cardiovascular para liberao cirrgica, com estratificao de risco e orientaes pr e ps-operatrias."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Preveno de Doenas Cardiovasculares"}),B.jsx("p",{children:"Acompanhamento direcionado  reduo de risco cardiovascular, com controle de hipertenso, diabetes, colesterol, obesidade e hbitos de vida."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Hipertenso Arterial"}),B.jsx("p",{children:"Diagnstico, acompanhamento e controle da presso arterial, com plano teraputico individualizado e monitoramento contnuo."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Doena Arterial Coronariana"}),B.jsx("p",{children:"Avaliao e acompanhamento clnico de pacientes com doena arterial coronariana, com foco em controle de fatores de risco e preveno de eventos."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Infarto Agudo do Miocrdio"}),B.jsx("p",{children:"Seguimento clnico e preveno secundria em pacientes com histrico de infarto, com foco em segurana, controle de risco e qualidade de vida."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Insuficincia Cardaca"}),B.jsx("p",{children:"Acompanhamento clnico de pacientes com insuficincia cardaca, com orientao teraputica, controle de sintomas e monitoramento contnuo."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Arritmias Cardacas"}),B.jsx("p",{children:"Avaliao clnica de alteraes do ritmo cardaco, com investigao, acompanhamento e orientao conforme cada caso."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Obesidade e Sndrome Metablica"}),B.jsx("p",{children:"Abordagem clnica integrada para obesidade e sndrome metablica, com foco em sade, mudana de hbitos e acompanhamento contnuo."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Colesterol e Triglicerdeos Elevados"}),B.jsx("p",{children:"Avaliao e controle das dislipidemias, com orientao individualizada e preveno de doenas cardiovasculares."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Diabetes Mellitus"}),B.jsx("p",{children:"Acompanhamento clnico do diabetes, com foco no controle glicmico, preveno de complicaes e promoo da sade."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Avaliao do Sono e Apneia do Sono"}),B.jsx("p",{children:"Avaliao clnica do sono e acompanhamento de pacientes com suspeita ou diagnstico de apneia do sono."})]}),B.jsxs("article",{className:"card",children:[B.jsx("h3",{children:"Tratamento do Tabagismo"}),B.jsx("p",{children:"Acompanhamento mdico para cessao do tabagismo, com estratgias individualizadas e foco na reduo de riscos  sade."})]})]})]}),B.jsxs("section",{id:"consulta",className:"procedure-section",children:[B.jsxs("header",{className:"section-header",children:[B.jsx("span",{className:"label",children:"CUIDADO INTEGRAL"}),B.jsx("h2",{className:"procedure-title",children:"O que acontece na consulta?"})]}),B.jsxs("article",{className:"procedure-step reverse",children:[B.jsxs("div",{className:"procedure-content",children:[B.jsx("p",{className:"procedure-description",children:"A consulta comea com uma investigao detalhada da sua sade, buscando compreender voc de forma integral. Avalio aspectos clnicos, hbitos de vida e fatores que podem impactar diretamente sua sade, especialmente a sade cardiovascular."}),B.jsx("p",{className:"procedure-description",children:"Durante esse primeiro momento, conversamos sobre:"}),B.jsxs("ul",{className:"procedure-list",role:"list",children:[B.jsx("li",{children:"Histrico de doenas, cirurgias, alergias e uso de medicamentos"}),B.jsx("li",{children:"Hbitos de vida e rotina diria"}),B.jsx("li",{children:"Padro de sono, qualidade do descanso e presena de roncos"}),B.jsx("li",{children:"Nvel de atividade fsica e sedentarismo"}),B.jsx("li",{children:"Sade emocional, incluindo sintomas de ansiedade e depresso"}),B.jsx("li",{children:"Outros fatores que possam influenciar sua sade cardiovascular e metablica"})]})]}),B.jsx("div",{className:"procedure-image",children:B.jsx("img",{src:B_,alt:"Consulta mdica com avaliao cardiovascular"})})]}),B.jsxs("article",{className:"procedure-step",children:[B.jsx("div",{className:"procedure-image",alt:"Consulta mdica com avaliao cardiovascular",children:B.jsx("img",{src:B_})}),B.jsxs("div",{className:"procedure-content",children:[B.jsx("p",{className:"procedure-description",children:"Na sequncia, realizo um exame fsico completo, com ateno especial ao sistema cardiovascular, avaliando sinais importantes para um acompanhamento seguro e individualizado."}),B.jsx("p",{className:"procedure-description",children:"Com base nas diretrizes mdicas mais atualizadas, tambm oriento sobre vacinas e exames preventivos essenciais, sempre considerando idade, sexo, histrico pessoal e familiar, como:"}),B.jsxs("ul",{className:"procedure-list",role:"list",children:[B.jsx("li",{children:"Colonoscopia"}),B.jsx("li",{children:"Densitometria ssea"}),B.jsx("li",{children:"Avaliaes urolgicas ou ginecolgicas"}),B.jsx("li",{children:"Exames especficos para a sade cardiovascular"})]})]})]}),B.jsx("aside",{className:"procedure-highlight",children:B.jsx("p",{children:"O objetivo da consulta  oferecer um cuidado personalizado e preventivo, ajudando voc a compreender melhor sua sade, reduzir riscos e promover longevidade com qualidade de vida, sempre alinhando excelncia tcnica com um olhar atento s suas necessidades individuais."})})]}),B.jsx("section",{id:"sobre",className:"about",children:B.jsxs("div",{className:"about-container",children:[B.jsx("div",{className:"about-image",children:B.jsx("img",{src:z_,alt:"Dra. Lueine Barradas"})}),B.jsxs("div",{className:"about-content",children:[B.jsxs("header",{className:"section-header",children:[B.jsx("span",{className:"label",children:"SOBRE MIM"}),B.jsxs("h2",{children:["Conhea a ",B.jsx("br",{})," Dra. Lueine Barradas"]})]}),B.jsx("div",{className:"about-crm",children:"CRM PA 18364"}),B.jsx("div",{className:"about-image-mobile",children:B.jsx("img",{src:z_,alt:"Dra. Lueine Barradas"})}),B.jsx("p",{children:"Mdica formada pela Universidade do Vale do Itaja (UNIVALI), com atuao em Medicina de Famlia e Comunidade e foco em medicina preventiva e cuidado integral  sade."}),B.jsx("p",{children:"Atua em Bragana  Par, acompanhando pacientes de forma individualizada, com um olhar atento no apenas para a doena, mas para a pessoa como um todo."}),B.jsx("p",{children:"Acredita que cuidar da sade vai alm de tratar sintomas. Por isso, mantm atualizao contnua e atualmente realiza ps-graduao em Cardiologia e Imunizao Humana, integrando preveno, diagnstico e acompanhamento ao longo do tempo."}),B.jsx("p",{children:"Seu trabalho  baseado na escuta qualificada, na construo de vnculo e na elaborao de planos de cuidado que faam sentido para a realidade de cada paciente."}),B.jsx(og,{className:"about-button"})]})]})}),B.jsx(UD,{}),B.jsx(JR,{}),B.jsx(VD,{}),B.jsx(t4,{}),B.jsxs("section",{id:"contato",className:"contact",children:[B.jsxs("header",{className:"section-header",children:[B.jsx("span",{className:"label",children:"CONTATO"}),B.jsx("h2",{children:"Entre em contato conosco"})]}),B.jsxs("div",{className:"map-wrapper",children:[B.jsx("iframe",{title:"Mapa consultrio",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.1498290488926!2d-46.77125592417375!3d-1.0488539354144943!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x92aed980f8c377f7%3A0x14025d174ba7fb3!2sDra%20Lueine%20Barradas!5e0!3m2!1spt-BR!2sbr!4v1769569385545!5m2!1spt-BR!2sbr",loading:"lazy"}),B.jsxs("div",{className:"contact-cards",children:[B.jsxs("div",{className:"contact-card",children:[B.jsx(QD,{size:28}),B.jsxs("div",{children:[B.jsx("strong",{children:"Segunda a Sexta"}),B.jsx("p",{children:"08h at s 18h"})]})]}),B.jsxs("div",{className:"contact-card",children:[B.jsx(KD,{size:28}),B.jsxs("div",{children:[B.jsx("strong",{children:"Endereo"}),B.jsx("p",{children:"Av. Nazeazeno Ferreira, 60 - Padre Luiz, Bragana - PA"})]})]})]}),B.jsx("a",{href:"#",className:"contact-button",children:"Agendar Avaliao "})]})]})]})}function C4(){const{id:n}=nR(),[e,t]=ce.useState(null);if(ce.useEffect(()=>{async function a(){const l=xl(jo,"posts",n),c=await nx(l);t(c.data())}a()},[n]),!e)return B.jsx("p",{children:"Carregando..."});const r=window.location.href,o=new Date(e.date.seconds*1e3).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"});return B.jsxs(B.Fragment,{children:[e.featuredImage&&B.jsx("div",{className:"featured-image-full",children:B.jsx("img",{src:e.featuredImage,alt:e.title})}),B.jsxs("section",{className:"post-detail",children:[B.jsx("h1",{children:e.title}),B.jsx("p",{className:"description",children:e.summary}),B.jsx("div",{className:"meta",children:B.jsxs("div",{className:"author",children:[e.authorPhoto&&B.jsx("img",{src:e.authorPhoto,alt:"Autor",className:"author-photo"}),B.jsxs("div",{className:"author-info",children:[B.jsxs("span",{className:"author-name",children:["Publicado por ",e.authorName]}),B.jsxs("span",{className:"author-date",children:["em ",o]})]})]})}),B.jsxs("div",{className:"share-buttons",children:[B.jsxs("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(r)}`,target:"_blank",rel:"noopener noreferrer",children:[B.jsx(XD,{})," Facebook"]}),B.jsxs("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(r)}&text=${encodeURIComponent(e.title)}`,target:"_blank",rel:"noopener noreferrer",children:[B.jsx(ZD,{})," Twitter"]}),B.jsxs("a",{href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(r)}`,target:"_blank",rel:"noopener noreferrer",children:[B.jsx(JD,{})," LinkedIn"]})]}),B.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:e.content}})]})]})}var Xd,j0;function O4(){if(j0)return Xd;j0=1;function n(){this.__data__=[],this.size=0}return Xd=n,Xd}var Jd,V0;function Wb(){if(V0)return Jd;V0=1;function n(e,t){return e===t||e!==e&&t!==t}return Jd=n,Jd}var Zd,U0;function Bf(){if(U0)return Zd;U0=1;var n=Wb();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return Zd=e,Zd}var ep,F0;function x4(){if(F0)return ep;F0=1;var n=Bf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,l=n(a,o);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():t.call(a,l,1),--this.size,!0}return ep=r,ep}var tp,q0;function N4(){if(q0)return tp;q0=1;var n=Bf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return tp=e,tp}var np,B0;function L4(){if(B0)return np;B0=1;var n=Bf();function e(t){return n(this.__data__,t)>-1}return np=e,np}var rp,z0;function D4(){if(z0)return rp;z0=1;var n=Bf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return rp=e,rp}var ip,H0;function zf(){if(H0)return ip;H0=1;var n=O4(),e=x4(),t=N4(),r=L4(),o=D4();function a(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var g=l[c];this.set(g[0],g[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,ip=a,ip}var op,$0;function M4(){if($0)return op;$0=1;var n=zf();function e(){this.__data__=new n,this.size=0}return op=e,op}var sp,W0;function j4(){if(W0)return sp;W0=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return sp=n,sp}var ap,K0;function V4(){if(K0)return ap;K0=1;function n(e){return this.__data__.get(e)}return ap=n,ap}var lp,G0;function U4(){if(G0)return lp;G0=1;function n(e){return this.__data__.has(e)}return lp=n,lp}var up,Q0;function Kb(){if(Q0)return up;Q0=1;var n=typeof Ec=="object"&&Ec&&Ec.Object===Object&&Ec;return up=n,up}var cp,Y0;function mi(){if(Y0)return cp;Y0=1;var n=Kb(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return cp=t,cp}var fp,X0;function gy(){if(X0)return fp;X0=1;var n=mi(),e=n.Symbol;return fp=e,fp}var hp,J0;function F4(){if(J0)return hp;J0=1;var n=gy(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(l){var c=t.call(l,o),h=l[o];try{l[o]=void 0;var g=!0}catch{}var v=r.call(l);return g&&(c?l[o]=h:delete l[o]),v}return hp=a,hp}var dp,Z0;function q4(){if(Z0)return dp;Z0=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return dp=t,dp}var pp,eE;function Hf(){if(eE)return pp;eE=1;var n=gy(),e=F4(),t=q4(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function l(c){return c==null?c===void 0?o:r:a&&a in Object(c)?e(c):t(c)}return pp=l,pp}var mp,tE;function Gb(){if(tE)return mp;tE=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return mp=n,mp}var gp,nE;function Qb(){if(nE)return gp;nE=1;var n=Hf(),e=Gb(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!e(c))return!1;var h=n(c);return h==r||h==o||h==t||h==a}return gp=l,gp}var yp,rE;function B4(){if(rE)return yp;rE=1;var n=mi(),e=n["__core-js_shared__"];return yp=e,yp}var vp,iE;function z4(){if(iE)return vp;iE=1;var n=B4(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return vp=t,vp}var _p,oE;function Yb(){if(oE)return _p;oE=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return _p=t,_p}var Ep,sE;function H4(){if(sE)return Ep;sE=1;var n=Qb(),e=z4(),t=Gb(),r=Yb(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,h=l.toString,g=c.hasOwnProperty,v=RegExp("^"+h.call(g).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(d){if(!t(d)||e(d))return!1;var y=n(d)?v:a;return y.test(r(d))}return Ep=m,Ep}var wp,aE;function $4(){if(aE)return wp;aE=1;function n(e,t){return e?.[t]}return wp=n,wp}var Tp,lE;function Ta(){if(lE)return Tp;lE=1;var n=H4(),e=$4();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Tp=t,Tp}var Ap,uE;function yy(){if(uE)return Ap;uE=1;var n=Ta(),e=mi(),t=n(e,"Map");return Ap=t,Ap}var bp,cE;function $f(){if(cE)return bp;cE=1;var n=Ta(),e=n(Object,"create");return bp=e,bp}var Sp,fE;function W4(){if(fE)return Sp;fE=1;var n=$f();function e(){this.__data__=n?n(null):{},this.size=0}return Sp=e,Sp}var Ip,hE;function K4(){if(hE)return Ip;hE=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return Ip=n,Ip}var Rp,dE;function G4(){if(dE)return Rp;dE=1;var n=$f(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var l=this.__data__;if(n){var c=l[a];return c===e?void 0:c}return r.call(l,a)?l[a]:void 0}return Rp=o,Rp}var kp,pE;function Q4(){if(pE)return kp;pE=1;var n=$f(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return kp=r,kp}var Pp,mE;function Y4(){if(mE)return Pp;mE=1;var n=$f(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return Pp=t,Pp}var Cp,gE;function X4(){if(gE)return Cp;gE=1;var n=W4(),e=K4(),t=G4(),r=Q4(),o=Y4();function a(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var g=l[c];this.set(g[0],g[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Cp=a,Cp}var Op,yE;function J4(){if(yE)return Op;yE=1;var n=X4(),e=zf(),t=yy();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Op=r,Op}var xp,vE;function Z4(){if(vE)return xp;vE=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return xp=n,xp}var Np,_E;function Wf(){if(_E)return Np;_E=1;var n=Z4();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return Np=e,Np}var Lp,EE;function eM(){if(EE)return Lp;EE=1;var n=Wf();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return Lp=e,Lp}var Dp,wE;function tM(){if(wE)return Dp;wE=1;var n=Wf();function e(t){return n(this,t).get(t)}return Dp=e,Dp}var Mp,TE;function nM(){if(TE)return Mp;TE=1;var n=Wf();function e(t){return n(this,t).has(t)}return Mp=e,Mp}var jp,AE;function rM(){if(AE)return jp;AE=1;var n=Wf();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return jp=e,jp}var Vp,bE;function Xb(){if(bE)return Vp;bE=1;var n=J4(),e=eM(),t=tM(),r=nM(),o=rM();function a(l){var c=-1,h=l==null?0:l.length;for(this.clear();++c<h;){var g=l[c];this.set(g[0],g[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Vp=a,Vp}var Up,SE;function iM(){if(SE)return Up;SE=1;var n=zf(),e=yy(),t=Xb(),r=200;function o(a,l){var c=this.__data__;if(c instanceof n){var h=c.__data__;if(!e||h.length<r-1)return h.push([a,l]),this.size=++c.size,this;c=this.__data__=new t(h)}return c.set(a,l),this.size=c.size,this}return Up=o,Up}var Fp,IE;function oM(){if(IE)return Fp;IE=1;var n=zf(),e=M4(),t=j4(),r=V4(),o=U4(),a=iM();function l(c){var h=this.__data__=new n(c);this.size=h.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=o,l.prototype.set=a,Fp=l,Fp}var qp,RE;function sM(){if(RE)return qp;RE=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return qp=e,qp}var Bp,kE;function aM(){if(kE)return Bp;kE=1;function n(e){return this.__data__.has(e)}return Bp=n,Bp}var zp,PE;function lM(){if(PE)return zp;PE=1;var n=Xb(),e=sM(),t=aM();function r(o){var a=-1,l=o==null?0:o.length;for(this.__data__=new n;++a<l;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,zp=r,zp}var Hp,CE;function uM(){if(CE)return Hp;CE=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return Hp=n,Hp}var $p,OE;function cM(){if(OE)return $p;OE=1;function n(e,t){return e.has(t)}return $p=n,$p}var Wp,xE;function Jb(){if(xE)return Wp;xE=1;var n=lM(),e=uM(),t=cM(),r=1,o=2;function a(l,c,h,g,v,m){var d=h&r,y=l.length,S=c.length;if(y!=S&&!(d&&S>y))return!1;var E=m.get(l),_=m.get(c);if(E&&_)return E==c&&_==l;var A=-1,w=!0,P=h&o?new n:void 0;for(m.set(l,c),m.set(c,l);++A<y;){var b=l[A],D=c[A];if(g)var U=d?g(D,b,A,c,l,m):g(b,D,A,l,c,m);if(U!==void 0){if(U)continue;w=!1;break}if(P){if(!e(c,function(k,R){if(!t(P,R)&&(b===k||v(b,k,h,g,m)))return P.push(R)})){w=!1;break}}else if(!(b===D||v(b,D,h,g,m))){w=!1;break}}return m.delete(l),m.delete(c),w}return Wp=a,Wp}var Kp,NE;function fM(){if(NE)return Kp;NE=1;var n=mi(),e=n.Uint8Array;return Kp=e,Kp}var Gp,LE;function hM(){if(LE)return Gp;LE=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return Gp=n,Gp}var Qp,DE;function dM(){if(DE)return Qp;DE=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return Qp=n,Qp}var Yp,ME;function pM(){if(ME)return Yp;ME=1;var n=gy(),e=fM(),t=Wb(),r=Jb(),o=hM(),a=dM(),l=1,c=2,h="[object Boolean]",g="[object Date]",v="[object Error]",m="[object Map]",d="[object Number]",y="[object RegExp]",S="[object Set]",E="[object String]",_="[object Symbol]",A="[object ArrayBuffer]",w="[object DataView]",P=n?n.prototype:void 0,b=P?P.valueOf:void 0;function D(U,k,R,M,x,I,L){switch(R){case w:if(U.byteLength!=k.byteLength||U.byteOffset!=k.byteOffset)return!1;U=U.buffer,k=k.buffer;case A:return!(U.byteLength!=k.byteLength||!I(new e(U),new e(k)));case h:case g:case d:return t(+U,+k);case v:return U.name==k.name&&U.message==k.message;case y:case E:return U==k+"";case m:var N=o;case S:var $=M&l;if(N||(N=a),U.size!=k.size&&!$)return!1;var G=L.get(U);if(G)return G==k;M|=c,L.set(U,k);var ie=r(N(U),N(k),M,x,I,L);return L.delete(U),ie;case _:if(b)return b.call(U)==b.call(k)}return!1}return Yp=D,Yp}var Xp,jE;function mM(){if(jE)return Xp;jE=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return Xp=n,Xp}var Jp,VE;function vy(){if(VE)return Jp;VE=1;var n=Array.isArray;return Jp=n,Jp}var Zp,UE;function gM(){if(UE)return Zp;UE=1;var n=mM(),e=vy();function t(r,o,a){var l=o(r);return e(r)?l:n(l,a(r))}return Zp=t,Zp}var em,FE;function yM(){if(FE)return em;FE=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,l=[];++r<o;){var c=e[r];t(c,r,e)&&(l[a++]=c)}return l}return em=n,em}var tm,qE;function vM(){if(qE)return tm;qE=1;function n(){return[]}return tm=n,tm}var nm,BE;function _M(){if(BE)return nm;BE=1;var n=yM(),e=vM(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(l){return l==null?[]:(l=Object(l),n(o(l),function(c){return r.call(l,c)}))}:e;return nm=a,nm}var rm,zE;function EM(){if(zE)return rm;zE=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return rm=n,rm}var im,HE;function Kf(){if(HE)return im;HE=1;function n(e){return e!=null&&typeof e=="object"}return im=n,im}var om,$E;function wM(){if($E)return om;$E=1;var n=Hf(),e=Kf(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return om=r,om}var sm,WE;function TM(){if(WE)return sm;WE=1;var n=wM(),e=Kf(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n((function(){return arguments})())?n:function(l){return e(l)&&r.call(l,"callee")&&!o.call(l,"callee")};return sm=a,sm}var Sl={exports:{}},am,KE;function AM(){if(KE)return am;KE=1;function n(){return!1}return am=n,am}Sl.exports;var GE;function Zb(){return GE||(GE=1,(function(n,e){var t=mi(),r=AM(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,l=a&&a.exports===o,c=l?t.Buffer:void 0,h=c?c.isBuffer:void 0,g=h||r;n.exports=g})(Sl,Sl.exports)),Sl.exports}var lm,QE;function bM(){if(QE)return lm;QE=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return lm=t,lm}var um,YE;function eS(){if(YE)return um;YE=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return um=e,um}var cm,XE;function SM(){if(XE)return cm;XE=1;var n=Hf(),e=eS(),t=Kf(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",h="[object Function]",g="[object Map]",v="[object Number]",m="[object Object]",d="[object RegExp]",y="[object Set]",S="[object String]",E="[object WeakMap]",_="[object ArrayBuffer]",A="[object DataView]",w="[object Float32Array]",P="[object Float64Array]",b="[object Int8Array]",D="[object Int16Array]",U="[object Int32Array]",k="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",x="[object Uint32Array]",I={};I[w]=I[P]=I[b]=I[D]=I[U]=I[k]=I[R]=I[M]=I[x]=!0,I[r]=I[o]=I[_]=I[a]=I[A]=I[l]=I[c]=I[h]=I[g]=I[v]=I[m]=I[d]=I[y]=I[S]=I[E]=!1;function L(N){return t(N)&&e(N.length)&&!!I[n(N)]}return cm=L,cm}var fm,JE;function IM(){if(JE)return fm;JE=1;function n(e){return function(t){return e(t)}}return fm=n,fm}var Il={exports:{}};Il.exports;var ZE;function RM(){return ZE||(ZE=1,(function(n,e){var t=Kb(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,l=a&&t.process,c=(function(){try{var h=o&&o.require&&o.require("util").types;return h||l&&l.binding&&l.binding("util")}catch{}})();n.exports=c})(Il,Il.exports)),Il.exports}var hm,ew;function tS(){if(ew)return hm;ew=1;var n=SM(),e=IM(),t=RM(),r=t&&t.isTypedArray,o=r?e(r):n;return hm=o,hm}var dm,tw;function kM(){if(tw)return dm;tw=1;var n=EM(),e=TM(),t=vy(),r=Zb(),o=bM(),a=tS(),l=Object.prototype,c=l.hasOwnProperty;function h(g,v){var m=t(g),d=!m&&e(g),y=!m&&!d&&r(g),S=!m&&!d&&!y&&a(g),E=m||d||y||S,_=E?n(g.length,String):[],A=_.length;for(var w in g)(v||c.call(g,w))&&!(E&&(w=="length"||y&&(w=="offset"||w=="parent")||S&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||o(w,A)))&&_.push(w);return _}return dm=h,dm}var pm,nw;function PM(){if(nw)return pm;nw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return pm=e,pm}var mm,rw;function CM(){if(rw)return mm;rw=1;function n(e,t){return function(r){return e(t(r))}}return mm=n,mm}var gm,iw;function OM(){if(iw)return gm;iw=1;var n=CM(),e=n(Object.keys,Object);return gm=e,gm}var ym,ow;function xM(){if(ow)return ym;ow=1;var n=PM(),e=OM(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var l=[];for(var c in Object(a))r.call(a,c)&&c!="constructor"&&l.push(c);return l}return ym=o,ym}var vm,sw;function NM(){if(sw)return vm;sw=1;var n=Qb(),e=eS();function t(r){return r!=null&&e(r.length)&&!n(r)}return vm=t,vm}var _m,aw;function LM(){if(aw)return _m;aw=1;var n=kM(),e=xM(),t=NM();function r(o){return t(o)?n(o):e(o)}return _m=r,_m}var Em,lw;function DM(){if(lw)return Em;lw=1;var n=gM(),e=_M(),t=LM();function r(o){return n(o,t,e)}return Em=r,Em}var wm,uw;function MM(){if(uw)return wm;uw=1;var n=DM(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,l,c,h,g,v){var m=c&e,d=n(a),y=d.length,S=n(l),E=S.length;if(y!=E&&!m)return!1;for(var _=y;_--;){var A=d[_];if(!(m?A in l:r.call(l,A)))return!1}var w=v.get(a),P=v.get(l);if(w&&P)return w==l&&P==a;var b=!0;v.set(a,l),v.set(l,a);for(var D=m;++_<y;){A=d[_];var U=a[A],k=l[A];if(h)var R=m?h(k,U,A,l,a,v):h(U,k,A,a,l,v);if(!(R===void 0?U===k||g(U,k,c,h,v):R)){b=!1;break}D||(D=A=="constructor")}if(b&&!D){var M=a.constructor,x=l.constructor;M!=x&&"constructor"in a&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof x=="function"&&x instanceof x)&&(b=!1)}return v.delete(a),v.delete(l),b}return wm=o,wm}var Tm,cw;function jM(){if(cw)return Tm;cw=1;var n=Ta(),e=mi(),t=n(e,"DataView");return Tm=t,Tm}var Am,fw;function VM(){if(fw)return Am;fw=1;var n=Ta(),e=mi(),t=n(e,"Promise");return Am=t,Am}var bm,hw;function UM(){if(hw)return bm;hw=1;var n=Ta(),e=mi(),t=n(e,"Set");return bm=t,bm}var Sm,dw;function FM(){if(dw)return Sm;dw=1;var n=Ta(),e=mi(),t=n(e,"WeakMap");return Sm=t,Sm}var Im,pw;function qM(){if(pw)return Im;pw=1;var n=jM(),e=yy(),t=VM(),r=UM(),o=FM(),a=Hf(),l=Yb(),c="[object Map]",h="[object Object]",g="[object Promise]",v="[object Set]",m="[object WeakMap]",d="[object DataView]",y=l(n),S=l(e),E=l(t),_=l(r),A=l(o),w=a;return(n&&w(new n(new ArrayBuffer(1)))!=d||e&&w(new e)!=c||t&&w(t.resolve())!=g||r&&w(new r)!=v||o&&w(new o)!=m)&&(w=function(P){var b=a(P),D=b==h?P.constructor:void 0,U=D?l(D):"";if(U)switch(U){case y:return d;case S:return c;case E:return g;case _:return v;case A:return m}return b}),Im=w,Im}var Rm,mw;function BM(){if(mw)return Rm;mw=1;var n=oM(),e=Jb(),t=pM(),r=MM(),o=qM(),a=vy(),l=Zb(),c=tS(),h=1,g="[object Arguments]",v="[object Array]",m="[object Object]",d=Object.prototype,y=d.hasOwnProperty;function S(E,_,A,w,P,b){var D=a(E),U=a(_),k=D?v:o(E),R=U?v:o(_);k=k==g?m:k,R=R==g?m:R;var M=k==m,x=R==m,I=k==R;if(I&&l(E)){if(!l(_))return!1;D=!0,M=!1}if(I&&!M)return b||(b=new n),D||c(E)?e(E,_,A,w,P,b):t(E,_,k,A,w,P,b);if(!(A&h)){var L=M&&y.call(E,"__wrapped__"),N=x&&y.call(_,"__wrapped__");if(L||N){var $=L?E.value():E,G=N?_.value():_;return b||(b=new n),P($,G,A,w,b)}}return I?(b||(b=new n),r(E,_,A,w,P,b)):!1}return Rm=S,Rm}var km,gw;function zM(){if(gw)return km;gw=1;var n=BM(),e=Kf();function t(r,o,a,l,c){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,l,t,c)}return km=t,km}var Pm,yw;function HM(){if(yw)return Pm;yw=1;var n=zM();function e(t,r){return n(t,r)}return Pm=e,Pm}var $c={exports:{}};var $M=$c.exports,vw;function WM(){return vw||(vw=1,(function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:$M,function(){return(function(t){var r={};function o(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=t,o.c=r,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:c})},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s=109)})([(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),l=o(18),c=o(19),h=o(45),g=o(46),v=o(47),m=o(48),d=o(49),y=o(12),S=o(32),E=o(33),_=o(31),A=o(1),w={Scope:A.Scope,create:A.create,find:A.find,query:A.query,register:A.register,Container:a.default,Format:l.default,Leaf:c.default,Embed:m.default,Scroll:h.default,Block:v.default,Inline:g.default,Text:d.default,Attributor:{Attribute:y.default,Class:S.default,Style:E.default,Store:_.default}};r.default=w}),(function(t,r,o){var a=this&&this.__extends||(function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,w){A.__proto__=w}||function(A,w){for(var P in w)w.hasOwnProperty(P)&&(A[P]=w[P])};return function(A,w){_(A,w);function P(){this.constructor=A}A.prototype=w===null?Object.create(w):(P.prototype=w.prototype,new P)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=(function(_){a(A,_);function A(w){var P=this;return w="[Parchment] "+w,P=_.call(this,w)||this,P.message=w,P.name=P.constructor.name,P}return A})(Error);r.ParchmentError=l;var c={},h={},g={},v={};r.DATA_KEY="__blot";var m;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function d(_,A){var w=S(_);if(w==null)throw new l("Unable to create "+_+" blot");var P=w,b=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:P.create(A);return new P(b,A)}r.create=d;function y(_,A){return A===void 0&&(A=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:A?y(_.parentNode,A):null}r.find=y;function S(_,A){A===void 0&&(A=m.ANY);var w;if(typeof _=="string")w=v[_]||c[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)w=v.text;else if(typeof _=="number")_&m.LEVEL&m.BLOCK?w=v.block:_&m.LEVEL&m.INLINE&&(w=v.inline);else if(_ instanceof HTMLElement){var P=(_.getAttribute("class")||"").split(/\s+/);for(var b in P)if(w=h[P[b]],w)break;w=w||g[_.tagName]}return w==null?null:A&m.LEVEL&w.scope&&A&m.TYPE&w.scope?w:null}r.query=S;function E(){for(var _=[],A=0;A<arguments.length;A++)_[A]=arguments[A];if(_.length>1)return _.map(function(b){return E(b)});var w=_[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new l("Invalid definition");if(w.blotName==="abstract")throw new l("Cannot register abstract class");if(v[w.blotName||w.attrName]=w,typeof w.keyName=="string")c[w.keyName]=w;else if(w.className!=null&&(h[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(b){return b.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var P=Array.isArray(w.tagName)?w.tagName:[w.tagName];P.forEach(function(b){(g[b]==null||w.className==null)&&(g[b]=w)})}return w}r.register=E}),(function(t,r,o){var a=o(51),l=o(11),c=o(3),h=o(20),g="\0",v=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};v.prototype.insert=function(m,d){var y={};return m.length===0?this:(y.insert=m,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},v.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},v.prototype.retain=function(m,d){if(m<=0)return this;var y={retain:m};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},v.prototype.push=function(m){var d=this.ops.length,y=this.ops[d-1];if(m=c(!0,{},m),typeof y=="object"){if(typeof m.delete=="number"&&typeof y.delete=="number")return this.ops[d-1]={delete:y.delete+m.delete},this;if(typeof y.delete=="number"&&m.insert!=null&&(d-=1,y=this.ops[d-1],typeof y!="object"))return this.ops.unshift(m),this;if(l(m.attributes,y.attributes)){if(typeof m.insert=="string"&&typeof y.insert=="string")return this.ops[d-1]={insert:y.insert+m.insert},typeof m.attributes=="object"&&(this.ops[d-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof y.retain=="number")return this.ops[d-1]={retain:y.retain+m.retain},typeof m.attributes=="object"&&(this.ops[d-1].attributes=m.attributes),this}}return d===this.ops.length?this.ops.push(m):this.ops.splice(d,0,m),this},v.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},v.prototype.filter=function(m){return this.ops.filter(m)},v.prototype.forEach=function(m){this.ops.forEach(m)},v.prototype.map=function(m){return this.ops.map(m)},v.prototype.partition=function(m){var d=[],y=[];return this.forEach(function(S){var E=m(S)?d:y;E.push(S)}),[d,y]},v.prototype.reduce=function(m,d){return this.ops.reduce(m,d)},v.prototype.changeLength=function(){return this.reduce(function(m,d){return d.insert?m+h.length(d):d.delete?m-d.delete:m},0)},v.prototype.length=function(){return this.reduce(function(m,d){return m+h.length(d)},0)},v.prototype.slice=function(m,d){m=m||0,typeof d!="number"&&(d=1/0);for(var y=[],S=h.iterator(this.ops),E=0;E<d&&S.hasNext();){var _;E<m?_=S.next(m-E):(_=S.next(d-E),y.push(_)),E+=h.length(_)}return new v(y)},v.prototype.compose=function(m){var d=h.iterator(this.ops),y=h.iterator(m.ops),S=[],E=y.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){for(var _=E.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),S.push(d.next());E.retain-_>0&&y.next(E.retain-_)}for(var A=new v(S);d.hasNext()||y.hasNext();)if(y.peekType()==="insert")A.push(y.next());else if(d.peekType()==="delete")A.push(d.next());else{var w=Math.min(d.peekLength(),y.peekLength()),P=d.next(w),b=y.next(w);if(typeof b.retain=="number"){var D={};typeof P.retain=="number"?D.retain=w:D.insert=P.insert;var U=h.attributes.compose(P.attributes,b.attributes,typeof P.retain=="number");if(U&&(D.attributes=U),A.push(D),!y.hasNext()&&l(A.ops[A.ops.length-1],D)){var k=new v(d.rest());return A.concat(k).chop()}}else typeof b.delete=="number"&&typeof P.retain=="number"&&A.push(b)}return A.chop()},v.prototype.concat=function(m){var d=new v(this.ops.slice());return m.ops.length>0&&(d.push(m.ops[0]),d.ops=d.ops.concat(m.ops.slice(1))),d},v.prototype.diff=function(m,d){if(this.ops===m.ops)return new v;var y=[this,m].map(function(w){return w.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:g;var b=w===m?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),S=new v,E=a(y[0],y[1],d),_=h.iterator(this.ops),A=h.iterator(m.ops);return E.forEach(function(w){for(var P=w[1].length;P>0;){var b=0;switch(w[0]){case a.INSERT:b=Math.min(A.peekLength(),P),S.push(A.next(b));break;case a.DELETE:b=Math.min(P,_.peekLength()),_.next(b),S.delete(b);break;case a.EQUAL:b=Math.min(_.peekLength(),A.peekLength(),P);var D=_.next(b),U=A.next(b);l(D.insert,U.insert)?S.retain(b,h.attributes.diff(D.attributes,U.attributes)):S.push(U).delete(b);break}P-=b}}),S.chop()},v.prototype.eachLine=function(m,d){d=d||`
`;for(var y=h.iterator(this.ops),S=new v,E=0;y.hasNext();){if(y.peekType()!=="insert")return;var _=y.peek(),A=h.length(_)-y.peekLength(),w=typeof _.insert=="string"?_.insert.indexOf(d,A)-A:-1;if(w<0)S.push(y.next());else if(w>0)S.push(y.next(w));else{if(m(S,y.next(1).attributes||{},E)===!1)return;E+=1,S=new v}}S.length()>0&&m(S,{},E)},v.prototype.transform=function(m,d){if(d=!!d,typeof m=="number")return this.transformPosition(m,d);for(var y=h.iterator(this.ops),S=h.iterator(m.ops),E=new v;y.hasNext()||S.hasNext();)if(y.peekType()==="insert"&&(d||S.peekType()!=="insert"))E.retain(h.length(y.next()));else if(S.peekType()==="insert")E.push(S.next());else{var _=Math.min(y.peekLength(),S.peekLength()),A=y.next(_),w=S.next(_);if(A.delete)continue;w.delete?E.push(w):E.retain(_,h.attributes.transform(A.attributes,w.attributes,d))}return E.chop()},v.prototype.transformPosition=function(m,d){d=!!d;for(var y=h.iterator(this.ops),S=0;y.hasNext()&&S<=m;){var E=y.peekLength(),_=y.peekType();if(y.next(),_==="delete"){m-=Math.min(E,m-S);continue}else _==="insert"&&(S<m||!d)&&(m+=E);S+=E}return m},t.exports=v}),(function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},g=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var S=o.call(y,"constructor"),E=y.constructor&&y.constructor.prototype&&o.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!S&&!E)return!1;var _;for(_ in y);return typeof _>"u"||o.call(y,_)},v=function(y,S){l&&S.name==="__proto__"?l(y,S.name,{enumerable:!0,configurable:!0,value:S.newValue,writable:!0}):y[S.name]=S.newValue},m=function(y,S){if(S==="__proto__")if(o.call(y,S)){if(c)return c(y,S).value}else return;return y[S]};t.exports=function d(){var y,S,E,_,A,w,P=arguments[0],b=1,D=arguments.length,U=!1;for(typeof P=="boolean"&&(U=P,P=arguments[1]||{},b=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});b<D;++b)if(y=arguments[b],y!=null)for(S in y)E=m(P,S),_=m(y,S),P!==_&&(U&&_&&(g(_)||(A=h(_)))?(A?(A=!1,w=E&&h(E)?E:[]):w=E&&g(E)?E:{},v(P,{name:S,newValue:d(U,w,_)})):typeof _<"u"&&v(P,{name:S,newValue:_}));return P}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=(function(){function I(L,N){for(var $=0;$<N.length;$++){var G=N[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,$){return N&&I(L.prototype,N),$&&I(L,$),L}})(),l=function I(L,N,$){L===null&&(L=Function.prototype);var G=Object.getOwnPropertyDescriptor(L,N);if(G===void 0){var ie=Object.getPrototypeOf(L);return ie===null?void 0:I(ie,N,$)}else{if("value"in G)return G.value;var re=G.get;return re===void 0?void 0:re.call($)}},c=o(3),h=P(c),g=o(2),v=P(g),m=o(0),d=P(m),y=o(16),S=P(y),E=o(6),_=P(E),A=o(7),w=P(A);function P(I){return I&&I.__esModule?I:{default:I}}function b(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function D(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function U(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var k=1,R=(function(I){U(L,I);function L(){return b(this,L),D(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"attach",value:function(){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,h.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function($,G){var ie=d.default.query($,d.default.Scope.BLOCK_ATTRIBUTE);ie!=null&&this.attributes.attribute(ie,G)}},{key:"formatAt",value:function($,G,ie,re){this.format(ie,re)}},{key:"insertAt",value:function($,G,ie){if(typeof G=="string"&&G.endsWith(`
`)){var re=d.default.create(M.blotName);this.parent.insertBefore(re,$===0?this:this.next),re.insertAt(0,G.slice(0,-1))}else l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,G,ie)}}]),L})(d.default.Embed);R.scope=d.default.Scope.BLOCK_BLOT;var M=(function(I){U(L,I);function L(N){b(this,L);var $=D(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N));return $.cache={},$}return a(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function($,G){return G.length()===0?$:$.insert(G.value(),x(G))},new v.default).insert(`
`,x(this))),this.cache.delta}},{key:"deleteAt",value:function($,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,$,G),this.cache={}}},{key:"formatAt",value:function($,G,ie,re){G<=0||(d.default.query(ie,d.default.Scope.BLOCK)?$+G===this.length()&&this.format(ie,re):l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,$,Math.min(G,this.length()-$-1),ie,re),this.cache={})}},{key:"insertAt",value:function($,G,ie){if(ie!=null)return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,$,G,ie);if(G.length!==0){var re=G.split(`
`),se=re.shift();se.length>0&&($<this.length()-1||this.children.tail==null?l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min($,this.length()-1),se):this.children.tail.insertAt(this.children.tail.length(),se),this.cache={});var X=this;re.reduce(function(W,j){return X=X.split(W,!0),X.insertAt(0,j),j.length},$+se.length)}}},{key:"insertBefore",value:function($,G){var ie=this.children.head;l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,$,G),ie instanceof S.default&&ie.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+k),this.cache.length}},{key:"moveChildren",value:function($,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,$,G),this.cache={}}},{key:"optimize",value:function($){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,$),this.cache={}}},{key:"path",value:function($){return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,$,!0)}},{key:"removeChild",value:function($){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,$),this.cache={}}},{key:"split",value:function($){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&($===0||$>=this.length()-k)){var ie=this.clone();return $===0?(this.parent.insertBefore(ie,this),this):(this.parent.insertBefore(ie,this.next),ie)}else{var re=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,$,G);return this.cache={},re}}}]),L})(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[_.default,d.default.Embed,w.default];function x(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(L=(0,h.default)(L,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?L:x(I.parent,L)}r.bubbleFormats=x,r.BlockEmbed=R,r.default=M}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},l=(function(){function X(W,j){var q=[],K=!0,Y=!1,Z=void 0;try{for(var z=W[Symbol.iterator](),J;!(K=(J=z.next()).done)&&(q.push(J.value),!(j&&q.length===j));K=!0);}catch(ne){Y=!0,Z=ne}finally{try{!K&&z.return&&z.return()}finally{if(Y)throw Z}}return q}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return X(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function X(W,j){for(var q=0;q<j.length;q++){var K=j[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,q){return j&&X(W.prototype,j),q&&X(W,q),W}})();o(50);var h=o(2),g=x(h),v=o(14),m=x(v),d=o(8),y=x(d),S=o(9),E=x(S),_=o(0),A=x(_),w=o(15),P=x(w),b=o(3),D=x(b),U=o(10),k=x(U),R=o(34),M=x(R);function x(X){return X&&X.__esModule?X:{default:X}}function I(X,W,j){return W in X?Object.defineProperty(X,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):X[W]=j,X}function L(X,W){if(!(X instanceof W))throw new TypeError("Cannot call a class as a function")}var N=(0,k.default)("quill"),$=(function(){c(X,null,[{key:"debug",value:function(j){j===!0&&(j="log"),k.default.level(j)}},{key:"find",value:function(j){return j.__quill||A.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&N.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,q){var K=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var Z=j.attrName||j.blotName;typeof Z=="string"?this.register("formats/"+Z,j,q):Object.keys(j).forEach(function(z){K.register(z,j[z],q)})}else this.imports[j]!=null&&!Y&&N.warn("Overwriting "+j+" with",q),this.imports[j]=q,(j.startsWith("blots/")||j.startsWith("formats/"))&&q.blotName!=="abstract"?A.default.register(q):j.startsWith("modules")&&typeof q.register=="function"&&q.register()}}]);function X(W){var j=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,X),this.options=G(W,q),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",W);this.options.debug&&X.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=A.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new P.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(Z){Z===y.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(Z,z){var J=j.selection.lastRange,ne=J&&J.length===0?J.index:void 0;ie.call(j,function(){return j.editor.update(null,z,ne)},Z)});var Y=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(Y),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(X,[{key:"addContainer",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var K=j;j=document.createElement("div"),j.classList.add(K)}return this.container.insertBefore(j,q),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,q,K){var Y=this,Z=re(j,q,K),z=l(Z,4);return j=z[0],q=z[1],K=z[3],ie.call(this,function(){return Y.editor.deleteText(j,q)},K,j,-1*q)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,q){var K=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return ie.call(this,function(){var Z=K.getSelection(!0),z=new g.default;if(Z==null)return z;if(A.default.query(j,A.default.Scope.BLOCK))z=K.editor.formatLine(Z.index,Z.length,I({},j,q));else{if(Z.length===0)return K.selection.format(j,q),z;z=K.editor.formatText(Z.index,Z.length,I({},j,q))}return K.setSelection(Z,y.default.sources.SILENT),z},Y)}},{key:"formatLine",value:function(j,q,K,Y,Z){var z=this,J=void 0,ne=re(j,q,K,Y,Z),oe=l(ne,4);return j=oe[0],q=oe[1],J=oe[2],Z=oe[3],ie.call(this,function(){return z.editor.formatLine(j,q,J)},Z,j,0)}},{key:"formatText",value:function(j,q,K,Y,Z){var z=this,J=void 0,ne=re(j,q,K,Y,Z),oe=l(ne,4);return j=oe[0],q=oe[1],J=oe[2],Z=oe[3],ie.call(this,function(){return z.editor.formatText(j,q,J)},Z,j,0)}},{key:"getBounds",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof j=="number"?K=this.selection.getBounds(j,q):K=this.selection.getBounds(j.index,j.length);var Y=this.container.getBoundingClientRect();return{bottom:K.bottom-Y.top,height:K.height,left:K.left-Y.left,right:K.right-Y.left,top:K.top-Y.top,width:K.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=re(j,q),Y=l(K,2);return j=Y[0],q=Y[1],this.editor.getContents(j,q)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,q):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,q)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=re(j,q),Y=l(K,2);return j=Y[0],q=Y[1],this.editor.getText(j,q)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,q,K){var Y=this,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X.sources.API;return ie.call(this,function(){return Y.editor.insertEmbed(j,q,K)},Z,j)}},{key:"insertText",value:function(j,q,K,Y,Z){var z=this,J=void 0,ne=re(j,0,K,Y,Z),oe=l(ne,4);return j=oe[0],J=oe[2],Z=oe[3],ie.call(this,function(){return z.editor.insertText(j,q,J)},Z,j,q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,q,K){this.clipboard.dangerouslyPasteHTML(j,q,K)}},{key:"removeFormat",value:function(j,q,K){var Y=this,Z=re(j,q,K),z=l(Z,4);return j=z[0],q=z[1],K=z[3],ie.call(this,function(){return Y.editor.removeFormat(j,q)},K,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ie.call(this,function(){j=new g.default(j);var Y=q.getLength(),Z=q.editor.deleteText(0,Y),z=q.editor.applyDelta(j),J=z.ops[z.ops.length-1];J!=null&&typeof J.insert=="string"&&J.insert[J.insert.length-1]===`
`&&(q.editor.deleteText(q.getLength()-1,1),z.delete(1));var ne=Z.compose(z);return ne},K)}},{key:"setSelection",value:function(j,q,K){if(j==null)this.selection.setRange(null,q||X.sources.API);else{var Y=re(j,q,K),Z=l(Y,4);j=Z[0],q=Z[1],K=Z[3],this.selection.setRange(new w.Range(j,q),K),K!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,K=new g.default().insert(j);return this.setContents(K,q)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,q=this.scroll.update(j);return this.selection.update(j),q}},{key:"updateContents",value:function(j){var q=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ie.call(this,function(){return j=new g.default(j),q.editor.applyDelta(j,K)},K,!0)}}]),X})();$.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},$.events=y.default.events,$.sources=y.default.sources,$.version="1.3.7",$.imports={delta:g.default,parchment:A.default,"core/module":E.default,"core/theme":M.default};function G(X,W){if(W=(0,D.default)(!0,{container:X,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===$.DEFAULTS.theme)W.theme=M.default;else if(W.theme=$.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var j=(0,D.default)(!0,{},W.theme.DEFAULTS);[j,W].forEach(function(Y){Y.modules=Y.modules||{},Object.keys(Y.modules).forEach(function(Z){Y.modules[Z]===!0&&(Y.modules[Z]={})})});var q=Object.keys(j.modules).concat(Object.keys(W.modules)),K=q.reduce(function(Y,Z){var z=$.import("modules/"+Z);return z==null?N.error("Cannot load "+Z+" module. Are you sure you registered it?"):Y[Z]=z.DEFAULTS||{},Y},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,D.default)(!0,{},$.DEFAULTS,{modules:K},j,W),["bounds","container","scrollingContainer"].forEach(function(Y){typeof W[Y]=="string"&&(W[Y]=document.querySelector(W[Y]))}),W.modules=Object.keys(W.modules).reduce(function(Y,Z){return W.modules[Z]&&(Y[Z]=W.modules[Z]),Y},{}),W}function ie(X,W,j,q){if(this.options.strict&&!this.isEnabled()&&W===y.default.sources.USER)return new g.default;var K=j==null?null:this.getSelection(),Y=this.editor.delta,Z=X();if(K!=null&&(j===!0&&(j=K.index),q==null?K=se(K,Z,W):q!==0&&(K=se(K,j,q,W)),this.setSelection(K,y.default.sources.SILENT)),Z.length()>0){var z,J=[y.default.events.TEXT_CHANGE,Z,Y,W];if((z=this.emitter).emit.apply(z,[y.default.events.EDITOR_CHANGE].concat(J)),W!==y.default.sources.SILENT){var ne;(ne=this.emitter).emit.apply(ne,J)}}return Z}function re(X,W,j,q,K){var Y={};return typeof X.index=="number"&&typeof X.length=="number"?typeof W!="number"?(K=q,q=j,j=W,W=X.length,X=X.index):(W=X.length,X=X.index):typeof W!="number"&&(K=q,q=j,j=W,W=0),(typeof j>"u"?"undefined":a(j))==="object"?(Y=j,K=q):typeof j=="string"&&(q!=null?Y[j]=q:K=j),K=K||y.default.sources.API,[X,W,Y,K]}function se(X,W,j,q){if(X==null)return null;var K=void 0,Y=void 0;if(W instanceof g.default){var Z=[X.index,X.index+X.length].map(function(oe){return W.transformPosition(oe,q!==y.default.sources.USER)}),z=l(Z,2);K=z[0],Y=z[1]}else{var J=[X.index,X.index+X.length].map(function(oe){return oe<W||oe===W&&q===y.default.sources.USER?oe:j>=0?oe+j:Math.max(W,oe+j)}),ne=l(J,2);K=ne[0],Y=ne[1]}return new w.Range(K,Y-K)}r.expandConfig=G,r.overload=re,r.default=$}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function _(A,w){for(var P=0;P<w.length;P++){var b=w[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}return function(A,w,P){return w&&_(A.prototype,w),P&&_(A,P),A}})(),l=function _(A,w,P){A===null&&(A=Function.prototype);var b=Object.getOwnPropertyDescriptor(A,w);if(b===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:_(D,w,P)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(P)}},c=o(7),h=m(c),g=o(0),v=m(g);function m(_){return _&&_.__esModule?_:{default:_}}function d(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function y(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function S(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var E=(function(_){S(A,_);function A(){return d(this,A),y(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"formatAt",value:function(P,b,D,U){if(A.compare(this.statics.blotName,D)<0&&v.default.query(D,v.default.Scope.BLOT)){var k=this.isolate(P,b);U&&k.wrap(D,U)}else l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,P,b,D,U)}},{key:"optimize",value:function(P){if(l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,P),this.parent instanceof A&&A.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(P,b){var D=A.order.indexOf(P),U=A.order.indexOf(b);return D>=0||U>=0?D-U:P===b?0:P<b?-1:1}}]),A})(v.default.Inline);E.allowedChildren=[E,v.default.Embed,h.default],E.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function g(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default.Text);r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function w(P,b){for(var D=0;D<b.length;D++){var U=b[D];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(P,U.key,U)}}return function(P,b,D){return b&&w(P.prototype,b),D&&w(P,D),P}})(),l=function w(P,b,D){P===null&&(P=Function.prototype);var U=Object.getOwnPropertyDescriptor(P,b);if(U===void 0){var k=Object.getPrototypeOf(P);return k===null?void 0:w(k,b,D)}else{if("value"in U)return U.value;var R=U.get;return R===void 0?void 0:R.call(D)}},c=o(54),h=m(c),g=o(10),v=m(g);function m(w){return w&&w.__esModule?w:{default:w}}function d(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}function y(w,P){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:w}function S(w,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);w.prototype=Object.create(P&&P.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(w,P):w.__proto__=P)}var E=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(w){document.addEventListener(w,function(){for(var P=arguments.length,b=Array(P),D=0;D<P;D++)b[D]=arguments[D];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(U){if(U.__quill&&U.__quill.emitter){var k;(k=U.__quill.emitter).handleDOM.apply(k,b)}})})});var A=(function(w){S(P,w);function P(){d(this,P);var b=y(this,(P.__proto__||Object.getPrototypeOf(P)).call(this));return b.listeners={},b.on("error",E.error),b}return a(P,[{key:"emit",value:function(){E.log.apply(E,arguments),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(D){for(var U=arguments.length,k=Array(U>1?U-1:0),R=1;R<U;R++)k[R-1]=arguments[R];(this.listeners[D.type]||[]).forEach(function(M){var x=M.node,I=M.handler;(D.target===x||x.contains(D.target))&&I.apply(void 0,[D].concat(k))})}},{key:"listenDOM",value:function(D,U,k){this.listeners[D]||(this.listeners[D]=[]),this.listeners[D].push({node:U,handler:k})}}]),P})(h.default);A.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},A.sources={API:"api",SILENT:"silent",USER:"user"},r.default=A}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}var l=function c(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=h,this.options=g};l.DEFAULTS={},r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],l="warn";function c(g){if(a.indexOf(g)<=a.indexOf(l)){for(var v,m=arguments.length,d=Array(m>1?m-1:0),y=1;y<m;y++)d[y-1]=arguments[y];(v=console)[g].apply(v,d)}}function h(g){return a.reduce(function(v,m){return v[m]=c.bind(console,m,g),v},{})}c.level=h.level=function(g){l=g},r.default=h}),(function(t,r,o){var a=Array.prototype.slice,l=o(52),c=o(53),h=t.exports=function(d,y,S){return S||(S={}),d===y?!0:d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||typeof d!="object"&&typeof y!="object"?S.strict?d===y:d==y:m(d,y,S)};function g(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function m(d,y,S){var E,_;if(g(d)||g(y)||d.prototype!==y.prototype)return!1;if(c(d))return c(y)?(d=a.call(d),y=a.call(y),h(d,y,S)):!1;if(v(d)){if(!v(y)||d.length!==y.length)return!1;for(E=0;E<d.length;E++)if(d[E]!==y[E])return!1;return!0}try{var A=l(d),w=l(y)}catch{return!1}if(A.length!=w.length)return!1;for(A.sort(),w.sort(),E=A.length-1;E>=0;E--)if(A[E]!=w[E])return!1;for(E=A.length-1;E>=0;E--)if(_=A[E],!h(d[_],y[_],S))return!1;return typeof d==typeof y}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),l=(function(){function c(h,g,v){v===void 0&&(v={}),this.attrName=h,this.keyName=g;var m=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|m:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return c.keys=function(h){return[].map.call(h.attributes,function(g){return g.name})},c.prototype.add=function(h,g){return this.canAdd(h,g)?(h.setAttribute(this.keyName,g),!0):!1},c.prototype.canAdd=function(h,g){var v=a.query(h,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof g=="string"?this.whitelist.indexOf(g.replace(/["']/g,""))>-1:this.whitelist.indexOf(g)>-1},c.prototype.remove=function(h){h.removeAttribute(this.keyName)},c.prototype.value=function(h){var g=h.getAttribute(this.keyName);return this.canAdd(h,g)&&g?g:""},c})();r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=(function(){function R(M,x){var I=[],L=!0,N=!1,$=void 0;try{for(var G=M[Symbol.iterator](),ie;!(L=(ie=G.next()).done)&&(I.push(ie.value),!(x&&I.length===x));L=!0);}catch(re){N=!0,$=re}finally{try{!L&&G.return&&G.return()}finally{if(N)throw $}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function R(M,x){for(var I=0;I<x.length;I++){var L=x[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}})(),c=function R(M,x,I){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,x);if(L===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:R(N,x,I)}else{if("value"in L)return L.value;var $=L.get;return $===void 0?void 0:$.call(I)}},h=o(2),g=w(h),v=o(0),m=w(v),d=o(4),y=w(d),S=o(6),E=w(S),_=o(7),A=w(_);function w(R){return R&&R.__esModule?R:{default:R}}function P(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function b(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function D(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var U=(function(R){D(M,R);function M(){return P(this,M),b(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M})(E.default);U.blotName="code",U.tagName="CODE";var k=(function(R){D(M,R);function M(){return P(this,M),b(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return l(M,[{key:"delta",value:function(){var I=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(N,$){return N.insert($).insert(`
`,I.formats())},new g.default)}},{key:"format",value:function(I,L){if(!(I===this.statics.blotName&&L)){var N=this.descendant(A.default,this.length()-1),$=a(N,1),G=$[0];G?.deleteAt(G.length()-1,1),c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,I,L)}}},{key:"formatAt",value:function(I,L,N,$){if(L!==0&&!(m.default.query(N,m.default.Scope.BLOCK)==null||N===this.statics.blotName&&$===this.statics.formats(this.domNode))){var G=this.newlineIndex(I);if(!(G<0||G>=I+L)){var ie=this.newlineIndex(I,!0)+1,re=G-ie+1,se=this.isolate(ie,re),X=se.next;se.format(N,$),X instanceof M&&X.formatAt(0,I-ie+L-re,N,$)}}}},{key:"insertAt",value:function(I,L,N){if(N==null){var $=this.descendant(A.default,I),G=a($,2),ie=G[0],re=G[1];ie.insertAt(re,L)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,I);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(I),L.moveChildren(this),L.remove())}},{key:"replace",value:function(I){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var N=m.default.find(L);N==null?L.parentNode.removeChild(L):N instanceof m.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var L=c(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,I);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),M})(y.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",r.Code=U,r.default=k}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},l=(function(){function X(W,j){var q=[],K=!0,Y=!1,Z=void 0;try{for(var z=W[Symbol.iterator](),J;!(K=(J=z.next()).done)&&(q.push(J.value),!(j&&q.length===j));K=!0);}catch(ne){Y=!0,Z=ne}finally{try{!K&&z.return&&z.return()}finally{if(Y)throw Z}}return q}return function(W,j){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return X(W,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function X(W,j){for(var q=0;q<j.length;q++){var K=j[q];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,j,q){return j&&X(W.prototype,j),q&&X(W,q),W}})(),h=o(2),g=L(h),v=o(20),m=L(v),d=o(0),y=L(d),S=o(13),E=L(S),_=o(24),A=L(_),w=o(4),P=L(w),b=o(16),D=L(b),U=o(21),k=L(U),R=o(11),M=L(R),x=o(3),I=L(x);function L(X){return X&&X.__esModule?X:{default:X}}function N(X,W,j){return W in X?Object.defineProperty(X,W,{value:j,enumerable:!0,configurable:!0,writable:!0}):X[W]=j,X}function $(X,W){if(!(X instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,ie=(function(){function X(W){$(this,X),this.scroll=W,this.delta=this.getDelta()}return c(X,[{key:"applyDelta",value:function(j){var q=this,K=!1;this.scroll.update();var Y=this.scroll.length();return this.scroll.batchStart(),j=se(j),j.reduce(function(Z,z){var J=z.retain||z.delete||z.insert.length||1,ne=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var oe=z.insert;oe.endsWith(`
`)&&K&&(K=!1,oe=oe.slice(0,-1)),Z>=Y&&!oe.endsWith(`
`)&&(K=!0),q.scroll.insertAt(Z,oe);var me=q.scroll.line(Z),Ie=l(me,2),je=Ie[0],Ve=Ie[1],Ge=(0,I.default)({},(0,w.bubbleFormats)(je));if(je instanceof P.default){var et=je.descendant(y.default.Leaf,Ve),Rt=l(et,1),ut=Rt[0];Ge=(0,I.default)(Ge,(0,w.bubbleFormats)(ut))}ne=m.default.attributes.diff(Ge,ne)||{}}else if(a(z.insert)==="object"){var pe=Object.keys(z.insert)[0];if(pe==null)return Z;q.scroll.insertAt(Z,pe,z.insert[pe])}Y+=J}return Object.keys(ne).forEach(function(de){q.scroll.formatAt(Z,J,de,ne[de])}),Z+J},0),j.reduce(function(Z,z){return typeof z.delete=="number"?(q.scroll.deleteAt(Z,z.delete),Z):Z+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,q){return this.scroll.deleteAt(j,q),this.update(new g.default().retain(j).delete(q))}},{key:"formatLine",value:function(j,q){var K=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(Y).forEach(function(Z){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[Z])){var z=K.scroll.lines(j,Math.max(q,1)),J=q;z.forEach(function(ne){var oe=ne.length();if(!(ne instanceof E.default))ne.format(Z,Y[Z]);else{var me=j-ne.offset(K.scroll),Ie=ne.newlineIndex(me+J)-me+1;ne.formatAt(me,Ie,Z,Y[Z])}J-=oe})}}),this.scroll.optimize(),this.update(new g.default().retain(j).retain(q,(0,k.default)(Y)))}},{key:"formatText",value:function(j,q){var K=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(Y).forEach(function(Z){K.scroll.formatAt(j,q,Z,Y[Z])}),this.update(new g.default().retain(j).retain(q,(0,k.default)(Y)))}},{key:"getContents",value:function(j,q){return this.delta.slice(j,j+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,q){return j.concat(q.delta())},new g.default)}},{key:"getFormat",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],Y=[];q===0?this.scroll.path(j).forEach(function(z){var J=l(z,1),ne=J[0];ne instanceof P.default?K.push(ne):ne instanceof y.default.Leaf&&Y.push(ne)}):(K=this.scroll.lines(j,q),Y=this.scroll.descendants(y.default.Leaf,j,q));var Z=[K,Y].map(function(z){if(z.length===0)return{};for(var J=(0,w.bubbleFormats)(z.shift());Object.keys(J).length>0;){var ne=z.shift();if(ne==null)return J;J=re((0,w.bubbleFormats)(ne),J)}return J});return I.default.apply(I.default,Z)}},{key:"getText",value:function(j,q){return this.getContents(j,q).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(j,q,K){return this.scroll.insertAt(j,q,K),this.update(new g.default().retain(j).insert(N({},q,K)))}},{key:"insertText",value:function(j,q){var K=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return q=q.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,q),Object.keys(Y).forEach(function(Z){K.scroll.formatAt(j,q.length,Z,Y[Z])}),this.update(new g.default().retain(j).insert(q,(0,k.default)(Y)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==P.default.blotName||j.children.length>1?!1:j.children.head instanceof D.default}},{key:"removeFormat",value:function(j,q){var K=this.getText(j,q),Y=this.scroll.line(j+q),Z=l(Y,2),z=Z[0],J=Z[1],ne=0,oe=new g.default;z!=null&&(z instanceof E.default?ne=z.newlineIndex(J)-J+1:ne=z.length()-J,oe=z.delta().slice(J,J+ne-1).insert(`
`));var me=this.getContents(j,q+ne),Ie=me.diff(new g.default().insert(K).concat(oe)),je=new g.default().retain(j).concat(Ie);return this.applyDelta(je)}},{key:"update",value:function(j){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,Y=this.delta;if(q.length===1&&q[0].type==="characterData"&&q[0].target.data.match(G)&&y.default.find(q[0].target)){var Z=y.default.find(q[0].target),z=(0,w.bubbleFormats)(Z),J=Z.offset(this.scroll),ne=q[0].oldValue.replace(A.default.CONTENTS,""),oe=new g.default().insert(ne),me=new g.default().insert(Z.value()),Ie=new g.default().retain(J).concat(oe.diff(me,K));j=Ie.reduce(function(je,Ve){return Ve.insert?je.insert(Ve.insert,z):je.push(Ve)},new g.default),this.delta=Y.compose(j)}else this.delta=this.getDelta(),(!j||!(0,M.default)(Y.compose(j),this.delta))&&(j=Y.diff(this.delta,K));return j}}]),X})();function re(X,W){return Object.keys(W).reduce(function(j,q){return X[q]==null||(W[q]===X[q]?j[q]=W[q]:Array.isArray(W[q])?W[q].indexOf(X[q])<0&&(j[q]=W[q].concat([X[q]])):j[q]=[W[q],X[q]]),j},{})}function se(X){return X.reduce(function(W,j){if(j.insert===1){var q=(0,k.default)(j.attributes);return delete q.image,W.insert({image:j.attributes.image},q)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,k.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var K=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(K,j.attributes)}return W.push(j)},new g.default)}r.default=ie}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=(function(){function R(M,x){var I=[],L=!0,N=!1,$=void 0;try{for(var G=M[Symbol.iterator](),ie;!(L=(ie=G.next()).done)&&(I.push(ie.value),!(x&&I.length===x));L=!0);}catch(re){N=!0,$=re}finally{try{!L&&G.return&&G.return()}finally{if(N)throw $}}return I}return function(M,x){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function R(M,x){for(var I=0;I<x.length;I++){var L=x[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,x,I){return x&&R(M.prototype,x),I&&R(M,I),M}})(),c=o(0),h=A(c),g=o(21),v=A(g),m=o(11),d=A(m),y=o(8),S=A(y),E=o(10),_=A(E);function A(R){return R&&R.__esModule?R:{default:R}}function w(R){if(Array.isArray(R)){for(var M=0,x=Array(R.length);M<R.length;M++)x[M]=R[M];return x}else return Array.from(R)}function P(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}var b=(0,_.default)("quill:selection"),D=function R(M){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;P(this,R),this.index=M,this.length=x},U=(function(){function R(M,x){var I=this;P(this,R),this.emitter=x,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=h.default.create("cursor",this),this.lastRange=this.savedRange=new D(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,S.default.sources.USER),1)}),this.emitter.on(S.default.events.EDITOR_CHANGE,function(L,N){L===S.default.events.TEXT_CHANGE&&N.length()>0&&I.update(S.default.sources.SILENT)}),this.emitter.on(S.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var L=I.getNativeRange();L!=null&&L.start.node!==I.cursor.textNode&&I.emitter.once(S.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(S.default.events.SCROLL_OPTIMIZE,function(L,N){if(N.range){var $=N.range,G=$.startNode,ie=$.startOffset,re=$.endNode,se=$.endOffset;I.setNativeRange(G,ie,re,se)}}),this.update(S.default.sources.SILENT)}return l(R,[{key:"handleComposition",value:function(){var x=this;this.root.addEventListener("compositionstart",function(){x.composing=!0}),this.root.addEventListener("compositionend",function(){if(x.composing=!1,x.cursor.parent){var I=x.cursor.restore();if(!I)return;setTimeout(function(){x.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var x=this;this.emitter.listenDOM("mousedown",document.body,function(){x.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){x.mouseDown=!1,x.update(S.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(x,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[x])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||h.default.query(x,h.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var N=h.default.find(L.start.node,!1);if(N==null)return;if(N instanceof h.default.Leaf){var $=N.split(L.start.offset);N.parent.insertBefore(this.cursor,$)}else N.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(x,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();x=Math.min(x,L-1),I=Math.min(x+I,L-1)-x;var N=void 0,$=this.scroll.leaf(x),G=a($,2),ie=G[0],re=G[1];if(ie==null)return null;var se=ie.position(re,!0),X=a(se,2);N=X[0],re=X[1];var W=document.createRange();if(I>0){W.setStart(N,re);var j=this.scroll.leaf(x+I),q=a(j,2);if(ie=q[0],re=q[1],ie==null)return null;var K=ie.position(re,!0),Y=a(K,2);return N=Y[0],re=Y[1],W.setEnd(N,re),W.getBoundingClientRect()}else{var Z="left",z=void 0;return N instanceof Text?(re<N.data.length?(W.setStart(N,re),W.setEnd(N,re+1)):(W.setStart(N,re-1),W.setEnd(N,re),Z="right"),z=W.getBoundingClientRect()):(z=ie.domNode.getBoundingClientRect(),re>0&&(Z="right")),{bottom:z.top+z.height,height:z.height,left:z[Z],right:z[Z],top:z.top,width:0}}}},{key:"getNativeRange",value:function(){var x=document.getSelection();if(x==null||x.rangeCount<=0)return null;var I=x.getRangeAt(0);if(I==null)return null;var L=this.normalizeNative(I);return b.info("getNativeRange",L),L}},{key:"getRange",value:function(){var x=this.getNativeRange();if(x==null)return[null,null];var I=this.normalizedToRange(x);return[I,x]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(x){var I=this,L=[[x.start.node,x.start.offset]];x.native.collapsed||L.push([x.end.node,x.end.offset]);var N=L.map(function(ie){var re=a(ie,2),se=re[0],X=re[1],W=h.default.find(se,!0),j=W.offset(I.scroll);return X===0?j:W instanceof h.default.Container?j+W.length():j+W.index(se,X)}),$=Math.min(Math.max.apply(Math,w(N)),this.scroll.length()-1),G=Math.min.apply(Math,[$].concat(w(N)));return new D(G,$-G)}},{key:"normalizeNative",value:function(x){if(!k(this.root,x.startContainer)||!x.collapsed&&!k(this.root,x.endContainer))return null;var I={start:{node:x.startContainer,offset:x.startOffset},end:{node:x.endContainer,offset:x.endOffset},native:x};return[I.start,I.end].forEach(function(L){for(var N=L.node,$=L.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>$)N=N.childNodes[$],$=0;else if(N.childNodes.length===$)N=N.lastChild,$=N instanceof Text?N.data.length:N.childNodes.length+1;else break;L.node=N,L.offset=$}),I}},{key:"rangeToNative",value:function(x){var I=this,L=x.collapsed?[x.index]:[x.index,x.index+x.length],N=[],$=this.scroll.length();return L.forEach(function(G,ie){G=Math.min($-1,G);var re=void 0,se=I.scroll.leaf(G),X=a(se,2),W=X[0],j=X[1],q=W.position(j,ie!==0),K=a(q,2);re=K[0],j=K[1],N.push(re,j)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(x){var I=this.lastRange;if(I!=null){var L=this.getBounds(I.index,I.length);if(L!=null){var N=this.scroll.length()-1,$=this.scroll.line(Math.min(I.index,N)),G=a($,1),ie=G[0],re=ie;if(I.length>0){var se=this.scroll.line(Math.min(I.index+I.length,N)),X=a(se,1);re=X[0]}if(!(ie==null||re==null)){var W=x.getBoundingClientRect();L.top<W.top?x.scrollTop-=W.top-L.top:L.bottom>W.bottom&&(x.scrollTop+=L.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(x,I){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:x,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,$=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",x,I,L,N),!(x!=null&&(this.root.parentNode==null||x.parentNode==null||L.parentNode==null))){var G=document.getSelection();if(G!=null)if(x!=null){this.hasFocus()||this.root.focus();var ie=(this.getNativeRange()||{}).native;if(ie==null||$||x!==ie.startContainer||I!==ie.startOffset||L!==ie.endContainer||N!==ie.endOffset){x.tagName=="BR"&&(I=[].indexOf.call(x.parentNode.childNodes,x),x=x.parentNode),L.tagName=="BR"&&(N=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var re=document.createRange();re.setStart(x,I),re.setEnd(L,N),G.removeAllRanges(),G.addRange(re)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(x){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof I=="string"&&(L=I,I=!1),b.info("setRange",x),x!=null){var N=this.rangeToNative(x);this.setNativeRange.apply(this,w(N).concat([I]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.default.sources.USER,I=this.lastRange,L=this.getRange(),N=a(L,2),$=N[0],G=N[1];if(this.lastRange=$,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var ie;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var re=[S.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(I),x];if((ie=this.emitter).emit.apply(ie,[S.default.events.EDITOR_CHANGE].concat(re)),x!==S.default.sources.SILENT){var se;(se=this.emitter).emit.apply(se,re)}}}}]),R})();function k(R,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),R.contains(M)}r.Range=D,r.default=U}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var A=0;A<_.length;A++){var w=_[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,A){return _&&S(E.prototype,_),A&&S(E,A),E}})(),l=function S(E,_,A){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:S(P,_,A)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(A)}},c=o(0),h=g(c);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"insertInto",value:function(A,w){A.children.length===0?l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertInto",this).call(this,A,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E})(h.default.Embed);y.blotName="break",y.tagName="BR",r.default=y}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(44),c=o(30),h=o(1),g=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.build(),S}return d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(S){try{var E=v(S);y.insertBefore(E,y.children.head||void 0)}catch(_){if(_ instanceof h.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(y,S){if(y===0&&S===this.length())return this.remove();this.children.forEachAt(y,S,function(E,_,A){E.deleteAt(_,A)})},d.prototype.descendant=function(y,S){var E=this.children.find(S),_=E[0],A=E[1];return y.blotName==null&&y(_)||y.blotName!=null&&_ instanceof y?[_,A]:_ instanceof d?_.descendant(y,A):[null,-1]},d.prototype.descendants=function(y,S,E){S===void 0&&(S=0),E===void 0&&(E=Number.MAX_VALUE);var _=[],A=E;return this.children.forEachAt(S,E,function(w,P,b){(y.blotName==null&&y(w)||y.blotName!=null&&w instanceof y)&&_.push(w),w instanceof d&&(_=_.concat(w.descendants(y,P,A))),A-=b}),_},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),m.prototype.detach.call(this)},d.prototype.formatAt=function(y,S,E,_){this.children.forEachAt(y,S,function(A,w,P){A.formatAt(w,P,E,_)})},d.prototype.insertAt=function(y,S,E){var _=this.children.find(y),A=_[0],w=_[1];if(A)A.insertAt(w,S,E);else{var P=E==null?h.create("text",S):h.create(S,E);this.appendChild(P)}},d.prototype.insertBefore=function(y,S){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(E){return y instanceof E}))throw new h.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,S)},d.prototype.length=function(){return this.children.reduce(function(y,S){return y+S.length()},0)},d.prototype.moveChildren=function(y,S){this.children.forEach(function(E){y.insertBefore(E,S)})},d.prototype.optimize=function(y){if(m.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var S=h.create(this.statics.defaultChild);this.appendChild(S),S.optimize(y)}else this.remove()},d.prototype.path=function(y,S){S===void 0&&(S=!1);var E=this.children.find(y,S),_=E[0],A=E[1],w=[[this,y]];return _ instanceof d?w.concat(_.path(A,S)):(_!=null&&w.push([_,A]),w)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),m.prototype.replace.call(this,y)},d.prototype.split=function(y,S){if(S===void 0&&(S=!1),!S){if(y===0)return this;if(y===this.length())return this.next}var E=this.clone();return this.parent.insertBefore(E,this.next),this.children.forEachAt(y,this.length(),function(_,A,w){_=_.split(A,S),E.appendChild(_)}),E},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,S){var E=this,_=[],A=[];y.forEach(function(w){w.target===E.domNode&&w.type==="childList"&&(_.push.apply(_,w.addedNodes),A.push.apply(A,w.removedNodes))}),A.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var P=h.find(w);P!=null&&(P.domNode.parentNode==null||P.domNode.parentNode===E.domNode)&&P.detach()}}),_.filter(function(w){return w.parentNode==E.domNode}).sort(function(w,P){return w===P?0:w.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var P=null;w.nextSibling!=null&&(P=h.find(w.nextSibling));var b=v(w);(b.next!=P||b.next==null)&&(b.parent!=null&&b.parent.removeChild(E),E.insertBefore(b,P||void 0))})},d})(c.default);function v(m){var d=h.find(m);if(d==null)try{d=h.create(m)}catch{d=h.create(h.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(S){d.domNode.appendChild(S)}),m.parentNode&&m.parentNode.replaceChild(d.domNode,m),d.attach()}return d}r.default=g}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12),c=o(31),h=o(17),g=o(1),v=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.attributes=new c.default(S.domNode),S}return d.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},d.prototype.format=function(y,S){var E=g.query(y);E instanceof l.default?this.attributes.attribute(E,S):S&&E!=null&&(y!==this.statics.blotName||this.formats()[y]!==S)&&this.replaceWith(y,S)},d.prototype.formats=function(){var y=this.attributes.values(),S=this.statics.formats(this.domNode);return S!=null&&(y[this.statics.blotName]=S),y},d.prototype.replaceWith=function(y,S){var E=m.prototype.replaceWith.call(this,y,S);return this.attributes.copy(E),E},d.prototype.update=function(y,S){var E=this;m.prototype.update.call(this,y,S),y.some(function(_){return _.target===E.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(y,S){var E=m.prototype.wrap.call(this,y,S);return E instanceof d&&E.statics.scope===this.statics.scope&&this.attributes.move(E),E},d})(h.default);r.default=v}),(function(t,r,o){var a=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){g(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(30),c=o(1),h=(function(g){a(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.value=function(m){return!0},v.prototype.index=function(m,d){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(m,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(y+=1),[this.parent.domNode,y]},v.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},v.scope=c.Scope.INLINE_BLOT,v})(l.default);r.default=h}),(function(t,r,o){var a=o(11),l=o(3),c={attributes:{compose:function(g,v,m){typeof g!="object"&&(g={}),typeof v!="object"&&(v={});var d=l(!0,{},v);m||(d=Object.keys(d).reduce(function(S,E){return d[E]!=null&&(S[E]=d[E]),S},{}));for(var y in g)g[y]!==void 0&&v[y]===void 0&&(d[y]=g[y]);return Object.keys(d).length>0?d:void 0},diff:function(g,v){typeof g!="object"&&(g={}),typeof v!="object"&&(v={});var m=Object.keys(g).concat(Object.keys(v)).reduce(function(d,y){return a(g[y],v[y])||(d[y]=v[y]===void 0?null:v[y]),d},{});return Object.keys(m).length>0?m:void 0},transform:function(g,v,m){if(typeof g!="object")return v;if(typeof v=="object"){if(!m)return v;var d=Object.keys(v).reduce(function(y,S){return g[S]===void 0&&(y[S]=v[S]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(g){return new h(g)},length:function(g){return typeof g.delete=="number"?g.delete:typeof g.retain=="number"?g.retain:typeof g.insert=="string"?g.insert.length:1}};function h(g){this.ops=g,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(g){g||(g=1/0);var v=this.ops[this.index];if(v){var m=this.offset,d=c.length(v);if(g>=d-m?(g=d-m,this.index+=1,this.offset=0):this.offset+=g,typeof v.delete=="number")return{delete:g};var y={};return v.attributes&&(y.attributes=v.attributes),typeof v.retain=="number"?y.retain=g:typeof v.insert=="string"?y.insert=v.insert.substr(m,g):y.insert=v.insert,y}else return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var g=this.offset,v=this.index,m=this.next(),d=this.ops.slice(this.index);return this.offset=g,this.index=v,[m].concat(d)}else return[]},t.exports=c}),(function(t,r){var o=(function(){function a(E,_){return _!=null&&E instanceof _}var l;try{l=Map}catch{l=function(){}}var c;try{c=Set}catch{c=function(){}}var h;try{h=Promise}catch{h=function(){}}function g(E,_,A,w,P){typeof _=="object"&&(A=_.depth,w=_.prototype,P=_.includeNonEnumerable,_=_.circular);var b=[],D=[],U=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof A>"u"&&(A=1/0);function k(R,M){if(R===null)return null;if(M===0)return R;var x,I;if(typeof R!="object")return R;if(a(R,l))x=new l;else if(a(R,c))x=new c;else if(a(R,h))x=new h(function(W,j){R.then(function(q){W(k(q,M-1))},function(q){j(k(q,M-1))})});else if(g.__isArray(R))x=[];else if(g.__isRegExp(R))x=new RegExp(R.source,S(R)),R.lastIndex&&(x.lastIndex=R.lastIndex);else if(g.__isDate(R))x=new Date(R.getTime());else{if(U&&Buffer.isBuffer(R))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(R.length):x=new Buffer(R.length),R.copy(x),x;a(R,Error)?x=Object.create(R):typeof w>"u"?(I=Object.getPrototypeOf(R),x=Object.create(I)):(x=Object.create(w),I=w)}if(_){var L=b.indexOf(R);if(L!=-1)return D[L];b.push(R),D.push(x)}a(R,l)&&R.forEach(function(W,j){var q=k(j,M-1),K=k(W,M-1);x.set(q,K)}),a(R,c)&&R.forEach(function(W){var j=k(W,M-1);x.add(j)});for(var N in R){var $;I&&($=Object.getOwnPropertyDescriptor(I,N)),!($&&$.set==null)&&(x[N]=k(R[N],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(R),N=0;N<G.length;N++){var ie=G[N],re=Object.getOwnPropertyDescriptor(R,ie);re&&!re.enumerable&&!P||(x[ie]=k(R[ie],M-1),re.enumerable||Object.defineProperty(x,ie,{enumerable:!1}))}if(P)for(var se=Object.getOwnPropertyNames(R),N=0;N<se.length;N++){var X=se[N],re=Object.getOwnPropertyDescriptor(R,X);re&&re.enumerable||(x[X]=k(R[X],M-1),Object.defineProperty(x,X,{enumerable:!1}))}return x}return k(E,A)}g.clonePrototype=function(_){if(_===null)return null;var A=function(){};return A.prototype=_,new A};function v(E){return Object.prototype.toString.call(E)}g.__objToStr=v;function m(E){return typeof E=="object"&&v(E)==="[object Date]"}g.__isDate=m;function d(E){return typeof E=="object"&&v(E)==="[object Array]"}g.__isArray=d;function y(E){return typeof E=="object"&&v(E)==="[object RegExp]"}g.__isRegExp=y;function S(E){var _="";return E.global&&(_+="g"),E.ignoreCase&&(_+="i"),E.multiline&&(_+="m"),_}return g.__getRegExpFlags=S,g})();typeof t=="object"&&t.exports&&(t.exports=o)}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function x(I,L){var N=[],$=!0,G=!1,ie=void 0;try{for(var re=I[Symbol.iterator](),se;!($=(se=re.next()).done)&&(N.push(se.value),!(L&&N.length===L));$=!0);}catch(X){G=!0,ie=X}finally{try{!$&&re.return&&re.return()}finally{if(G)throw ie}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function x(I,L){for(var N=0;N<L.length;N++){var $=L[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,L,N){return L&&x(I.prototype,L),N&&x(I,N),I}})(),c=function x(I,L,N){I===null&&(I=Function.prototype);var $=Object.getOwnPropertyDescriptor(I,L);if($===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,L,N)}else{if("value"in $)return $.value;var ie=$.get;return ie===void 0?void 0:ie.call(N)}},h=o(0),g=b(h),v=o(8),m=b(v),d=o(4),y=b(d),S=o(16),E=b(S),_=o(13),A=b(_),w=o(25),P=b(w);function b(x){return x&&x.__esModule?x:{default:x}}function D(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function U(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function k(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}function R(x){return x instanceof y.default||x instanceof d.BlockEmbed}var M=(function(x){k(I,x);function I(L,N){D(this,I);var $=U(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L));return $.emitter=N.emitter,Array.isArray(N.whitelist)&&($.whitelist=N.whitelist.reduce(function(G,ie){return G[ie]=!0,G},{})),$.domNode.addEventListener("DOMNodeInserted",function(){}),$.optimize(),$.enable(),$}return l(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,$){var G=this.line(N),ie=a(G,2),re=ie[0],se=ie[1],X=this.line(N+$),W=a(X,1),j=W[0];if(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,$),j!=null&&re!==j&&se>0){if(re instanceof d.BlockEmbed||j instanceof d.BlockEmbed){this.optimize();return}if(re instanceof A.default){var q=re.newlineIndex(re.length(),!0);if(q>-1&&(re=re.split(q+1),re===j)){this.optimize();return}}else if(j instanceof A.default){var K=j.newlineIndex(0);K>-1&&j.split(K+1)}var Y=j.children.head instanceof E.default?null:j.children.head;re.moveChildren(j,Y),re.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,$,G,ie){this.whitelist!=null&&!this.whitelist[G]||(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,$,G,ie),this.optimize())}},{key:"insertAt",value:function(N,$,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[$])){if(N>=this.length())if(G==null||g.default.query($,g.default.Scope.BLOCK)==null){var ie=g.default.create(this.statics.defaultChild);this.appendChild(ie),G==null&&$.endsWith(`
`)&&($=$.slice(0,-1)),ie.insertAt(0,$,G)}else{var re=g.default.create($,G);this.appendChild(re)}else c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,$,G);this.optimize()}}},{key:"insertBefore",value:function(N,$){if(N.statics.scope===g.default.Scope.INLINE_BLOT){var G=g.default.create(this.statics.defaultChild);G.appendChild(N),N=G}c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,$)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(R,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function ie(re,se,X){var W=[],j=X;return re.children.forEachAt(se,X,function(q,K,Y){R(q)?W.push(q):q instanceof g.default.Container&&(W=W.concat(ie(q,K,j))),j-=Y}),W};return G(this,N,$)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,$),N.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,N,$))}},{key:"path",value:function(N){return c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var $=m.default.sources.USER;typeof N=="string"&&($=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,$,N),c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,$,N)}}}]),I})(g.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[y.default,d.BlockEmbed,P.default],r.default=M}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},l=(function(){function z(J,ne){var oe=[],me=!0,Ie=!1,je=void 0;try{for(var Ve=J[Symbol.iterator](),Ge;!(me=(Ge=Ve.next()).done)&&(oe.push(Ge.value),!(ne&&oe.length===ne));me=!0);}catch(et){Ie=!0,je=et}finally{try{!me&&Ve.return&&Ve.return()}finally{if(Ie)throw je}}return oe}return function(J,ne){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return z(J,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function z(J,ne){for(var oe=0;oe<ne.length;oe++){var me=ne[oe];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(J,me.key,me)}}return function(J,ne,oe){return ne&&z(J.prototype,ne),oe&&z(J,oe),J}})(),h=o(21),g=x(h),v=o(11),m=x(v),d=o(3),y=x(d),S=o(2),E=x(S),_=o(20),A=x(_),w=o(0),P=x(w),b=o(5),D=x(b),U=o(10),k=x(U),R=o(9),M=x(R);function x(z){return z&&z.__esModule?z:{default:z}}function I(z,J,ne){return J in z?Object.defineProperty(z,J,{value:ne,enumerable:!0,configurable:!0,writable:!0}):z[J]=ne,z}function L(z,J){if(!(z instanceof J))throw new TypeError("Cannot call a class as a function")}function N(z,J){if(!z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:z}function $(z,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);z.prototype=Object.create(J&&J.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(z,J):z.__proto__=J)}var G=(0,k.default)("quill:keyboard"),ie=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",re=(function(z){$(J,z),c(J,null,[{key:"match",value:function(oe,me){return me=Z(me),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Ie){return!!me[Ie]!==oe[Ie]&&me[Ie]!==null})?!1:me.key===(oe.which||oe.keyCode)}}]);function J(ne,oe){L(this,J);var me=N(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,ne,oe));return me.bindings={},Object.keys(me.options.bindings).forEach(function(Ie){Ie==="list autofill"&&ne.scroll.whitelist!=null&&!ne.scroll.whitelist.list||me.options.bindings[Ie]&&me.addBinding(me.options.bindings[Ie])}),me.addBinding({key:J.keys.ENTER,shiftKey:null},q),me.addBinding({key:J.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(me.addBinding({key:J.keys.BACKSPACE},{collapsed:!0},X),me.addBinding({key:J.keys.DELETE},{collapsed:!0},W)):(me.addBinding({key:J.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},X),me.addBinding({key:J.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),me.addBinding({key:J.keys.BACKSPACE},{collapsed:!1},j),me.addBinding({key:J.keys.DELETE},{collapsed:!1},j),me.addBinding({key:J.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},X),me.listen(),me}return c(J,[{key:"addBinding",value:function(oe){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},je=Z(oe);if(je==null||je.key==null)return G.warn("Attempted to add invalid keyboard binding",je);typeof me=="function"&&(me={handler:me}),typeof Ie=="function"&&(Ie={handler:Ie}),je=(0,y.default)(je,me,Ie),this.bindings[je.key]=this.bindings[je.key]||[],this.bindings[je.key].push(je)}},{key:"listen",value:function(){var oe=this;this.quill.root.addEventListener("keydown",function(me){if(!me.defaultPrevented){var Ie=me.which||me.keyCode,je=(oe.bindings[Ie]||[]).filter(function(lt){return J.match(me,lt)});if(je.length!==0){var Ve=oe.quill.getSelection();if(!(Ve==null||!oe.quill.hasFocus())){var Ge=oe.quill.getLine(Ve.index),et=l(Ge,2),Rt=et[0],ut=et[1],pe=oe.quill.getLeaf(Ve.index),de=l(pe,2),we=de[0],Se=de[1],ve=Ve.length===0?[we,Se]:oe.quill.getLeaf(Ve.index+Ve.length),He=l(ve,2),Ke=He[0],Be=He[1],Ft=we instanceof P.default.Text?we.value().slice(0,Se):"",Zt=Ke instanceof P.default.Text?Ke.value().slice(Be):"",rt={collapsed:Ve.length===0,empty:Ve.length===0&&Rt.length()<=1,format:oe.quill.getFormat(Ve),offset:ut,prefix:Ft,suffix:Zt},ts=je.some(function(lt){if(lt.collapsed!=null&&lt.collapsed!==rt.collapsed||lt.empty!=null&&lt.empty!==rt.empty||lt.offset!=null&&lt.offset!==rt.offset)return!1;if(Array.isArray(lt.format)){if(lt.format.every(function($t){return rt.format[$t]==null}))return!1}else if(a(lt.format)==="object"&&!Object.keys(lt.format).every(function($t){return lt.format[$t]===!0?rt.format[$t]!=null:lt.format[$t]===!1?rt.format[$t]==null:(0,m.default)(lt.format[$t],rt.format[$t])}))return!1;return lt.prefix!=null&&!lt.prefix.test(rt.prefix)||lt.suffix!=null&&!lt.suffix.test(rt.suffix)?!1:lt.handler.call(oe,Ve,rt)!==!0});ts&&me.preventDefault()}}}})}}]),J})(M.default);re.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},re.DEFAULTS={bindings:{bold:Y("bold"),italic:Y("italic"),underline:Y("underline"),indent:{key:re.keys.TAB,format:["blockquote","indent","list"],handler:function(J,ne){if(ne.collapsed&&ne.offset!==0)return!0;this.quill.format("indent","+1",D.default.sources.USER)}},outdent:{key:re.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,ne){if(ne.collapsed&&ne.offset!==0)return!0;this.quill.format("indent","-1",D.default.sources.USER)}},"outdent backspace":{key:re.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,ne){ne.format.indent!=null?this.quill.format("indent","-1",D.default.sources.USER):ne.format.list!=null&&this.quill.format("list",!1,D.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:re.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,D.default.sources.USER)}},tab:{key:re.keys.TAB,handler:function(J){this.quill.history.cutoff();var ne=new E.default().retain(J.index).delete(J.length).insert("	");this.quill.updateContents(ne,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,D.default.sources.SILENT)}},"list empty enter":{key:re.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(J,ne){this.quill.format("list",!1,D.default.sources.USER),ne.format.indent&&this.quill.format("indent",!1,D.default.sources.USER)}},"checklist enter":{key:re.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(J){var ne=this.quill.getLine(J.index),oe=l(ne,2),me=oe[0],Ie=oe[1],je=(0,y.default)({},me.formats(),{list:"checked"}),Ve=new E.default().retain(J.index).insert(`
`,je).retain(me.length()-Ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,D.default.sources.USER),this.quill.setSelection(J.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:re.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,ne){var oe=this.quill.getLine(J.index),me=l(oe,2),Ie=me[0],je=me[1],Ve=new E.default().retain(J.index).insert(`
`,ne.format).retain(Ie.length()-je-1).retain(1,{header:null});this.quill.updateContents(Ve,D.default.sources.USER),this.quill.setSelection(J.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,ne){var oe=ne.prefix.length,me=this.quill.getLine(J.index),Ie=l(me,2),je=Ie[0],Ve=Ie[1];if(Ve>oe)return!0;var Ge=void 0;switch(ne.prefix.trim()){case"[]":case"[ ]":Ge="unchecked";break;case"[x]":Ge="checked";break;case"-":case"*":Ge="bullet";break;default:Ge="ordered"}this.quill.insertText(J.index," ",D.default.sources.USER),this.quill.history.cutoff();var et=new E.default().retain(J.index-Ve).delete(oe+1).retain(je.length()-2-Ve).retain(1,{list:Ge});this.quill.updateContents(et,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-oe,D.default.sources.SILENT)}},"code exit":{key:re.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(J){var ne=this.quill.getLine(J.index),oe=l(ne,2),me=oe[0],Ie=oe[1],je=new E.default().retain(J.index+me.length()-Ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(je,D.default.sources.USER)}},"embed left":se(re.keys.LEFT,!1),"embed left shift":se(re.keys.LEFT,!0),"embed right":se(re.keys.RIGHT,!1),"embed right shift":se(re.keys.RIGHT,!0)}};function se(z,J){var ne,oe=z===re.keys.LEFT?"prefix":"suffix";return ne={key:z,shiftKey:J,altKey:null},I(ne,oe,/^$/),I(ne,"handler",function(Ie){var je=Ie.index;z===re.keys.RIGHT&&(je+=Ie.length+1);var Ve=this.quill.getLeaf(je),Ge=l(Ve,1),et=Ge[0];return et instanceof P.default.Embed?(z===re.keys.LEFT?J?this.quill.setSelection(Ie.index-1,Ie.length+1,D.default.sources.USER):this.quill.setSelection(Ie.index-1,D.default.sources.USER):J?this.quill.setSelection(Ie.index,Ie.length+1,D.default.sources.USER):this.quill.setSelection(Ie.index+Ie.length+1,D.default.sources.USER),!1):!0}),ne}function X(z,J){if(!(z.index===0||this.quill.getLength()<=1)){var ne=this.quill.getLine(z.index),oe=l(ne,1),me=oe[0],Ie={};if(J.offset===0){var je=this.quill.getLine(z.index-1),Ve=l(je,1),Ge=Ve[0];if(Ge!=null&&Ge.length()>1){var et=me.formats(),Rt=this.quill.getFormat(z.index-1,1);Ie=A.default.attributes.diff(et,Rt)||{}}}var ut=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(J.prefix)?2:1;this.quill.deleteText(z.index-ut,ut,D.default.sources.USER),Object.keys(Ie).length>0&&this.quill.formatLine(z.index-ut,ut,Ie,D.default.sources.USER),this.quill.focus()}}function W(z,J){var ne=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(J.suffix)?2:1;if(!(z.index>=this.quill.getLength()-ne)){var oe={},me=0,Ie=this.quill.getLine(z.index),je=l(Ie,1),Ve=je[0];if(J.offset>=Ve.length()-1){var Ge=this.quill.getLine(z.index+1),et=l(Ge,1),Rt=et[0];if(Rt){var ut=Ve.formats(),pe=this.quill.getFormat(z.index,1);oe=A.default.attributes.diff(ut,pe)||{},me=Rt.length()}}this.quill.deleteText(z.index,ne,D.default.sources.USER),Object.keys(oe).length>0&&this.quill.formatLine(z.index+me-1,ne,oe,D.default.sources.USER)}}function j(z){var J=this.quill.getLines(z),ne={};if(J.length>1){var oe=J[0].formats(),me=J[J.length-1].formats();ne=A.default.attributes.diff(me,oe)||{}}this.quill.deleteText(z,D.default.sources.USER),Object.keys(ne).length>0&&this.quill.formatLine(z.index,1,ne,D.default.sources.USER),this.quill.setSelection(z.index,D.default.sources.SILENT),this.quill.focus()}function q(z,J){var ne=this;z.length>0&&this.quill.scroll.deleteAt(z.index,z.length);var oe=Object.keys(J.format).reduce(function(me,Ie){return P.default.query(Ie,P.default.Scope.BLOCK)&&!Array.isArray(J.format[Ie])&&(me[Ie]=J.format[Ie]),me},{});this.quill.insertText(z.index,`
`,oe,D.default.sources.USER),this.quill.setSelection(z.index+1,D.default.sources.SILENT),this.quill.focus(),Object.keys(J.format).forEach(function(me){oe[me]==null&&(Array.isArray(J.format[me])||me!=="link"&&ne.quill.format(me,J.format[me],D.default.sources.USER))})}function K(z){return{key:re.keys.TAB,shiftKey:!z,format:{"code-block":!0},handler:function(ne){var oe=P.default.query("code-block"),me=ne.index,Ie=ne.length,je=this.quill.scroll.descendant(oe,me),Ve=l(je,2),Ge=Ve[0],et=Ve[1];if(Ge!=null){var Rt=this.quill.getIndex(Ge),ut=Ge.newlineIndex(et,!0)+1,pe=Ge.newlineIndex(Rt+et+Ie),de=Ge.domNode.textContent.slice(ut,pe).split(`
`);et=0,de.forEach(function(we,Se){z?(Ge.insertAt(ut+et,oe.TAB),et+=oe.TAB.length,Se===0?me+=oe.TAB.length:Ie+=oe.TAB.length):we.startsWith(oe.TAB)&&(Ge.deleteAt(ut+et,oe.TAB.length),et-=oe.TAB.length,Se===0?me-=oe.TAB.length:Ie-=oe.TAB.length),et+=we.length+1}),this.quill.update(D.default.sources.USER),this.quill.setSelection(me,Ie,D.default.sources.SILENT)}}}}function Y(z){return{key:z[0].toUpperCase(),shortKey:!0,handler:function(ne,oe){this.quill.format(z,!oe.format[z],D.default.sources.USER)}}}function Z(z){if(typeof z=="string"||typeof z=="number")return Z({key:z});if((typeof z>"u"?"undefined":a(z))==="object"&&(z=(0,g.default)(z,!1)),typeof z.key=="string")if(re.keys[z.key.toUpperCase()]!=null)z.key=re.keys[z.key.toUpperCase()];else if(z.key.length===1)z.key=z.key.toUpperCase().charCodeAt(0);else return null;return z.shortKey&&(z[ie]=z.shortKey,delete z.shortKey),z}r.default=re,r.SHORTKEY=ie}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function A(w,P){var b=[],D=!0,U=!1,k=void 0;try{for(var R=w[Symbol.iterator](),M;!(D=(M=R.next()).done)&&(b.push(M.value),!(P&&b.length===P));D=!0);}catch(x){U=!0,k=x}finally{try{!D&&R.return&&R.return()}finally{if(U)throw k}}return b}return function(w,P){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return A(w,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function A(w,P,b){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,P);if(D===void 0){var U=Object.getPrototypeOf(w);return U===null?void 0:A(U,P,b)}else{if("value"in D)return D.value;var k=D.get;return k===void 0?void 0:k.call(b)}},c=(function(){function A(w,P){for(var b=0;b<P.length;b++){var D=P[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,P,b){return P&&A(w.prototype,P),b&&A(w,b),w}})(),h=o(0),g=d(h),v=o(7),m=d(v);function d(A){return A&&A.__esModule?A:{default:A}}function y(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function S(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function E(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var _=(function(A){E(w,A),c(w,null,[{key:"value",value:function(){}}]);function w(P,b){y(this,w);var D=S(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,P));return D.selection=b,D.textNode=document.createTextNode(w.CONTENTS),D.domNode.appendChild(D.textNode),D._length=0,D}return c(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,D){if(this._length!==0)return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,b,D);for(var U=this,k=0;U!=null&&U.statics.scope!==g.default.Scope.BLOCK_BLOT;)k+=U.offset(U.parent),U=U.parent;U!=null&&(this._length=w.CONTENTS.length,U.optimize(),U.formatAt(k,w.CONTENTS.length,b,D),this._length=0)}},{key:"index",value:function(b,D){return b===this.textNode?0:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,b,D)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,D=this.selection.getNativeRange(),U=void 0,k=void 0,R=void 0;if(D!=null&&D.start.node===b&&D.end.node===b){var M=[b,D.start.offset,D.end.offset];U=M[0],k=M[1],R=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var x=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof m.default?(U=this.next.domNode,this.next.insertAt(0,x),this.textNode.data=w.CONTENTS):(this.textNode.data=x,this.parent.insertBefore(g.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),k!=null){var I=[k,R].map(function(N){return Math.max(0,Math.min(U.data.length,N-1))}),L=a(I,2);return k=L[0],R=L[1],{startNode:U,startOffset:k,endNode:U,endOffset:R}}}}},{key:"update",value:function(b,D){var U=this;if(b.some(function(R){return R.type==="characterData"&&R.target===U.textNode})){var k=this.restore();k&&(D.range=k)}}},{key:"value",value:function(){return""}}]),w})(g.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=g(a),c=o(4),h=g(c);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E})(l.default.Container);y.allowedChildren=[h.default,c.BlockEmbed,y],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=(function(){function _(A,w){for(var P=0;P<w.length;P++){var b=w[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}return function(A,w,P){return w&&_(A.prototype,w),P&&_(A,P),A}})(),l=function _(A,w,P){A===null&&(A=Function.prototype);var b=Object.getOwnPropertyDescriptor(A,w);if(b===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:_(D,w,P)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(P)}},c=o(0),h=g(c);function g(_){return _&&_.__esModule?_:{default:_}}function v(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function m(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function d(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var y=(function(_){d(A,_);function A(){return v(this,A),m(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"value",value:function(P){var b=l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"value",this).call(this,P);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(D){return("00"+parseInt(D).toString(16)).slice(-2)}).join("")):b}}]),A})(h.default.Attributor.Style),S=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),E=new y("color","color",{scope:h.default.Scope.INLINE});r.ColorAttributor=y,r.ColorClass=S,r.ColorStyle=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=(function(){function E(_,A){for(var w=0;w<A.length;w++){var P=A[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,A,w){return A&&E(_.prototype,A),w&&E(_,w),_}})(),l=function E(_,A,w){_===null&&(_=Function.prototype);var P=Object.getOwnPropertyDescriptor(_,A);if(P===void 0){var b=Object.getPrototypeOf(_);return b===null?void 0:E(b,A,w)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(w)}},c=o(6),h=g(c);function g(E){return E&&E.__esModule?E:{default:E}}function v(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function m(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function d(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var y=(function(E){d(_,E);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(w,P){if(w!==this.statics.blotName||!P)return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,P);P=this.constructor.sanitize(P),this.domNode.setAttribute("href",P)}}],[{key:"create",value:function(w){var P=l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return w=this.sanitize(w),P.setAttribute("href",w),P.setAttribute("rel","noopener noreferrer"),P.setAttribute("target","_blank"),P}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return S(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),_})(h.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function S(E,_){var A=document.createElement("a");A.href=E;var w=A.href.slice(0,A.href.indexOf(":"));return _.indexOf(w)>-1}r.default=y,r.sanitize=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l=(function(){function _(A,w){for(var P=0;P<w.length;P++){var b=w[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}return function(A,w,P){return w&&_(A.prototype,w),P&&_(A,P),A}})(),c=o(23),h=m(c),g=o(107),v=m(g);function m(_){return _&&_.__esModule?_:{default:_}}function d(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}var y=0;function S(_,A){_.setAttribute(A,_.getAttribute(A)!=="true")}var E=(function(){function _(A){var w=this;d(this,_),this.select=A,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(P){switch(P.keyCode){case h.default.keys.ENTER:w.togglePicker();break;case h.default.keys.ESCAPE:w.escape(),P.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),S(this.label,"aria-expanded"),S(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var P=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),w.hasAttribute("value")&&b.setAttribute("data-value",w.getAttribute("value")),w.textContent&&b.setAttribute("data-label",w.textContent),b.addEventListener("click",function(){P.selectItem(b,!0)}),b.addEventListener("keydown",function(D){switch(D.keyCode){case h.default.keys.ENTER:P.selectItem(b,!0),D.preventDefault();break;case h.default.keys.ESCAPE:P.escape(),D.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=v.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,P=document.createElement("span");P.classList.add("ql-picker-options"),P.setAttribute("aria-hidden","true"),P.tabIndex="-1",P.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",P.id),this.options=P,[].slice.call(this.select.options).forEach(function(b){var D=w.buildItem(b);P.appendChild(D),b.selected===!0&&w.selectItem(D)}),this.container.appendChild(P)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(P){w.container.setAttribute(P.name,P.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(w!==b&&(b?.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),P))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var D=document.createEvent("Event");D.initEvent("change",!0,!0),this.select.dispatchEvent(D)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var P=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(P)}else this.selectItem(null);var b=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),_})();r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=G(a),c=o(5),h=G(c),g=o(4),v=G(g),m=o(16),d=G(m),y=o(25),S=G(y),E=o(24),_=G(E),A=o(35),w=G(A),P=o(6),b=G(P),D=o(22),U=G(D),k=o(7),R=G(k),M=o(55),x=G(M),I=o(42),L=G(I),N=o(23),$=G(N);function G(ie){return ie&&ie.__esModule?ie:{default:ie}}h.default.register({"blots/block":v.default,"blots/block/embed":g.BlockEmbed,"blots/break":d.default,"blots/container":S.default,"blots/cursor":_.default,"blots/embed":w.default,"blots/inline":b.default,"blots/scroll":U.default,"blots/text":R.default,"modules/clipboard":x.default,"modules/history":L.default,"modules/keyboard":$.default}),l.default.register(v.default,d.default,_.default,b.default,U.default,R.default),r.default=h.default}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),l=(function(){function c(h){this.domNode=h,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(h){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var g;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),typeof h=="number"?g=document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?g=document.createElement(h):g=document.createElement(this.tagName[0])):g=document.createElement(this.tagName),this.className&&g.classList.add(this.className),g},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return a.create(h)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(h,g){var v=this.isolate(h,g);v.remove()},c.prototype.formatAt=function(h,g,v,m){var d=this.isolate(h,g);if(a.query(v,a.Scope.BLOT)!=null&&m)d.wrap(v,m);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);d.wrap(y),y.format(v,m)}},c.prototype.insertAt=function(h,g,v){var m=v==null?a.create("text",g):a.create(g,v),d=this.split(h);this.parent.insertBefore(m,d)},c.prototype.insertInto=function(h,g){g===void 0&&(g=null),this.parent!=null&&this.parent.children.remove(this);var v=null;h.children.insertBefore(this,g),g!=null&&(v=g.domNode),(this.domNode.parentNode!=h.domNode||this.domNode.nextSibling!=v)&&h.domNode.insertBefore(this.domNode,v),this.parent=h,this.attach()},c.prototype.isolate=function(h,g){var v=this.split(h);return v.split(g),v},c.prototype.length=function(){return 1},c.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},c.prototype.optimize=function(h){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},c.prototype.replaceWith=function(h,g){var v=typeof h=="string"?a.create(h,g):h;return v.replace(this),v},c.prototype.split=function(h,g){return h===0?this:this.next},c.prototype.update=function(h,g){},c.prototype.wrap=function(h,g){var v=typeof h=="string"?a.create(h,g):h;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},c.blotName="abstract",c})();r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),l=o(32),c=o(33),h=o(1),g=(function(){function v(m){this.attributes={},this.domNode=m,this.build()}return v.prototype.attribute=function(m,d){d?m.add(this.domNode,d)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},v.prototype.build=function(){var m=this;this.attributes={};var d=a.default.keys(this.domNode),y=l.default.keys(this.domNode),S=c.default.keys(this.domNode);d.concat(y).concat(S).forEach(function(E){var _=h.query(E,h.Scope.ATTRIBUTE);_ instanceof a.default&&(m.attributes[_.attrName]=_)})},v.prototype.copy=function(m){var d=this;Object.keys(this.attributes).forEach(function(y){var S=d.attributes[y].value(d.domNode);m.format(y,S)})},v.prototype.move=function(m){var d=this;this.copy(m),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=m.attributes[y].value(m.domNode),d},{})},v})();r.default=g}),(function(t,r,o){var a=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){g(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12);function c(g,v){var m=g.getAttribute("class")||"";return m.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var h=(function(g){a(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(m,d){return this.canAdd(m,d)?(this.remove(m),m.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(m){var d=c(m,this.keyName);d.forEach(function(y){m.classList.remove(y)}),m.classList.length===0&&m.removeAttribute("class")},v.prototype.value=function(m){var d=c(m,this.keyName)[0]||"",y=d.slice(this.keyName.length+1);return this.canAdd(m,y)?y:""},v})(l.default);r.default=h}),(function(t,r,o){var a=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){g(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12);function c(g){var v=g.split("-"),m=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+m}var h=(function(g){a(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(d){var y=d.split(":");return y[0].trim()})},v.prototype.add=function(m,d){return this.canAdd(m,d)?(m.style[c(this.keyName)]=d,!0):!1},v.prototype.remove=function(m){m.style[c(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},v.prototype.value=function(m){var d=m.style[c(this.keyName)];return this.canAdd(m,d)?d:""},v})(l.default);r.default=h}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function h(g,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(g,d.key,d)}}return function(g,v,m){return v&&h(g.prototype,v),m&&h(g,m),g}})();function l(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var c=(function(){function h(g,v){l(this,h),this.quill=g,this.options=v,this.modules={}}return a(h,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(m){v.modules[m]==null&&v.addModule(m)})}},{key:"addModule",value:function(v){var m=this.quill.constructor.import("modules/"+v);return this.modules[v]=new m(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),h})();c.DEFAULTS={modules:{}},c.themes={default:c},r.default=c}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function A(w,P){for(var b=0;b<P.length;b++){var D=P[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,P,b){return P&&A(w.prototype,P),b&&A(w,b),w}})(),l=function A(w,P,b){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,P);if(D===void 0){var U=Object.getPrototypeOf(w);return U===null?void 0:A(U,P,b)}else{if("value"in D)return D.value;var k=D.get;return k===void 0?void 0:k.call(b)}},c=o(0),h=m(c),g=o(7),v=m(g);function m(A){return A&&A.__esModule?A:{default:A}}function d(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function y(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function S(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var E="\uFEFF",_=(function(A){S(w,A);function w(P){d(this,w);var b=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,P));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(D){b.contentNode.appendChild(D)}),b.leftGuard=document.createTextNode(E),b.rightGuard=document.createTextNode(E),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(w,[{key:"index",value:function(b,D){return b===this.leftGuard?0:b===this.rightGuard?1:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,b,D)}},{key:"restore",value:function(b){var D=void 0,U=void 0,k=b.data.split(E).join("");if(b===this.leftGuard)if(this.prev instanceof v.default){var R=this.prev.length();this.prev.insertAt(R,k),D={startNode:this.prev.domNode,startOffset:R+k.length}}else U=document.createTextNode(k),this.parent.insertBefore(h.default.create(U),this),D={startNode:U,startOffset:k.length};else b===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,k),D={startNode:this.next.domNode,startOffset:k.length}):(U=document.createTextNode(k),this.parent.insertBefore(h.default.create(U),this.next),D={startNode:U,startOffset:k.length}));return b.data=E,D}},{key:"update",value:function(b,D){var U=this;b.forEach(function(k){if(k.type==="characterData"&&(k.target===U.leftGuard||k.target===U.rightGuard)){var R=U.restore(k.target);R&&(D.range=R)}})}}]),w})(h.default.Embed);r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var h={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},g=new l.default.Attributor.Attribute("align","align",h),v=new l.default.Attributor.Class("align","ql-align",h),m=new l.default.Attributor.Style("align","text-align",h);r.AlignAttribute=g,r.AlignClass=v,r.AlignStyle=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),l=h(a),c=o(26);function h(m){return m&&m.__esModule?m:{default:m}}var g=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),v=new c.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=g,r.BackgroundStyle=v}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var h={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},g=new l.default.Attributor.Attribute("direction","dir",h),v=new l.default.Attributor.Class("direction","ql-direction",h),m=new l.default.Attributor.Style("direction","direction",h);r.DirectionAttribute=g,r.DirectionClass=v,r.DirectionStyle=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=(function(){function A(w,P){for(var b=0;b<P.length;b++){var D=P[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,P,b){return P&&A(w.prototype,P),b&&A(w,b),w}})(),l=function A(w,P,b){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,P);if(D===void 0){var U=Object.getPrototypeOf(w);return U===null?void 0:A(U,P,b)}else{if("value"in D)return D.value;var k=D.get;return k===void 0?void 0:k.call(b)}},c=o(0),h=g(c);function g(A){return A&&A.__esModule?A:{default:A}}function v(A,w){if(!(A instanceof w))throw new TypeError("Cannot call a class as a function")}function m(A,w){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:A}function d(A,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);A.prototype=Object.create(w&&w.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(A,w):A.__proto__=w)}var y={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},S=new h.default.Attributor.Class("font","ql-font",y),E=(function(A){d(w,A);function w(){return v(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(b){return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),w})(h.default.Attributor.Style),_=new E("font","font-family",y);r.FontStyle=_,r.FontClass=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}var h=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),g=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=h,r.SizeStyle=g}),(function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=(function(){function P(b,D){for(var U=0;U<D.length;U++){var k=D[U];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,D,U){return D&&P(b.prototype,D),U&&P(b,U),b}})(),l=o(0),c=d(l),h=o(5),g=d(h),v=o(9),m=d(v);function d(P){return P&&P.__esModule?P:{default:P}}function y(P,b){if(!(P instanceof b))throw new TypeError("Cannot call a class as a function")}function S(P,b){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:P}function E(P,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);P.prototype=Object.create(b&&b.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(P,b):P.__proto__=b)}var _=(function(P){E(b,P);function b(D,U){y(this,b);var k=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,D,U));return k.lastRecorded=0,k.ignoreChange=!1,k.clear(),k.quill.on(g.default.events.EDITOR_CHANGE,function(R,M,x,I){R!==g.default.events.TEXT_CHANGE||k.ignoreChange||(!k.options.userOnly||I===g.default.sources.USER?k.record(M,x):k.transform(M))}),k.quill.keyboard.addBinding({key:"Z",shortKey:!0},k.undo.bind(k)),k.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},k.redo.bind(k)),/Win/i.test(navigator.platform)&&k.quill.keyboard.addBinding({key:"Y",shortKey:!0},k.redo.bind(k)),k}return a(b,[{key:"change",value:function(U,k){if(this.stack[U].length!==0){var R=this.stack[U].pop();this.stack[k].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[U],g.default.sources.USER),this.ignoreChange=!1;var M=w(R[U]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(U,k){if(U.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(k),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var x=this.stack.undo.pop();R=R.compose(x.undo),U=x.redo.compose(U)}else this.lastRecorded=M;this.stack.undo.push({redo:U,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(U){this.stack.undo.forEach(function(k){k.undo=U.transform(k.undo,!0),k.redo=U.transform(k.redo,!0)}),this.stack.redo.forEach(function(k){k.undo=U.transform(k.undo,!0),k.redo=U.transform(k.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b})(m.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function A(P){var b=P.ops[P.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(D){return c.default.query(D,c.default.Scope.BLOCK)!=null}):!1}function w(P){var b=P.reduce(function(U,k){return U+=k.delete||0,U},0),D=P.length()-b;return A(P)&&(D-=1),D}r.default=_,r.getLastChangeIndex=w}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=(function(){function q(K,Y){for(var Z=0;Z<Y.length;Z++){var z=Y[Z];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(K,z.key,z)}}return function(K,Y,Z){return Y&&q(K.prototype,Y),Z&&q(K,Z),K}})(),l=function q(K,Y,Z){K===null&&(K=Function.prototype);var z=Object.getOwnPropertyDescriptor(K,Y);if(z===void 0){var J=Object.getPrototypeOf(K);return J===null?void 0:q(J,Y,Z)}else{if("value"in z)return z.value;var ne=z.get;return ne===void 0?void 0:ne.call(Z)}},c=o(3),h=M(c),g=o(2),v=M(g),m=o(8),d=M(m),y=o(23),S=M(y),E=o(34),_=M(E),A=o(59),w=M(A),P=o(60),b=M(P),D=o(28),U=M(D),k=o(61),R=M(k);function M(q){return q&&q.__esModule?q:{default:q}}function x(q,K){if(!(q instanceof K))throw new TypeError("Cannot call a class as a function")}function I(q,K){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:q}function L(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);q.prototype=Object.create(K&&K.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(q,K):q.__proto__=K)}var N=[!1,"center","right","justify"],$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],ie=["1","2","3",!1],re=["small",!1,"large","huge"],se=(function(q){L(K,q);function K(Y,Z){x(this,K);var z=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Y,Z)),J=function ne(oe){if(!document.body.contains(Y.root))return document.body.removeEventListener("click",ne);z.tooltip!=null&&!z.tooltip.root.contains(oe.target)&&document.activeElement!==z.tooltip.textbox&&!z.quill.hasFocus()&&z.tooltip.hide(),z.pickers!=null&&z.pickers.forEach(function(me){me.container.contains(oe.target)||me.close()})};return Y.emitter.listenDOM("click",document.body,J),z}return a(K,[{key:"addModule",value:function(Z){var z=l(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,Z);return Z==="toolbar"&&this.extendToolbar(z),z}},{key:"buildButtons",value:function(Z,z){Z.forEach(function(J){var ne=J.getAttribute("class")||"";ne.split(/\s+/).forEach(function(oe){if(oe.startsWith("ql-")&&(oe=oe.slice(3),z[oe]!=null))if(oe==="direction")J.innerHTML=z[oe][""]+z[oe].rtl;else if(typeof z[oe]=="string")J.innerHTML=z[oe];else{var me=J.value||"";me!=null&&z[oe][me]&&(J.innerHTML=z[oe][me])}})})}},{key:"buildPickers",value:function(Z,z){var J=this;this.pickers=Z.map(function(oe){if(oe.classList.contains("ql-align"))return oe.querySelector("option")==null&&j(oe,N),new b.default(oe,z.align);if(oe.classList.contains("ql-background")||oe.classList.contains("ql-color")){var me=oe.classList.contains("ql-background")?"background":"color";return oe.querySelector("option")==null&&j(oe,$,me==="background"?"#ffffff":"#000000"),new w.default(oe,z[me])}else return oe.querySelector("option")==null&&(oe.classList.contains("ql-font")?j(oe,G):oe.classList.contains("ql-header")?j(oe,ie):oe.classList.contains("ql-size")&&j(oe,re)),new U.default(oe)});var ne=function(){J.pickers.forEach(function(me){me.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,ne)}}]),K})(_.default);se.DEFAULTS=(0,h.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&(Y=document.createElement("input"),Y.setAttribute("type","file"),Y.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Y.classList.add("ql-image"),Y.addEventListener("change",function(){if(Y.files!=null&&Y.files[0]!=null){var Z=new FileReader;Z.onload=function(z){var J=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(J.index).delete(J.length).insert({image:z.target.result}),d.default.sources.USER),K.quill.setSelection(J.index+1,d.default.sources.SILENT),Y.value=""},Z.readAsDataURL(Y.files[0])}}),this.container.appendChild(Y)),Y.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var X=(function(q){L(K,q);function K(Y,Z){x(this,K);var z=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,Y,Z));return z.textbox=z.root.querySelector('input[type="text"]'),z.listen(),z}return a(K,[{key:"listen",value:function(){var Z=this;this.textbox.addEventListener("keydown",function(z){S.default.match(z,"enter")?(Z.save(),z.preventDefault()):S.default.match(z,"escape")&&(Z.cancel(),z.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),z!=null?this.textbox.value=z:Z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Z)||""),this.root.setAttribute("data-mode",Z)}},{key:"restoreFocus",value:function(){var Z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Z}},{key:"save",value:function(){var Z=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Z,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Z,d.default.sources.USER)),this.quill.root.scrollTop=z;break}case"video":Z=W(Z);case"formula":{if(!Z)break;var J=this.quill.getSelection(!0);if(J!=null){var ne=J.index+J.length;this.quill.insertEmbed(ne,this.root.getAttribute("data-mode"),Z,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ne+1," ",d.default.sources.USER),this.quill.setSelection(ne+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K})(R.default);function W(q){var K=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":q}function j(q,K){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(Z){var z=document.createElement("option");Z===Y?z.setAttribute("selected","selected"):z.setAttribute("value",Z),q.appendChild(z)})}r.BaseTooltip=X,r.default=se}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},l.prototype.contains=function(c){for(var h,g=this.iterator();h=g();)if(h===c)return!0;return!1},l.prototype.insertBefore=function(c,h){c&&(c.next=h,h!=null?(c.prev=h.prev,h.prev!=null&&(h.prev.next=c),h.prev=c,h===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},l.prototype.offset=function(c){for(var h=0,g=this.head;g!=null;){if(g===c)return h;h+=g.length(),g=g.next}return-1},l.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},l.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var h=c;return c!=null&&(c=c.next),h}},l.prototype.find=function(c,h){h===void 0&&(h=!1);for(var g,v=this.iterator();g=v();){var m=g.length();if(c<m||h&&c===m&&(g.next==null||g.next.length()!==0))return[g,c];c-=m}return[null,0]},l.prototype.forEach=function(c){for(var h,g=this.iterator();h=g();)c(h)},l.prototype.forEachAt=function(c,h,g){if(!(h<=0))for(var v=this.find(c),m=v[0],d=v[1],y,S=c-d,E=this.iterator(m);(y=E())&&S<c+h;){var _=y.length();c>S?g(y,c-S,Math.min(h,S+_-c)):g(y,0,Math.min(_,c+h-S)),S+=_}},l.prototype.map=function(c){return this.reduce(function(h,g){return h.push(c(g)),h},[])},l.prototype.reduce=function(c,h){for(var g,v=this.iterator();g=v();)h=c(h,g);return h},l})();r.default=a}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(17),c=o(1),h={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},g=100,v=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.scroll=S,S.observer=new MutationObserver(function(E){S.update(E)}),S.observer.observe(S.domNode,h),S.attach(),S}return d.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,S){this.update(),y===0&&S===this.length()?this.children.forEach(function(E){E.remove()}):m.prototype.deleteAt.call(this,y,S)},d.prototype.formatAt=function(y,S,E,_){this.update(),m.prototype.formatAt.call(this,y,S,E,_)},d.prototype.insertAt=function(y,S,E){this.update(),m.prototype.insertAt.call(this,y,S,E)},d.prototype.optimize=function(y,S){var E=this;y===void 0&&(y=[]),S===void 0&&(S={}),m.prototype.optimize.call(this,S);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)y.push(_.pop());for(var A=function(D,U){U===void 0&&(U=!0),!(D==null||D===E)&&D.domNode.parentNode!=null&&(D.domNode[c.DATA_KEY].mutations==null&&(D.domNode[c.DATA_KEY].mutations=[]),U&&A(D.parent))},w=function(D){D.domNode[c.DATA_KEY]==null||D.domNode[c.DATA_KEY].mutations==null||(D instanceof l.default&&D.children.forEach(w),D.optimize(S))},P=y,b=0;P.length>0;b+=1){if(b>=g)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(D){var U=c.find(D.target,!0);U!=null&&(U.domNode===D.target&&(D.type==="childList"?(A(c.find(D.previousSibling,!1)),[].forEach.call(D.addedNodes,function(k){var R=c.find(k,!1);A(R,!1),R instanceof l.default&&R.children.forEach(function(M){A(M,!1)})})):D.type==="attributes"&&A(U.prev)),A(U))}),this.children.forEach(w),P=[].slice.call(this.observer.takeRecords()),_=P.slice();_.length>0;)y.push(_.pop())}},d.prototype.update=function(y,S){var E=this;S===void 0&&(S={}),y=y||this.observer.takeRecords(),y.map(function(_){var A=c.find(_.target,!0);return A==null?null:A.domNode[c.DATA_KEY].mutations==null?(A.domNode[c.DATA_KEY].mutations=[_],A):(A.domNode[c.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===E||_.domNode[c.DATA_KEY]==null||_.update(_.domNode[c.DATA_KEY].mutations||[],S)}),this.domNode[c.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,S),this.optimize(y,S)},d.blotName="scroll",d.defaultChild="block",d.scope=c.Scope.BLOCK_BLOT,d.tagName="DIV",d})(l.default);r.default=v}),(function(t,r,o){var a=this&&this.__extends||(function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,d){m.__proto__=d}||function(m,d){for(var y in d)d.hasOwnProperty(y)&&(m[y]=d[y])};return function(m,d){v(m,d);function y(){this.constructor=m}m.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(18),c=o(1);function h(v,m){if(Object.keys(v).length!==Object.keys(m).length)return!1;for(var d in v)if(v[d]!==m[d])return!1;return!0}var g=(function(v){a(m,v);function m(){return v!==null&&v.apply(this,arguments)||this}return m.formats=function(d){if(d.tagName!==m.tagName)return v.formats.call(this,d)},m.prototype.format=function(d,y){var S=this;d===this.statics.blotName&&!y?(this.children.forEach(function(E){E instanceof l.default||(E=E.wrap(m.blotName,!0)),S.attributes.copy(E)}),this.unwrap()):v.prototype.format.call(this,d,y)},m.prototype.formatAt=function(d,y,S,E){if(this.formats()[S]!=null||c.query(S,c.Scope.ATTRIBUTE)){var _=this.isolate(d,y);_.format(S,E)}else v.prototype.formatAt.call(this,d,y,S,E)},m.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var S=this.next;S instanceof m&&S.prev===this&&h(y,S.formats())&&(S.moveChildren(this),S.remove())},m.blotName="inline",m.scope=c.Scope.INLINE_BLOT,m.tagName="SPAN",m})(l.default);r.default=g}),(function(t,r,o){var a=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){g(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(18),c=o(1),h=(function(g){a(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.formats=function(m){var d=c.query(v.blotName).tagName;if(m.tagName!==d)return g.formats.call(this,m)},v.prototype.format=function(m,d){c.query(m,c.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!d?this.replaceWith(v.blotName):g.prototype.format.call(this,m,d))},v.prototype.formatAt=function(m,d,y,S){c.query(y,c.Scope.BLOCK)!=null?this.format(y,S):g.prototype.formatAt.call(this,m,d,y,S)},v.prototype.insertAt=function(m,d,y){if(y==null||c.query(d,c.Scope.INLINE)!=null)g.prototype.insertAt.call(this,m,d,y);else{var S=this.split(m),E=c.create(d,y);S.parent.insertBefore(E,S)}},v.prototype.update=function(m,d){navigator.userAgent.match(/Trident/)?this.build():g.prototype.update.call(this,m,d)},v.blotName="block",v.scope=c.Scope.BLOCK_BLOT,v.tagName="P",v})(l.default);r.default=h}),(function(t,r,o){var a=this&&this.__extends||(function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var m in v)v.hasOwnProperty(m)&&(g[m]=v[m])};return function(g,v){h(g,v);function m(){this.constructor=g}g.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(19),c=(function(h){a(g,h);function g(){return h!==null&&h.apply(this,arguments)||this}return g.formats=function(v){},g.prototype.format=function(v,m){h.prototype.formatAt.call(this,0,this.length(),v,m)},g.prototype.formatAt=function(v,m,d,y){v===0&&m===this.length()?this.format(d,y):h.prototype.formatAt.call(this,v,m,d,y)},g.prototype.formats=function(){return this.statics.formats(this.domNode)},g})(l.default);r.default=c}),(function(t,r,o){var a=this&&this.__extends||(function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){g(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(19),c=o(1),h=(function(g){a(v,g);function v(m){var d=g.call(this,m)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(m){return document.createTextNode(m)},v.value=function(m){var d=m.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(m,d){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+d)},v.prototype.index=function(m,d){return this.domNode===m?d:-1},v.prototype.insertAt=function(m,d,y){y==null?(this.text=this.text.slice(0,m)+d+this.text.slice(m),this.domNode.data=this.text):g.prototype.insertAt.call(this,m,d,y)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(m){g.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(m,d){return[this.domNode,m]},v.prototype.split=function(m,d){if(d===void 0&&(d=!1),!d){if(m===0)return this;if(m===this.length())return this.next}var y=c.create(this.domNode.splitText(m));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},v.prototype.update=function(m,d){var y=this;m.some(function(S){return S.type==="characterData"&&S.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=c.Scope.INLINE_BLOT,v})(l.default);r.default=h}),(function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,h){return arguments.length>1&&!this.contains(c)==!h?h:l.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,h){return h=h||0,this.substr(h,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,h){var g=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>g.length)&&(h=g.length),h-=c.length;var v=g.indexOf(c,h);return v!==-1&&v===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(h){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof h!="function")throw new TypeError("predicate must be a function");for(var g=Object(this),v=g.length>>>0,m=arguments[1],d,y=0;y<v;y++)if(d=g[y],h.call(m,d,y,g))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(t,r){var o=-1,a=1,l=0;function c(b,D,U){if(b==D)return b?[[l,b]]:[];(U<0||b.length<U)&&(U=null);var k=m(b,D),R=b.substring(0,k);b=b.substring(k),D=D.substring(k),k=d(b,D);var M=b.substring(b.length-k);b=b.substring(0,b.length-k),D=D.substring(0,D.length-k);var x=h(b,D);return R&&x.unshift([l,R]),M&&x.push([l,M]),S(x),U!=null&&(x=A(x,U)),x=w(x),x}function h(b,D){var U;if(!b)return[[a,D]];if(!D)return[[o,b]];var k=b.length>D.length?b:D,R=b.length>D.length?D:b,M=k.indexOf(R);if(M!=-1)return U=[[a,k.substring(0,M)],[l,R],[a,k.substring(M+R.length)]],b.length>D.length&&(U[0][0]=U[2][0]=o),U;if(R.length==1)return[[o,b],[a,D]];var x=y(b,D);if(x){var I=x[0],L=x[1],N=x[2],$=x[3],G=x[4],ie=c(I,N),re=c(L,$);return ie.concat([[l,G]],re)}return g(b,D)}function g(b,D){for(var U=b.length,k=D.length,R=Math.ceil((U+k)/2),M=R,x=2*R,I=new Array(x),L=new Array(x),N=0;N<x;N++)I[N]=-1,L[N]=-1;I[M+1]=0,L[M+1]=0;for(var $=U-k,G=$%2!=0,ie=0,re=0,se=0,X=0,W=0;W<R;W++){for(var j=-W+ie;j<=W-re;j+=2){var q=M+j,K;j==-W||j!=W&&I[q-1]<I[q+1]?K=I[q+1]:K=I[q-1]+1;for(var Y=K-j;K<U&&Y<k&&b.charAt(K)==D.charAt(Y);)K++,Y++;if(I[q]=K,K>U)re+=2;else if(Y>k)ie+=2;else if(G){var Z=M+$-j;if(Z>=0&&Z<x&&L[Z]!=-1){var z=U-L[Z];if(K>=z)return v(b,D,K,Y)}}}for(var J=-W+se;J<=W-X;J+=2){var Z=M+J,z;J==-W||J!=W&&L[Z-1]<L[Z+1]?z=L[Z+1]:z=L[Z-1]+1;for(var ne=z-J;z<U&&ne<k&&b.charAt(U-z-1)==D.charAt(k-ne-1);)z++,ne++;if(L[Z]=z,z>U)X+=2;else if(ne>k)se+=2;else if(!G){var q=M+$-J;if(q>=0&&q<x&&I[q]!=-1){var K=I[q],Y=M+K-q;if(z=U-z,K>=z)return v(b,D,K,Y)}}}}return[[o,b],[a,D]]}function v(b,D,U,k){var R=b.substring(0,U),M=D.substring(0,k),x=b.substring(U),I=D.substring(k),L=c(R,M),N=c(x,I);return L.concat(N)}function m(b,D){if(!b||!D||b.charAt(0)!=D.charAt(0))return 0;for(var U=0,k=Math.min(b.length,D.length),R=k,M=0;U<R;)b.substring(M,R)==D.substring(M,R)?(U=R,M=U):k=R,R=Math.floor((k-U)/2+U);return R}function d(b,D){if(!b||!D||b.charAt(b.length-1)!=D.charAt(D.length-1))return 0;for(var U=0,k=Math.min(b.length,D.length),R=k,M=0;U<R;)b.substring(b.length-R,b.length-M)==D.substring(D.length-R,D.length-M)?(U=R,M=U):k=R,R=Math.floor((k-U)/2+U);return R}function y(b,D){var U=b.length>D.length?b:D,k=b.length>D.length?D:b;if(U.length<4||k.length*2<U.length)return null;function R(re,se,X){for(var W=re.substring(X,X+Math.floor(re.length/4)),j=-1,q="",K,Y,Z,z;(j=se.indexOf(W,j+1))!=-1;){var J=m(re.substring(X),se.substring(j)),ne=d(re.substring(0,X),se.substring(0,j));q.length<ne+J&&(q=se.substring(j-ne,j)+se.substring(j,j+J),K=re.substring(0,X-ne),Y=re.substring(X+J),Z=se.substring(0,j-ne),z=se.substring(j+J))}return q.length*2>=re.length?[K,Y,Z,z,q]:null}var M=R(U,k,Math.ceil(U.length/4)),x=R(U,k,Math.ceil(U.length/2)),I;if(!M&&!x)return null;x?M?I=M[4].length>x[4].length?M:x:I=x:I=M;var L,N,$,G;b.length>D.length?(L=I[0],N=I[1],$=I[2],G=I[3]):($=I[0],G=I[1],L=I[2],N=I[3]);var ie=I[4];return[L,N,$,G,ie]}function S(b){b.push([l,""]);for(var D=0,U=0,k=0,R="",M="",x;D<b.length;)switch(b[D][0]){case a:k++,M+=b[D][1],D++;break;case o:U++,R+=b[D][1],D++;break;case l:U+k>1?(U!==0&&k!==0&&(x=m(M,R),x!==0&&(D-U-k>0&&b[D-U-k-1][0]==l?b[D-U-k-1][1]+=M.substring(0,x):(b.splice(0,0,[l,M.substring(0,x)]),D++),M=M.substring(x),R=R.substring(x)),x=d(M,R),x!==0&&(b[D][1]=M.substring(M.length-x)+b[D][1],M=M.substring(0,M.length-x),R=R.substring(0,R.length-x))),U===0?b.splice(D-k,U+k,[a,M]):k===0?b.splice(D-U,U+k,[o,R]):b.splice(D-U-k,U+k,[o,R],[a,M]),D=D-U-k+(U?1:0)+(k?1:0)+1):D!==0&&b[D-1][0]==l?(b[D-1][1]+=b[D][1],b.splice(D,1)):D++,k=0,U=0,R="",M="";break}b[b.length-1][1]===""&&b.pop();var I=!1;for(D=1;D<b.length-1;)b[D-1][0]==l&&b[D+1][0]==l&&(b[D][1].substring(b[D][1].length-b[D-1][1].length)==b[D-1][1]?(b[D][1]=b[D-1][1]+b[D][1].substring(0,b[D][1].length-b[D-1][1].length),b[D+1][1]=b[D-1][1]+b[D+1][1],b.splice(D-1,1),I=!0):b[D][1].substring(0,b[D+1][1].length)==b[D+1][1]&&(b[D-1][1]+=b[D+1][1],b[D][1]=b[D][1].substring(b[D+1][1].length)+b[D+1][1],b.splice(D+1,1),I=!0)),D++;I&&S(b)}var E=c;E.INSERT=a,E.DELETE=o,E.EQUAL=l,t.exports=E;function _(b,D){if(D===0)return[l,b];for(var U=0,k=0;k<b.length;k++){var R=b[k];if(R[0]===o||R[0]===l){var M=U+R[1].length;if(D===M)return[k+1,b];if(D<M){b=b.slice();var x=D-U,I=[R[0],R[1].slice(0,x)],L=[R[0],R[1].slice(x)];return b.splice(k,1,I,L),[k+1,b]}else U=M}}throw new Error("cursor_pos is out of bounds!")}function A(b,D){var U=_(b,D),k=U[1],R=U[0],M=k[R],x=k[R+1];if(M==null)return b;if(M[0]!==l)return b;if(x!=null&&M[1]+x[1]===x[1]+M[1])return k.splice(R,2,x,M),P(k,R,2);if(x!=null&&x[1].indexOf(M[1])===0){k.splice(R,2,[x[0],M[1]],[0,M[1]]);var I=x[1].slice(M[1].length);return I.length>0&&k.splice(R+2,0,[x[0],I]),P(k,R,3)}else return b}function w(b){for(var D=!1,U=function(x){return x.charCodeAt(0)>=56320&&x.charCodeAt(0)<=57343},k=function(x){return x.charCodeAt(x.length-1)>=55296&&x.charCodeAt(x.length-1)<=56319},R=2;R<b.length;R+=1)b[R-2][0]===l&&k(b[R-2][1])&&b[R-1][0]===o&&U(b[R-1][1])&&b[R][0]===a&&U(b[R][1])&&(D=!0,b[R-1][1]=b[R-2][1].slice(-1)+b[R-1][1],b[R][1]=b[R-2][1].slice(-1)+b[R][1],b[R-2][1]=b[R-2][1].slice(0,-1));if(!D)return b;for(var M=[],R=0;R<b.length;R+=1)b[R][1].length>0&&M.push(b[R]);return M}function P(b,D,U){for(var k=D+U-1;k>=0&&k>=D-1;k--)if(k+1<b.length){var R=b[k],M=b[k+1];R[0]===M[1]&&b.splice(k,2,[R[0],R[1]+M[1]])}return b}}),(function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var l=[];for(var c in a)l.push(c);return l}}),(function(t,r){var o=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=t.exports=o?a:l,r.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}r.unsupported=l;function l(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}}),(function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1));function c(g,v,m){this.fn=g,this.context=v,this.once=m||!1}function h(){this._events=new l,this._eventsCount=0}h.prototype.eventNames=function(){var v=[],m,d;if(this._eventsCount===0)return v;for(d in m=this._events)o.call(m,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(m)):v},h.prototype.listeners=function(v,m){var d=a?a+v:v,y=this._events[d];if(m)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var S=0,E=y.length,_=new Array(E);S<E;S++)_[S]=y[S].fn;return _},h.prototype.emit=function(v,m,d,y,S,E){var _=a?a+v:v;if(!this._events[_])return!1;var A=this._events[_],w=arguments.length,P,b;if(A.fn){switch(A.once&&this.removeListener(v,A.fn,void 0,!0),w){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,m),!0;case 3:return A.fn.call(A.context,m,d),!0;case 4:return A.fn.call(A.context,m,d,y),!0;case 5:return A.fn.call(A.context,m,d,y,S),!0;case 6:return A.fn.call(A.context,m,d,y,S,E),!0}for(b=1,P=new Array(w-1);b<w;b++)P[b-1]=arguments[b];A.fn.apply(A.context,P)}else{var D=A.length,U;for(b=0;b<D;b++)switch(A[b].once&&this.removeListener(v,A[b].fn,void 0,!0),w){case 1:A[b].fn.call(A[b].context);break;case 2:A[b].fn.call(A[b].context,m);break;case 3:A[b].fn.call(A[b].context,m,d);break;case 4:A[b].fn.call(A[b].context,m,d,y);break;default:if(!P)for(U=1,P=new Array(w-1);U<w;U++)P[U-1]=arguments[U];A[b].fn.apply(A[b].context,P)}}return!0},h.prototype.on=function(v,m,d){var y=new c(m,d||this),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],y]:this._events[S].push(y):(this._events[S]=y,this._eventsCount++),this},h.prototype.once=function(v,m,d){var y=new c(m,d||this,!0),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],y]:this._events[S].push(y):(this._events[S]=y,this._eventsCount++),this},h.prototype.removeListener=function(v,m,d,y){var S=a?a+v:v;if(!this._events[S])return this;if(!m)return--this._eventsCount===0?this._events=new l:delete this._events[S],this;var E=this._events[S];if(E.fn)E.fn===m&&(!y||E.once)&&(!d||E.context===d)&&(--this._eventsCount===0?this._events=new l:delete this._events[S]);else{for(var _=0,A=[],w=E.length;_<w;_++)(E[_].fn!==m||y&&!E[_].once||d&&E[_].context!==d)&&A.push(E[_]);A.length?this._events[S]=A.length===1?A[0]:A:--this._eventsCount===0?this._events=new l:delete this._events[S]}return this},h.prototype.removeAllListeners=function(v){var m;return v?(m=a?a+v:v,this._events[m]&&(--this._eventsCount===0?this._events=new l:delete this._events[m])):(this._events=new l,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=a,h.EventEmitter=h,typeof t<"u"&&(t.exports=h)}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},l=(function(){function pe(de,we){var Se=[],ve=!0,He=!1,Ke=void 0;try{for(var Be=de[Symbol.iterator](),Ft;!(ve=(Ft=Be.next()).done)&&(Se.push(Ft.value),!(we&&Se.length===we));ve=!0);}catch(Zt){He=!0,Ke=Zt}finally{try{!ve&&Be.return&&Be.return()}finally{if(He)throw Ke}}return Se}return function(de,we){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return pe(de,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function pe(de,we){for(var Se=0;Se<we.length;Se++){var ve=we[Se];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(de,ve.key,ve)}}return function(de,we,Se){return we&&pe(de.prototype,we),Se&&pe(de,Se),de}})(),h=o(3),g=L(h),v=o(2),m=L(v),d=o(0),y=L(d),S=o(5),E=L(S),_=o(10),A=L(_),w=o(9),P=L(w),b=o(36),D=o(37),U=o(13),k=L(U),R=o(26),M=o(38),x=o(39),I=o(40);function L(pe){return pe&&pe.__esModule?pe:{default:pe}}function N(pe,de,we){return de in pe?Object.defineProperty(pe,de,{value:we,enumerable:!0,configurable:!0,writable:!0}):pe[de]=we,pe}function $(pe,de){if(!(pe instanceof de))throw new TypeError("Cannot call a class as a function")}function G(pe,de){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:pe}function ie(pe,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);pe.prototype=Object.create(de&&de.prototype,{constructor:{value:pe,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(pe,de):pe.__proto__=de)}var re=(0,A.default)("quill:clipboard"),se="__ql-matcher",X=[[Node.TEXT_NODE,ut],[Node.TEXT_NODE,Ge],["br",Ie],[Node.ELEMENT_NODE,Ge],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,et],[Node.ELEMENT_NODE,oe],[Node.ELEMENT_NODE,Rt],["li",Ve],["b",ne.bind(ne,"bold")],["i",ne.bind(ne,"italic")],["style",je]],W=[b.AlignAttribute,M.DirectionAttribute].reduce(function(pe,de){return pe[de.keyName]=de,pe},{}),j=[b.AlignStyle,D.BackgroundStyle,R.ColorStyle,M.DirectionStyle,x.FontStyle,I.SizeStyle].reduce(function(pe,de){return pe[de.keyName]=de,pe},{}),q=(function(pe){ie(de,pe);function de(we,Se){$(this,de);var ve=G(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,we,Se));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],X.concat(ve.options.matchers).forEach(function(He){var Ke=l(He,2),Be=Ke[0],Ft=Ke[1];!Se.matchVisual&&Ft===et||ve.addMatcher(Be,Ft)}),ve}return c(de,[{key:"addMatcher",value:function(Se,ve){this.matchers.push([Se,ve])}},{key:"convert",value:function(Se){if(typeof Se=="string")return this.container.innerHTML=Se.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[k.default.blotName]){var He=this.container.innerText;return this.container.innerHTML="",new m.default().insert(He,N({},k.default.blotName,ve[k.default.blotName]))}var Ke=this.prepareMatching(),Be=l(Ke,2),Ft=Be[0],Zt=Be[1],rt=J(this.container,Ft,Zt);return Z(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new m.default().retain(rt.length()-1).delete(1))),re.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Se,ve){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof Se=="string")this.quill.setContents(this.convert(Se),ve),this.quill.setSelection(0,E.default.sources.SILENT);else{var Ke=this.convert(ve);this.quill.updateContents(new m.default().retain(Se).concat(Ke),He),this.quill.setSelection(Se+Ke.length(),E.default.sources.SILENT)}}},{key:"onPaste",value:function(Se){var ve=this;if(!(Se.defaultPrevented||!this.quill.isEnabled())){var He=this.quill.getSelection(),Ke=new m.default().retain(He.index),Be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(E.default.sources.SILENT),setTimeout(function(){Ke=Ke.concat(ve.convert()).delete(He.length),ve.quill.updateContents(Ke,E.default.sources.USER),ve.quill.setSelection(Ke.length()-He.length,E.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=Be,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Se=this,ve=[],He=[];return this.matchers.forEach(function(Ke){var Be=l(Ke,2),Ft=Be[0],Zt=Be[1];switch(Ft){case Node.TEXT_NODE:He.push(Zt);break;case Node.ELEMENT_NODE:ve.push(Zt);break;default:[].forEach.call(Se.container.querySelectorAll(Ft),function(rt){rt[se]=rt[se]||[],rt[se].push(Zt)});break}}),[ve,He]}}]),de})(P.default);q.DEFAULTS={matchers:[],matchVisual:!0};function K(pe,de,we){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Se,ve){return K(Se,ve,de[ve])},pe):pe.reduce(function(Se,ve){return ve.attributes&&ve.attributes[de]?Se.push(ve):Se.insert(ve.insert,(0,g.default)({},N({},de,we),ve.attributes))},new m.default)}function Y(pe){if(pe.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return pe[de]||(pe[de]=window.getComputedStyle(pe))}function Z(pe,de){for(var we="",Se=pe.ops.length-1;Se>=0&&we.length<de.length;--Se){var ve=pe.ops[Se];if(typeof ve.insert!="string")break;we=ve.insert+we}return we.slice(-1*de.length)===de}function z(pe){if(pe.childNodes.length===0)return!1;var de=Y(pe);return["block","list-item"].indexOf(de.display)>-1}function J(pe,de,we){return pe.nodeType===pe.TEXT_NODE?we.reduce(function(Se,ve){return ve(pe,Se)},new m.default):pe.nodeType===pe.ELEMENT_NODE?[].reduce.call(pe.childNodes||[],function(Se,ve){var He=J(ve,de,we);return ve.nodeType===pe.ELEMENT_NODE&&(He=de.reduce(function(Ke,Be){return Be(ve,Ke)},He),He=(ve[se]||[]).reduce(function(Ke,Be){return Be(ve,Ke)},He)),Se.concat(He)},new m.default):new m.default}function ne(pe,de,we){return K(we,pe,!0)}function oe(pe,de){var we=y.default.Attributor.Attribute.keys(pe),Se=y.default.Attributor.Class.keys(pe),ve=y.default.Attributor.Style.keys(pe),He={};return we.concat(Se).concat(ve).forEach(function(Ke){var Be=y.default.query(Ke,y.default.Scope.ATTRIBUTE);Be!=null&&(He[Be.attrName]=Be.value(pe),He[Be.attrName])||(Be=W[Ke],Be!=null&&(Be.attrName===Ke||Be.keyName===Ke)&&(He[Be.attrName]=Be.value(pe)||void 0),Be=j[Ke],Be!=null&&(Be.attrName===Ke||Be.keyName===Ke)&&(Be=j[Ke],He[Be.attrName]=Be.value(pe)||void 0))}),Object.keys(He).length>0&&(de=K(de,He)),de}function me(pe,de){var we=y.default.query(pe);if(we==null)return de;if(we.prototype instanceof y.default.Embed){var Se={},ve=we.value(pe);ve!=null&&(Se[we.blotName]=ve,de=new m.default().insert(Se,we.formats(pe)))}else typeof we.formats=="function"&&(de=K(de,we.blotName,we.formats(pe)));return de}function Ie(pe,de){return Z(de,`
`)||de.insert(`
`),de}function je(){return new m.default}function Ve(pe,de){var we=y.default.query(pe);if(we==null||we.blotName!=="list-item"||!Z(de,`
`))return de;for(var Se=-1,ve=pe.parentNode;!ve.classList.contains("ql-clipboard");)(y.default.query(ve)||{}).blotName==="list"&&(Se+=1),ve=ve.parentNode;return Se<=0?de:de.compose(new m.default().retain(de.length()-1).retain(1,{indent:Se}))}function Ge(pe,de){return Z(de,`
`)||(z(pe)||de.length()>0&&pe.nextSibling&&z(pe.nextSibling))&&de.insert(`
`),de}function et(pe,de){if(z(pe)&&pe.nextElementSibling!=null&&!Z(de,`

`)){var we=pe.offsetHeight+parseFloat(Y(pe).marginTop)+parseFloat(Y(pe).marginBottom);pe.nextElementSibling.offsetTop>pe.offsetTop+we*1.5&&de.insert(`
`)}return de}function Rt(pe,de){var we={},Se=pe.style||{};return Se.fontStyle&&Y(pe).fontStyle==="italic"&&(we.italic=!0),Se.fontWeight&&(Y(pe).fontWeight.startsWith("bold")||parseInt(Y(pe).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(de=K(de,we)),parseFloat(Se.textIndent||0)>0&&(de=new m.default().insert("	").concat(de)),de}function ut(pe,de){var we=pe.data;if(pe.parentNode.tagName==="O:P")return de.insert(we.trim());if(we.trim().length===0&&pe.parentNode.classList.contains("ql-clipboard"))return de;if(!Y(pe.parentNode).whiteSpace.startsWith("pre")){var Se=function(He,Ke){return Ke=Ke.replace(/[^\u00a0]/g,""),Ke.length<1&&He?" ":Ke};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,Se.bind(Se,!0)),(pe.previousSibling==null&&z(pe.parentNode)||pe.previousSibling!=null&&z(pe.previousSibling))&&(we=we.replace(/^\s+/,Se.bind(Se,!1))),(pe.nextSibling==null&&z(pe.parentNode)||pe.nextSibling!=null&&z(pe.nextSibling))&&(we=we.replace(/\s+$/,Se.bind(Se,!1)))}return de.insert(we)}r.default=q,r.matchAttributor=oe,r.matchBlot=me,r.matchNewline=Ge,r.matchSpacing=et,r.matchText=ut}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var A=0;A<_.length;A++){var w=_[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,A){return _&&S(E.prototype,_),A&&S(E,A),E}})(),l=function S(E,_,A){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:S(P,_,A)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(A)}},c=o(6),h=g(c);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"optimize",value:function(A){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,A),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),E})(h.default);y.blotName="bold",y.tagName=["STRONG","B"],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=(function(){function I(L,N){var $=[],G=!0,ie=!1,re=void 0;try{for(var se=L[Symbol.iterator](),X;!(G=(X=se.next()).done)&&($.push(X.value),!(N&&$.length===N));G=!0);}catch(W){ie=!0,re=W}finally{try{!G&&se.return&&se.return()}finally{if(ie)throw re}}return $}return function(L,N){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return I(L,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function I(L,N){for(var $=0;$<N.length;$++){var G=N[$];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,$){return N&&I(L.prototype,N),$&&I(L,$),L}})(),c=o(2),h=A(c),g=o(0),v=A(g),m=o(5),d=A(m),y=o(10),S=A(y),E=o(9),_=A(E);function A(I){return I&&I.__esModule?I:{default:I}}function w(I,L,N){return L in I?Object.defineProperty(I,L,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[L]=N,I}function P(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function b(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function D(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var U=(0,S.default)("quill:toolbar"),k=(function(I){D(L,I);function L(N,$){P(this,L);var G=b(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N,$));if(Array.isArray(G.options.container)){var ie=document.createElement("div");M(ie,G.options.container),N.container.parentNode.insertBefore(ie,N.container),G.container=ie}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var re;return re=U.error("Container required for toolbar",G.options),b(G,re)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(se){G.addHandler(se,G.options.handlers[se])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(se){G.attach(se)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(se,X){se===d.default.events.SELECTION_CHANGE&&G.update(X)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var se=G.quill.selection.getRange(),X=a(se,1),W=X[0];G.update(W)}),G}return l(L,[{key:"addHandler",value:function($,G){this.handlers[$]=G}},{key:"attach",value:function($){var G=this,ie=[].find.call($.classList,function(se){return se.indexOf("ql-")===0});if(ie){if(ie=ie.slice(3),$.tagName==="BUTTON"&&$.setAttribute("type","button"),this.handlers[ie]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ie]==null){U.warn("ignoring attaching to disabled format",ie,$);return}if(v.default.query(ie)==null){U.warn("ignoring attaching to nonexistent format",ie,$);return}}var re=$.tagName==="SELECT"?"change":"click";$.addEventListener(re,function(se){var X=void 0;if($.tagName==="SELECT"){if($.selectedIndex<0)return;var W=$.options[$.selectedIndex];W.hasAttribute("selected")?X=!1:X=W.value||!1}else $.classList.contains("ql-active")?X=!1:X=$.value||!$.hasAttribute("value"),se.preventDefault();G.quill.focus();var j=G.quill.selection.getRange(),q=a(j,1),K=q[0];if(G.handlers[ie]!=null)G.handlers[ie].call(G,X);else if(v.default.query(ie).prototype instanceof v.default.Embed){if(X=prompt("Enter "+ie),!X)return;G.quill.updateContents(new h.default().retain(K.index).delete(K.length).insert(w({},ie,X)),d.default.sources.USER)}else G.quill.format(ie,X,d.default.sources.USER);G.update(K)}),this.controls.push([ie,$])}}},{key:"update",value:function($){var G=$==null?{}:this.quill.getFormat($);this.controls.forEach(function(ie){var re=a(ie,2),se=re[0],X=re[1];if(X.tagName==="SELECT"){var W=void 0;if($==null)W=null;else if(G[se]==null)W=X.querySelector("option[selected]");else if(!Array.isArray(G[se])){var j=G[se];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),W=X.querySelector('option[value="'+j+'"]')}W==null?(X.value="",X.selectedIndex=-1):W.selected=!0}else if($==null)X.classList.remove("ql-active");else if(X.hasAttribute("value")){var q=G[se]===X.getAttribute("value")||G[se]!=null&&G[se].toString()===X.getAttribute("value")||G[se]==null&&!X.getAttribute("value");X.classList.toggle("ql-active",q)}else X.classList.toggle("ql-active",G[se]!=null)})}}]),L})(_.default);k.DEFAULTS={};function R(I,L,N){var $=document.createElement("button");$.setAttribute("type","button"),$.classList.add("ql-"+L),N!=null&&($.value=N),I.appendChild($)}function M(I,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(N){var $=document.createElement("span");$.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")R($,G);else{var ie=Object.keys(G)[0],re=G[ie];Array.isArray(re)?x($,ie,re):R($,ie,re)}}),I.appendChild($)})}function x(I,L,N){var $=document.createElement("select");$.classList.add("ql-"+L),N.forEach(function(G){var ie=document.createElement("option");G!==!1?ie.setAttribute("value",G):ie.setAttribute("selected","selected"),$.appendChild(ie)}),I.appendChild($)}k.DEFAULTS={container:null,handlers:{clean:function(){var L=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var $=this.quill.getFormat();Object.keys($).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&L.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(L){var N=this.quill.getFormat().align;L==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!L&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",L,d.default.sources.USER)},indent:function(L){var N=this.quill.getSelection(),$=this.quill.getFormat(N),G=parseInt($.indent||0);if(L==="+1"||L==="-1"){var ie=L==="+1"?1:-1;$.direction==="rtl"&&(ie*=-1),this.quill.format("indent",G+ie,d.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,d.default.sources.USER)},list:function(L){var N=this.quill.getSelection(),$=this.quill.getFormat(N);L==="check"?$.list==="checked"||$.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",L,d.default.sources.USER)}}},r.default=k,r.addControls=M}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var A=0;A<_.length;A++){var w=_[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,A){return _&&S(E.prototype,_),A&&S(E,A),E}})(),l=function S(E,_,A){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:S(P,_,A)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(A)}},c=o(28),h=g(c);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(_,A){v(this,E);var w=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,_));return w.label.innerHTML=A,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(P){P.classList.add("ql-primary")}),w}return a(E,[{key:"buildItem",value:function(A){var w=l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"buildItem",this).call(this,A);return w.style.backgroundColor=A.getAttribute("value")||"",w}},{key:"selectItem",value:function(A,w){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,A,w);var P=this.label.querySelector(".ql-color-label"),b=A&&A.getAttribute("data-value")||"";P&&(P.tagName==="line"?P.style.stroke=b:P.style.fill=b)}}]),E})(h.default);r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var A=0;A<_.length;A++){var w=_[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,A){return _&&S(E.prototype,_),A&&S(E,A),E}})(),l=function S(E,_,A){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:S(P,_,A)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(A)}},c=o(28),h=g(c);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(_,A){v(this,E);var w=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,_));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(P){P.innerHTML=A[P.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return a(E,[{key:"selectItem",value:function(A,w){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,A,w),A=A||this.defaultItem,this.label.innerHTML=A.innerHTML}}]),E})(h.default);r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function h(g,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(g,d.key,d)}}return function(g,v,m){return v&&h(g.prototype,v),m&&h(g,m),g}})();function l(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var c=(function(){function h(g,v){var m=this;l(this,h),this.quill=g,this.boundsContainer=v||document.body,this.root=g.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return a(h,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var m=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),S=this.root.getBoundingClientRect(),E=0;if(S.right>y.right&&(E=y.right-S.right,this.root.style.left=m+E+"px"),S.left<y.left&&(E=y.left-S.left,this.root.style.left=m+E+"px"),S.bottom>y.bottom){var _=S.bottom-S.top,A=v.bottom-v.top+_;this.root.style.top=d-A+"px",this.root.classList.add("ql-flip")}return E}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),h})();r.default=c}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function x(I,L){var N=[],$=!0,G=!1,ie=void 0;try{for(var re=I[Symbol.iterator](),se;!($=(se=re.next()).done)&&(N.push(se.value),!(L&&N.length===L));$=!0);}catch(X){G=!0,ie=X}finally{try{!$&&re.return&&re.return()}finally{if(G)throw ie}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return x(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function x(I,L,N){I===null&&(I=Function.prototype);var $=Object.getOwnPropertyDescriptor(I,L);if($===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:x(G,L,N)}else{if("value"in $)return $.value;var ie=$.get;return ie===void 0?void 0:ie.call(N)}},c=(function(){function x(I,L){for(var N=0;N<L.length;N++){var $=L[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(I,$.key,$)}}return function(I,L,N){return L&&x(I.prototype,L),N&&x(I,N),I}})(),h=o(3),g=P(h),v=o(8),m=P(v),d=o(43),y=P(d),S=o(27),E=P(S),_=o(15),A=o(41),w=P(A);function P(x){return x&&x.__esModule?x:{default:x}}function b(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function D(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function U(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=(function(x){U(I,x);function I(L,N){b(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=k);var $=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return $.quill.container.classList.add("ql-snow"),$}return c(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),w.default),this.tooltip=new M(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function($,G){N.handlers.link.call(N,!G.format.link)})}}]),I})(y.default);R.DEFAULTS=(0,g.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var L=this.quill.getSelection();if(L==null||L.length==0)return;var N=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var $=this.quill.theme.tooltip;$.edit("link",N)}else this.quill.format("link",!1)}}}}});var M=(function(x){U(I,x);function I(L,N){b(this,I);var $=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return $.preview=$.root.querySelector("a.ql-preview"),$}return c(I,[{key:"listen",value:function(){var N=this;l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function($){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),$.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function($){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,m.default.sources.USER),delete N.linkRange}$.preventDefault(),N.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function($,G,ie){if($!=null){if($.length===0&&ie===m.default.sources.USER){var re=N.quill.scroll.descendant(E.default,$.index),se=a(re,2),X=se[0],W=se[1];if(X!=null){N.linkRange=new _.Range($.index-W,X.length());var j=E.default.formats(X.domNode);N.preview.textContent=j,N.preview.setAttribute("href",j),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I})(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=R}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),l=ve(a),c=o(36),h=o(38),g=o(64),v=o(65),m=ve(v),d=o(66),y=ve(d),S=o(67),E=ve(S),_=o(37),A=o(26),w=o(39),P=o(40),b=o(56),D=ve(b),U=o(68),k=ve(U),R=o(27),M=ve(R),x=o(69),I=ve(x),L=o(70),N=ve(L),$=o(71),G=ve($),ie=o(72),re=ve(ie),se=o(73),X=ve(se),W=o(13),j=ve(W),q=o(74),K=ve(q),Y=o(75),Z=ve(Y),z=o(57),J=ve(z),ne=o(41),oe=ve(ne),me=o(28),Ie=ve(me),je=o(59),Ve=ve(je),Ge=o(60),et=ve(Ge),Rt=o(61),ut=ve(Rt),pe=o(108),de=ve(pe),we=o(62),Se=ve(we);function ve(He){return He&&He.__esModule?He:{default:He}}l.default.register({"attributors/attribute/direction":h.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":A.ColorClass,"attributors/class/direction":h.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":P.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":A.ColorStyle,"attributors/style/direction":h.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":P.SizeStyle},!0),l.default.register({"formats/align":c.AlignClass,"formats/direction":h.DirectionClass,"formats/indent":g.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":A.ColorStyle,"formats/font":w.FontClass,"formats/size":P.SizeClass,"formats/blockquote":m.default,"formats/code-block":j.default,"formats/header":y.default,"formats/list":E.default,"formats/bold":D.default,"formats/code":W.Code,"formats/italic":k.default,"formats/link":M.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":re.default,"formats/video":X.default,"formats/list/item":S.ListItem,"modules/formula":K.default,"modules/syntax":Z.default,"modules/toolbar":J.default,"themes/bubble":de.default,"themes/snow":Se.default,"ui/icons":oe.default,"ui/picker":Ie.default,"ui/icon-picker":et.default,"ui/color-picker":Ve.default,"ui/tooltip":ut.default},!0),r.default=l.default}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=(function(){function E(_,A){for(var w=0;w<A.length;w++){var P=A[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(_,P.key,P)}}return function(_,A,w){return A&&E(_.prototype,A),w&&E(_,w),_}})(),l=function E(_,A,w){_===null&&(_=Function.prototype);var P=Object.getOwnPropertyDescriptor(_,A);if(P===void 0){var b=Object.getPrototypeOf(_);return b===null?void 0:E(b,A,w)}else{if("value"in P)return P.value;var D=P.get;return D===void 0?void 0:D.call(w)}},c=o(0),h=g(c);function g(E){return E&&E.__esModule?E:{default:E}}function v(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function m(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function d(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var y=(function(E){d(_,E);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(w,P){if(P==="+1"||P==="-1"){var b=this.value(w)||0;P=P==="+1"?b+1:b-1}return P===0?(this.remove(w),!0):l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,w,P)}},{key:"canAdd",value:function(w,P){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,w,P)||l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,w,parseInt(P))}},{key:"value",value:function(w){return parseInt(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,w))||void 0}}]),_})(h.default.Attributor.Class),S=new y("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function g(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function y(S,E){for(var _=0;_<E.length;_++){var A=E[_];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,E,_){return E&&y(S.prototype,E),_&&y(S,_),S}})(),l=o(4),c=h(l);function h(y){return y&&y.__esModule?y:{default:y}}function g(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function v(y,S){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:y}function m(y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);y.prototype=Object.create(S&&S.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(y,S):y.__proto__=S)}var d=(function(y){m(S,y);function S(){return g(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),S})(c.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=(function(){function b(D,U){for(var k=0;k<U.length;k++){var R=U[k];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,U,k){return U&&b(D.prototype,U),k&&b(D,k),D}})(),l=function b(D,U,k){D===null&&(D=Function.prototype);var R=Object.getOwnPropertyDescriptor(D,U);if(R===void 0){var M=Object.getPrototypeOf(D);return M===null?void 0:b(M,U,k)}else{if("value"in R)return R.value;var x=R.get;return x===void 0?void 0:x.call(k)}},c=o(0),h=y(c),g=o(4),v=y(g),m=o(25),d=y(m);function y(b){return b&&b.__esModule?b:{default:b}}function S(b,D,U){return D in b?Object.defineProperty(b,D,{value:U,enumerable:!0,configurable:!0,writable:!0}):b[D]=U,b}function E(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function _(b,D){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:b}function A(b,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(b,D):b.__proto__=D)}var w=(function(b){A(D,b);function D(){return E(this,D),_(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"format",value:function(k,R){k===P.blotName&&!R?this.replaceWith(h.default.create(this.statics.scope)):l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,k,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,R){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,R),this):(this.parent.unwrap(),l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,k,R))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:l(D.__proto__||Object.getPrototypeOf(D),"formats",this).call(this,k)}}]),D})(v.default);w.blotName="list-item",w.tagName="LI";var P=(function(b){A(D,b),a(D,null,[{key:"create",value:function(k){var R=k==="ordered"?"OL":"UL",M=l(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,R);return(k==="checked"||k==="unchecked")&&M.setAttribute("data-checked",k==="checked"),M}},{key:"formats",value:function(k){if(k.tagName==="OL")return"ordered";if(k.tagName==="UL")return k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function D(U){E(this,D);var k=_(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,U)),R=function(x){if(x.target.parentNode===U){var I=k.statics.formats(U),L=h.default.find(x.target);I==="checked"?L.format("list","unchecked"):I==="unchecked"&&L.format("list","checked")}};return U.addEventListener("touchstart",R),U.addEventListener("mousedown",R),k}return a(D,[{key:"format",value:function(k,R){this.children.length>0&&this.children.tail.format(k,R)}},{key:"formats",value:function(){return S({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(k,R){if(k instanceof w)l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,k,R);else{var M=R==null?this.length():R.offset(this),x=this.split(M);x.parent.insertBefore(k,x)}}},{key:"optimize",value:function(k){l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,k);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var R=h.default.create(this.statics.defaultChild);k.moveChildren(R),this.appendChild(R)}l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,k)}}]),D})(d.default);P.blotName="list",P.scope=h.default.Scope.BLOCK_BLOT,P.tagName=["OL","UL"],P.defaultChild="list-item",P.allowedChildren=[w],r.ListItem=w,r.default=P}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function g(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var A=0;A<_.length;A++){var w=_[A];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,A){return _&&S(E.prototype,_),A&&S(E,A),E}})(),l=function S(E,_,A){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:S(P,_,A)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(A)}},c=o(6),h=g(c);function g(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,null,[{key:"create",value:function(A){return A==="super"?document.createElement("sup"):A==="sub"?document.createElement("sub"):l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,A)}},{key:"formats",value:function(A){if(A.tagName==="SUB")return"sub";if(A.tagName==="SUP")return"super"}}]),E})(h.default);y.blotName="script",y.tagName=["SUB","SUP"],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function g(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="strike",m.tagName="S",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function h(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function g(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return h(this,y),g(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="underline",m.tagName="U",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function _(A,w){for(var P=0;P<w.length;P++){var b=w[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}return function(A,w,P){return w&&_(A.prototype,w),P&&_(A,P),A}})(),l=function _(A,w,P){A===null&&(A=Function.prototype);var b=Object.getOwnPropertyDescriptor(A,w);if(b===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:_(D,w,P)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(P)}},c=o(0),h=v(c),g=o(27);function v(_){return _&&_.__esModule?_:{default:_}}function m(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function d(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function y(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var S=["alt","height","width"],E=(function(_){y(A,_);function A(){return m(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"format",value:function(P,b){S.indexOf(P)>-1?b?this.domNode.setAttribute(P,b):this.domNode.removeAttribute(P):l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,P,b)}}],[{key:"create",value:function(P){var b=l(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,P);return typeof P=="string"&&b.setAttribute("src",this.sanitize(P)),b}},{key:"formats",value:function(P){return S.reduce(function(b,D){return P.hasAttribute(D)&&(b[D]=P.getAttribute(D)),b},{})}},{key:"match",value:function(P){return/\.(jpe?g|gif|png)$/.test(P)||/^data:image\/.+;base64/.test(P)}},{key:"sanitize",value:function(P){return(0,g.sanitize)(P,["http","https","data"])?P:"//:0"}},{key:"value",value:function(P){return P.getAttribute("src")}}]),A})(h.default.Embed);E.blotName="image",E.tagName="IMG",r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function _(A,w){for(var P=0;P<w.length;P++){var b=w[P];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(A,b.key,b)}}return function(A,w,P){return w&&_(A.prototype,w),P&&_(A,P),A}})(),l=function _(A,w,P){A===null&&(A=Function.prototype);var b=Object.getOwnPropertyDescriptor(A,w);if(b===void 0){var D=Object.getPrototypeOf(A);return D===null?void 0:_(D,w,P)}else{if("value"in b)return b.value;var U=b.get;return U===void 0?void 0:U.call(P)}},c=o(4),h=o(27),g=v(h);function v(_){return _&&_.__esModule?_:{default:_}}function m(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function d(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function y(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var S=["height","width"],E=(function(_){y(A,_);function A(){return m(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"format",value:function(P,b){S.indexOf(P)>-1?b?this.domNode.setAttribute(P,b):this.domNode.removeAttribute(P):l(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,P,b)}}],[{key:"create",value:function(P){var b=l(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,P);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(P)),b}},{key:"formats",value:function(P){return S.reduce(function(b,D){return P.hasAttribute(D)&&(b[D]=P.getAttribute(D)),b},{})}},{key:"sanitize",value:function(P){return g.default.sanitize(P)}},{key:"value",value:function(P){return P.getAttribute("src")}}]),A})(c.BlockEmbed);E.blotName="video",E.className="ql-video",E.tagName="IFRAME",r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=(function(){function P(b,D){for(var U=0;U<D.length;U++){var k=D[U];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,D,U){return D&&P(b.prototype,D),U&&P(b,U),b}})(),l=function P(b,D,U){b===null&&(b=Function.prototype);var k=Object.getOwnPropertyDescriptor(b,D);if(k===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:P(R,D,U)}else{if("value"in k)return k.value;var M=k.get;return M===void 0?void 0:M.call(U)}},c=o(35),h=y(c),g=o(5),v=y(g),m=o(9),d=y(m);function y(P){return P&&P.__esModule?P:{default:P}}function S(P,b){if(!(P instanceof b))throw new TypeError("Cannot call a class as a function")}function E(P,b){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:P}function _(P,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);P.prototype=Object.create(b&&b.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(P,b):P.__proto__=b)}var A=(function(P){_(b,P);function b(){return S(this,b),E(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(U){var k=l(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,U);return typeof U=="string"&&(window.katex.render(U,k,{throwOnError:!1,errorColor:"#f00"}),k.setAttribute("data-value",U)),k}},{key:"value",value:function(U){return U.getAttribute("data-value")}}]),b})(h.default);A.blotName="formula",A.className="ql-formula",A.tagName="SPAN";var w=(function(P){_(b,P),a(b,null,[{key:"register",value:function(){v.default.register(A,!0)}}]);function b(){S(this,b);var D=E(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return D}return b})(d.default);r.FormulaBlot=A,r.default=w}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=(function(){function U(k,R){for(var M=0;M<R.length;M++){var x=R[M];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(k,x.key,x)}}return function(k,R,M){return R&&U(k.prototype,R),M&&U(k,M),k}})(),l=function U(k,R,M){k===null&&(k=Function.prototype);var x=Object.getOwnPropertyDescriptor(k,R);if(x===void 0){var I=Object.getPrototypeOf(k);return I===null?void 0:U(I,R,M)}else{if("value"in x)return x.value;var L=x.get;return L===void 0?void 0:L.call(M)}},c=o(0),h=E(c),g=o(5),v=E(g),m=o(9),d=E(m),y=o(13),S=E(y);function E(U){return U&&U.__esModule?U:{default:U}}function _(U,k){if(!(U instanceof k))throw new TypeError("Cannot call a class as a function")}function A(U,k){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:U}function w(U,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);U.prototype=Object.create(k&&k.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(U,k):U.__proto__=k)}var P=(function(U){w(k,U);function k(){return _(this,k),A(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return a(k,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var x=this.domNode.textContent;this.cachedText!==x&&((x.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(x),this.domNode.normalize(),this.attach()),this.cachedText=x)}}]),k})(S.default);P.className="ql-syntax";var b=new h.default.Attributor.Class("token","hljs",{scope:h.default.Scope.INLINE}),D=(function(U){w(k,U),a(k,null,[{key:"register",value:function(){v.default.register(b,!0),v.default.register(P,!0)}}]);function k(R,M){_(this,k);var x=A(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,R,M));if(typeof x.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return x.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){x.highlight(),I=null},x.options.interval)}),x.highlight(),x}return a(k,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var x=this.quill.getSelection();this.quill.scroll.descendants(P).forEach(function(I){I.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),x!=null&&this.quill.setSelection(x,v.default.sources.SILENT)}}}]),k})(d.default);D.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(U){var k=window.hljs.highlightAuto(U);return k.value}})(),interval:1e3},r.CodeBlock=P,r.CodeToken=b,r.default=D}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function k(R,M,x){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,M);if(I===void 0){var L=Object.getPrototypeOf(R);return L===null?void 0:k(L,M,x)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(x)}},l=(function(){function k(R,M){for(var x=0;x<M.length;x++){var I=M[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,M,x){return M&&k(R.prototype,M),x&&k(R,x),R}})(),c=o(3),h=_(c),g=o(8),v=_(g),m=o(43),d=_(m),y=o(15),S=o(41),E=_(S);function _(k){return k&&k.__esModule?k:{default:k}}function A(k,R){if(!(k instanceof R))throw new TypeError("Cannot call a class as a function")}function w(k,R){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:k}function P(k,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);k.prototype=Object.create(R&&R.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(k,R):k.__proto__=R)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],D=(function(k){P(R,k);function R(M,x){A(this,R),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=b);var I=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.container.classList.add("ql-bubble"),I}return l(R,[{key:"extendToolbar",value:function(x){this.tooltip=new U(this.quill,this.options.bounds),this.tooltip.root.appendChild(x.container),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),E.default)}}]),R})(d.default);D.DEFAULTS=(0,h.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var U=(function(k){P(R,k);function R(M,x){A(this,R);var I=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,x));return I.quill.on(v.default.events.EDITOR_CHANGE,function(L,N,$,G){if(L===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var ie=I.quill.getLines(N.index,N.length);if(ie.length===1)I.position(I.quill.getBounds(N));else{var re=ie[ie.length-1],se=I.quill.getIndex(re),X=Math.min(re.length()-1,N.index+N.length-se),W=I.quill.getBounds(new y.Range(se,X));I.position(W)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return l(R,[{key:"listen",value:function(){var x=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){x.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!x.root.classList.contains("ql-hidden")){var I=x.quill.getSelection();I!=null&&x.position(x.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(x){var I=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,x),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",I===0)return I;L.style.marginLeft=-1*I-L.offsetWidth/2+"px"}}]),R})(m.BaseTooltip);U.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=U,r.default=D}),(function(t,r,o){t.exports=o(63)})]).default})})($c)),$c.exports}var nr,_w;function KM(){if(_w)return nr;_w=1;var n=nr&&nr.__extends||(function(){var v=function(m,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var E in S)S.hasOwnProperty(E)&&(y[E]=S[E])},v(m,d)};return function(m,d){v(m,d);function y(){this.constructor=m}m.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}})(),e=nr&&nr.__assign||function(){return e=Object.assign||function(v){for(var m,d=1,y=arguments.length;d<y;d++){m=arguments[d];for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(v[S]=m[S])}return v},e.apply(this,arguments)},t=nr&&nr.__spreadArrays||function(){for(var v=0,m=0,d=arguments.length;m<d;m++)v+=arguments[m].length;for(var y=Array(v),S=0,m=0;m<d;m++)for(var E=arguments[m],_=0,A=E.length;_<A;_++,S++)y[S]=E[_];return y},r=nr&&nr.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(mf()),a=r(Ew()),l=r(HM()),c=r(WM()),h=(function(v){n(m,v);function m(d){var y=v.call(this,d)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(E,_,A,w){var P,b,D,U;E==="text-change"?(b=(P=y).onEditorChangeText)===null||b===void 0||b.call(P,y.editor.root.innerHTML,_,w,y.unprivilegedEditor):E==="selection-change"&&((U=(D=y).onEditorChangeSelection)===null||U===void 0||U.call(D,_,w,y.unprivilegedEditor))};var S=y.isControlled()?d.value:d.defaultValue;return y.value=S??"",y}return m.prototype.validateProps=function(d){var y;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var S=o.default.Children.only(d.children);if(((y=S)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},m.prototype.shouldComponentUpdate=function(d,y){var S=this,E;if(this.validateProps(d),!this.editor||this.state.generation!==y.generation)return!0;if("value"in d){var _=this.getEditorContents(),A=(E=d.value,E??"");this.isEqualValue(A,_)||this.setEditorContents(this.editor,A)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(w){return!l.default(d[w],S.props[w])})},m.prototype.shouldComponentRegenerate=function(d){var y=this;return this.dirtyProps.some(function(S){return!l.default(d[S],y.props[S])})},m.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},m.prototype.componentWillUnmount=function(){this.destroyEditor()},m.prototype.componentDidUpdate=function(d,y){var S=this;if(this.editor&&this.shouldComponentRegenerate(d)){var E=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:E,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var A=this.regenerationSnapshot,E=A.delta,w=A.selection;delete this.regenerationSnapshot,this.instantiateEditor();var P=this.editor;P.setContents(E),g(function(){return S.setEditorSelection(P,w)})}},m.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},m.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},m.prototype.isControlled=function(){return"value"in this.props},m.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},m.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},m.prototype.createEditor=function(d,y){var S=new c.default(d,y);return y.tabIndex!=null&&this.setEditorTabIndex(S,y.tabIndex),this.hookEditor(S),S},m.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},m.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},m.prototype.getEditorContents=function(){return this.value},m.prototype.getEditorSelection=function(){return this.selection},m.prototype.isDelta=function(d){return d&&d.ops},m.prototype.isEqualValue=function(d,y){return this.isDelta(d)&&this.isDelta(y)?l.default(d.ops,y.ops):l.default(d,y)},m.prototype.setEditorContents=function(d,y){var S=this;this.value=y;var E=this.getEditorSelection();typeof y=="string"?d.setContents(d.clipboard.convert(y)):d.setContents(y),g(function(){return S.setEditorSelection(d,E)})},m.prototype.setEditorSelection=function(d,y){if(this.selection=y,y){var S=d.getLength();y.index=Math.max(0,Math.min(y.index,S-1)),y.length=Math.max(0,Math.min(y.length,S-1-y.index)),d.setSelection(y)}},m.prototype.setEditorTabIndex=function(d,y){var S,E;!((E=(S=d)===null||S===void 0?void 0:S.scroll)===null||E===void 0)&&E.domNode&&(d.scroll.domNode.tabIndex=y)},m.prototype.setEditorReadOnly=function(d,y){y?d.disable():d.enable()},m.prototype.makeUnprivilegedEditor=function(d){var y=d;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},m.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},m.prototype.renderEditingArea=function(){var d=this,y=this.props,S=y.children,E=y.preserveWhitespace,_=this.state.generation,A={key:_,ref:function(w){d.editingArea=w}};return o.default.Children.count(S)?o.default.cloneElement(o.default.Children.only(S),A):E?o.default.createElement("pre",e({},A)):o.default.createElement("div",e({},A))},m.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},m.prototype.onEditorChangeText=function(d,y,S,E){var _,A;if(this.editor){var w=this.isDelta(this.value)?E.getContents():E.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=w,(A=(_=this.props).onChange)===null||A===void 0||A.call(_,d,y,S,E))}},m.prototype.onEditorChangeSelection=function(d,y,S){var E,_,A,w,P,b;if(this.editor){var D=this.getEditorSelection(),U=!D&&d,k=D&&!d;l.default(d,D)||(this.selection=d,(_=(E=this.props).onChangeSelection)===null||_===void 0||_.call(E,d,y,S),U?(w=(A=this.props).onFocus)===null||w===void 0||w.call(A,d,y,S):k&&((b=(P=this.props).onBlur)===null||b===void 0||b.call(P,D,y,S)))}},m.prototype.focus=function(){this.editor&&this.editor.focus()},m.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},m.displayName="React Quill",m.Quill=c.default,m.defaultProps={theme:"snow",modules:{},readOnly:!1},m})(o.default.Component);function g(v){Promise.resolve().then(v)}return nr=h,nr}var GM=KM();const QM=fa(GM);function YM(){const[n,e]=ce.useState(null),[t,r]=ce.useState({displayName:"",photoURL:""}),[o,a]=ce.useState(null),[l,c]=ce.useState(!1),[h,g]=ce.useState([]),[v,m]=ce.useState(null),[d,y]=ce.useState(!1),[S,E]=ce.useState(""),[_,A]=ce.useState(""),[w,P]=ce.useState(""),[b,D]=ce.useState(""),[U,k]=ce.useState(""),[R,M]=ce.useState(""),x=ce.useRef(null);ce.useEffect(()=>{const Y=fN(zd,Z=>{Z?(e(Z),r({displayName:Z.displayName||"",photoURL:Z.photoURL||""}),I()):(e(null),r({displayName:"",photoURL:""}))});return()=>Y()},[]);async function I(){const Z=(await MA(eg(jo,"posts"))).docs.map(z=>({id:z.id,...z.data()}));g(Z)}function L(Y){const Z=document.createElement("input");Z.type="file",Z.accept=Y==="image"?"image/*":"video/*",Z.click(),Z.onchange=()=>{const z=Z.files[0];if(!z)return;y(!0);const J=Bd(Hd,`blog/${Y}s/${Date.now()}_${z.name}`),ne=Fd(J,z);ne.on("state_changed",null,oe=>{console.error(oe),y(!1)},async()=>{const oe=await qd(ne.snapshot.ref),me=x.current.getEditor(),Ie=me.getSelection(!0);Y==="image"?me.insertEmbed(Ie.index,"image",oe):me.insertEmbed(Ie.index,"video",oe),me.setSelection(Ie.index+1),y(!1)})}}function N(Y){const Z=Y.target.files[0];if(!Z)return;y(!0);const z=Bd(Hd,`blog/featured/${Date.now()}_${Z.name}`),J=Fd(z,Z);J.on("state_changed",null,ne=>{console.error(ne),y(!1)},async()=>{const ne=await qd(J.snapshot.ref);D(ne),y(!1)})}async function $(Y){const Z=Y.target.files[0];if(!Z)return;y(!0);const z=await G(Z,200,200),J=Bd(Hd,`users/${n.uid}/avatar_${Date.now()}.webp`);await Fd(J,z);const ne=await qd(J);r(oe=>({...oe,photoURL:ne})),await f0(n,{photoURL:ne}),y(!1)}function G(Y,Z,z){return new Promise(J=>{const ne=new Image;ne.src=URL.createObjectURL(Y),ne.onload=()=>{const oe=document.createElement("canvas");oe.width=Z,oe.height=z,oe.getContext("2d").drawImage(ne,0,0,Z,z),oe.toBlob(Ie=>J(new File([Ie],"avatar.webp",{type:"image/webp"})),"image/webp",.8)}})}async function ie(){n&&(await f0(n,{displayName:t.displayName,photoURL:t.photoURL}),await rx(xl(jo,"admuser",n.uid),{displayName:t.displayName,photoURL:t.photoURL,email:n.email,updatedAt:Y2()},{merge:!0}),alert("Perfil atualizado!"))}const re=ce.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["blockquote"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]],handlers:{image:()=>L("image"),video:()=>L("video")}}}),[]),se=["header","bold","italic","underline","strike","list","bullet","script","blockquote","align","link","image","video"];async function X(){if(!S||!_||!w){alert("Ttulo, resumo e contedo so obrigatrios!");return}const Y={title:S,summary:_,content:w,featuredImage:b,authorId:n.uid,authorName:t.displayName||n.email,authorPhoto:t.photoURL||"",date:new Date};v?await ix(xl(jo,"posts",v),Y):await sx(eg(jo,"posts"),Y),K(),I()}async function W(Y){window.confirm("Tem certeza que deseja excluir este post?")&&(await ox(xl(jo,"posts",Y)),I())}function j(){return o?o.displayName!==t.displayName||o.photoURL!==t.photoURL:!1}function q(Y){m(Y.id),E(Y.title),A(Y.summary),P(Y.content),D(Y.featuredImage||"")}function K(){m(null),E(""),A(""),P(""),D("")}return n?B.jsxs("section",{className:"admin-wrapper",children:[B.jsxs("header",{className:"admin-header",children:[B.jsxs("div",{className:"user-profile",children:[t.photoURL?B.jsx("img",{src:t.photoURL,alt:"Avatar",className:"avatar"}):B.jsx("div",{className:"avatar-placeholder",children:"U"}),B.jsx("div",{className:"user-info",children:l?B.jsxs(B.Fragment,{children:[B.jsx("input",{type:"text",placeholder:"Seu nome",value:t.displayName,onChange:Y=>r({...t,displayName:Y.target.value})}),B.jsx("input",{type:"file",accept:"image/*",onChange:$}),B.jsxs("div",{className:"profile-actions",children:[B.jsx("button",{className:"admin-btn primary",disabled:!j()||d,onClick:async()=>{await ie(),c(!1)},children:d?"Enviando...":"Salvar perfil"}),B.jsx("button",{className:"admin-btn cancel",onClick:()=>{r(o),c(!1)},children:"Cancelar"})]})]}):B.jsxs(B.Fragment,{children:[B.jsx("strong",{className:"user-name",children:t.displayName||n.email}),B.jsx("button",{className:"edit-profile-link",onClick:()=>{a(t),c(!0)},children:"Editar perfil"})]})})]}),B.jsx("button",{className:"admin-logout",onClick:()=>hN(zd),children:"Sair"})]}),B.jsx("hr",{}),B.jsxs("div",{className:"post-form",children:[B.jsx("h3",{children:v?"Editar Post":"Novo Post"}),B.jsx("input",{value:S,placeholder:"Ttulo",onChange:Y=>E(Y.target.value)}),B.jsx("input",{value:_,placeholder:"Resumo",onChange:Y=>A(Y.target.value)}),B.jsxs("div",{style:{marginBottom:"20px"},children:[B.jsx("label",{children:"Imagem de Destaque:"}),B.jsx("input",{type:"file",accept:"image/*",onChange:N}),b&&B.jsx("img",{src:b,alt:"Destaque",style:{marginTop:"10px",maxWidth:"100%"}})]}),B.jsx(QM,{ref:x,theme:"snow",value:w,onChange:P,modules:re,formats:se,style:{background:"white",color:"black",marginBottom:"20px"}}),d&&B.jsx("p",{children:"Enviando mdia..."}),B.jsxs("div",{className:"admin-actions",children:[B.jsx("button",{className:"admin-btn primary",onClick:X,children:v?"Salvar Alteraes":"Publicar"}),v&&B.jsx("button",{className:"admin-btn cancel",onClick:K,children:"Cancelar"})]})]}),B.jsx("hr",{}),B.jsxs("div",{className:"posts-management",children:[B.jsx("h3",{children:"Gerenciar Posts"}),h.map(Y=>B.jsxs("div",{className:"admin-post-item",style:{display:"flex",gap:"10px",alignItems:"center"},children:[Y.featuredImage&&B.jsx("img",{src:Y.featuredImage,alt:"Destaque",style:{width:"80px",height:"60px",objectFit:"cover",borderRadius:"8px"}}),B.jsxs("div",{style:{flex:1},children:[B.jsx("strong",{children:Y.title}),B.jsxs("small",{style:{color:"#888"},children:["Publicado por ",Y.authorName," em ",new Date(Y.date.seconds*1e3).toLocaleString()]})]}),B.jsxs("div",{className:"admin-post-actions",style:{display:"flex",gap:"10px"},children:[B.jsx("button",{className:"edit",onClick:()=>q(Y),children:"Editar"}),B.jsx("button",{className:"delete",onClick:()=>W(Y.id),children:"Excluir"})]})]},Y.id))]})]}):B.jsxs("div",{className:"admin-login",children:[B.jsx("h3",{children:"Acesso Restrito"}),B.jsx("input",{placeholder:"Email",onChange:Y=>k(Y.target.value)}),B.jsx("input",{type:"password",placeholder:"Senha",onChange:Y=>M(Y.target.value)}),B.jsx("button",{onClick:()=>aN(zd,U,R),children:"Entrar"})]})}const XM="/assets/logo-BA7yjzbC.svg";function JM(){const[n,e]=ce.useState(!1),t=r=>{const o=document.getElementById(r);if(!o)return;const c=o.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:c,behavior:"smooth"}),e(!1)};return B.jsx("header",{className:"header",children:B.jsxs("nav",{className:"nav",children:[B.jsx(ri,{to:"/",className:"logo",children:B.jsx("img",{src:XM,alt:"Dra. Lueine Barradas"})}),B.jsxs("button",{className:`hamburger ${n?"active":""}`,onClick:()=>e(!n),children:[B.jsx("span",{}),B.jsx("span",{}),B.jsx("span",{})]}),B.jsxs("div",{className:`menu ${n?"open":""}`,children:[B.jsx("button",{onClick:()=>t("inicio"),children:"Incio"}),B.jsx("button",{onClick:()=>t("servicos"),children:"Servios"}),B.jsx("button",{onClick:()=>t("consulta"),children:"Consulta"}),B.jsx("button",{onClick:()=>t("sobre"),children:"Sobre"}),B.jsx("button",{onClick:()=>t("contato"),children:"Contato"})]})]})})}const ZM="/assets/logo-principal-CuiP-lsQ.svg";function e3(){return B.jsxs("footer",{className:"footer",children:[B.jsxs("div",{className:"footer-container",children:[B.jsx("div",{className:"footer-brand",children:B.jsx(ri,{to:"/",className:"footer-logo",children:B.jsx("img",{src:ZM,alt:"Dra. Lueine Barradas"})})}),B.jsxs("div",{className:"footer-right",children:[B.jsxs("div",{className:"footer-links",children:[B.jsx("h4",{children:"Navegao"}),B.jsxs("ul",{children:[B.jsx("li",{children:B.jsx(ri,{to:"/",children:"Incio"})}),B.jsx("li",{children:B.jsx(ri,{to:"/servicos",children:"Servios"})}),B.jsx("li",{children:B.jsx(ri,{to:"/depoimentos",children:"Depoimentos"})}),B.jsx("li",{children:B.jsx(ri,{to:"/contato",children:"Agendar consulta"})})]})]}),B.jsxs("div",{className:"footer-contact",children:[B.jsx("h4",{children:"Contatos"}),B.jsx("p",{children:"(91) 98580-7373"}),B.jsx("p",{children:"@dralueinebarradas"}),B.jsx("span",{className:"footer-location",children:"Bragana - PA"})]})]})]}),B.jsx("div",{className:"footer-divider"}),B.jsxs("div",{className:"footer-bottom",children:[B.jsx("p",{children:" Dra. Lueine Barradas 2026. Todos os direitos reservados."}),B.jsx("p",{children:"Desenvolvido por: JacsDevs - jacsdevs@gmail.com"})]})]})}function t3(){return B.jsxs(B.Fragment,{children:[B.jsx(JM,{}),B.jsx(gR,{}),B.jsx(e3,{})]})}function n3(){return B.jsxs(vR,{children:[B.jsxs(vl,{element:B.jsx(t3,{}),children:[B.jsx(vl,{path:"/",element:B.jsx(P4,{})}),B.jsx(vl,{path:"/post/:id",element:B.jsx(C4,{})})]}),B.jsx(vl,{path:"/admin",element:B.jsx(YM,{})})]})}gI.createRoot(document.getElementById("root")).render(B.jsx(un.StrictMode,{children:B.jsx(Hb,{children:B.jsx(BR,{children:B.jsx(n3,{})})})}));
