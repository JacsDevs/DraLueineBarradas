(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Id={exports:{}},vl={},Rd={exports:{}},Qe={};var F_;function PI(){if(F_)return Qe;F_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.iterator;function d(V){return V===null||typeof V!="object"?null:(V=m&&V[m]||V["@@iterator"],typeof V=="function"?V:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function _(V,B,K){this.props=V,this.context=B,this.refs=E,this.updater=K||y}_.prototype.isReactComponent={},_.prototype.setState=function(V,B){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,B,"setState")},_.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function T(){}T.prototype=_.prototype;function w(V,B,K){this.props=V,this.context=B,this.refs=E,this.updater=K||y}var k=w.prototype=new T;k.constructor=w,S(k,_.prototype),k.isPureReactComponent=!0;var b=Array.isArray,D=Object.prototype.hasOwnProperty,F={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function R(V,B,K){var te,ee={},$=null,X=null;if(B!=null)for(te in B.ref!==void 0&&(X=B.ref),B.key!==void 0&&($=""+B.key),B)D.call(B,te)&&!P.hasOwnProperty(te)&&(ee[te]=B[te]);var se=arguments.length-2;if(se===1)ee.children=K;else if(1<se){for(var ae=Array(se),me=0;me<se;me++)ae[me]=arguments[me+2];ee.children=ae}if(V&&V.defaultProps)for(te in se=V.defaultProps,se)ee[te]===void 0&&(ee[te]=se[te]);return{$$typeof:n,type:V,key:$,ref:X,props:ee,_owner:F.current}}function M(V,B){return{$$typeof:n,type:V.type,key:B,ref:V.ref,props:V.props,_owner:V._owner}}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function I(V){var B={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(K){return B[K]})}var L=/\/+/g;function N(V,B){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):B.toString(36)}function z(V,B,K,te,ee){var $=typeof V;($==="undefined"||$==="boolean")&&(V=null);var X=!1;if(V===null)X=!0;else switch($){case"string":case"number":X=!0;break;case"object":switch(V.$$typeof){case n:case e:X=!0}}if(X)return X=V,ee=ee(X),V=te===""?"."+N(X,0):te,b(ee)?(K="",V!=null&&(K=V.replace(L,"$&/")+"/"),z(ee,B,K,"",function(me){return me})):ee!=null&&(O(ee)&&(ee=M(ee,K+(!ee.key||X&&X.key===ee.key?"":(""+ee.key).replace(L,"$&/")+"/")+V)),B.push(ee)),1;if(X=0,te=te===""?".":te+":",b(V))for(var se=0;se<V.length;se++){$=V[se];var ae=te+N($,se);X+=z($,B,K,ae,ee)}else if(ae=d(V),typeof ae=="function")for(V=ae.call(V),se=0;!($=V.next()).done;)$=$.value,ae=te+N($,se++),X+=z($,B,K,ae,ee);else if($==="object")throw B=String(V),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return X}function G(V,B,K){if(V==null)return V;var te=[],ee=0;return z(V,te,"","",function($){return B.call(K,$,ee++)}),te}function ne(V){if(V._status===-1){var B=V._result;B=B(),B.then(function(K){(V._status===0||V._status===-1)&&(V._status=1,V._result=K)},function(K){(V._status===0||V._status===-1)&&(V._status=2,V._result=K)}),V._status===-1&&(V._status=0,V._result=B)}if(V._status===1)return V._result.default;throw V._result}var re={current:null},oe={transition:null},Y={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:oe,ReactCurrentOwner:F};function W(){throw Error("act(...) is not supported in production builds of React.")}return Qe.Children={map:G,forEach:function(V,B,K){G(V,function(){B.apply(this,arguments)},K)},count:function(V){var B=0;return G(V,function(){B++}),B},toArray:function(V){return G(V,function(B){return B})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Qe.Component=_,Qe.Fragment=t,Qe.Profiler=o,Qe.PureComponent=w,Qe.StrictMode=r,Qe.Suspense=f,Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Qe.act=W,Qe.cloneElement=function(V,B,K){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var te=S({},V.props),ee=V.key,$=V.ref,X=V._owner;if(B!=null){if(B.ref!==void 0&&($=B.ref,X=F.current),B.key!==void 0&&(ee=""+B.key),V.type&&V.type.defaultProps)var se=V.type.defaultProps;for(ae in B)D.call(B,ae)&&!P.hasOwnProperty(ae)&&(te[ae]=B[ae]===void 0&&se!==void 0?se[ae]:B[ae])}var ae=arguments.length-2;if(ae===1)te.children=K;else if(1<ae){se=Array(ae);for(var me=0;me<ae;me++)se[me]=arguments[me+2];te.children=se}return{$$typeof:n,type:V.type,key:ee,ref:$,props:te,_owner:X}},Qe.createContext=function(V){return V={$$typeof:l,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Qe.createElement=R,Qe.createFactory=function(V){var B=R.bind(null,V);return B.type=V,B},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(V){return{$$typeof:c,render:V}},Qe.isValidElement=O,Qe.lazy=function(V){return{$$typeof:v,_payload:{_status:-1,_result:V},_init:ne}},Qe.memo=function(V,B){return{$$typeof:p,type:V,compare:B===void 0?null:B}},Qe.startTransition=function(V){var B=oe.transition;oe.transition={};try{V()}finally{oe.transition=B}},Qe.unstable_act=W,Qe.useCallback=function(V,B){return re.current.useCallback(V,B)},Qe.useContext=function(V){return re.current.useContext(V)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(V){return re.current.useDeferredValue(V)},Qe.useEffect=function(V,B){return re.current.useEffect(V,B)},Qe.useId=function(){return re.current.useId()},Qe.useImperativeHandle=function(V,B,K){return re.current.useImperativeHandle(V,B,K)},Qe.useInsertionEffect=function(V,B){return re.current.useInsertionEffect(V,B)},Qe.useLayoutEffect=function(V,B){return re.current.useLayoutEffect(V,B)},Qe.useMemo=function(V,B){return re.current.useMemo(V,B)},Qe.useReducer=function(V,B,K){return re.current.useReducer(V,B,K)},Qe.useRef=function(V){return re.current.useRef(V)},Qe.useState=function(V){return re.current.useState(V)},Qe.useSyncExternalStore=function(V,B,K){return re.current.useSyncExternalStore(V,B,K)},Qe.useTransition=function(){return re.current.useTransition()},Qe.version="18.3.1",Qe}var q_;function wf(){return q_||(q_=1,Rd.exports=PI()),Rd.exports}var B_;function xI(){if(B_)return vl;B_=1;var n=wf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,p){var v,m={},d=null,y=null;p!==void 0&&(d=""+p),f.key!==void 0&&(d=""+f.key),f.ref!==void 0&&(y=f.ref);for(v in f)r.call(f,v)&&!a.hasOwnProperty(v)&&(m[v]=f[v]);if(c&&c.defaultProps)for(v in f=c.defaultProps,f)m[v]===void 0&&(m[v]=f[v]);return{$$typeof:e,type:c,key:d,ref:y,props:m,_owner:o.current}}return vl.Fragment=t,vl.jsx=l,vl.jsxs=l,vl}var z_;function CI(){return z_||(z_=1,Id.exports=xI()),Id.exports}var j=CI(),Z=wf();const qt=ya(Z);var Ac={},kd={exports:{}},Tn={},Pd={exports:{}},xd={};var H_;function OI(){return H_||(H_=1,(function(n){function e(oe,Y){var W=oe.length;oe.push(Y);e:for(;0<W;){var V=W-1>>>1,B=oe[V];if(0<o(B,Y))oe[V]=Y,oe[W]=B,W=V;else break e}}function t(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var Y=oe[0],W=oe.pop();if(W!==Y){oe[0]=W;e:for(var V=0,B=oe.length,K=B>>>1;V<K;){var te=2*(V+1)-1,ee=oe[te],$=te+1,X=oe[$];if(0>o(ee,W))$<B&&0>o(X,ee)?(oe[V]=X,oe[$]=W,V=$):(oe[V]=ee,oe[te]=W,V=te);else if($<B&&0>o(X,W))oe[V]=X,oe[$]=W,V=$;else break e}}return Y}function o(oe,Y){var W=oe.sortIndex-Y.sortIndex;return W!==0?W:oe.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],p=[],v=1,m=null,d=3,y=!1,S=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(oe){for(var Y=t(p);Y!==null;){if(Y.callback===null)r(p);else if(Y.startTime<=oe)r(p),Y.sortIndex=Y.expirationTime,e(f,Y);else break;Y=t(p)}}function b(oe){if(E=!1,k(oe),!S)if(t(f)!==null)S=!0,ne(D);else{var Y=t(p);Y!==null&&re(b,Y.startTime-oe)}}function D(oe,Y){S=!1,E&&(E=!1,T(R),R=-1),y=!0;var W=d;try{for(k(Y),m=t(f);m!==null&&(!(m.expirationTime>Y)||oe&&!I());){var V=m.callback;if(typeof V=="function"){m.callback=null,d=m.priorityLevel;var B=V(m.expirationTime<=Y);Y=n.unstable_now(),typeof B=="function"?m.callback=B:m===t(f)&&r(f),k(Y)}else r(f);m=t(f)}if(m!==null)var K=!0;else{var te=t(p);te!==null&&re(b,te.startTime-Y),K=!1}return K}finally{m=null,d=W,y=!1}}var F=!1,P=null,R=-1,M=5,O=-1;function I(){return!(n.unstable_now()-O<M)}function L(){if(P!==null){var oe=n.unstable_now();O=oe;var Y=!0;try{Y=P(!0,oe)}finally{Y?N():(F=!1,P=null)}}else F=!1}var N;if(typeof w=="function")N=function(){w(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=L,N=function(){G.postMessage(null)}}else N=function(){_(L,0)};function ne(oe){P=oe,F||(F=!0,N())}function re(oe,Y){R=_(function(){oe(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){S||y||(S=!0,ne(D))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return d},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(oe){switch(d){case 1:case 2:case 3:var Y=3;break;default:Y=d}var W=d;d=Y;try{return oe()}finally{d=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,Y){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var W=d;d=oe;try{return Y()}finally{d=W}},n.unstable_scheduleCallback=function(oe,Y,W){var V=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,oe){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,oe={id:v++,callback:Y,priorityLevel:oe,startTime:W,expirationTime:B,sortIndex:-1},W>V?(oe.sortIndex=W,e(p,oe),t(f)===null&&oe===t(p)&&(E?(T(R),R=-1):E=!0,re(b,W-V))):(oe.sortIndex=B,e(f,oe),S||y||(S=!0,ne(D))),oe},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(oe){var Y=d;return function(){var W=d;d=Y;try{return oe.apply(this,arguments)}finally{d=W}}}})(xd)),xd}var $_;function NI(){return $_||($_=1,Pd.exports=OI()),Pd.exports}var W_;function LI(){if(W_)return Tn;W_=1;var n=wf(),e=NI();function t(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)r.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},m={};function d(i){return f.call(m,i)?!0:f.call(v,i)?!1:p.test(i)?m[i]=!0:(v[i]=!0,!1)}function y(i,s,u,g){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,u,g){if(s===null||typeof s>"u"||y(i,s,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function E(i,s,u,g,A,x,q){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=g,this.attributeNamespace=A,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=x,this.removeEmptyString=q}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){_[i]=new E(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];_[s]=new E(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){_[i]=new E(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){_[i]=new E(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){_[i]=new E(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){_[i]=new E(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){_[i]=new E(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){_[i]=new E(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){_[i]=new E(i,5,!1,i.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function w(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(T,w);_[s]=new E(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(T,w);_[s]=new E(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(T,w);_[s]=new E(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){_[i]=new E(i,1,!1,i.toLowerCase(),null,!1,!1)}),_.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){_[i]=new E(i,1,!1,i.toLowerCase(),null,!0,!0)});function k(i,s,u,g){var A=_.hasOwnProperty(s)?_[s]:null;(A!==null?A.type!==0:g||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,u,A,g)&&(u=null),g||A===null?d(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):A.mustUseProperty?i[A.propertyName]=u===null?A.type===3?!1:"":u:(s=A.attributeName,g=A.attributeNamespace,u===null?i.removeAttribute(s):(A=A.type,u=A===3||A===4&&u===!0?"":""+u,g?i.setAttributeNS(g,s,u):i.setAttribute(s,u))))}var b=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),F=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),I=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),oe=Symbol.iterator;function Y(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var W=Object.assign,V;function B(i){if(V===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);V=s&&s[1]||""}return`
`+V+i}var K=!1;function te(i,s){if(!i||K)return"";K=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(fe){var g=fe}Reflect.construct(i,[],s)}else{try{s.call()}catch(fe){g=fe}i.call(s.prototype)}else{try{throw Error()}catch(fe){g=fe}i()}}catch(fe){if(fe&&g&&typeof fe.stack=="string"){for(var A=fe.stack.split(`
`),x=g.stack.split(`
`),q=A.length-1,Q=x.length-1;1<=q&&0<=Q&&A[q]!==x[Q];)Q--;for(;1<=q&&0<=Q;q--,Q--)if(A[q]!==x[Q]){if(q!==1||Q!==1)do if(q--,Q--,0>Q||A[q]!==x[Q]){var J=`
`+A[q].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=q&&0<=Q);break}}}finally{K=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?B(i):""}function ee(i){switch(i.tag){case 5:return B(i.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return i=te(i.type,!1),i;case 11:return i=te(i.type.render,!1),i;case 1:return i=te(i.type,!0),i;default:return""}}function $(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case F:return"Portal";case M:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case z:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case I:return(i.displayName||"Context")+".Consumer";case O:return(i._context.displayName||"Context")+".Provider";case L:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return s=i.displayName||null,s!==null?s:$(i.type)||"Memo";case ne:s=i._payload,i=i._init;try{return $(i(s))}catch{}}return null}function X(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function se(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ae(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function me(i){var s=ae(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),g=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var A=u.get,x=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return A.call(this)},set:function(q){g=""+q,x.call(this,q)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(q){g=""+q},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Re(i){i._valueTracker||(i._valueTracker=me(i))}function je(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),g="";return i&&(g=ae(i)?i.checked?"true":"false":i.value),i=g,i!==u?(s.setValue(i),!0):!1}function Ve(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ge(i,s){var u=s.checked;return W({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function et(i,s){var u=s.defaultValue==null?"":s.defaultValue,g=s.checked!=null?s.checked:s.defaultChecked;u=se(s.value!=null?s.value:u),i._wrapperState={initialChecked:g,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function kt(i,s){s=s.checked,s!=null&&k(i,"checked",s,!1)}function ct(i,s){kt(i,s);var u=se(s.value),g=s.type;if(u!=null)g==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?de(i,s.type,u):s.hasOwnProperty("defaultValue")&&de(i,s.type,se(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pe(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var g=s.type;if(!(g!=="submit"&&g!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function de(i,s,u){(s!=="number"||Ve(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var we=Array.isArray;function Ae(i,s,u,g){if(i=i.options,s){s={};for(var A=0;A<u.length;A++)s["$"+u[A]]=!0;for(u=0;u<i.length;u++)A=s.hasOwnProperty("$"+i[u].value),i[u].selected!==A&&(i[u].selected=A),A&&g&&(i[u].defaultSelected=!0)}else{for(u=""+se(u),s=null,A=0;A<i.length;A++){if(i[A].value===u){i[A].selected=!0,g&&(i[A].defaultSelected=!0);return}s!==null||i[A].disabled||(s=i[A])}s!==null&&(s.selected=!0)}}function ve(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function He(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(t(92));if(we(u)){if(1<u.length)throw Error(t(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:se(u)}}function Ke(i,s){var u=se(s.value),g=se(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),g!=null&&(i.defaultValue=""+g)}function Be(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function zt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?zt(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var rt,as=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,g,A){MSApp.execUnsafeLocalFunction(function(){return i(s,u,g,A)})}:i})(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(rt=rt||document.createElement("div"),rt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=rt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function lt(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hu=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(i){hu.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Gt[s]=Gt[i]})});function Ei(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Gt.hasOwnProperty(i)&&Gt[i]?(""+s).trim():s+"px"}function ls(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var g=u.indexOf("--")===0,A=Ei(u,s[u],g);u==="float"&&(u="cssFloat"),g?i.setProperty(u,A):i[u]=A}}var Pa=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jn(i,s){if(s){if(Pa[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function us(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wi=null;function cs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zr=null,Hr=null,It=null;function xa(i){if(i=rl(i)){if(typeof zr!="function")throw Error(t(280));var s=i.stateNode;s&&(s=Uu(s),zr(i.stateNode,i.type,s))}}function Ti(i){Hr?It?It.push(i):It=[i]:Hr=i}function bi(){if(Hr){var i=Hr,s=It;if(It=Hr=null,xa(i),s)for(i=0;i<s.length;i++)xa(s[i])}}function du(i,s){return i(s)}function pu(){}var pr=!1;function mu(i,s,u){if(pr)return i(s,u);pr=!0;try{return du(i,s,u)}finally{pr=!1,(Hr!==null||It!==null)&&(pu(),bi())}}function yo(i,s){var u=i.stateNode;if(u===null)return null;var g=Uu(u);if(g===null)return null;u=g[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,s,typeof u));return u}var Si=!1;if(c)try{var Ai={};Object.defineProperty(Ai,"passive",{get:function(){Si=!0}}),window.addEventListener("test",Ai,Ai),window.removeEventListener("test",Ai,Ai)}catch{Si=!1}function gu(i,s,u,g,A,x,q,Q,J){var fe=Array.prototype.slice.call(arguments,3);try{s.apply(u,fe)}catch(Ee){this.onError(Ee)}}var $r=!1,mr=null,fs=!1,Vn=null,yu={onError:function(i){$r=!0,mr=i}};function vu(i,s,u,g,A,x,q,Q,J){$r=!1,mr=null,gu.apply(yu,arguments)}function Ca(i,s,u,g,A,x,q,Q,J){if(vu.apply(this,arguments),$r){if($r){var fe=mr;$r=!1,mr=null}else throw Error(t(198));fs||(fs=!0,Vn=fe)}}function Zn(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Oa(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function _u(i){if(Zn(i)!==i)throw Error(t(188))}function Eu(i){var s=i.alternate;if(!s){if(s=Zn(i),s===null)throw Error(t(188));return s!==i?null:i}for(var u=i,g=s;;){var A=u.return;if(A===null)break;var x=A.alternate;if(x===null){if(g=A.return,g!==null){u=g;continue}break}if(A.child===x.child){for(x=A.child;x;){if(x===u)return _u(A),i;if(x===g)return _u(A),s;x=x.sibling}throw Error(t(188))}if(u.return!==g.return)u=A,g=x;else{for(var q=!1,Q=A.child;Q;){if(Q===u){q=!0,u=A,g=x;break}if(Q===g){q=!0,g=A,u=x;break}Q=Q.sibling}if(!q){for(Q=x.child;Q;){if(Q===u){q=!0,u=x,g=A;break}if(Q===g){q=!0,g=x,u=A;break}Q=Q.sibling}if(!q)throw Error(t(189))}}if(u.alternate!==g)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:s}function wu(i){return i=Eu(i),i!==null?vo(i):null}function vo(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=vo(i);if(s!==null)return s;i=i.sibling}return null}var Na=e.unstable_scheduleCallback,hs=e.unstable_cancelCallback,_o=e.unstable_shouldYield,Wr=e.unstable_requestPaint,pt=e.unstable_now,rh=e.unstable_getCurrentPriorityLevel,ds=e.unstable_ImmediatePriority,La=e.unstable_UserBlockingPriority,Eo=e.unstable_NormalPriority,Da=e.unstable_LowPriority,ps=e.unstable_IdlePriority,wo=null,In=null;function Tu(i){if(In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(wo,i,void 0,(i.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:To,gr=Math.log,Un=Math.LN2;function To(i){return i>>>=0,i===0?32:31-(gr(i)/Un|0)|0}var yr=64,Ii=4194304;function ot(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Kr(i,s){var u=i.pendingLanes;if(u===0)return 0;var g=0,A=i.suspendedLanes,x=i.pingedLanes,q=u&268435455;if(q!==0){var Q=q&~A;Q!==0?g=ot(Q):(x&=q,x!==0&&(g=ot(x)))}else q=u&~A,q!==0?g=ot(q):x!==0&&(g=ot(x));if(g===0)return 0;if(s!==0&&s!==g&&(s&A)===0&&(A=g&-g,x=s&-s,A>=x||A===16&&(x&4194240)!==0))return s;if((g&4)!==0&&(g|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=g;0<s;)u=31-Rn(s),A=1<<u,g|=i[u],s&=~A;return g}function bo(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(i,s){for(var u=i.suspendedLanes,g=i.pingedLanes,A=i.expirationTimes,x=i.pendingLanes;0<x;){var q=31-Rn(x),Q=1<<q,J=A[q];J===-1?((Q&u)===0||(Q&g)!==0)&&(A[q]=bo(Q,s)):J<=s&&(i.expiredLanes|=Q),x&=~Q}}function Ma(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ja(){var i=yr;return yr<<=1,(yr&4194240)===0&&(yr=64),i}function Va(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ao(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Rn(s),i[s]=u}function ih(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<u;){var A=31-Rn(u),x=1<<A;s[A]=0,g[A]=-1,i[A]=-1,u&=~x}}function Ua(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var g=31-Rn(u),A=1<<g;A&s|i[g]&s&&(i[g]|=s),u&=~A}}var Ze=0;function vr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Fa,ms,qa,Ba,za,_r=!1,gs=[],Er=null,wr=null,Qt=null,Io=new Map,Gr=new Map,kn=[],bu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ri(i,s){switch(i){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":wr=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Io.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(s.pointerId)}}function er(i,s,u,g,A,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:u,eventSystemFlags:g,nativeEvent:x,targetContainers:[A]},s!==null&&(s=rl(s),s!==null&&ms(s)),i):(i.eventSystemFlags|=g,s=i.targetContainers,A!==null&&s.indexOf(A)===-1&&s.push(A),i)}function Su(i,s,u,g,A){switch(s){case"focusin":return Er=er(Er,i,s,u,g,A),!0;case"dragenter":return wr=er(wr,i,s,u,g,A),!0;case"mouseover":return Qt=er(Qt,i,s,u,g,A),!0;case"pointerover":var x=A.pointerId;return Io.set(x,er(Io.get(x)||null,i,s,u,g,A)),!0;case"gotpointercapture":return x=A.pointerId,Gr.set(x,er(Gr.get(x)||null,i,s,u,g,A)),!0}return!1}function ys(i){var s=xo(i.target);if(s!==null){var u=Zn(s);if(u!==null){if(s=u.tag,s===13){if(s=Oa(u),s!==null){i.blockedOn=s,za(i.priority,function(){qa(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ft(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=vs(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var g=new u.constructor(u.type,u);wi=g,u.target.dispatchEvent(g),wi=null}else return s=rl(u),s!==null&&ms(s),i.blockedOn=u,!1;s.shift()}return!0}function Au(i,s,u){ft(i)&&u.delete(s)}function oh(){_r=!1,Er!==null&&ft(Er)&&(Er=null),wr!==null&&ft(wr)&&(wr=null),Qt!==null&&ft(Qt)&&(Qt=null),Io.forEach(Au),Gr.forEach(Au)}function ki(i,s){i.blockedOn===s&&(i.blockedOn=null,_r||(_r=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oh)))}function Pi(i){function s(A){return ki(A,i)}if(0<gs.length){ki(gs[0],i);for(var u=1;u<gs.length;u++){var g=gs[u];g.blockedOn===i&&(g.blockedOn=null)}}for(Er!==null&&ki(Er,i),wr!==null&&ki(wr,i),Qt!==null&&ki(Qt,i),Io.forEach(s),Gr.forEach(s),u=0;u<kn.length;u++)g=kn[u],g.blockedOn===i&&(g.blockedOn=null);for(;0<kn.length&&(u=kn[0],u.blockedOn===null);)ys(u),u.blockedOn===null&&kn.shift()}var Qr=b.ReactCurrentBatchConfig,Yr=!0;function Tr(i,s,u,g){var A=Ze,x=Qr.transition;Qr.transition=null;try{Ze=1,Ha(i,s,u,g)}finally{Ze=A,Qr.transition=x}}function Iu(i,s,u,g){var A=Ze,x=Qr.transition;Qr.transition=null;try{Ze=4,Ha(i,s,u,g)}finally{Ze=A,Qr.transition=x}}function Ha(i,s,u,g){if(Yr){var A=vs(i,s,u,g);if(A===null)gh(i,s,g,br,u),Ri(i,g);else if(Su(A,i,s,u,g))g.stopPropagation();else if(Ri(i,g),s&4&&-1<bu.indexOf(i)){for(;A!==null;){var x=rl(A);if(x!==null&&Fa(x),x=vs(i,s,u,g),x===null&&gh(i,s,g,br,u),x===A)break;A=x}A!==null&&g.stopPropagation()}else gh(i,s,g,null,u)}}var br=null;function vs(i,s,u,g){if(br=null,i=cs(g),i=xo(i),i!==null)if(s=Zn(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Oa(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return br=i,null}function _s(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rh()){case ds:return 1;case La:return 4;case Eo:case Da:return 16;case ps:return 536870912;default:return 16}default:return 16}}var Pn=null,Es=null,Xr=null;function Ru(){if(Xr)return Xr;var i,s=Es,u=s.length,g,A="value"in Pn?Pn.value:Pn.textContent,x=A.length;for(i=0;i<u&&s[i]===A[i];i++);var q=u-i;for(g=1;g<=q&&s[u-g]===A[x-g];g++);return Xr=A.slice(i,1<g?1-g:void 0)}function Ro(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Sr(){return!0}function $a(){return!1}function rn(i){function s(u,g,A,x,q){this._reactName=u,this._targetInst=A,this.type=g,this.nativeEvent=x,this.target=q,this.currentTarget=null;for(var Q in i)i.hasOwnProperty(Q)&&(u=i[Q],this[Q]=u?u(x):x[Q]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Sr:$a,this.isPropagationStopped=$a,this}return W(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),s}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ko=rn(Ar),xi=W({},Ar,{view:0,detail:0}),ws=rn(xi),Ts,bs,xn,Po=W({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$e,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==xn&&(xn&&i.type==="mousemove"?(Ts=i.screenX-xn.screenX,bs=i.screenY-xn.screenY):bs=Ts=0,xn=i),Ts)},movementY:function(i){return"movementY"in i?i.movementY:bs}}),Wa=rn(Po),ku=W({},Po,{dataTransfer:0}),Pu=rn(ku),Ss=W({},xi,{relatedTarget:0}),Yt=rn(Ss),xu=W({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=rn(xu),Ci=W({},Ar,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h=rn(Ci),C=W({},Ar,{data:0}),U=rn(C),H={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},he={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Se(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=he[i])?!!s[i]:!1}function $e(){return Se}var Pt=W({},xi,{key:function(i){if(i.key){var s=H[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ro(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ue[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$e,charCode:function(i){return i.type==="keypress"?Ro(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ro(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),at=rn(Pt),Nt=W({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cn=rn(Nt),Jr=W({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$e}),Ir=rn(Jr),Rr=W({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),As=rn(Rr),Ka=W({},Po,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bA=rn(Ka),SA=[9,13,27,32],sh=c&&"CompositionEvent"in window,Ga=null;c&&"documentMode"in document&&(Ga=document.documentMode);var AA=c&&"TextEvent"in window&&!Ga,Oy=c&&(!sh||Ga&&8<Ga&&11>=Ga),Ny=" ",Ly=!1;function Dy(i,s){switch(i){case"keyup":return SA.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Is=!1;function IA(i,s){switch(i){case"compositionend":return My(s);case"keypress":return s.which!==32?null:(Ly=!0,Ny);case"textInput":return i=s.data,i===Ny&&Ly?null:i;default:return null}}function RA(i,s){if(Is)return i==="compositionend"||!sh&&Dy(i,s)?(i=Ru(),Xr=Es=Pn=null,Is=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Oy&&s.locale!=="ko"?null:s.data;default:return null}}var kA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!kA[i.type]:s==="textarea"}function Vy(i,s,u,g){Ti(g),s=Mu(s,"onChange"),0<s.length&&(u=new ko("onChange","change",null,u,g),i.push({event:u,listeners:s}))}var Qa=null,Ya=null;function PA(i){nv(i,0)}function Ou(i){var s=Cs(i);if(je(s))return i}function xA(i,s){if(i==="change")return s}var Uy=!1;if(c){var ah;if(c){var lh="oninput"in document;if(!lh){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),lh=typeof Fy.oninput=="function"}ah=lh}else ah=!1;Uy=ah&&(!document.documentMode||9<document.documentMode)}function qy(){Qa&&(Qa.detachEvent("onpropertychange",By),Ya=Qa=null)}function By(i){if(i.propertyName==="value"&&Ou(Ya)){var s=[];Vy(s,Ya,i,cs(i)),mu(PA,s)}}function CA(i,s,u){i==="focusin"?(qy(),Qa=s,Ya=u,Qa.attachEvent("onpropertychange",By)):i==="focusout"&&qy()}function OA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ou(Ya)}function NA(i,s){if(i==="click")return Ou(s)}function LA(i,s){if(i==="input"||i==="change")return Ou(s)}function DA(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var tr=typeof Object.is=="function"?Object.is:DA;function Xa(i,s){if(tr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),g=Object.keys(s);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var A=u[g];if(!f.call(s,A)||!tr(i[A],s[A]))return!1}return!0}function zy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hy(i,s){var u=zy(i);i=0;for(var g;u;){if(u.nodeType===3){if(g=i+u.textContent.length,i<=s&&g>=s)return{node:u,offset:s-i};i=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=zy(u)}}function $y(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?$y(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Wy(){for(var i=window,s=Ve();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Ve(i.document)}return s}function uh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function MA(i){var s=Wy(),u=i.focusedElem,g=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&$y(u.ownerDocument.documentElement,u)){if(g!==null&&uh(u)){if(s=g.start,i=g.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var A=u.textContent.length,x=Math.min(g.start,A);g=g.end===void 0?x:Math.min(g.end,A),!i.extend&&x>g&&(A=g,g=x,x=A),A=Hy(u,x);var q=Hy(u,g);A&&q&&(i.rangeCount!==1||i.anchorNode!==A.node||i.anchorOffset!==A.offset||i.focusNode!==q.node||i.focusOffset!==q.offset)&&(s=s.createRange(),s.setStart(A.node,A.offset),i.removeAllRanges(),x>g?(i.addRange(s),i.extend(q.node,q.offset)):(s.setEnd(q.node,q.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var jA=c&&"documentMode"in document&&11>=document.documentMode,Rs=null,ch=null,Ja=null,fh=!1;function Ky(i,s,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;fh||Rs==null||Rs!==Ve(g)||(g=Rs,"selectionStart"in g&&uh(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ja&&Xa(Ja,g)||(Ja=g,g=Mu(ch,"onSelect"),0<g.length&&(s=new ko("onSelect","select",null,s,u),i.push({event:s,listeners:g}),s.target=Rs)))}function Nu(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var ks={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},hh={},Gy={};c&&(Gy=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Lu(i){if(hh[i])return hh[i];if(!ks[i])return i;var s=ks[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Gy)return hh[i]=s[u];return i}var Qy=Lu("animationend"),Yy=Lu("animationiteration"),Xy=Lu("animationstart"),Jy=Lu("transitionend"),Zy=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Oi(i,s){Zy.set(i,s),a(s,[i])}for(var dh=0;dh<ev.length;dh++){var ph=ev[dh],VA=ph.toLowerCase(),UA=ph[0].toUpperCase()+ph.slice(1);Oi(VA,"on"+UA)}Oi(Qy,"onAnimationEnd"),Oi(Yy,"onAnimationIteration"),Oi(Xy,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(Jy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function tv(i,s,u){var g=i.type||"unknown-event";i.currentTarget=u,Ca(g,s,void 0,i),i.currentTarget=null}function nv(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var g=i[u],A=g.event;g=g.listeners;e:{var x=void 0;if(s)for(var q=g.length-1;0<=q;q--){var Q=g[q],J=Q.instance,fe=Q.currentTarget;if(Q=Q.listener,J!==x&&A.isPropagationStopped())break e;tv(A,Q,fe),x=J}else for(q=0;q<g.length;q++){if(Q=g[q],J=Q.instance,fe=Q.currentTarget,Q=Q.listener,J!==x&&A.isPropagationStopped())break e;tv(A,Q,fe),x=J}}}if(fs)throw i=Vn,fs=!1,Vn=null,i}function mt(i,s){var u=s[Th];u===void 0&&(u=s[Th]=new Set);var g=i+"__bubble";u.has(g)||(rv(s,i,2,!1),u.add(g))}function mh(i,s,u){var g=0;s&&(g|=4),rv(u,i,g,s)}var Du="_reactListening"+Math.random().toString(36).slice(2);function el(i){if(!i[Du]){i[Du]=!0,r.forEach(function(u){u!=="selectionchange"&&(FA.has(u)||mh(u,!1,i),mh(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Du]||(s[Du]=!0,mh("selectionchange",!1,s))}}function rv(i,s,u,g){switch(_s(s)){case 1:var A=Tr;break;case 4:A=Iu;break;default:A=Ha}u=A.bind(null,s,u,i),A=void 0,!Si||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(A=!0),g?A!==void 0?i.addEventListener(s,u,{capture:!0,passive:A}):i.addEventListener(s,u,!0):A!==void 0?i.addEventListener(s,u,{passive:A}):i.addEventListener(s,u,!1)}function gh(i,s,u,g,A){var x=g;if((s&1)===0&&(s&2)===0&&g!==null)e:for(;;){if(g===null)return;var q=g.tag;if(q===3||q===4){var Q=g.stateNode.containerInfo;if(Q===A||Q.nodeType===8&&Q.parentNode===A)break;if(q===4)for(q=g.return;q!==null;){var J=q.tag;if((J===3||J===4)&&(J=q.stateNode.containerInfo,J===A||J.nodeType===8&&J.parentNode===A))return;q=q.return}for(;Q!==null;){if(q=xo(Q),q===null)return;if(J=q.tag,J===5||J===6){g=x=q;continue e}Q=Q.parentNode}}g=g.return}mu(function(){var fe=x,Ee=cs(u),Te=[];e:{var _e=Zy.get(i);if(_e!==void 0){var ke=ko,Ce=i;switch(i){case"keypress":if(Ro(u)===0)break e;case"keydown":case"keyup":ke=at;break;case"focusin":Ce="focus",ke=Yt;break;case"focusout":Ce="blur",ke=Yt;break;case"beforeblur":case"afterblur":ke=Yt;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=Wa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=Ir;break;case Qy:case Yy:case Xy:ke=Cu;break;case Jy:ke=As;break;case"scroll":ke=ws;break;case"wheel":ke=bA;break;case"copy":case"cut":case"paste":ke=h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Cn}var Oe=(s&4)!==0,xt=!Oe&&i==="scroll",le=Oe?_e!==null?_e+"Capture":null:_e;Oe=[];for(var ie=fe,ce;ie!==null;){ce=ie;var be=ce.stateNode;if(ce.tag===5&&be!==null&&(ce=be,le!==null&&(be=yo(ie,le),be!=null&&Oe.push(tl(ie,be,ce)))),xt)break;ie=ie.return}0<Oe.length&&(_e=new ke(_e,Ce,null,u,Ee),Te.push({event:_e,listeners:Oe}))}}if((s&7)===0){e:{if(_e=i==="mouseover"||i==="pointerover",ke=i==="mouseout"||i==="pointerout",_e&&u!==wi&&(Ce=u.relatedTarget||u.fromElement)&&(xo(Ce)||Ce[Zr]))break e;if((ke||_e)&&(_e=Ee.window===Ee?Ee:(_e=Ee.ownerDocument)?_e.defaultView||_e.parentWindow:window,ke?(Ce=u.relatedTarget||u.toElement,ke=fe,Ce=Ce?xo(Ce):null,Ce!==null&&(xt=Zn(Ce),Ce!==xt||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(ke=null,Ce=fe),ke!==Ce)){if(Oe=Wa,be="onMouseLeave",le="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(Oe=Cn,be="onPointerLeave",le="onPointerEnter",ie="pointer"),xt=ke==null?_e:Cs(ke),ce=Ce==null?_e:Cs(Ce),_e=new Oe(be,ie+"leave",ke,u,Ee),_e.target=xt,_e.relatedTarget=ce,be=null,xo(Ee)===fe&&(Oe=new Oe(le,ie+"enter",Ce,u,Ee),Oe.target=ce,Oe.relatedTarget=xt,be=Oe),xt=be,ke&&Ce)t:{for(Oe=ke,le=Ce,ie=0,ce=Oe;ce;ce=Ps(ce))ie++;for(ce=0,be=le;be;be=Ps(be))ce++;for(;0<ie-ce;)Oe=Ps(Oe),ie--;for(;0<ce-ie;)le=Ps(le),ce--;for(;ie--;){if(Oe===le||le!==null&&Oe===le.alternate)break t;Oe=Ps(Oe),le=Ps(le)}Oe=null}else Oe=null;ke!==null&&iv(Te,_e,ke,Oe,!1),Ce!==null&&xt!==null&&iv(Te,xt,Ce,Oe,!0)}}e:{if(_e=fe?Cs(fe):window,ke=_e.nodeName&&_e.nodeName.toLowerCase(),ke==="select"||ke==="input"&&_e.type==="file")var Ne=xA;else if(jy(_e))if(Uy)Ne=LA;else{Ne=OA;var De=CA}else(ke=_e.nodeName)&&ke.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ne=NA);if(Ne&&(Ne=Ne(i,fe))){Vy(Te,Ne,u,Ee);break e}De&&De(i,_e,fe),i==="focusout"&&(De=_e._wrapperState)&&De.controlled&&_e.type==="number"&&de(_e,"number",_e.value)}switch(De=fe?Cs(fe):window,i){case"focusin":(jy(De)||De.contentEditable==="true")&&(Rs=De,ch=fe,Ja=null);break;case"focusout":Ja=ch=Rs=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,Ky(Te,u,Ee);break;case"selectionchange":if(jA)break;case"keydown":case"keyup":Ky(Te,u,Ee)}var Me;if(sh)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else Is?Dy(i,u)&&(qe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(qe="onCompositionStart");qe&&(Oy&&u.locale!=="ko"&&(Is||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&Is&&(Me=Ru()):(Pn=Ee,Es="value"in Pn?Pn.value:Pn.textContent,Is=!0)),De=Mu(fe,qe),0<De.length&&(qe=new U(qe,i,null,u,Ee),Te.push({event:qe,listeners:De}),Me?qe.data=Me:(Me=My(u),Me!==null&&(qe.data=Me)))),(Me=AA?IA(i,u):RA(i,u))&&(fe=Mu(fe,"onBeforeInput"),0<fe.length&&(Ee=new U("onBeforeInput","beforeinput",null,u,Ee),Te.push({event:Ee,listeners:fe}),Ee.data=Me))}nv(Te,s)})}function tl(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Mu(i,s){for(var u=s+"Capture",g=[];i!==null;){var A=i,x=A.stateNode;A.tag===5&&x!==null&&(A=x,x=yo(i,u),x!=null&&g.unshift(tl(i,x,A)),x=yo(i,s),x!=null&&g.push(tl(i,x,A))),i=i.return}return g}function Ps(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function iv(i,s,u,g,A){for(var x=s._reactName,q=[];u!==null&&u!==g;){var Q=u,J=Q.alternate,fe=Q.stateNode;if(J!==null&&J===g)break;Q.tag===5&&fe!==null&&(Q=fe,A?(J=yo(u,x),J!=null&&q.unshift(tl(u,J,Q))):A||(J=yo(u,x),J!=null&&q.push(tl(u,J,Q)))),u=u.return}q.length!==0&&i.push({event:s,listeners:q})}var qA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function ov(i){return(typeof i=="string"?i:""+i).replace(qA,`
`).replace(BA,"")}function ju(i,s,u){if(s=ov(s),ov(i)!==s&&u)throw Error(t(425))}function Vu(){}var yh=null,vh=null;function _h(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Eh=typeof setTimeout=="function"?setTimeout:void 0,zA=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,HA=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(i){return sv.resolve(null).then(i).catch($A)}:Eh;function $A(i){setTimeout(function(){throw i})}function wh(i,s){var u=s,g=0;do{var A=u.nextSibling;if(i.removeChild(u),A&&A.nodeType===8)if(u=A.data,u==="/$"){if(g===0){i.removeChild(A),Pi(s);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=A}while(u);Pi(s)}function Ni(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function av(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var xs=Math.random().toString(36).slice(2),kr="__reactFiber$"+xs,nl="__reactProps$"+xs,Zr="__reactContainer$"+xs,Th="__reactEvents$"+xs,WA="__reactListeners$"+xs,KA="__reactHandles$"+xs;function xo(i){var s=i[kr];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Zr]||u[kr]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=av(i);i!==null;){if(u=i[kr])return u;i=av(i)}return s}i=u,u=i.parentNode}return null}function rl(i){return i=i[kr]||i[Zr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Cs(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Uu(i){return i[nl]||null}var bh=[],Os=-1;function Li(i){return{current:i}}function gt(i){0>Os||(i.current=bh[Os],bh[Os]=null,Os--)}function ht(i,s){Os++,bh[Os]=i.current,i.current=s}var Di={},on=Li(Di),yn=Li(!1),Co=Di;function Ns(i,s){var u=i.type.contextTypes;if(!u)return Di;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===s)return g.__reactInternalMemoizedMaskedChildContext;var A={},x;for(x in u)A[x]=s[x];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=A),A}function vn(i){return i=i.childContextTypes,i!=null}function Fu(){gt(yn),gt(on)}function lv(i,s,u){if(on.current!==Di)throw Error(t(168));ht(on,s),ht(yn,u)}function uv(i,s,u){var g=i.stateNode;if(s=s.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var A in g)if(!(A in s))throw Error(t(108,X(i)||"Unknown",A));return W({},u,g)}function qu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Di,Co=on.current,ht(on,i),ht(yn,yn.current),!0}function cv(i,s,u){var g=i.stateNode;if(!g)throw Error(t(169));u?(i=uv(i,s,Co),g.__reactInternalMemoizedMergedChildContext=i,gt(yn),gt(on),ht(on,i)):gt(yn),ht(yn,u)}var ei=null,Bu=!1,Sh=!1;function fv(i){ei===null?ei=[i]:ei.push(i)}function GA(i){Bu=!0,fv(i)}function Mi(){if(!Sh&&ei!==null){Sh=!0;var i=0,s=Ze;try{var u=ei;for(Ze=1;i<u.length;i++){var g=u[i];do g=g(!0);while(g!==null)}ei=null,Bu=!1}catch(A){throw ei!==null&&(ei=ei.slice(i+1)),Na(ds,Mi),A}finally{Ze=s,Sh=!1}}return null}var Ls=[],Ds=0,zu=null,Hu=0,Fn=[],qn=0,Oo=null,ti=1,ni="";function No(i,s){Ls[Ds++]=Hu,Ls[Ds++]=zu,zu=i,Hu=s}function hv(i,s,u){Fn[qn++]=ti,Fn[qn++]=ni,Fn[qn++]=Oo,Oo=i;var g=ti;i=ni;var A=32-Rn(g)-1;g&=~(1<<A),u+=1;var x=32-Rn(s)+A;if(30<x){var q=A-A%5;x=(g&(1<<q)-1).toString(32),g>>=q,A-=q,ti=1<<32-Rn(s)+A|u<<A|g,ni=x+i}else ti=1<<x|u<<A|g,ni=i}function Ah(i){i.return!==null&&(No(i,1),hv(i,1,0))}function Ih(i){for(;i===zu;)zu=Ls[--Ds],Ls[Ds]=null,Hu=Ls[--Ds],Ls[Ds]=null;for(;i===Oo;)Oo=Fn[--qn],Fn[qn]=null,ni=Fn[--qn],Fn[qn]=null,ti=Fn[--qn],Fn[qn]=null}var On=null,Nn=null,_t=!1,nr=null;function dv(i,s){var u=$n(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function pv(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,On=i,Nn=Ni(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,On=i,Nn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Oo!==null?{id:ti,overflow:ni}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=$n(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,On=i,Nn=null,!0):!1;default:return!1}}function Rh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function kh(i){if(_t){var s=Nn;if(s){var u=s;if(!pv(i,s)){if(Rh(i))throw Error(t(418));s=Ni(u.nextSibling);var g=On;s&&pv(i,s)?dv(g,u):(i.flags=i.flags&-4097|2,_t=!1,On=i)}}else{if(Rh(i))throw Error(t(418));i.flags=i.flags&-4097|2,_t=!1,On=i}}}function mv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;On=i}function $u(i){if(i!==On)return!1;if(!_t)return mv(i),_t=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!_h(i.type,i.memoizedProps)),s&&(s=Nn)){if(Rh(i))throw gv(),Error(t(418));for(;s;)dv(i,s),s=Ni(s.nextSibling)}if(mv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){Nn=Ni(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}Nn=null}}else Nn=On?Ni(i.stateNode.nextSibling):null;return!0}function gv(){for(var i=Nn;i;)i=Ni(i.nextSibling)}function Ms(){Nn=On=null,_t=!1}function Ph(i){nr===null?nr=[i]:nr.push(i)}var QA=b.ReactCurrentBatchConfig;function il(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var g=u.stateNode}if(!g)throw Error(t(147,i));var A=g,x=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===x?s.ref:(s=function(q){var Q=A.refs;q===null?delete Q[x]:Q[x]=q},s._stringRef=x,s)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function Wu(i,s){throw i=Object.prototype.toString.call(s),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function yv(i){var s=i._init;return s(i._payload)}function vv(i){function s(le,ie){if(i){var ce=le.deletions;ce===null?(le.deletions=[ie],le.flags|=16):ce.push(ie)}}function u(le,ie){if(!i)return null;for(;ie!==null;)s(le,ie),ie=ie.sibling;return null}function g(le,ie){for(le=new Map;ie!==null;)ie.key!==null?le.set(ie.key,ie):le.set(ie.index,ie),ie=ie.sibling;return le}function A(le,ie){return le=Hi(le,ie),le.index=0,le.sibling=null,le}function x(le,ie,ce){return le.index=ce,i?(ce=le.alternate,ce!==null?(ce=ce.index,ce<ie?(le.flags|=2,ie):ce):(le.flags|=2,ie)):(le.flags|=1048576,ie)}function q(le){return i&&le.alternate===null&&(le.flags|=2),le}function Q(le,ie,ce,be){return ie===null||ie.tag!==6?(ie=Ed(ce,le.mode,be),ie.return=le,ie):(ie=A(ie,ce),ie.return=le,ie)}function J(le,ie,ce,be){var Ne=ce.type;return Ne===P?Ee(le,ie,ce.props.children,be,ce.key):ie!==null&&(ie.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&yv(Ne)===ie.type)?(be=A(ie,ce.props),be.ref=il(le,ie,ce),be.return=le,be):(be=gc(ce.type,ce.key,ce.props,null,le.mode,be),be.ref=il(le,ie,ce),be.return=le,be)}function fe(le,ie,ce,be){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ce.containerInfo||ie.stateNode.implementation!==ce.implementation?(ie=wd(ce,le.mode,be),ie.return=le,ie):(ie=A(ie,ce.children||[]),ie.return=le,ie)}function Ee(le,ie,ce,be,Ne){return ie===null||ie.tag!==7?(ie=qo(ce,le.mode,be,Ne),ie.return=le,ie):(ie=A(ie,ce),ie.return=le,ie)}function Te(le,ie,ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Ed(""+ie,le.mode,ce),ie.return=le,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case D:return ce=gc(ie.type,ie.key,ie.props,null,le.mode,ce),ce.ref=il(le,null,ie),ce.return=le,ce;case F:return ie=wd(ie,le.mode,ce),ie.return=le,ie;case ne:var be=ie._init;return Te(le,be(ie._payload),ce)}if(we(ie)||Y(ie))return ie=qo(ie,le.mode,ce,null),ie.return=le,ie;Wu(le,ie)}return null}function _e(le,ie,ce,be){var Ne=ie!==null?ie.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number")return Ne!==null?null:Q(le,ie,""+ce,be);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case D:return ce.key===Ne?J(le,ie,ce,be):null;case F:return ce.key===Ne?fe(le,ie,ce,be):null;case ne:return Ne=ce._init,_e(le,ie,Ne(ce._payload),be)}if(we(ce)||Y(ce))return Ne!==null?null:Ee(le,ie,ce,be,null);Wu(le,ce)}return null}function ke(le,ie,ce,be,Ne){if(typeof be=="string"&&be!==""||typeof be=="number")return le=le.get(ce)||null,Q(ie,le,""+be,Ne);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case D:return le=le.get(be.key===null?ce:be.key)||null,J(ie,le,be,Ne);case F:return le=le.get(be.key===null?ce:be.key)||null,fe(ie,le,be,Ne);case ne:var De=be._init;return ke(le,ie,ce,De(be._payload),Ne)}if(we(be)||Y(be))return le=le.get(ce)||null,Ee(ie,le,be,Ne,null);Wu(ie,be)}return null}function Ce(le,ie,ce,be){for(var Ne=null,De=null,Me=ie,qe=ie=0,Wt=null;Me!==null&&qe<ce.length;qe++){Me.index>qe?(Wt=Me,Me=null):Wt=Me.sibling;var it=_e(le,Me,ce[qe],be);if(it===null){Me===null&&(Me=Wt);break}i&&Me&&it.alternate===null&&s(le,Me),ie=x(it,ie,qe),De===null?Ne=it:De.sibling=it,De=it,Me=Wt}if(qe===ce.length)return u(le,Me),_t&&No(le,qe),Ne;if(Me===null){for(;qe<ce.length;qe++)Me=Te(le,ce[qe],be),Me!==null&&(ie=x(Me,ie,qe),De===null?Ne=Me:De.sibling=Me,De=Me);return _t&&No(le,qe),Ne}for(Me=g(le,Me);qe<ce.length;qe++)Wt=ke(Me,le,qe,ce[qe],be),Wt!==null&&(i&&Wt.alternate!==null&&Me.delete(Wt.key===null?qe:Wt.key),ie=x(Wt,ie,qe),De===null?Ne=Wt:De.sibling=Wt,De=Wt);return i&&Me.forEach(function($i){return s(le,$i)}),_t&&No(le,qe),Ne}function Oe(le,ie,ce,be){var Ne=Y(ce);if(typeof Ne!="function")throw Error(t(150));if(ce=Ne.call(ce),ce==null)throw Error(t(151));for(var De=Ne=null,Me=ie,qe=ie=0,Wt=null,it=ce.next();Me!==null&&!it.done;qe++,it=ce.next()){Me.index>qe?(Wt=Me,Me=null):Wt=Me.sibling;var $i=_e(le,Me,it.value,be);if($i===null){Me===null&&(Me=Wt);break}i&&Me&&$i.alternate===null&&s(le,Me),ie=x($i,ie,qe),De===null?Ne=$i:De.sibling=$i,De=$i,Me=Wt}if(it.done)return u(le,Me),_t&&No(le,qe),Ne;if(Me===null){for(;!it.done;qe++,it=ce.next())it=Te(le,it.value,be),it!==null&&(ie=x(it,ie,qe),De===null?Ne=it:De.sibling=it,De=it);return _t&&No(le,qe),Ne}for(Me=g(le,Me);!it.done;qe++,it=ce.next())it=ke(Me,le,qe,it.value,be),it!==null&&(i&&it.alternate!==null&&Me.delete(it.key===null?qe:it.key),ie=x(it,ie,qe),De===null?Ne=it:De.sibling=it,De=it);return i&&Me.forEach(function(kI){return s(le,kI)}),_t&&No(le,qe),Ne}function xt(le,ie,ce,be){if(typeof ce=="object"&&ce!==null&&ce.type===P&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case D:e:{for(var Ne=ce.key,De=ie;De!==null;){if(De.key===Ne){if(Ne=ce.type,Ne===P){if(De.tag===7){u(le,De.sibling),ie=A(De,ce.props.children),ie.return=le,le=ie;break e}}else if(De.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===ne&&yv(Ne)===De.type){u(le,De.sibling),ie=A(De,ce.props),ie.ref=il(le,De,ce),ie.return=le,le=ie;break e}u(le,De);break}else s(le,De);De=De.sibling}ce.type===P?(ie=qo(ce.props.children,le.mode,be,ce.key),ie.return=le,le=ie):(be=gc(ce.type,ce.key,ce.props,null,le.mode,be),be.ref=il(le,ie,ce),be.return=le,le=be)}return q(le);case F:e:{for(De=ce.key;ie!==null;){if(ie.key===De)if(ie.tag===4&&ie.stateNode.containerInfo===ce.containerInfo&&ie.stateNode.implementation===ce.implementation){u(le,ie.sibling),ie=A(ie,ce.children||[]),ie.return=le,le=ie;break e}else{u(le,ie);break}else s(le,ie);ie=ie.sibling}ie=wd(ce,le.mode,be),ie.return=le,le=ie}return q(le);case ne:return De=ce._init,xt(le,ie,De(ce._payload),be)}if(we(ce))return Ce(le,ie,ce,be);if(Y(ce))return Oe(le,ie,ce,be);Wu(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"?(ce=""+ce,ie!==null&&ie.tag===6?(u(le,ie.sibling),ie=A(ie,ce),ie.return=le,le=ie):(u(le,ie),ie=Ed(ce,le.mode,be),ie.return=le,le=ie),q(le)):u(le,ie)}return xt}var js=vv(!0),_v=vv(!1),Ku=Li(null),Gu=null,Vs=null,xh=null;function Ch(){xh=Vs=Gu=null}function Oh(i){var s=Ku.current;gt(Ku),i._currentValue=s}function Nh(i,s,u){for(;i!==null;){var g=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),i===u)break;i=i.return}}function Us(i,s){Gu=i,xh=Vs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&s)!==0&&(_n=!0),i.firstContext=null)}function Bn(i){var s=i._currentValue;if(xh!==i)if(i={context:i,memoizedValue:s,next:null},Vs===null){if(Gu===null)throw Error(t(308));Vs=i,Gu.dependencies={lanes:0,firstContext:i}}else Vs=Vs.next=i;return s}var Lo=null;function Lh(i){Lo===null?Lo=[i]:Lo.push(i)}function Ev(i,s,u,g){var A=s.interleaved;return A===null?(u.next=u,Lh(s)):(u.next=A.next,A.next=u),s.interleaved=u,ri(i,g)}function ri(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ji=!1;function Dh(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ii(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Vi(i,s,u){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(nt&2)!==0){var A=g.pending;return A===null?s.next=s:(s.next=A.next,A.next=s),g.pending=s,ri(i,u)}return A=g.interleaved,A===null?(s.next=s,Lh(g)):(s.next=A.next,A.next=s),g.interleaved=s,ri(i,u)}function Qu(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,Ua(i,u)}}function Tv(i,s){var u=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var A=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var q={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?A=x=q:x=x.next=q,u=u.next}while(u!==null);x===null?A=x=s:x=x.next=s}else A=x=s;u={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:x,shared:g.shared,effects:g.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Yu(i,s,u,g){var A=i.updateQueue;ji=!1;var x=A.firstBaseUpdate,q=A.lastBaseUpdate,Q=A.shared.pending;if(Q!==null){A.shared.pending=null;var J=Q,fe=J.next;J.next=null,q===null?x=fe:q.next=fe,q=J;var Ee=i.alternate;Ee!==null&&(Ee=Ee.updateQueue,Q=Ee.lastBaseUpdate,Q!==q&&(Q===null?Ee.firstBaseUpdate=fe:Q.next=fe,Ee.lastBaseUpdate=J))}if(x!==null){var Te=A.baseState;q=0,Ee=fe=J=null,Q=x;do{var _e=Q.lane,ke=Q.eventTime;if((g&_e)===_e){Ee!==null&&(Ee=Ee.next={eventTime:ke,lane:0,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null});e:{var Ce=i,Oe=Q;switch(_e=s,ke=u,Oe.tag){case 1:if(Ce=Oe.payload,typeof Ce=="function"){Te=Ce.call(ke,Te,_e);break e}Te=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Oe.payload,_e=typeof Ce=="function"?Ce.call(ke,Te,_e):Ce,_e==null)break e;Te=W({},Te,_e);break e;case 2:ji=!0}}Q.callback!==null&&Q.lane!==0&&(i.flags|=64,_e=A.effects,_e===null?A.effects=[Q]:_e.push(Q))}else ke={eventTime:ke,lane:_e,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Ee===null?(fe=Ee=ke,J=Te):Ee=Ee.next=ke,q|=_e;if(Q=Q.next,Q===null){if(Q=A.shared.pending,Q===null)break;_e=Q,Q=_e.next,_e.next=null,A.lastBaseUpdate=_e,A.shared.pending=null}}while(!0);if(Ee===null&&(J=Te),A.baseState=J,A.firstBaseUpdate=fe,A.lastBaseUpdate=Ee,s=A.shared.interleaved,s!==null){A=s;do q|=A.lane,A=A.next;while(A!==s)}else x===null&&(A.shared.lanes=0);jo|=q,i.lanes=q,i.memoizedState=Te}}function bv(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var g=i[s],A=g.callback;if(A!==null){if(g.callback=null,g=u,typeof A!="function")throw Error(t(191,A));A.call(g)}}}var ol={},Pr=Li(ol),sl=Li(ol),al=Li(ol);function Do(i){if(i===ol)throw Error(t(174));return i}function Mh(i,s){switch(ht(al,s),ht(sl,i),ht(Pr,ol),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:nn(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=nn(s,i)}gt(Pr),ht(Pr,s)}function Fs(){gt(Pr),gt(sl),gt(al)}function Sv(i){Do(al.current);var s=Do(Pr.current),u=nn(s,i.type);s!==u&&(ht(sl,i),ht(Pr,u))}function jh(i){sl.current===i&&(gt(Pr),gt(sl))}var Tt=Li(0);function Xu(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vh=[];function Uh(){for(var i=0;i<Vh.length;i++)Vh[i]._workInProgressVersionPrimary=null;Vh.length=0}var Ju=b.ReactCurrentDispatcher,Fh=b.ReactCurrentBatchConfig,Mo=0,bt=null,Ut=null,Ht=null,Zu=!1,ll=!1,ul=0,YA=0;function sn(){throw Error(t(321))}function qh(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!tr(i[u],s[u]))return!1;return!0}function Bh(i,s,u,g,A,x){if(Mo=x,bt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Ju.current=i===null||i.memoizedState===null?eI:tI,i=u(g,A),ll){x=0;do{if(ll=!1,ul=0,25<=x)throw Error(t(301));x+=1,Ht=Ut=null,s.updateQueue=null,Ju.current=nI,i=u(g,A)}while(ll)}if(Ju.current=nc,s=Ut!==null&&Ut.next!==null,Mo=0,Ht=Ut=bt=null,Zu=!1,s)throw Error(t(300));return i}function zh(){var i=ul!==0;return ul=0,i}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?bt.memoizedState=Ht=i:Ht=Ht.next=i,Ht}function zn(){if(Ut===null){var i=bt.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var s=Ht===null?bt.memoizedState:Ht.next;if(s!==null)Ht=s,Ut=i;else{if(i===null)throw Error(t(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Ht===null?bt.memoizedState=Ht=i:Ht=Ht.next=i}return Ht}function cl(i,s){return typeof s=="function"?s(i):s}function Hh(i){var s=zn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var g=Ut,A=g.baseQueue,x=u.pending;if(x!==null){if(A!==null){var q=A.next;A.next=x.next,x.next=q}g.baseQueue=A=x,u.pending=null}if(A!==null){x=A.next,g=g.baseState;var Q=q=null,J=null,fe=x;do{var Ee=fe.lane;if((Mo&Ee)===Ee)J!==null&&(J=J.next={lane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),g=fe.hasEagerState?fe.eagerState:i(g,fe.action);else{var Te={lane:Ee,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null};J===null?(Q=J=Te,q=g):J=J.next=Te,bt.lanes|=Ee,jo|=Ee}fe=fe.next}while(fe!==null&&fe!==x);J===null?q=g:J.next=Q,tr(g,s.memoizedState)||(_n=!0),s.memoizedState=g,s.baseState=q,s.baseQueue=J,u.lastRenderedState=g}if(i=u.interleaved,i!==null){A=i;do x=A.lane,bt.lanes|=x,jo|=x,A=A.next;while(A!==i)}else A===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function $h(i){var s=zn(),u=s.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var g=u.dispatch,A=u.pending,x=s.memoizedState;if(A!==null){u.pending=null;var q=A=A.next;do x=i(x,q.action),q=q.next;while(q!==A);tr(x,s.memoizedState)||(_n=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),u.lastRenderedState=x}return[x,g]}function Av(){}function Iv(i,s){var u=bt,g=zn(),A=s(),x=!tr(g.memoizedState,A);if(x&&(g.memoizedState=A,_n=!0),g=g.queue,Wh(Pv.bind(null,u,g,i),[i]),g.getSnapshot!==s||x||Ht!==null&&Ht.memoizedState.tag&1){if(u.flags|=2048,fl(9,kv.bind(null,u,g,A,s),void 0,null),$t===null)throw Error(t(349));(Mo&30)!==0||Rv(u,s,A)}return A}function Rv(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function kv(i,s,u,g){s.value=u,s.getSnapshot=g,xv(s)&&Cv(i)}function Pv(i,s,u){return u(function(){xv(s)&&Cv(i)})}function xv(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!tr(i,u)}catch{return!0}}function Cv(i){var s=ri(i,1);s!==null&&sr(s,i,1,-1)}function Ov(i){var s=xr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:i},s.queue=i,i=i.dispatch=ZA.bind(null,bt,i),[s.memoizedState,i]}function fl(i,s,u,g){return i={tag:i,create:s,destroy:u,deps:g,next:null},s=bt.updateQueue,s===null?(s={lastEffect:null,stores:null},bt.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(g=u.next,u.next=i,i.next=g,s.lastEffect=i)),i}function Nv(){return zn().memoizedState}function ec(i,s,u,g){var A=xr();bt.flags|=i,A.memoizedState=fl(1|s,u,void 0,g===void 0?null:g)}function tc(i,s,u,g){var A=zn();g=g===void 0?null:g;var x=void 0;if(Ut!==null){var q=Ut.memoizedState;if(x=q.destroy,g!==null&&qh(g,q.deps)){A.memoizedState=fl(s,u,x,g);return}}bt.flags|=i,A.memoizedState=fl(1|s,u,x,g)}function Lv(i,s){return ec(8390656,8,i,s)}function Wh(i,s){return tc(2048,8,i,s)}function Dv(i,s){return tc(4,2,i,s)}function Mv(i,s){return tc(4,4,i,s)}function jv(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Vv(i,s,u){return u=u!=null?u.concat([i]):null,tc(4,4,jv.bind(null,s,i),u)}function Kh(){}function Uv(i,s){var u=zn();s=s===void 0?null:s;var g=u.memoizedState;return g!==null&&s!==null&&qh(s,g[1])?g[0]:(u.memoizedState=[i,s],i)}function Fv(i,s){var u=zn();s=s===void 0?null:s;var g=u.memoizedState;return g!==null&&s!==null&&qh(s,g[1])?g[0]:(i=i(),u.memoizedState=[i,s],i)}function qv(i,s,u){return(Mo&21)===0?(i.baseState&&(i.baseState=!1,_n=!0),i.memoizedState=u):(tr(u,s)||(u=ja(),bt.lanes|=u,jo|=u,i.baseState=!0),s)}function XA(i,s){var u=Ze;Ze=u!==0&&4>u?u:4,i(!0);var g=Fh.transition;Fh.transition={};try{i(!1),s()}finally{Ze=u,Fh.transition=g}}function Bv(){return zn().memoizedState}function JA(i,s,u){var g=Bi(i);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},zv(i))Hv(s,u);else if(u=Ev(i,s,u,g),u!==null){var A=pn();sr(u,i,g,A),$v(u,s,g)}}function ZA(i,s,u){var g=Bi(i),A={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(zv(i))Hv(s,A);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var q=s.lastRenderedState,Q=x(q,u);if(A.hasEagerState=!0,A.eagerState=Q,tr(Q,q)){var J=s.interleaved;J===null?(A.next=A,Lh(s)):(A.next=J.next,J.next=A),s.interleaved=A;return}}catch{}u=Ev(i,s,A,g),u!==null&&(A=pn(),sr(u,i,g,A),$v(u,s,g))}}function zv(i){var s=i.alternate;return i===bt||s!==null&&s===bt}function Hv(i,s){ll=Zu=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function $v(i,s,u){if((u&4194240)!==0){var g=s.lanes;g&=i.pendingLanes,u|=g,s.lanes=u,Ua(i,u)}}var nc={readContext:Bn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},eI={readContext:Bn,useCallback:function(i,s){return xr().memoizedState=[i,s===void 0?null:s],i},useContext:Bn,useEffect:Lv,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,ec(4194308,4,jv.bind(null,s,i),u)},useLayoutEffect:function(i,s){return ec(4194308,4,i,s)},useInsertionEffect:function(i,s){return ec(4,2,i,s)},useMemo:function(i,s){var u=xr();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var g=xr();return s=u!==void 0?u(s):s,g.memoizedState=g.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},g.queue=i,i=i.dispatch=JA.bind(null,bt,i),[g.memoizedState,i]},useRef:function(i){var s=xr();return i={current:i},s.memoizedState=i},useState:Ov,useDebugValue:Kh,useDeferredValue:function(i){return xr().memoizedState=i},useTransition:function(){var i=Ov(!1),s=i[0];return i=XA.bind(null,i[1]),xr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var g=bt,A=xr();if(_t){if(u===void 0)throw Error(t(407));u=u()}else{if(u=s(),$t===null)throw Error(t(349));(Mo&30)!==0||Rv(g,s,u)}A.memoizedState=u;var x={value:u,getSnapshot:s};return A.queue=x,Lv(Pv.bind(null,g,x,i),[i]),g.flags|=2048,fl(9,kv.bind(null,g,x,u,s),void 0,null),u},useId:function(){var i=xr(),s=$t.identifierPrefix;if(_t){var u=ni,g=ti;u=(g&~(1<<32-Rn(g)-1)).toString(32)+u,s=":"+s+"R"+u,u=ul++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=YA++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},tI={readContext:Bn,useCallback:Uv,useContext:Bn,useEffect:Wh,useImperativeHandle:Vv,useInsertionEffect:Dv,useLayoutEffect:Mv,useMemo:Fv,useReducer:Hh,useRef:Nv,useState:function(){return Hh(cl)},useDebugValue:Kh,useDeferredValue:function(i){var s=zn();return qv(s,Ut.memoizedState,i)},useTransition:function(){var i=Hh(cl)[0],s=zn().memoizedState;return[i,s]},useMutableSource:Av,useSyncExternalStore:Iv,useId:Bv,unstable_isNewReconciler:!1},nI={readContext:Bn,useCallback:Uv,useContext:Bn,useEffect:Wh,useImperativeHandle:Vv,useInsertionEffect:Dv,useLayoutEffect:Mv,useMemo:Fv,useReducer:$h,useRef:Nv,useState:function(){return $h(cl)},useDebugValue:Kh,useDeferredValue:function(i){var s=zn();return Ut===null?s.memoizedState=i:qv(s,Ut.memoizedState,i)},useTransition:function(){var i=$h(cl)[0],s=zn().memoizedState;return[i,s]},useMutableSource:Av,useSyncExternalStore:Iv,useId:Bv,unstable_isNewReconciler:!1};function rr(i,s){if(i&&i.defaultProps){s=W({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Gh(i,s,u,g){s=i.memoizedState,u=u(g,s),u=u==null?s:W({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var rc={isMounted:function(i){return(i=i._reactInternals)?Zn(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var g=pn(),A=Bi(i),x=ii(g,A);x.payload=s,u!=null&&(x.callback=u),s=Vi(i,x,A),s!==null&&(sr(s,i,A,g),Qu(s,i,A))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var g=pn(),A=Bi(i),x=ii(g,A);x.tag=1,x.payload=s,u!=null&&(x.callback=u),s=Vi(i,x,A),s!==null&&(sr(s,i,A,g),Qu(s,i,A))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=pn(),g=Bi(i),A=ii(u,g);A.tag=2,s!=null&&(A.callback=s),s=Vi(i,A,g),s!==null&&(sr(s,i,g,u),Qu(s,i,g))}};function Wv(i,s,u,g,A,x,q){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,x,q):s.prototype&&s.prototype.isPureReactComponent?!Xa(u,g)||!Xa(A,x):!0}function Kv(i,s,u){var g=!1,A=Di,x=s.contextType;return typeof x=="object"&&x!==null?x=Bn(x):(A=vn(s)?Co:on.current,g=s.contextTypes,x=(g=g!=null)?Ns(i,A):Di),s=new s(u,x),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=rc,i.stateNode=s,s._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=A,i.__reactInternalMemoizedMaskedChildContext=x),s}function Gv(i,s,u,g){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,g),s.state!==i&&rc.enqueueReplaceState(s,s.state,null)}function Qh(i,s,u,g){var A=i.stateNode;A.props=u,A.state=i.memoizedState,A.refs={},Dh(i);var x=s.contextType;typeof x=="object"&&x!==null?A.context=Bn(x):(x=vn(s)?Co:on.current,A.context=Ns(i,x)),A.state=i.memoizedState,x=s.getDerivedStateFromProps,typeof x=="function"&&(Gh(i,s,x,u),A.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(s=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),s!==A.state&&rc.enqueueReplaceState(A,A.state,null),Yu(i,u,A,g),A.state=i.memoizedState),typeof A.componentDidMount=="function"&&(i.flags|=4194308)}function qs(i,s){try{var u="",g=s;do u+=ee(g),g=g.return;while(g);var A=u}catch(x){A=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:s,stack:A,digest:null}}function Yh(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Xh(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var rI=typeof WeakMap=="function"?WeakMap:Map;function Qv(i,s,u){u=ii(-1,u),u.tag=3,u.payload={element:null};var g=s.value;return u.callback=function(){cc||(cc=!0,hd=g),Xh(i,s)},u}function Yv(i,s,u){u=ii(-1,u),u.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var A=s.value;u.payload=function(){return g(A)},u.callback=function(){Xh(i,s)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){Xh(i,s),typeof g!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var q=s.stack;this.componentDidCatch(s.value,{componentStack:q!==null?q:""})}),u}function Xv(i,s,u){var g=i.pingCache;if(g===null){g=i.pingCache=new rI;var A=new Set;g.set(s,A)}else A=g.get(s),A===void 0&&(A=new Set,g.set(s,A));A.has(u)||(A.add(u),i=yI.bind(null,i,s,u),s.then(i,i))}function Jv(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Zv(i,s,u,g,A){return(i.mode&1)===0?(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=ii(-1,1),s.tag=2,Vi(u,s,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=A,i)}var iI=b.ReactCurrentOwner,_n=!1;function dn(i,s,u,g){s.child=i===null?_v(s,null,u,g):js(s,i.child,u,g)}function e_(i,s,u,g,A){u=u.render;var x=s.ref;return Us(s,A),g=Bh(i,s,u,g,x,A),u=zh(),i!==null&&!_n?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,oi(i,s,A)):(_t&&u&&Ah(s),s.flags|=1,dn(i,s,g,A),s.child)}function t_(i,s,u,g,A){if(i===null){var x=u.type;return typeof x=="function"&&!_d(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=x,n_(i,s,x,g,A)):(i=gc(u.type,null,g,s,s.mode,A),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,(i.lanes&A)===0){var q=x.memoizedProps;if(u=u.compare,u=u!==null?u:Xa,u(q,g)&&i.ref===s.ref)return oi(i,s,A)}return s.flags|=1,i=Hi(x,g),i.ref=s.ref,i.return=s,s.child=i}function n_(i,s,u,g,A){if(i!==null){var x=i.memoizedProps;if(Xa(x,g)&&i.ref===s.ref)if(_n=!1,s.pendingProps=g=x,(i.lanes&A)!==0)(i.flags&131072)!==0&&(_n=!0);else return s.lanes=i.lanes,oi(i,s,A)}return Jh(i,s,u,g,A)}function r_(i,s,u){var g=s.pendingProps,A=g.children,x=i!==null?i.memoizedState:null;if(g.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(zs,Ln),Ln|=u;else{if((u&1073741824)===0)return i=x!==null?x.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,ht(zs,Ln),Ln|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=x!==null?x.baseLanes:u,ht(zs,Ln),Ln|=g}else x!==null?(g=x.baseLanes|u,s.memoizedState=null):g=u,ht(zs,Ln),Ln|=g;return dn(i,s,A,u),s.child}function i_(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Jh(i,s,u,g,A){var x=vn(u)?Co:on.current;return x=Ns(s,x),Us(s,A),u=Bh(i,s,u,g,x,A),g=zh(),i!==null&&!_n?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~A,oi(i,s,A)):(_t&&g&&Ah(s),s.flags|=1,dn(i,s,u,A),s.child)}function o_(i,s,u,g,A){if(vn(u)){var x=!0;qu(s)}else x=!1;if(Us(s,A),s.stateNode===null)oc(i,s),Kv(s,u,g),Qh(s,u,g,A),g=!0;else if(i===null){var q=s.stateNode,Q=s.memoizedProps;q.props=Q;var J=q.context,fe=u.contextType;typeof fe=="object"&&fe!==null?fe=Bn(fe):(fe=vn(u)?Co:on.current,fe=Ns(s,fe));var Ee=u.getDerivedStateFromProps,Te=typeof Ee=="function"||typeof q.getSnapshotBeforeUpdate=="function";Te||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==g||J!==fe)&&Gv(s,q,g,fe),ji=!1;var _e=s.memoizedState;q.state=_e,Yu(s,g,q,A),J=s.memoizedState,Q!==g||_e!==J||yn.current||ji?(typeof Ee=="function"&&(Gh(s,u,Ee,g),J=s.memoizedState),(Q=ji||Wv(s,u,Q,g,_e,J,fe))?(Te||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(s.flags|=4194308)):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=J),q.props=g,q.state=J,q.context=fe,g=Q):(typeof q.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{q=s.stateNode,wv(i,s),Q=s.memoizedProps,fe=s.type===s.elementType?Q:rr(s.type,Q),q.props=fe,Te=s.pendingProps,_e=q.context,J=u.contextType,typeof J=="object"&&J!==null?J=Bn(J):(J=vn(u)?Co:on.current,J=Ns(s,J));var ke=u.getDerivedStateFromProps;(Ee=typeof ke=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(Q!==Te||_e!==J)&&Gv(s,q,g,J),ji=!1,_e=s.memoizedState,q.state=_e,Yu(s,g,q,A);var Ce=s.memoizedState;Q!==Te||_e!==Ce||yn.current||ji?(typeof ke=="function"&&(Gh(s,u,ke,g),Ce=s.memoizedState),(fe=ji||Wv(s,u,fe,g,_e,Ce,J)||!1)?(Ee||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(g,Ce,J),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(g,Ce,J)),typeof q.componentDidUpdate=="function"&&(s.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof q.componentDidUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=Ce),q.props=g,q.state=Ce,q.context=J,g=fe):(typeof q.componentDidUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||Q===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),g=!1)}return Zh(i,s,u,g,x,A)}function Zh(i,s,u,g,A,x){i_(i,s);var q=(s.flags&128)!==0;if(!g&&!q)return A&&cv(s,u,!1),oi(i,s,x);g=s.stateNode,iI.current=s;var Q=q&&typeof u.getDerivedStateFromError!="function"?null:g.render();return s.flags|=1,i!==null&&q?(s.child=js(s,i.child,null,x),s.child=js(s,null,Q,x)):dn(i,s,Q,x),s.memoizedState=g.state,A&&cv(s,u,!0),s.child}function s_(i){var s=i.stateNode;s.pendingContext?lv(i,s.pendingContext,s.pendingContext!==s.context):s.context&&lv(i,s.context,!1),Mh(i,s.containerInfo)}function a_(i,s,u,g,A){return Ms(),Ph(A),s.flags|=256,dn(i,s,u,g),s.child}var ed={dehydrated:null,treeContext:null,retryLane:0};function td(i){return{baseLanes:i,cachePool:null,transitions:null}}function l_(i,s,u){var g=s.pendingProps,A=Tt.current,x=!1,q=(s.flags&128)!==0,Q;if((Q=q)||(Q=i!==null&&i.memoizedState===null?!1:(A&2)!==0),Q?(x=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(A|=1),ht(Tt,A&1),i===null)return kh(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((s.mode&1)===0?s.lanes=1:i.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(q=g.children,i=g.fallback,x?(g=s.mode,x=s.child,q={mode:"hidden",children:q},(g&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=q):x=yc(q,g,0,null),i=qo(i,g,u,null),x.return=s,i.return=s,x.sibling=i,s.child=x,s.child.memoizedState=td(u),s.memoizedState=ed,i):nd(s,q));if(A=i.memoizedState,A!==null&&(Q=A.dehydrated,Q!==null))return oI(i,s,q,g,Q,A,u);if(x){x=g.fallback,q=s.mode,A=i.child,Q=A.sibling;var J={mode:"hidden",children:g.children};return(q&1)===0&&s.child!==A?(g=s.child,g.childLanes=0,g.pendingProps=J,s.deletions=null):(g=Hi(A,J),g.subtreeFlags=A.subtreeFlags&14680064),Q!==null?x=Hi(Q,x):(x=qo(x,q,u,null),x.flags|=2),x.return=s,g.return=s,g.sibling=x,s.child=g,g=x,x=s.child,q=i.child.memoizedState,q=q===null?td(u):{baseLanes:q.baseLanes|u,cachePool:null,transitions:q.transitions},x.memoizedState=q,x.childLanes=i.childLanes&~u,s.memoizedState=ed,g}return x=i.child,i=x.sibling,g=Hi(x,{mode:"visible",children:g.children}),(s.mode&1)===0&&(g.lanes=u),g.return=s,g.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=g,s.memoizedState=null,g}function nd(i,s){return s=yc({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function ic(i,s,u,g){return g!==null&&Ph(g),js(s,i.child,null,u),i=nd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function oI(i,s,u,g,A,x,q){if(u)return s.flags&256?(s.flags&=-257,g=Yh(Error(t(422))),ic(i,s,q,g)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(x=g.fallback,A=s.mode,g=yc({mode:"visible",children:g.children},A,0,null),x=qo(x,A,q,null),x.flags|=2,g.return=s,x.return=s,g.sibling=x,s.child=g,(s.mode&1)!==0&&js(s,i.child,null,q),s.child.memoizedState=td(q),s.memoizedState=ed,x);if((s.mode&1)===0)return ic(i,s,q,null);if(A.data==="$!"){if(g=A.nextSibling&&A.nextSibling.dataset,g)var Q=g.dgst;return g=Q,x=Error(t(419)),g=Yh(x,g,void 0),ic(i,s,q,g)}if(Q=(q&i.childLanes)!==0,_n||Q){if(g=$t,g!==null){switch(q&-q){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=(A&(g.suspendedLanes|q))!==0?0:A,A!==0&&A!==x.retryLane&&(x.retryLane=A,ri(i,A),sr(g,i,A,-1))}return vd(),g=Yh(Error(t(421))),ic(i,s,q,g)}return A.data==="$?"?(s.flags|=128,s.child=i.child,s=vI.bind(null,i),A._reactRetry=s,null):(i=x.treeContext,Nn=Ni(A.nextSibling),On=s,_t=!0,nr=null,i!==null&&(Fn[qn++]=ti,Fn[qn++]=ni,Fn[qn++]=Oo,ti=i.id,ni=i.overflow,Oo=s),s=nd(s,g.children),s.flags|=4096,s)}function u_(i,s,u){i.lanes|=s;var g=i.alternate;g!==null&&(g.lanes|=s),Nh(i.return,s,u)}function rd(i,s,u,g,A){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:A}:(x.isBackwards=s,x.rendering=null,x.renderingStartTime=0,x.last=g,x.tail=u,x.tailMode=A)}function c_(i,s,u){var g=s.pendingProps,A=g.revealOrder,x=g.tail;if(dn(i,s,g.children,u),g=Tt.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u_(i,u,s);else if(i.tag===19)u_(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(ht(Tt,g),(s.mode&1)===0)s.memoizedState=null;else switch(A){case"forwards":for(u=s.child,A=null;u!==null;)i=u.alternate,i!==null&&Xu(i)===null&&(A=u),u=u.sibling;u=A,u===null?(A=s.child,s.child=null):(A=u.sibling,u.sibling=null),rd(s,!1,A,u,x);break;case"backwards":for(u=null,A=s.child,s.child=null;A!==null;){if(i=A.alternate,i!==null&&Xu(i)===null){s.child=A;break}i=A.sibling,A.sibling=u,u=A,A=i}rd(s,!0,u,null,x);break;case"together":rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oc(i,s){(s.mode&1)===0&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function oi(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),jo|=s.lanes,(u&s.childLanes)===0)return null;if(i!==null&&s.child!==i.child)throw Error(t(153));if(s.child!==null){for(i=s.child,u=Hi(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Hi(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function sI(i,s,u){switch(s.tag){case 3:s_(s),Ms();break;case 5:Sv(s);break;case 1:vn(s.type)&&qu(s);break;case 4:Mh(s,s.stateNode.containerInfo);break;case 10:var g=s.type._context,A=s.memoizedProps.value;ht(Ku,g._currentValue),g._currentValue=A;break;case 13:if(g=s.memoizedState,g!==null)return g.dehydrated!==null?(ht(Tt,Tt.current&1),s.flags|=128,null):(u&s.child.childLanes)!==0?l_(i,s,u):(ht(Tt,Tt.current&1),i=oi(i,s,u),i!==null?i.sibling:null);ht(Tt,Tt.current&1);break;case 19:if(g=(u&s.childLanes)!==0,(i.flags&128)!==0){if(g)return c_(i,s,u);s.flags|=128}if(A=s.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ht(Tt,Tt.current),g)break;return null;case 22:case 23:return s.lanes=0,r_(i,s,u)}return oi(i,s,u)}var f_,id,h_,d_;f_=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},id=function(){},h_=function(i,s,u,g){var A=i.memoizedProps;if(A!==g){i=s.stateNode,Do(Pr.current);var x=null;switch(u){case"input":A=Ge(i,A),g=Ge(i,g),x=[];break;case"select":A=W({},A,{value:void 0}),g=W({},g,{value:void 0}),x=[];break;case"textarea":A=ve(i,A),g=ve(i,g),x=[];break;default:typeof A.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Vu)}Jn(u,g);var q;u=null;for(fe in A)if(!g.hasOwnProperty(fe)&&A.hasOwnProperty(fe)&&A[fe]!=null)if(fe==="style"){var Q=A[fe];for(q in Q)Q.hasOwnProperty(q)&&(u||(u={}),u[q]="")}else fe!=="dangerouslySetInnerHTML"&&fe!=="children"&&fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&fe!=="autoFocus"&&(o.hasOwnProperty(fe)?x||(x=[]):(x=x||[]).push(fe,null));for(fe in g){var J=g[fe];if(Q=A?.[fe],g.hasOwnProperty(fe)&&J!==Q&&(J!=null||Q!=null))if(fe==="style")if(Q){for(q in Q)!Q.hasOwnProperty(q)||J&&J.hasOwnProperty(q)||(u||(u={}),u[q]="");for(q in J)J.hasOwnProperty(q)&&Q[q]!==J[q]&&(u||(u={}),u[q]=J[q])}else u||(x||(x=[]),x.push(fe,u)),u=J;else fe==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,Q=Q?Q.__html:void 0,J!=null&&Q!==J&&(x=x||[]).push(fe,J)):fe==="children"?typeof J!="string"&&typeof J!="number"||(x=x||[]).push(fe,""+J):fe!=="suppressContentEditableWarning"&&fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(fe)?(J!=null&&fe==="onScroll"&&mt("scroll",i),x||Q===J||(x=[])):(x=x||[]).push(fe,J))}u&&(x=x||[]).push("style",u);var fe=x;(s.updateQueue=fe)&&(s.flags|=4)}},d_=function(i,s,u,g){u!==g&&(s.flags|=4)};function hl(i,s){if(!_t)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function an(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,g=0;if(s)for(var A=i.child;A!==null;)u|=A.lanes|A.childLanes,g|=A.subtreeFlags&14680064,g|=A.flags&14680064,A.return=i,A=A.sibling;else for(A=i.child;A!==null;)u|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=i,A=A.sibling;return i.subtreeFlags|=g,i.childLanes=u,s}function aI(i,s,u){var g=s.pendingProps;switch(Ih(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(s),null;case 1:return vn(s.type)&&Fu(),an(s),null;case 3:return g=s.stateNode,Fs(),gt(yn),gt(on),Uh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&($u(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,nr!==null&&(md(nr),nr=null))),id(i,s),an(s),null;case 5:jh(s);var A=Do(al.current);if(u=s.type,i!==null&&s.stateNode!=null)h_(i,s,u,g,A),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!g){if(s.stateNode===null)throw Error(t(166));return an(s),null}if(i=Do(Pr.current),$u(s)){g=s.stateNode,u=s.type;var x=s.memoizedProps;switch(g[kr]=s,g[nl]=x,i=(s.mode&1)!==0,u){case"dialog":mt("cancel",g),mt("close",g);break;case"iframe":case"object":case"embed":mt("load",g);break;case"video":case"audio":for(A=0;A<Za.length;A++)mt(Za[A],g);break;case"source":mt("error",g);break;case"img":case"image":case"link":mt("error",g),mt("load",g);break;case"details":mt("toggle",g);break;case"input":et(g,x),mt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!x.multiple},mt("invalid",g);break;case"textarea":He(g,x),mt("invalid",g)}Jn(u,x),A=null;for(var q in x)if(x.hasOwnProperty(q)){var Q=x[q];q==="children"?typeof Q=="string"?g.textContent!==Q&&(x.suppressHydrationWarning!==!0&&ju(g.textContent,Q,i),A=["children",Q]):typeof Q=="number"&&g.textContent!==""+Q&&(x.suppressHydrationWarning!==!0&&ju(g.textContent,Q,i),A=["children",""+Q]):o.hasOwnProperty(q)&&Q!=null&&q==="onScroll"&&mt("scroll",g)}switch(u){case"input":Re(g),pe(g,x,!0);break;case"textarea":Re(g),Be(g);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(g.onclick=Vu)}g=A,s.updateQueue=g,g!==null&&(s.flags|=4)}else{q=A.nodeType===9?A:A.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=zt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=q.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=q.createElement(u,{is:g.is}):(i=q.createElement(u),u==="select"&&(q=i,g.multiple?q.multiple=!0:g.size&&(q.size=g.size))):i=q.createElementNS(i,u),i[kr]=s,i[nl]=g,f_(i,s,!1,!1),s.stateNode=i;e:{switch(q=us(u,g),u){case"dialog":mt("cancel",i),mt("close",i),A=g;break;case"iframe":case"object":case"embed":mt("load",i),A=g;break;case"video":case"audio":for(A=0;A<Za.length;A++)mt(Za[A],i);A=g;break;case"source":mt("error",i),A=g;break;case"img":case"image":case"link":mt("error",i),mt("load",i),A=g;break;case"details":mt("toggle",i),A=g;break;case"input":et(i,g),A=Ge(i,g),mt("invalid",i);break;case"option":A=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},A=W({},g,{value:void 0}),mt("invalid",i);break;case"textarea":He(i,g),A=ve(i,g),mt("invalid",i);break;default:A=g}Jn(u,A),Q=A;for(x in Q)if(Q.hasOwnProperty(x)){var J=Q[x];x==="style"?ls(i,J):x==="dangerouslySetInnerHTML"?(J=J?J.__html:void 0,J!=null&&as(i,J)):x==="children"?typeof J=="string"?(u!=="textarea"||J!=="")&&lt(i,J):typeof J=="number"&&lt(i,""+J):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?J!=null&&x==="onScroll"&&mt("scroll",i):J!=null&&k(i,x,J,q))}switch(u){case"input":Re(i),pe(i,g,!1);break;case"textarea":Re(i),Be(i);break;case"option":g.value!=null&&i.setAttribute("value",""+se(g.value));break;case"select":i.multiple=!!g.multiple,x=g.value,x!=null?Ae(i,!!g.multiple,x,!1):g.defaultValue!=null&&Ae(i,!!g.multiple,g.defaultValue,!0);break;default:typeof A.onClick=="function"&&(i.onclick=Vu)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return an(s),null;case 6:if(i&&s.stateNode!=null)d_(i,s,i.memoizedProps,g);else{if(typeof g!="string"&&s.stateNode===null)throw Error(t(166));if(u=Do(al.current),Do(Pr.current),$u(s)){if(g=s.stateNode,u=s.memoizedProps,g[kr]=s,(x=g.nodeValue!==u)&&(i=On,i!==null))switch(i.tag){case 3:ju(g.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ju(g.nodeValue,u,(i.mode&1)!==0)}x&&(s.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[kr]=s,s.stateNode=g}return an(s),null;case 13:if(gt(Tt),g=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(_t&&Nn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)gv(),Ms(),s.flags|=98560,x=!1;else if(x=$u(s),g!==null&&g.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[kr]=s}else Ms(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),x=!1}else nr!==null&&(md(nr),nr=null),x=!0;if(!x)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=u,s):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(s.child.flags|=8192,(s.mode&1)!==0&&(i===null||(Tt.current&1)!==0?Ft===0&&(Ft=3):vd())),s.updateQueue!==null&&(s.flags|=4),an(s),null);case 4:return Fs(),id(i,s),i===null&&el(s.stateNode.containerInfo),an(s),null;case 10:return Oh(s.type._context),an(s),null;case 17:return vn(s.type)&&Fu(),an(s),null;case 19:if(gt(Tt),x=s.memoizedState,x===null)return an(s),null;if(g=(s.flags&128)!==0,q=x.rendering,q===null)if(g)hl(x,!1);else{if(Ft!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(q=Xu(i),q!==null){for(s.flags|=128,hl(x,!1),g=q.updateQueue,g!==null&&(s.updateQueue=g,s.flags|=4),s.subtreeFlags=0,g=u,u=s.child;u!==null;)x=u,i=g,x.flags&=14680066,q=x.alternate,q===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=q.childLanes,x.lanes=q.lanes,x.child=q.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=q.memoizedProps,x.memoizedState=q.memoizedState,x.updateQueue=q.updateQueue,x.type=q.type,i=q.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ht(Tt,Tt.current&1|2),s.child}i=i.sibling}x.tail!==null&&pt()>Hs&&(s.flags|=128,g=!0,hl(x,!1),s.lanes=4194304)}else{if(!g)if(i=Xu(q),i!==null){if(s.flags|=128,g=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),hl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!q.alternate&&!_t)return an(s),null}else 2*pt()-x.renderingStartTime>Hs&&u!==1073741824&&(s.flags|=128,g=!0,hl(x,!1),s.lanes=4194304);x.isBackwards?(q.sibling=s.child,s.child=q):(u=x.last,u!==null?u.sibling=q:s.child=q,x.last=q)}return x.tail!==null?(s=x.tail,x.rendering=s,x.tail=s.sibling,x.renderingStartTime=pt(),s.sibling=null,u=Tt.current,ht(Tt,g?u&1|2:u&1),s):(an(s),null);case 22:case 23:return yd(),g=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(s.flags|=8192),g&&(s.mode&1)!==0?(Ln&1073741824)!==0&&(an(s),s.subtreeFlags&6&&(s.flags|=8192)):an(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function lI(i,s){switch(Ih(s),s.tag){case 1:return vn(s.type)&&Fu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Fs(),gt(yn),gt(on),Uh(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 5:return jh(s),null;case 13:if(gt(Tt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Ms()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return gt(Tt),null;case 4:return Fs(),null;case 10:return Oh(s.type._context),null;case 22:case 23:return yd(),null;case 24:return null;default:return null}}var sc=!1,ln=!1,uI=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Bs(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){Rt(i,s,g)}else u.current=null}function od(i,s,u){try{u()}catch(g){Rt(i,s,g)}}var p_=!1;function cI(i,s){if(yh=Yr,i=Wy(),uh(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var A=g.anchorOffset,x=g.focusNode;g=g.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var q=0,Q=-1,J=-1,fe=0,Ee=0,Te=i,_e=null;t:for(;;){for(var ke;Te!==u||A!==0&&Te.nodeType!==3||(Q=q+A),Te!==x||g!==0&&Te.nodeType!==3||(J=q+g),Te.nodeType===3&&(q+=Te.nodeValue.length),(ke=Te.firstChild)!==null;)_e=Te,Te=ke;for(;;){if(Te===i)break t;if(_e===u&&++fe===A&&(Q=q),_e===x&&++Ee===g&&(J=q),(ke=Te.nextSibling)!==null)break;Te=_e,_e=Te.parentNode}Te=ke}u=Q===-1||J===-1?null:{start:Q,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(vh={focusedElem:i,selectionRange:u},Yr=!1,xe=s;xe!==null;)if(s=xe,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,xe=i;else for(;xe!==null;){s=xe;try{var Ce=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Oe=Ce.memoizedProps,xt=Ce.memoizedState,le=s.stateNode,ie=le.getSnapshotBeforeUpdate(s.elementType===s.type?Oe:rr(s.type,Oe),xt);le.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var ce=s.stateNode.containerInfo;ce.nodeType===1?ce.textContent="":ce.nodeType===9&&ce.documentElement&&ce.removeChild(ce.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(be){Rt(s,s.return,be)}if(i=s.sibling,i!==null){i.return=s.return,xe=i;break}xe=s.return}return Ce=p_,p_=!1,Ce}function dl(i,s,u){var g=s.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var A=g=g.next;do{if((A.tag&i)===i){var x=A.destroy;A.destroy=void 0,x!==void 0&&od(s,u,x)}A=A.next}while(A!==g)}}function ac(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var g=u.create;u.destroy=g()}u=u.next}while(u!==s)}}function sd(i){var s=i.ref;if(s!==null){var u=i.stateNode;i.tag,i=u,typeof s=="function"?s(i):s.current=i}}function m_(i){var s=i.alternate;s!==null&&(i.alternate=null,m_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[kr],delete s[nl],delete s[Th],delete s[WA],delete s[KA])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function g_(i){return i.tag===5||i.tag===3||i.tag===4}function y_(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||g_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ad(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Vu));else if(g!==4&&(i=i.child,i!==null))for(ad(i,s,u),i=i.sibling;i!==null;)ad(i,s,u),i=i.sibling}function ld(i,s,u){var g=i.tag;if(g===5||g===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(ld(i,s,u),i=i.sibling;i!==null;)ld(i,s,u),i=i.sibling}var Xt=null,ir=!1;function Ui(i,s,u){for(u=u.child;u!==null;)v_(i,s,u),u=u.sibling}function v_(i,s,u){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(wo,u)}catch{}switch(u.tag){case 5:ln||Bs(u,s);case 6:var g=Xt,A=ir;Xt=null,Ui(i,s,u),Xt=g,ir=A,Xt!==null&&(ir?(i=Xt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Xt.removeChild(u.stateNode));break;case 18:Xt!==null&&(ir?(i=Xt,u=u.stateNode,i.nodeType===8?wh(i.parentNode,u):i.nodeType===1&&wh(i,u),Pi(i)):wh(Xt,u.stateNode));break;case 4:g=Xt,A=ir,Xt=u.stateNode.containerInfo,ir=!0,Ui(i,s,u),Xt=g,ir=A;break;case 0:case 11:case 14:case 15:if(!ln&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){A=g=g.next;do{var x=A,q=x.destroy;x=x.tag,q!==void 0&&((x&2)!==0||(x&4)!==0)&&od(u,s,q),A=A.next}while(A!==g)}Ui(i,s,u);break;case 1:if(!ln&&(Bs(u,s),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(Q){Rt(u,s,Q)}Ui(i,s,u);break;case 21:Ui(i,s,u);break;case 22:u.mode&1?(ln=(g=ln)||u.memoizedState!==null,Ui(i,s,u),ln=g):Ui(i,s,u);break;default:Ui(i,s,u)}}function __(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new uI),s.forEach(function(g){var A=_I.bind(null,i,g);u.has(g)||(u.add(g),g.then(A,A))})}}function or(i,s){var u=s.deletions;if(u!==null)for(var g=0;g<u.length;g++){var A=u[g];try{var x=i,q=s,Q=q;e:for(;Q!==null;){switch(Q.tag){case 5:Xt=Q.stateNode,ir=!1;break e;case 3:Xt=Q.stateNode.containerInfo,ir=!0;break e;case 4:Xt=Q.stateNode.containerInfo,ir=!0;break e}Q=Q.return}if(Xt===null)throw Error(t(160));v_(x,q,A),Xt=null,ir=!1;var J=A.alternate;J!==null&&(J.return=null),A.return=null}catch(fe){Rt(A,s,fe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)E_(s,i),s=s.sibling}function E_(i,s){var u=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(or(s,i),Cr(i),g&4){try{dl(3,i,i.return),ac(3,i)}catch(Oe){Rt(i,i.return,Oe)}try{dl(5,i,i.return)}catch(Oe){Rt(i,i.return,Oe)}}break;case 1:or(s,i),Cr(i),g&512&&u!==null&&Bs(u,u.return);break;case 5:if(or(s,i),Cr(i),g&512&&u!==null&&Bs(u,u.return),i.flags&32){var A=i.stateNode;try{lt(A,"")}catch(Oe){Rt(i,i.return,Oe)}}if(g&4&&(A=i.stateNode,A!=null)){var x=i.memoizedProps,q=u!==null?u.memoizedProps:x,Q=i.type,J=i.updateQueue;if(i.updateQueue=null,J!==null)try{Q==="input"&&x.type==="radio"&&x.name!=null&&kt(A,x),us(Q,q);var fe=us(Q,x);for(q=0;q<J.length;q+=2){var Ee=J[q],Te=J[q+1];Ee==="style"?ls(A,Te):Ee==="dangerouslySetInnerHTML"?as(A,Te):Ee==="children"?lt(A,Te):k(A,Ee,Te,fe)}switch(Q){case"input":ct(A,x);break;case"textarea":Ke(A,x);break;case"select":var _e=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!x.multiple;var ke=x.value;ke!=null?Ae(A,!!x.multiple,ke,!1):_e!==!!x.multiple&&(x.defaultValue!=null?Ae(A,!!x.multiple,x.defaultValue,!0):Ae(A,!!x.multiple,x.multiple?[]:"",!1))}A[nl]=x}catch(Oe){Rt(i,i.return,Oe)}}break;case 6:if(or(s,i),Cr(i),g&4){if(i.stateNode===null)throw Error(t(162));A=i.stateNode,x=i.memoizedProps;try{A.nodeValue=x}catch(Oe){Rt(i,i.return,Oe)}}break;case 3:if(or(s,i),Cr(i),g&4&&u!==null&&u.memoizedState.isDehydrated)try{Pi(s.containerInfo)}catch(Oe){Rt(i,i.return,Oe)}break;case 4:or(s,i),Cr(i);break;case 13:or(s,i),Cr(i),A=i.child,A.flags&8192&&(x=A.memoizedState!==null,A.stateNode.isHidden=x,!x||A.alternate!==null&&A.alternate.memoizedState!==null||(fd=pt())),g&4&&__(i);break;case 22:if(Ee=u!==null&&u.memoizedState!==null,i.mode&1?(ln=(fe=ln)||Ee,or(s,i),ln=fe):or(s,i),Cr(i),g&8192){if(fe=i.memoizedState!==null,(i.stateNode.isHidden=fe)&&!Ee&&(i.mode&1)!==0)for(xe=i,Ee=i.child;Ee!==null;){for(Te=xe=Ee;xe!==null;){switch(_e=xe,ke=_e.child,_e.tag){case 0:case 11:case 14:case 15:dl(4,_e,_e.return);break;case 1:Bs(_e,_e.return);var Ce=_e.stateNode;if(typeof Ce.componentWillUnmount=="function"){g=_e,u=_e.return;try{s=g,Ce.props=s.memoizedProps,Ce.state=s.memoizedState,Ce.componentWillUnmount()}catch(Oe){Rt(g,u,Oe)}}break;case 5:Bs(_e,_e.return);break;case 22:if(_e.memoizedState!==null){b_(Te);continue}}ke!==null?(ke.return=_e,xe=ke):b_(Te)}Ee=Ee.sibling}e:for(Ee=null,Te=i;;){if(Te.tag===5){if(Ee===null){Ee=Te;try{A=Te.stateNode,fe?(x=A.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(Q=Te.stateNode,J=Te.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null,Q.style.display=Ei("display",q))}catch(Oe){Rt(i,i.return,Oe)}}}else if(Te.tag===6){if(Ee===null)try{Te.stateNode.nodeValue=fe?"":Te.memoizedProps}catch(Oe){Rt(i,i.return,Oe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===i)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===i)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===i)break e;Ee===Te&&(Ee=null),Te=Te.return}Ee===Te&&(Ee=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:or(s,i),Cr(i),g&4&&__(i);break;case 21:break;default:or(s,i),Cr(i)}}function Cr(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(g_(u)){var g=u;break e}u=u.return}throw Error(t(160))}switch(g.tag){case 5:var A=g.stateNode;g.flags&32&&(lt(A,""),g.flags&=-33);var x=y_(i);ld(i,x,A);break;case 3:case 4:var q=g.stateNode.containerInfo,Q=y_(i);ad(i,Q,q);break;default:throw Error(t(161))}}catch(J){Rt(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function fI(i,s,u){xe=i,w_(i)}function w_(i,s,u){for(var g=(i.mode&1)!==0;xe!==null;){var A=xe,x=A.child;if(A.tag===22&&g){var q=A.memoizedState!==null||sc;if(!q){var Q=A.alternate,J=Q!==null&&Q.memoizedState!==null||ln;Q=sc;var fe=ln;if(sc=q,(ln=J)&&!fe)for(xe=A;xe!==null;)q=xe,J=q.child,q.tag===22&&q.memoizedState!==null?S_(A):J!==null?(J.return=q,xe=J):S_(A);for(;x!==null;)xe=x,w_(x),x=x.sibling;xe=A,sc=Q,ln=fe}T_(i)}else(A.subtreeFlags&8772)!==0&&x!==null?(x.return=A,xe=x):T_(i)}}function T_(i){for(;xe!==null;){var s=xe;if((s.flags&8772)!==0){var u=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:ln||ac(5,s);break;case 1:var g=s.stateNode;if(s.flags&4&&!ln)if(u===null)g.componentDidMount();else{var A=s.elementType===s.type?u.memoizedProps:rr(s.type,u.memoizedProps);g.componentDidUpdate(A,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var x=s.updateQueue;x!==null&&bv(s,x,g);break;case 3:var q=s.updateQueue;if(q!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}bv(s,q,u)}break;case 5:var Q=s.stateNode;if(u===null&&s.flags&4){u=Q;var J=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":J.autoFocus&&u.focus();break;case"img":J.src&&(u.src=J.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var fe=s.alternate;if(fe!==null){var Ee=fe.memoizedState;if(Ee!==null){var Te=Ee.dehydrated;Te!==null&&Pi(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}ln||s.flags&512&&sd(s)}catch(_e){Rt(s,s.return,_e)}}if(s===i){xe=null;break}if(u=s.sibling,u!==null){u.return=s.return,xe=u;break}xe=s.return}}function b_(i){for(;xe!==null;){var s=xe;if(s===i){xe=null;break}var u=s.sibling;if(u!==null){u.return=s.return,xe=u;break}xe=s.return}}function S_(i){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{ac(4,s)}catch(J){Rt(s,u,J)}break;case 1:var g=s.stateNode;if(typeof g.componentDidMount=="function"){var A=s.return;try{g.componentDidMount()}catch(J){Rt(s,A,J)}}var x=s.return;try{sd(s)}catch(J){Rt(s,x,J)}break;case 5:var q=s.return;try{sd(s)}catch(J){Rt(s,q,J)}}}catch(J){Rt(s,s.return,J)}if(s===i){xe=null;break}var Q=s.sibling;if(Q!==null){Q.return=s.return,xe=Q;break}xe=s.return}}var hI=Math.ceil,lc=b.ReactCurrentDispatcher,ud=b.ReactCurrentOwner,Hn=b.ReactCurrentBatchConfig,nt=0,$t=null,Lt=null,Jt=0,Ln=0,zs=Li(0),Ft=0,pl=null,jo=0,uc=0,cd=0,ml=null,En=null,fd=0,Hs=1/0,si=null,cc=!1,hd=null,Fi=null,fc=!1,qi=null,hc=0,gl=0,dd=null,dc=-1,pc=0;function pn(){return(nt&6)!==0?pt():dc!==-1?dc:dc=pt()}function Bi(i){return(i.mode&1)===0?1:(nt&2)!==0&&Jt!==0?Jt&-Jt:QA.transition!==null?(pc===0&&(pc=ja()),pc):(i=Ze,i!==0||(i=window.event,i=i===void 0?16:_s(i.type)),i)}function sr(i,s,u,g){if(50<gl)throw gl=0,dd=null,Error(t(185));Ao(i,u,g),((nt&2)===0||i!==$t)&&(i===$t&&((nt&2)===0&&(uc|=u),Ft===4&&zi(i,Jt)),wn(i,g),u===1&&nt===0&&(s.mode&1)===0&&(Hs=pt()+500,Bu&&Mi()))}function wn(i,s){var u=i.callbackNode;So(i,s);var g=Kr(i,i===$t?Jt:0);if(g===0)u!==null&&hs(u),i.callbackNode=null,i.callbackPriority=0;else if(s=g&-g,i.callbackPriority!==s){if(u!=null&&hs(u),s===1)i.tag===0?GA(I_.bind(null,i)):fv(I_.bind(null,i)),HA(function(){(nt&6)===0&&Mi()}),u=null;else{switch(vr(g)){case 1:u=ds;break;case 4:u=La;break;case 16:u=Eo;break;case 536870912:u=ps;break;default:u=Eo}u=L_(u,A_.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function A_(i,s){if(dc=-1,pc=0,(nt&6)!==0)throw Error(t(327));var u=i.callbackNode;if($s()&&i.callbackNode!==u)return null;var g=Kr(i,i===$t?Jt:0);if(g===0)return null;if((g&30)!==0||(g&i.expiredLanes)!==0||s)s=mc(i,g);else{s=g;var A=nt;nt|=2;var x=k_();($t!==i||Jt!==s)&&(si=null,Hs=pt()+500,Uo(i,s));do try{mI();break}catch(Q){R_(i,Q)}while(!0);Ch(),lc.current=x,nt=A,Lt!==null?s=0:($t=null,Jt=0,s=Ft)}if(s!==0){if(s===2&&(A=Ma(i),A!==0&&(g=A,s=pd(i,A))),s===1)throw u=pl,Uo(i,0),zi(i,g),wn(i,pt()),u;if(s===6)zi(i,g);else{if(A=i.current.alternate,(g&30)===0&&!dI(A)&&(s=mc(i,g),s===2&&(x=Ma(i),x!==0&&(g=x,s=pd(i,x))),s===1))throw u=pl,Uo(i,0),zi(i,g),wn(i,pt()),u;switch(i.finishedWork=A,i.finishedLanes=g,s){case 0:case 1:throw Error(t(345));case 2:Fo(i,En,si);break;case 3:if(zi(i,g),(g&130023424)===g&&(s=fd+500-pt(),10<s)){if(Kr(i,0)!==0)break;if(A=i.suspendedLanes,(A&g)!==g){pn(),i.pingedLanes|=i.suspendedLanes&A;break}i.timeoutHandle=Eh(Fo.bind(null,i,En,si),s);break}Fo(i,En,si);break;case 4:if(zi(i,g),(g&4194240)===g)break;for(s=i.eventTimes,A=-1;0<g;){var q=31-Rn(g);x=1<<q,q=s[q],q>A&&(A=q),g&=~x}if(g=A,g=pt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*hI(g/1960))-g,10<g){i.timeoutHandle=Eh(Fo.bind(null,i,En,si),g);break}Fo(i,En,si);break;case 5:Fo(i,En,si);break;default:throw Error(t(329))}}}return wn(i,pt()),i.callbackNode===u?A_.bind(null,i):null}function pd(i,s){var u=ml;return i.current.memoizedState.isDehydrated&&(Uo(i,s).flags|=256),i=mc(i,s),i!==2&&(s=En,En=u,s!==null&&md(s)),i}function md(i){En===null?En=i:En.push.apply(En,i)}function dI(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var A=u[g],x=A.getSnapshot;A=A.value;try{if(!tr(x(),A))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(i,s){for(s&=~cd,s&=~uc,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Rn(s),g=1<<u;i[u]=-1,s&=~g}}function I_(i){if((nt&6)!==0)throw Error(t(327));$s();var s=Kr(i,0);if((s&1)===0)return wn(i,pt()),null;var u=mc(i,s);if(i.tag!==0&&u===2){var g=Ma(i);g!==0&&(s=g,u=pd(i,g))}if(u===1)throw u=pl,Uo(i,0),zi(i,s),wn(i,pt()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Fo(i,En,si),wn(i,pt()),null}function gd(i,s){var u=nt;nt|=1;try{return i(s)}finally{nt=u,nt===0&&(Hs=pt()+500,Bu&&Mi())}}function Vo(i){qi!==null&&qi.tag===0&&(nt&6)===0&&$s();var s=nt;nt|=1;var u=Hn.transition,g=Ze;try{if(Hn.transition=null,Ze=1,i)return i()}finally{Ze=g,Hn.transition=u,nt=s,(nt&6)===0&&Mi()}}function yd(){Ln=zs.current,gt(zs)}function Uo(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,zA(u)),Lt!==null)for(u=Lt.return;u!==null;){var g=u;switch(Ih(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Fu();break;case 3:Fs(),gt(yn),gt(on),Uh();break;case 5:jh(g);break;case 4:Fs();break;case 13:gt(Tt);break;case 19:gt(Tt);break;case 10:Oh(g.type._context);break;case 22:case 23:yd()}u=u.return}if($t=i,Lt=i=Hi(i.current,null),Jt=Ln=s,Ft=0,pl=null,cd=uc=jo=0,En=ml=null,Lo!==null){for(s=0;s<Lo.length;s++)if(u=Lo[s],g=u.interleaved,g!==null){u.interleaved=null;var A=g.next,x=u.pending;if(x!==null){var q=x.next;x.next=A,g.next=q}u.pending=g}Lo=null}return i}function R_(i,s){do{var u=Lt;try{if(Ch(),Ju.current=nc,Zu){for(var g=bt.memoizedState;g!==null;){var A=g.queue;A!==null&&(A.pending=null),g=g.next}Zu=!1}if(Mo=0,Ht=Ut=bt=null,ll=!1,ul=0,ud.current=null,u===null||u.return===null){Ft=1,pl=s,Lt=null;break}e:{var x=i,q=u.return,Q=u,J=s;if(s=Jt,Q.flags|=32768,J!==null&&typeof J=="object"&&typeof J.then=="function"){var fe=J,Ee=Q,Te=Ee.tag;if((Ee.mode&1)===0&&(Te===0||Te===11||Te===15)){var _e=Ee.alternate;_e?(Ee.updateQueue=_e.updateQueue,Ee.memoizedState=_e.memoizedState,Ee.lanes=_e.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var ke=Jv(q);if(ke!==null){ke.flags&=-257,Zv(ke,q,Q,x,s),ke.mode&1&&Xv(x,fe,s),s=ke,J=fe;var Ce=s.updateQueue;if(Ce===null){var Oe=new Set;Oe.add(J),s.updateQueue=Oe}else Ce.add(J);break e}else{if((s&1)===0){Xv(x,fe,s),vd();break e}J=Error(t(426))}}else if(_t&&Q.mode&1){var xt=Jv(q);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Zv(xt,q,Q,x,s),Ph(qs(J,Q));break e}}x=J=qs(J,Q),Ft!==4&&(Ft=2),ml===null?ml=[x]:ml.push(x),x=q;do{switch(x.tag){case 3:x.flags|=65536,s&=-s,x.lanes|=s;var le=Qv(x,J,s);Tv(x,le);break e;case 1:Q=J;var ie=x.type,ce=x.stateNode;if((x.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||ce!==null&&typeof ce.componentDidCatch=="function"&&(Fi===null||!Fi.has(ce)))){x.flags|=65536,s&=-s,x.lanes|=s;var be=Yv(x,Q,s);Tv(x,be);break e}}x=x.return}while(x!==null)}x_(u)}catch(Ne){s=Ne,Lt===u&&u!==null&&(Lt=u=u.return);continue}break}while(!0)}function k_(){var i=lc.current;return lc.current=nc,i===null?nc:i}function vd(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),$t===null||(jo&268435455)===0&&(uc&268435455)===0||zi($t,Jt)}function mc(i,s){var u=nt;nt|=2;var g=k_();($t!==i||Jt!==s)&&(si=null,Uo(i,s));do try{pI();break}catch(A){R_(i,A)}while(!0);if(Ch(),nt=u,lc.current=g,Lt!==null)throw Error(t(261));return $t=null,Jt=0,Ft}function pI(){for(;Lt!==null;)P_(Lt)}function mI(){for(;Lt!==null&&!_o();)P_(Lt)}function P_(i){var s=N_(i.alternate,i,Ln);i.memoizedProps=i.pendingProps,s===null?x_(i):Lt=s,ud.current=null}function x_(i){var s=i;do{var u=s.alternate;if(i=s.return,(s.flags&32768)===0){if(u=aI(u,s,Ln),u!==null){Lt=u;return}}else{if(u=lI(u,s),u!==null){u.flags&=32767,Lt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ft=6,Lt=null;return}}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=i}while(s!==null);Ft===0&&(Ft=5)}function Fo(i,s,u){var g=Ze,A=Hn.transition;try{Hn.transition=null,Ze=1,gI(i,s,u,g)}finally{Hn.transition=A,Ze=g}return null}function gI(i,s,u,g){do $s();while(qi!==null);if((nt&6)!==0)throw Error(t(327));u=i.finishedWork;var A=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=u.lanes|u.childLanes;if(ih(i,x),i===$t&&(Lt=$t=null,Jt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||fc||(fc=!0,L_(Eo,function(){return $s(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Hn.transition,Hn.transition=null;var q=Ze;Ze=1;var Q=nt;nt|=4,ud.current=null,cI(i,u),E_(u,i),MA(vh),Yr=!!yh,vh=yh=null,i.current=u,fI(u),Wr(),nt=Q,Ze=q,Hn.transition=x}else i.current=u;if(fc&&(fc=!1,qi=i,hc=A),x=i.pendingLanes,x===0&&(Fi=null),Tu(u.stateNode),wn(i,pt()),s!==null)for(g=i.onRecoverableError,u=0;u<s.length;u++)A=s[u],g(A.value,{componentStack:A.stack,digest:A.digest});if(cc)throw cc=!1,i=hd,hd=null,i;return(hc&1)!==0&&i.tag!==0&&$s(),x=i.pendingLanes,(x&1)!==0?i===dd?gl++:(gl=0,dd=i):gl=0,Mi(),null}function $s(){if(qi!==null){var i=vr(hc),s=Hn.transition,u=Ze;try{if(Hn.transition=null,Ze=16>i?16:i,qi===null)var g=!1;else{if(i=qi,qi=null,hc=0,(nt&6)!==0)throw Error(t(331));var A=nt;for(nt|=4,xe=i.current;xe!==null;){var x=xe,q=x.child;if((xe.flags&16)!==0){var Q=x.deletions;if(Q!==null){for(var J=0;J<Q.length;J++){var fe=Q[J];for(xe=fe;xe!==null;){var Ee=xe;switch(Ee.tag){case 0:case 11:case 15:dl(8,Ee,x)}var Te=Ee.child;if(Te!==null)Te.return=Ee,xe=Te;else for(;xe!==null;){Ee=xe;var _e=Ee.sibling,ke=Ee.return;if(m_(Ee),Ee===fe){xe=null;break}if(_e!==null){_e.return=ke,xe=_e;break}xe=ke}}}var Ce=x.alternate;if(Ce!==null){var Oe=Ce.child;if(Oe!==null){Ce.child=null;do{var xt=Oe.sibling;Oe.sibling=null,Oe=xt}while(Oe!==null)}}xe=x}}if((x.subtreeFlags&2064)!==0&&q!==null)q.return=x,xe=q;else e:for(;xe!==null;){if(x=xe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:dl(9,x,x.return)}var le=x.sibling;if(le!==null){le.return=x.return,xe=le;break e}xe=x.return}}var ie=i.current;for(xe=ie;xe!==null;){q=xe;var ce=q.child;if((q.subtreeFlags&2064)!==0&&ce!==null)ce.return=q,xe=ce;else e:for(q=ie;xe!==null;){if(Q=xe,(Q.flags&2048)!==0)try{switch(Q.tag){case 0:case 11:case 15:ac(9,Q)}}catch(Ne){Rt(Q,Q.return,Ne)}if(Q===q){xe=null;break e}var be=Q.sibling;if(be!==null){be.return=Q.return,xe=be;break e}xe=Q.return}}if(nt=A,Mi(),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(wo,i)}catch{}g=!0}return g}finally{Ze=u,Hn.transition=s}}return!1}function C_(i,s,u){s=qs(u,s),s=Qv(i,s,1),i=Vi(i,s,1),s=pn(),i!==null&&(Ao(i,1,s),wn(i,s))}function Rt(i,s,u){if(i.tag===3)C_(i,i,u);else for(;s!==null;){if(s.tag===3){C_(s,i,u);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Fi===null||!Fi.has(g))){i=qs(u,i),i=Yv(s,i,1),s=Vi(s,i,1),i=pn(),s!==null&&(Ao(s,1,i),wn(s,i));break}}s=s.return}}function yI(i,s,u){var g=i.pingCache;g!==null&&g.delete(s),s=pn(),i.pingedLanes|=i.suspendedLanes&u,$t===i&&(Jt&u)===u&&(Ft===4||Ft===3&&(Jt&130023424)===Jt&&500>pt()-fd?Uo(i,0):cd|=u),wn(i,s)}function O_(i,s){s===0&&((i.mode&1)===0?s=1:(s=Ii,Ii<<=1,(Ii&130023424)===0&&(Ii=4194304)));var u=pn();i=ri(i,s),i!==null&&(Ao(i,s,u),wn(i,u))}function vI(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),O_(i,u)}function _I(i,s){var u=0;switch(i.tag){case 13:var g=i.stateNode,A=i.memoizedState;A!==null&&(u=A.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(s),O_(i,u)}var N_;N_=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||yn.current)_n=!0;else{if((i.lanes&u)===0&&(s.flags&128)===0)return _n=!1,sI(i,s,u);_n=(i.flags&131072)!==0}else _n=!1,_t&&(s.flags&1048576)!==0&&hv(s,Hu,s.index);switch(s.lanes=0,s.tag){case 2:var g=s.type;oc(i,s),i=s.pendingProps;var A=Ns(s,on.current);Us(s,u),A=Bh(null,s,g,i,A,u);var x=zh();return s.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,vn(g)?(x=!0,qu(s)):x=!1,s.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Dh(s),A.updater=rc,s.stateNode=A,A._reactInternals=s,Qh(s,g,i,u),s=Zh(null,s,g,!0,x,u)):(s.tag=0,_t&&x&&Ah(s),dn(null,s,A,u),s=s.child),s;case 16:g=s.elementType;e:{switch(oc(i,s),i=s.pendingProps,A=g._init,g=A(g._payload),s.type=g,A=s.tag=wI(g),i=rr(g,i),A){case 0:s=Jh(null,s,g,i,u);break e;case 1:s=o_(null,s,g,i,u);break e;case 11:s=e_(null,s,g,i,u);break e;case 14:s=t_(null,s,g,rr(g.type,i),u);break e}throw Error(t(306,g,""))}return s;case 0:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),Jh(i,s,g,A,u);case 1:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),o_(i,s,g,A,u);case 3:e:{if(s_(s),i===null)throw Error(t(387));g=s.pendingProps,x=s.memoizedState,A=x.element,wv(i,s),Yu(s,g,null,u);var q=s.memoizedState;if(g=q.element,x.isDehydrated)if(x={element:g,isDehydrated:!1,cache:q.cache,pendingSuspenseBoundaries:q.pendingSuspenseBoundaries,transitions:q.transitions},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){A=qs(Error(t(423)),s),s=a_(i,s,g,u,A);break e}else if(g!==A){A=qs(Error(t(424)),s),s=a_(i,s,g,u,A);break e}else for(Nn=Ni(s.stateNode.containerInfo.firstChild),On=s,_t=!0,nr=null,u=_v(s,null,g,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Ms(),g===A){s=oi(i,s,u);break e}dn(i,s,g,u)}s=s.child}return s;case 5:return Sv(s),i===null&&kh(s),g=s.type,A=s.pendingProps,x=i!==null?i.memoizedProps:null,q=A.children,_h(g,A)?q=null:x!==null&&_h(g,x)&&(s.flags|=32),i_(i,s),dn(i,s,q,u),s.child;case 6:return i===null&&kh(s),null;case 13:return l_(i,s,u);case 4:return Mh(s,s.stateNode.containerInfo),g=s.pendingProps,i===null?s.child=js(s,null,g,u):dn(i,s,g,u),s.child;case 11:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),e_(i,s,g,A,u);case 7:return dn(i,s,s.pendingProps,u),s.child;case 8:return dn(i,s,s.pendingProps.children,u),s.child;case 12:return dn(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(g=s.type._context,A=s.pendingProps,x=s.memoizedProps,q=A.value,ht(Ku,g._currentValue),g._currentValue=q,x!==null)if(tr(x.value,q)){if(x.children===A.children&&!yn.current){s=oi(i,s,u);break e}}else for(x=s.child,x!==null&&(x.return=s);x!==null;){var Q=x.dependencies;if(Q!==null){q=x.child;for(var J=Q.firstContext;J!==null;){if(J.context===g){if(x.tag===1){J=ii(-1,u&-u),J.tag=2;var fe=x.updateQueue;if(fe!==null){fe=fe.shared;var Ee=fe.pending;Ee===null?J.next=J:(J.next=Ee.next,Ee.next=J),fe.pending=J}}x.lanes|=u,J=x.alternate,J!==null&&(J.lanes|=u),Nh(x.return,u,s),Q.lanes|=u;break}J=J.next}}else if(x.tag===10)q=x.type===s.type?null:x.child;else if(x.tag===18){if(q=x.return,q===null)throw Error(t(341));q.lanes|=u,Q=q.alternate,Q!==null&&(Q.lanes|=u),Nh(q,u,s),q=x.sibling}else q=x.child;if(q!==null)q.return=x;else for(q=x;q!==null;){if(q===s){q=null;break}if(x=q.sibling,x!==null){x.return=q.return,q=x;break}q=q.return}x=q}dn(i,s,A.children,u),s=s.child}return s;case 9:return A=s.type,g=s.pendingProps.children,Us(s,u),A=Bn(A),g=g(A),s.flags|=1,dn(i,s,g,u),s.child;case 14:return g=s.type,A=rr(g,s.pendingProps),A=rr(g.type,A),t_(i,s,g,A,u);case 15:return n_(i,s,s.type,s.pendingProps,u);case 17:return g=s.type,A=s.pendingProps,A=s.elementType===g?A:rr(g,A),oc(i,s),s.tag=1,vn(g)?(i=!0,qu(s)):i=!1,Us(s,u),Kv(s,g,A),Qh(s,g,A,u),Zh(null,s,g,!0,i,u);case 19:return c_(i,s,u);case 22:return r_(i,s,u)}throw Error(t(156,s.tag))};function L_(i,s){return Na(i,s)}function EI(i,s,u,g){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(i,s,u,g){return new EI(i,s,u,g)}function _d(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wI(i){if(typeof i=="function")return _d(i)?1:0;if(i!=null){if(i=i.$$typeof,i===L)return 11;if(i===G)return 14}return 2}function Hi(i,s){var u=i.alternate;return u===null?(u=$n(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function gc(i,s,u,g,A,x){var q=2;if(g=i,typeof i=="function")_d(i)&&(q=1);else if(typeof i=="string")q=5;else e:switch(i){case P:return qo(u.children,A,x,s);case R:q=8,A|=8;break;case M:return i=$n(12,u,s,A|2),i.elementType=M,i.lanes=x,i;case N:return i=$n(13,u,s,A),i.elementType=N,i.lanes=x,i;case z:return i=$n(19,u,s,A),i.elementType=z,i.lanes=x,i;case re:return yc(u,A,x,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case O:q=10;break e;case I:q=9;break e;case L:q=11;break e;case G:q=14;break e;case ne:q=16,g=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return s=$n(q,u,s,A),s.elementType=i,s.type=g,s.lanes=x,s}function qo(i,s,u,g){return i=$n(7,i,g,s),i.lanes=u,i}function yc(i,s,u,g){return i=$n(22,i,g,s),i.elementType=re,i.lanes=u,i.stateNode={isHidden:!1},i}function Ed(i,s,u){return i=$n(6,i,null,s),i.lanes=u,i}function wd(i,s,u){return s=$n(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function TI(i,s,u,g,A){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Va(0),this.expirationTimes=Va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Va(0),this.identifierPrefix=g,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Td(i,s,u,g,A,x,q,Q,J){return i=new TI(i,s,u,Q,J),s===1?(s=1,x===!0&&(s|=8)):s=0,x=$n(3,null,null,s),i.current=x,x.stateNode=i,x.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(x),i}function bI(i,s,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:g==null?null:""+g,children:i,containerInfo:s,implementation:u}}function D_(i){if(!i)return Di;i=i._reactInternals;e:{if(Zn(i)!==i||i.tag!==1)throw Error(t(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(vn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(vn(u))return uv(i,u,s)}return s}function M_(i,s,u,g,A,x,q,Q,J){return i=Td(u,g,!0,i,A,x,q,Q,J),i.context=D_(null),u=i.current,g=pn(),A=Bi(u),x=ii(g,A),x.callback=s??null,Vi(u,x,A),i.current.lanes=A,Ao(i,A,g),wn(i,g),i}function vc(i,s,u,g){var A=s.current,x=pn(),q=Bi(A);return u=D_(u),s.context===null?s.context=u:s.pendingContext=u,s=ii(x,q),s.payload={element:i},g=g===void 0?null:g,g!==null&&(s.callback=g),i=Vi(A,s,q),i!==null&&(sr(i,A,q,x),Qu(i,A,q)),q}function _c(i){return i=i.current,i.child?(i.child.tag===5,i.child.stateNode):null}function j_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function bd(i,s){j_(i,s),(i=i.alternate)&&j_(i,s)}function SI(){return null}var V_=typeof reportError=="function"?reportError:function(i){console.error(i)};function Sd(i){this._internalRoot=i}Ec.prototype.render=Sd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(t(409));vc(i,s,null,null)},Ec.prototype.unmount=Sd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Vo(function(){vc(null,i,null,null)}),s[Zr]=null}};function Ec(i){this._internalRoot=i}Ec.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ba();i={blockedOn:null,target:i,priority:s};for(var u=0;u<kn.length&&s!==0&&s<kn[u].priority;u++);kn.splice(u,0,i),u===0&&ys(i)}};function Ad(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function wc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function U_(){}function AI(i,s,u,g,A){if(A){if(typeof g=="function"){var x=g;g=function(){var fe=_c(q);x.call(fe)}}var q=M_(s,g,i,0,null,!1,!1,"",U_);return i._reactRootContainer=q,i[Zr]=q.current,el(i.nodeType===8?i.parentNode:i),Vo(),q}for(;A=i.lastChild;)i.removeChild(A);if(typeof g=="function"){var Q=g;g=function(){var fe=_c(J);Q.call(fe)}}var J=Td(i,0,!1,null,null,!1,!1,"",U_);return i._reactRootContainer=J,i[Zr]=J.current,el(i.nodeType===8?i.parentNode:i),Vo(function(){vc(s,J,u,g)}),J}function Tc(i,s,u,g,A){var x=u._reactRootContainer;if(x){var q=x;if(typeof A=="function"){var Q=A;A=function(){var J=_c(q);Q.call(J)}}vc(s,q,i,A)}else q=AI(u,s,i,A,g);return _c(q)}Fa=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=ot(s.pendingLanes);u!==0&&(Ua(s,u|1),wn(s,pt()),(nt&6)===0&&(Hs=pt()+500,Mi()))}break;case 13:Vo(function(){var g=ri(i,1);if(g!==null){var A=pn();sr(g,i,1,A)}}),bd(i,1)}},ms=function(i){if(i.tag===13){var s=ri(i,134217728);if(s!==null){var u=pn();sr(s,i,134217728,u)}bd(i,134217728)}},qa=function(i){if(i.tag===13){var s=Bi(i),u=ri(i,s);if(u!==null){var g=pn();sr(u,i,s,g)}bd(i,s)}},Ba=function(){return Ze},za=function(i,s){var u=Ze;try{return Ze=i,s()}finally{Ze=u}},zr=function(i,s,u){switch(s){case"input":if(ct(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var g=u[s];if(g!==i&&g.form===i.form){var A=Uu(g);if(!A)throw Error(t(90));je(g),ct(g,A)}}}break;case"textarea":Ke(i,u);break;case"select":s=u.value,s!=null&&Ae(i,!!u.multiple,s,!1)}},du=gd,pu=Vo;var II={usingClientEntryPoint:!1,Events:[rl,Cs,Uu,Ti,bi,gd]},yl={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},RI={bundleType:yl.bundleType,version:yl.version,rendererPackageName:yl.rendererPackageName,rendererConfig:yl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=wu(i),i===null?null:i.stateNode},findFiberByHostInstance:yl.findFiberByHostInstance||SI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{wo=bc.inject(RI),In=bc}catch{}}return Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=II,Tn.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ad(s))throw Error(t(200));return bI(i,s,null,u)},Tn.createRoot=function(i,s){if(!Ad(i))throw Error(t(299));var u=!1,g="",A=V_;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=Td(i,1,!1,null,null,u,!1,g,A),i[Zr]=s.current,el(i.nodeType===8?i.parentNode:i),new Sd(s)},Tn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=wu(s),i=i===null?null:i.stateNode,i},Tn.flushSync=function(i){return Vo(i)},Tn.hydrate=function(i,s,u){if(!wc(s))throw Error(t(200));return Tc(null,i,s,!0,u)},Tn.hydrateRoot=function(i,s,u){if(!Ad(i))throw Error(t(405));var g=u!=null&&u.hydratedSources||null,A=!1,x="",q=V_;if(u!=null&&(u.unstable_strictMode===!0&&(A=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(q=u.onRecoverableError)),s=M_(s,null,i,1,u??null,A,!1,x,q),i[Zr]=s.current,el(i),g)for(i=0;i<g.length;i++)u=g[i],A=u._getVersion,A=A(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,A]:s.mutableSourceEagerHydrationData.push(u,A);return new Ec(s)},Tn.render=function(i,s,u){if(!wc(s))throw Error(t(200));return Tc(null,i,s,!1,u)},Tn.unmountComponentAtNode=function(i){if(!wc(i))throw Error(t(40));return i._reactRootContainer?(Vo(function(){Tc(null,null,i,!1,function(){i._reactRootContainer=null,i[Zr]=null})}),!0):!1},Tn.unstable_batchedUpdates=gd,Tn.unstable_renderSubtreeIntoContainer=function(i,s,u,g){if(!wc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Tc(i,s,u,!1,g)},Tn.version="18.3.1-next-f1338f8080-20240426",Tn}var K_;function Vw(){if(K_)return kd.exports;K_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kd.exports=LI(),kd.exports}var G_;function DI(){if(G_)return Ac;G_=1;var n=Vw();return Ac.createRoot=n.createRoot,Ac.hydrateRoot=n.hydrateRoot,Ac}var MI=DI();const jI=ya(MI);var Q_="popstate";function VI(n={}){function e(r,o){let{pathname:a,search:l,hash:c}=r.location;return Lm("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Ul(o)}return FI(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Yn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UI(){return Math.random().toString(36).substring(2,10)}function Y_(n,e){return{usr:n.state,key:n.key,idx:e}}function Lm(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?va(e):e,state:t,key:e&&e.key||r||UI()}}function Ul({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function va(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function FI(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:a=!1}=r,l=o.history,c="POP",f=null,p=v();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function v(){return(l.state||{idx:null}).idx}function m(){c="POP";let _=v(),T=_==null?null:_-p;p=_,f&&f({action:c,location:E.location,delta:T})}function d(_,T){c="PUSH";let w=Lm(E.location,_,T);p=v()+1;let k=Y_(w,p),b=E.createHref(w);try{l.pushState(k,"",b)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(b)}a&&f&&f({action:c,location:E.location,delta:1})}function y(_,T){c="REPLACE";let w=Lm(E.location,_,T);p=v();let k=Y_(w,p),b=E.createHref(w);l.replaceState(k,"",b),a&&f&&f({action:c,location:E.location,delta:0})}function S(_){return qI(_)}let E={get action(){return c},get location(){return n(o,l)},listen(_){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(Q_,m),f=_,()=>{o.removeEventListener(Q_,m),f=null}},createHref(_){return e(o,_)},createURL:S,encodeLocation(_){let T=S(_);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:d,replace:y,go(_){return l.go(_)}};return E}function qI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Et(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Ul(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Uw(n,e,t="/"){return BI(n,e,t,!1)}function BI(n,e,t,r){let o=typeof e=="string"?va(e):e,a=di(o.pathname||"/",t);if(a==null)return null;let l=Fw(n);zI(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let p=e2(a);c=JI(l[f],p,r)}return c}function Fw(n,e=[],t=[],r="",o=!1){let a=(l,c,f=o,p)=>{let v={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&f)return;Et(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let m=ui([r,v.relativePath]),d=t.concat(v);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Fw(l.children,e,d,m,f)),!(l.path==null&&!l.index)&&e.push({path:m,score:YI(m,l.index),routesMeta:d})};return n.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let f of qw(l.path))a(l,c,!0,f)}),e}function qw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return o?[a,""]:[a];let l=qw(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),o&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function zI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XI(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var HI=/^:[\w-]+$/,$I=3,WI=2,KI=1,GI=10,QI=-2,X_=n=>n==="*";function YI(n,e){let t=n.split("/"),r=t.length;return t.some(X_)&&(r+=QI),e&&(r+=WI),t.filter(o=>!X_(o)).reduce((o,a)=>o+(HI.test(a)?$I:a===""?KI:GI),r)}function XI(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function JI(n,e,t=!1){let{routesMeta:r}=n,o={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],p=c===r.length-1,v=a==="/"?e:e.slice(a.length)||"/",m=Xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),d=f.route;if(!m&&p&&t&&!r[r.length-1].route.index&&(m=Xc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!m)return null;Object.assign(o,m.params),l.push({params:o,pathname:ui([a,m.pathname]),pathnameBase:i2(ui([a,m.pathnameBase])),route:d}),m.pathnameBase!=="/"&&(a=ui([a,m.pathnameBase]))}return l}function Xc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ZI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:m},d)=>{if(v==="*"){let S=c[d]||"";l=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const y=c[d];return m&&!y?p[v]=void 0:p[v]=(y||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function ZI(n,e=!1,t=!0){Yn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function e2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Yn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function di(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,t2=n=>Bw.test(n);function n2(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?va(n):n,a;if(t)if(t2(t))a=t;else{if(t.includes("//")){let l=t;t=t.replace(/\/\/+/g,"/"),Yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${t}`)}t.startsWith("/")?a=J_(t.substring(1),"/"):a=J_(t,e)}else a=e;return{pathname:a,search:o2(r),hash:s2(o)}}function J_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Cd(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pg(n){let e=r2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function mg(n,e,t,r=!1){let o;typeof n=="string"?o=va(n):(o={...n},Et(!o.pathname||!o.pathname.includes("?"),Cd("?","pathname","search",o)),Et(!o.pathname||!o.pathname.includes("#"),Cd("#","pathname","hash",o)),Et(!o.search||!o.search.includes("#"),Cd("#","search","hash",o)));let a=n===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=t;else{let m=e.length-1;if(!r&&l.startsWith("..")){let d=l.split("/");for(;d[0]==="..";)d.shift(),m-=1;o.pathname=d.join("/")}c=m>=0?e[m]:"/"}let f=n2(o,c),p=l&&l!=="/"&&l.endsWith("/"),v=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var ui=n=>n.join("/").replace(/\/\/+/g,"/"),i2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),o2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,s2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,a2=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function l2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function u2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Hw(n,e){let t=n;if(typeof t!="string"||!Bw.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,o=!1;if(zw)try{let a=new URL(window.location.href),l=t.startsWith("//")?new URL(a.protocol+t):new URL(t),c=di(l.pathname,e);l.origin===a.origin&&c!=null?t=c+l.search+l.hash:o=!0}catch{Yn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:o,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $w=["POST","PUT","PATCH","DELETE"];new Set($w);var c2=["GET",...$w];new Set(c2);var _a=Z.createContext(null);_a.displayName="DataRouter";var Tf=Z.createContext(null);Tf.displayName="DataRouterState";var f2=Z.createContext(!1),Ww=Z.createContext({isTransitioning:!1});Ww.displayName="ViewTransition";var h2=Z.createContext(new Map);h2.displayName="Fetchers";var d2=Z.createContext(null);d2.displayName="Await";var jn=Z.createContext(null);jn.displayName="Navigation";var Xl=Z.createContext(null);Xl.displayName="Location";var Xn=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var gg=Z.createContext(null);gg.displayName="RouteError";var Kw="REACT_ROUTER_ERROR",p2="REDIRECT",m2="ROUTE_ERROR_RESPONSE";function g2(n){if(n.startsWith(`${Kw}:${p2}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function y2(n){if(n.startsWith(`${Kw}:${m2}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new a2(e.status,e.statusText,e.data)}catch{}}function v2(n,{relative:e}={}){Et(Ea(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Z.useContext(jn),{hash:o,pathname:a,search:l}=Zl(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:ui([t,a])),r.createHref({pathname:c,search:l,hash:o})}function Ea(){return Z.useContext(Xl)!=null}function vi(){return Et(Ea(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(Xl).location}var Gw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qw(n){Z.useContext(jn).static||Z.useLayoutEffect(n)}function Jl(){let{isDataRoute:n}=Z.useContext(Xn);return n?L2():_2()}function _2(){Et(Ea(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(_a),{basename:e,navigator:t}=Z.useContext(jn),{matches:r}=Z.useContext(Xn),{pathname:o}=vi(),a=JSON.stringify(pg(r)),l=Z.useRef(!1);return Qw(()=>{l.current=!0}),Z.useCallback((f,p={})=>{if(Yn(l.current,Gw),!l.current)return;if(typeof f=="number"){t.go(f);return}let v=mg(f,JSON.parse(a),o,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:ui([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,a,o,n])}var E2=Z.createContext(null);function w2(n){let e=Z.useContext(Xn).outlet;return Z.useMemo(()=>e&&Z.createElement(E2.Provider,{value:n},e),[e,n])}function T2(){let{matches:n}=Z.useContext(Xn),e=n[n.length-1];return e?e.params:{}}function Zl(n,{relative:e}={}){let{matches:t}=Z.useContext(Xn),{pathname:r}=vi(),o=JSON.stringify(pg(t));return Z.useMemo(()=>mg(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function b2(n,e){return Yw(n,e)}function Yw(n,e,t,r,o){Et(Ea(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=Z.useContext(jn),{matches:l}=Z.useContext(Xn),c=l[l.length-1],f=c?c.params:{},p=c?c.pathname:"/",v=c?c.pathnameBase:"/",m=c&&c.route;{let w=m&&m.path||"";Jw(p,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let d=vi(),y;if(e){let w=typeof e=="string"?va(e):e;Et(v==="/"||w.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${w.pathname}" was given in the \`location\` prop.`),y=w}else y=d;let S=y.pathname||"/",E=S;if(v!=="/"){let w=v.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=Uw(n,{pathname:E});Yn(m||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Yn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=k2(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},f,w.params),pathname:ui([v,a.encodeLocation?a.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?v:ui([v,a.encodeLocation?a.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),l,t,r,o);return e&&T?Z.createElement(Xl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},T):T}function S2(){let n=N2(),e=l2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:a},"ErrorBoundary")," or"," ",Z.createElement("code",{style:a},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:o},t):null,l)}var A2=Z.createElement(S2,null),Xw=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=y2(n.digest);t&&(n=t)}let e=n!==void 0?Z.createElement(Xn.Provider,{value:this.props.routeContext},Z.createElement(gg.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?Z.createElement(I2,{error:n},e):e}};Xw.contextType=f2;var Od=new WeakMap;function I2({children:n,error:e}){let{basename:t}=Z.useContext(jn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=g2(e.digest);if(r){let o=Od.get(e);if(o)throw o;let a=Hw(r.location,t);if(zw&&!Od.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Od.set(e,l),l}return Z.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function R2({routeContext:n,match:e,children:t}){let r=Z.useContext(_a);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Xn.Provider,{value:n},t)}function k2(n,e=[],t=null,r=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t?.errors;if(l!=null){let v=a.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);Et(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,v+1))}let c=!1,f=-1;if(t)for(let v=0;v<a.length;v++){let m=a[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=v),m.route.id){let{loaderData:d,errors:y}=t,S=m.route.loader&&!d.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){c=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let p=t&&r?(v,m)=>{r(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:u2(t.matches),errorInfo:m})}:void 0;return a.reduceRight((v,m,d)=>{let y,S=!1,E=null,_=null;t&&(y=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||A2,c&&(f<0&&d===0?(Jw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,_=null):f===d&&(S=!0,_=m.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,d+1)),w=()=>{let k;return y?k=E:S?k=_:m.route.Component?k=Z.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=v,Z.createElement(R2,{match:m,routeContext:{outlet:v,matches:T,isDataRoute:t!=null},children:k})};return t&&(m.route.ErrorBoundary||m.route.errorElement||d===0)?Z.createElement(Xw,{location:t.location,revalidation:t.revalidation,component:E,error:y,children:w(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:p}):w()},null)}function yg(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P2(n){let e=Z.useContext(_a);return Et(e,yg(n)),e}function x2(n){let e=Z.useContext(Tf);return Et(e,yg(n)),e}function C2(n){let e=Z.useContext(Xn);return Et(e,yg(n)),e}function vg(n){let e=C2(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function O2(){return vg("useRouteId")}function N2(){let n=Z.useContext(gg),e=x2("useRouteError"),t=vg("useRouteError");return n!==void 0?n:e.errors?.[t]}function L2(){let{router:n}=P2("useNavigate"),e=vg("useNavigate"),t=Z.useRef(!1);return Qw(()=>{t.current=!0}),Z.useCallback(async(o,a={})=>{Yn(t.current,Gw),t.current&&(typeof o=="number"?await n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var Z_={};function Jw(n,e,t){!e&&!Z_[n]&&(Z_[n]=!0,Yn(!1,t))}Z.memo(D2);function D2({routes:n,future:e,state:t,onError:r}){return Yw(n,void 0,t,r,e)}function M2({to:n,replace:e,state:t,relative:r}){Et(Ea(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Z.useContext(jn);Yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=Z.useContext(Xn),{pathname:l}=vi(),c=Jl(),f=mg(n,pg(a),l,r==="path"),p=JSON.stringify(f);return Z.useEffect(()=>{c(JSON.parse(p),{replace:e,state:t,relative:r})},[c,p,r,e,t]),null}function Zw(n){return w2(n.context)}function Bo(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function j2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:a=!1,unstable_useTransitions:l}){Et(!Ea(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=Z.useMemo(()=>({basename:c,navigator:o,static:a,unstable_useTransitions:l,future:{}}),[c,o,a,l]);typeof t=="string"&&(t=va(t));let{pathname:p="/",search:v="",hash:m="",state:d=null,key:y="default"}=t,S=Z.useMemo(()=>{let E=di(p,c);return E==null?null:{location:{pathname:E,search:v,hash:m,state:d,key:y},navigationType:r}},[c,p,v,m,d,y,r]);return Yn(S!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:Z.createElement(jn.Provider,{value:f},Z.createElement(Xl.Provider,{children:e,value:S}))}function V2({children:n,location:e}){return b2(Dm(n),e)}function Dm(n,e=[]){let t=[];return Z.Children.forEach(n,(r,o)=>{if(!Z.isValidElement(r))return;let a=[...e,o];if(r.type===Z.Fragment){t.push.apply(t,Dm(r.props.children,a));return}Et(r.type===Bo,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Dm(r.props.children,a)),t.push(l)}),t}var Mc="get",jc="application/x-www-form-urlencoded";function bf(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function U2(n){return bf(n)&&n.tagName.toLowerCase()==="button"}function F2(n){return bf(n)&&n.tagName.toLowerCase()==="form"}function q2(n){return bf(n)&&n.tagName.toLowerCase()==="input"}function B2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function z2(n,e){return n.button===0&&(!e||e==="_self")&&!B2(n)}var Ic=null;function H2(){if(Ic===null)try{new FormData(document.createElement("form"),0),Ic=!1}catch{Ic=!0}return Ic}var $2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nd(n){return n!=null&&!$2.has(n)?(Yn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jc}"`),null):n}function W2(n,e){let t,r,o,a,l;if(F2(n)){let c=n.getAttribute("action");r=c?di(c,e):null,t=n.getAttribute("method")||Mc,o=Nd(n.getAttribute("enctype"))||jc,a=new FormData(n)}else if(U2(n)||q2(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?di(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Mc,o=Nd(n.getAttribute("formenctype"))||Nd(c.getAttribute("enctype"))||jc,a=new FormData(c,n),!H2()){let{name:p,type:v,value:m}=n;if(v==="image"){let d=p?`${p}.`:"";a.append(`${d}x`,"0"),a.append(`${d}y`,"0")}else p&&a.append(p,m)}}else{if(bf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mc,r=null,o=jc,l=n}return a&&o==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _g(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function K2(n,e,t,r){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${r}`:o.pathname=`${o.pathname}.${r}`:o.pathname==="/"?o.pathname=`_root.${r}`:e&&di(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function G2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Y2(n,e,t){let r=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let l=await G2(a,t);return l.links?l.links():[]}return[]}));return eR(r.flat(1).filter(Q2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e1(n,e,t,r,o,a){let l=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,c=(f,p)=>t[p].pathname!==f.pathname||t[p].route.path?.endsWith("*")&&t[p].params["*"]!==f.params["*"];return a==="assets"?e.filter((f,p)=>l(f,p)||c(f,p)):a==="data"?e.filter((f,p)=>{let v=r.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(l(f,p)||c(f,p))return!0;if(f.route.shouldRevalidate){let m=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function X2(n,e,{includeHydrateFallback:t}={}){return J2(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let a=[o.module];return o.clientActionModule&&(a=a.concat(o.clientActionModule)),o.clientLoaderModule&&(a=a.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(a=a.concat(o.hydrateFallbackModule)),o.imports&&(a=a.concat(o.imports)),a}).flat(1))}function J2(n){return[...new Set(n)]}function Z2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function eR(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let a=JSON.stringify(Z2(o));return t.has(a)||(t.add(a),r.push({key:a,link:o})),r},[])}function eT(){let n=Z.useContext(_a);return _g(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function tR(){let n=Z.useContext(Tf);return _g(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Eg=Z.createContext(void 0);Eg.displayName="FrameworkContext";function tT(){let n=Z.useContext(Eg);return _g(n,"You must render this element inside a <HydratedRouter> element"),n}function nR(n,e){let t=Z.useContext(Eg),[r,o]=Z.useState(!1),[a,l]=Z.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:m}=e,d=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let E=T=>{T.forEach(w=>{l(w.isIntersecting)})},_=new IntersectionObserver(E,{threshold:.5});return d.current&&_.observe(d.current),()=>{_.disconnect()}}},[n]),Z.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let y=()=>{o(!0)},S=()=>{o(!1),l(!1)};return t?n!=="intent"?[a,d,{}]:[a,d,{onFocus:_l(c,y),onBlur:_l(f,S),onMouseEnter:_l(p,y),onMouseLeave:_l(v,S),onTouchStart:_l(m,y)}]:[!1,d,{}]}function _l(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function rR({page:n,...e}){let{router:t}=eT(),r=Z.useMemo(()=>Uw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Z.createElement(oR,{page:n,matches:r,...e}):null}function iR(n){let{manifest:e,routeModules:t}=tT(),[r,o]=Z.useState([]);return Z.useEffect(()=>{let a=!1;return Y2(n,e,t).then(l=>{a||o(l)}),()=>{a=!0}},[n,e,t]),r}function oR({page:n,matches:e,...t}){let r=vi(),{future:o,manifest:a,routeModules:l}=tT(),{basename:c}=eT(),{loaderData:f,matches:p}=tR(),v=Z.useMemo(()=>e1(n,e,p,a,r,"data"),[n,e,p,a,r]),m=Z.useMemo(()=>e1(n,e,p,a,r,"assets"),[n,e,p,a,r]),d=Z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,_=!1;if(e.forEach(w=>{let k=a.routes[w.route.id];!k||!k.hasLoader||(!v.some(b=>b.route.id===w.route.id)&&w.route.id in f&&l[w.route.id]?.shouldRevalidate||k.hasClientLoader?_=!0:E.add(w.route.id))}),E.size===0)return[];let T=K2(n,c,o.unstable_trailingSlashAwareDataRequests,"data");return _&&E.size>0&&T.searchParams.set("_routes",e.filter(w=>E.has(w.route.id)).map(w=>w.route.id).join(",")),[T.pathname+T.search]},[c,o.unstable_trailingSlashAwareDataRequests,f,r,a,v,e,n,l]),y=Z.useMemo(()=>X2(m,a),[m,a]),S=iR(m);return Z.createElement(Z.Fragment,null,d.map(E=>Z.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),y.map(E=>Z.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),S.map(({key:E,link:_})=>Z.createElement("link",{key:E,nonce:t.nonce,..._})))}function sR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aR&&(window.__reactRouterVersion="7.12.0")}catch{}function lR({basename:n,children:e,unstable_useTransitions:t,window:r}){let o=Z.useRef();o.current==null&&(o.current=VI({window:r,v5Compat:!0}));let a=o.current,[l,c]=Z.useState({action:a.action,location:a.location}),f=Z.useCallback(p=>{t===!1?c(p):Z.startTransition(()=>c(p))},[t]);return Z.useLayoutEffect(()=>a.listen(f),[a,f]),Z.createElement(j2,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a,unstable_useTransitions:t})}var nT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Go=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:a,replace:l,state:c,target:f,to:p,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d,...y},S){let{basename:E,unstable_useTransitions:_}=Z.useContext(jn),T=typeof p=="string"&&nT.test(p),w=Hw(p,E);p=w.to;let k=v2(p,{relative:o}),[b,D,F]=nR(r,y),P=hR(p,{replace:l,state:c,target:f,preventScrollReset:v,relative:o,viewTransition:m,unstable_defaultShouldRevalidate:d,unstable_useTransitions:_});function R(O){e&&e(O),O.defaultPrevented||P(O)}let M=Z.createElement("a",{...y,...F,href:w.absoluteURL||k,onClick:w.isExternal||a?e:R,ref:sR(S,D),target:f,"data-discover":!T&&t==="render"?"true":void 0});return b&&!T?Z.createElement(Z.Fragment,null,M,Z.createElement(rR,{page:k})):M});Go.displayName="Link";var uR=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:c,children:f,...p},v){let m=Zl(l,{relative:p.relative}),d=vi(),y=Z.useContext(Tf),{navigator:S,basename:E}=Z.useContext(jn),_=y!=null&&yR(m)&&c===!0,T=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,w=d.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(w=w.toLowerCase(),k=k?k.toLowerCase():null,T=T.toLowerCase()),k&&E&&(k=di(k,E)||k);const b=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let D=w===T||!o&&w.startsWith(T)&&w.charAt(b)==="/",F=k!=null&&(k===T||!o&&k.startsWith(T)&&k.charAt(T.length)==="/"),P={isActive:D,isPending:F,isTransitioning:_},R=D?e:void 0,M;typeof r=="function"?M=r(P):M=[r,D?"active":null,F?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(P):a;return Z.createElement(Go,{...p,"aria-current":R,className:M,ref:v,style:O,to:l,viewTransition:c},typeof f=="function"?f(P):f)});uR.displayName="NavLink";var cR=Z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:a,method:l=Mc,action:c,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d,...y},S)=>{let{unstable_useTransitions:E}=Z.useContext(jn),_=mR(),T=gR(c,{relative:p}),w=l.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&nT.test(c),b=D=>{if(f&&f(D),D.defaultPrevented)return;D.preventDefault();let F=D.nativeEvent.submitter,P=F?.getAttribute("formmethod")||l,R=()=>_(F||D.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:o,state:a,relative:p,preventScrollReset:v,viewTransition:m,unstable_defaultShouldRevalidate:d});E&&t!==!1?Z.startTransition(()=>R()):R()};return Z.createElement("form",{ref:S,method:w,action:T,onSubmit:r?f:b,...y,"data-discover":!k&&n==="render"?"true":void 0})});cR.displayName="Form";function fR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(n){let e=Z.useContext(_a);return Et(e,fR(n)),e}function hR(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let p=Jl(),v=vi(),m=Zl(n,{relative:a});return Z.useCallback(d=>{if(z2(d,e)){d.preventDefault();let y=t!==void 0?t:Ul(v)===Ul(m),S=()=>p(n,{replace:y,state:r,preventScrollReset:o,relative:a,viewTransition:l,unstable_defaultShouldRevalidate:c});f?Z.startTransition(()=>S()):S()}},[v,p,m,t,r,e,n,o,a,l,c,f])}var dR=0,pR=()=>`__${String(++dR)}__`;function mR(){let{router:n}=rT("useSubmit"),{basename:e}=Z.useContext(jn),t=O2(),r=n.fetch,o=n.navigate;return Z.useCallback(async(a,l={})=>{let{action:c,method:f,encType:p,formData:v,body:m}=W2(a,e);if(l.navigate===!1){let d=l.fetcherKey||pR();await r(d,t,l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:v,body:m,formMethod:l.method||f,formEncType:l.encType||p,flushSync:l.flushSync})}else await o(l.action||c,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:v,body:m,formMethod:l.method||f,formEncType:l.encType||p,replace:l.replace,state:l.state,fromRouteId:t,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,o,e,t])}function gR(n,{relative:e}={}){let{basename:t}=Z.useContext(jn),r=Z.useContext(Xn);Et(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),a={...Zl(n||".",{relative:e})},l=vi();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(v=>v==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let v=c.toString();a.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ui([t,a.pathname])),Ul(a)}function yR(n,{relative:e}={}){let t=Z.useContext(Ww);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rT("useViewTransitionState"),o=Zl(n,{relative:e});if(!t.isTransitioning)return!1;let a=di(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=di(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Xc(o.pathname,l)!=null||Xc(o.pathname,a)!=null}var iT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t1=qt.createContext&&qt.createContext(iT),vR=["attr","size","title"];function _R(n,e){if(n==null)return{};var t=ER(n,e),r,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(o=0;o<a.length;o++)r=a[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function ER(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Jc(){return Jc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Jc.apply(this,arguments)}function n1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function Zc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n1(Object(t),!0).forEach(function(r){wR(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n1(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wR(n,e,t){return e=TR(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TR(n){var e=bR(n,"string");return typeof e=="symbol"?e:e+""}function bR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function oT(n){return n&&n.map((e,t)=>qt.createElement(e.tag,Zc({key:t},e.attr),oT(e.child)))}function ut(n){return e=>qt.createElement(SR,Jc({attr:Zc({},n.attr)},e),oT(n.child))}function SR(n){var e=t=>{var{attr:r,size:o,title:a}=n,l=_R(n,vR),c=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),qt.createElement("svg",Jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:f,style:Zc(Zc({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&qt.createElement("title",null,a),n.children)};return t1!==void 0?qt.createElement(t1.Consumer,null,t=>e(t)):e(iT)}function AR(n){return ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(n)}function IR(n){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(n)}function RR(n){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(n)}function kR(n){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(n)}function wg(n){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(n)}function PR(n){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.1 171.5L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6zM388.6 312.3l23.7 138.4L288 385.4l-124.3 65.3 23.7-138.4-100.6-98 139-20.2 62.2-126 62.2 126 139 20.2-100.6 98z"},child:[]}]})(n)}function Dt({text:n="Agende sua consulta",className:e="",phone:t="5591985807373",message:r="Ol Dra. Lueine, gostaria de agendar uma consulta."}){const o=`https://wa.me/${t}?text=${encodeURIComponent(r)}`;return j.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:e,children:[n,j.jsx(wg,{size:20})]})}function xR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"},child:[]}]})(n)}function CR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m6 9 6 6 6-6"},child:[]}]})(n)}function OR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m7 6 5 5 5-5"},child:[]},{tag:"path",attr:{d:"m7 13 5 5 5-5"},child:[]}]})(n)}function NR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h13"},child:[]},{tag:"path",attr:{d:"M18 8c0-2.5-2-2.5-2-5"},child:[]},{tag:"path",attr:{d:"m2 2 20 20"},child:[]},{tag:"path",attr:{d:"M21 12a1 1 0 0 1 1 1v2a1 1 0 0 1-.5.866"},child:[]},{tag:"path",attr:{d:"M22 8c0-2.5-2-2.5-2-5"},child:[]},{tag:"path",attr:{d:"M7 12v4"},child:[]}]})(n)}function LR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"},child:[]},{tag:"path",attr:{d:"m9 14 2 2 4-4"},child:[]}]})(n)}function DR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"},child:[]}]})(n)}function MR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m12 14 4-4"},child:[]},{tag:"path",attr:{d:"M3.34 19a10 10 0 1 1 17.32 0"},child:[]}]})(n)}function jR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"},child:[]},{tag:"path",attr:{d:"m12 13-1-1 2-2-3-3 2-2"},child:[]}]})(n)}function r1(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"},child:[]},{tag:"path",attr:{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27"},child:[]}]})(n)}function VR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"},child:[]}]})(n)}function UR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(n)}function FR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"},child:[]},{tag:"path",attr:{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"},child:[]},{tag:"path",attr:{d:"M7 21h10"},child:[]},{tag:"path",attr:{d:"M12 3v18"},child:[]},{tag:"path",attr:{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"},child:[]}]})(n)}function qR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"},child:[]},{tag:"path",attr:{d:"m4.243 5.21 14.39 12.472"},child:[]}]})(n)}function BR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 2v2"},child:[]},{tag:"path",attr:{d:"M5 2v2"},child:[]},{tag:"path",attr:{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1"},child:[]},{tag:"path",attr:{d:"M8 15a6 6 0 0 0 12 0v-3"},child:[]},{tag:"circle",attr:{cx:"20",cy:"10",r:"2"},child:[]}]})(n)}function zR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3"},child:[]},{tag:"path",attr:{d:"m16 2 6 6"},child:[]},{tag:"path",attr:{d:"M12 16H4"},child:[]}]})(n)}function HR(n){return ut({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"},child:[]},{tag:"path",attr:{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"},child:[]},{tag:"path",attr:{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1"},child:[]}]})(n)}function $R(){const[n,e]=Z.useState(null),t=[{question:"Quais so os mtodos de pagamento aceitos?",answer:"Aceitamos Pix, carto de crdito, carto de dbito e dinheiro, para sua maior comodidade."},{question:"Quando tempo dura a consulta?",answer:"A consulta tem durao aproximada de 60 minutos, pois envolve uma avaliao clnica detalhada, incluindo histrico mdico, fatores de risco cardiovasculares, hbitos de vida e definio de um plano de cuidado individualizado."},{question:"H contato telefnico aps a consulta?",answer:"O contato  realizado exclusivamente para orientaes administrativas e esclarecimento de dvidas pontuais, quando necessrio. Demandas clnicas so avaliadas em consulta, garantindo segurana e qualidade do cuidado."}];function r(o){e(n===o?null:o)}return j.jsx("section",{id:"faq",className:"faq",children:j.jsxs("div",{className:"faq-container",children:[j.jsxs("div",{className:"faq-info",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"FAQ"}),j.jsx("h2",{children:"Perguntas frequentes"})]}),j.jsxs("p",{children:["No encontrou a resposta que procurava?",j.jsx("br",{}),"Entre em contato pelo WhatsApp para um atendimento personalizado."]}),j.jsx(Dt,{className:"faq-button",text:"Enviar mensagem",message:"Ol Dra. Lueine, estou com dvidas."})]}),j.jsx("div",{className:"faq-list",children:t.map((o,a)=>j.jsxs("div",{className:`faq-item ${n===a?"active":""}`,children:[j.jsxs("button",{type:"button",className:"faq-question",onClick:()=>r(a),"aria-expanded":n===a,"aria-controls":`faq-answer-${a}`,id:`faq-question-${a}`,children:[j.jsx("span",{children:o.question}),j.jsx("span",{className:"arrow","aria-hidden":"true",children:j.jsx(CR,{})})]}),j.jsx("div",{className:"faq-answer",id:`faq-answer-${a}`,role:"region","aria-labelledby":`faq-question-${a}`,"aria-hidden":n!==a,children:j.jsx("p",{children:o.answer})})]},a))})]})})}const WR="/assets/avaliacao-medica-1-BkL1CoUd.webp",KR="/assets/avaliacao-medica-2-Bwh3OgOv.webp",GR="/assets/dralueinebarradas-DWpK2tKZ.webp",i1="/assets/lueine-barradas-mXUlYlyg.webp",QR=()=>{};var o1={};const sT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},YR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[r++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],l=n[t++],c=n[t++],f=((o&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const a=n[o],l=o+1<n.length,c=l?n[o+1]:0,f=o+2<n.length,p=f?n[o+2]:0,v=a>>2,m=(a&3)<<4|c>>4;let d=(c&15)<<2|p>>6,y=p&63;f||(y=64,l||(d=64)),r.push(t[v],t[m],t[d],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):YR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],c=o<n.length?t[n.charAt(o)]:0;++o;const p=o<n.length?t[n.charAt(o)]:64;++o;const m=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||c==null||p==null||m==null)throw new XR;const d=a<<2|c>>4;if(r.push(d),p!==64){const y=c<<4&240|p>>2;if(r.push(y),m!==64){const S=p<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JR=function(n){const e=sT(n);return aT.encodeByteArray(e,!0)},ef=function(n){return JR(n).replace(/\./g,"")},lT=function(n){try{return aT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ek=()=>ZR().__FIREBASE_DEFAULTS__,tk=()=>{if(typeof process>"u"||typeof o1>"u")return;const n=o1.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&lT(n[1]);return e&&JSON.parse(e)},Sf=()=>{try{return QR()||ek()||tk()||nk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},uT=n=>Sf()?.emulatorHosts?.[n],cT=n=>{const e=uT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},fT=()=>Sf()?.config,hT=n=>Sf()?.[`_${n}`];class rk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function fo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Tg(n){return(await fetch(n,{credentials:"include"})).ok}function dT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[ef(JSON.stringify(t)),ef(JSON.stringify(l)),""].join(".")}const Ol={};function ik(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?n.emulator.push(e):n.prod.push(e);return n}function ok(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let s1=!1;function bg(n,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Ol[n]===e||Ol[n]||s1)return;Ol[n]=e;function t(d){return`__firebase__banner__${d}`}const r="__firebase__banner",a=ik().prod.length>0;function l(){const d=document.getElementById(r);d&&d.remove()}function c(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function f(d,y){d.setAttribute("width","24"),d.setAttribute("id",y),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function p(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{s1=!0,l()},d}function v(d,y){d.setAttribute("id",y),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function m(){const d=ok(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),E=t("learnmore"),_=document.getElementById(E)||document.createElement("a"),T=t("preprendIcon"),w=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const k=d.element;c(k),v(_,E);const b=p();f(w,T),k.append(w,S,_,b),document.body.appendChild(k)}a?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function ak(){const n=Sf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ck(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fk(){const n=hn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function hk(){return!ak()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dk(){try{return typeof indexedDB=="object"}catch{return!1}}function pk(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}const mk="FirebaseError";class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=mk,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?gk(a,r):"Error",c=`${this.serviceName}: ${l} (${o}).`;return new qr(o,c,r)}}function gk(n,e){return n.replace(yk,(t,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const yk=/\{\$([^}]+)}/g;function vk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qo(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const a=n[o],l=e[o];if(a1(a)&&a1(l)){if(!Qo(a,l))return!1}else if(a!==l)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function a1(n){return n!==null&&typeof n=="object"}function tu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,a]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function Al(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _k(n,e){const t=new Ek(n,e);return t.subscribe.bind(t)}class Ek{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wk(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:r},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ld(){}function wt(n){return n&&n._delegate?n._delegate:n}class io{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zo="[DEFAULT]";class Tk{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new rk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sk(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});r.resolve(a)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(o)}return o}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bk(n){return n===zo?void 0:n}function Sk(n){return n.instantiationMode==="EAGER"}class Ak{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Tk(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const Ik={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},Rk=Ye.INFO,kk={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Pk=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),o=kk[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=Rk,this._logHandler=Pk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ik[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const xk=(n,e)=>e.some(t=>n instanceof t);let l1,u1;function Ck(){return l1||(l1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ok(){return u1||(u1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pT=new WeakMap,Mm=new WeakMap,mT=new WeakMap,Dd=new WeakMap,Ag=new WeakMap;function Nk(n){const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Zi(n.result)),o()},l=()=>{r(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&pT.set(t,n)}).catch(()=>{}),Ag.set(e,n),e}function Lk(n){if(Mm.has(n))return;const e=new Promise((t,r)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),o()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Mm.set(n,e)}let jm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Mm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||mT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Dk(n){jm=n(jm)}function Mk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Md(this),e,...t);return mT.set(r,e.sort?e.sort():[e]),Zi(r)}:Ok().includes(n)?function(...e){return n.apply(Md(this),e),Zi(pT.get(this))}:function(...e){return Zi(n.apply(Md(this),e))}}function jk(n){return typeof n=="function"?Mk(n):(n instanceof IDBTransaction&&Lk(n),xk(n,Ck())?new Proxy(n,jm):n)}function Zi(n){if(n instanceof IDBRequest)return Nk(n);if(Dd.has(n))return Dd.get(n);const e=jk(n);return e!==n&&(Dd.set(n,e),Ag.set(e,n)),e}const Md=n=>Ag.get(n);function Vk(n,e,{blocked:t,upgrade:r,blocking:o,terminated:a}={}){const l=indexedDB.open(n,e),c=Zi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Zi(l.result),f.oldVersion,f.newVersion,Zi(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Uk=["get","getKey","getAll","getAllKeys","count"],Fk=["put","add","delete","clear"],jd=new Map;function c1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jd.get(e))return jd.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,o=Fk.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Uk.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,o?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[t](...c),o&&f.done]))[0]};return jd.set(e,a),a}Dk(n=>({...n,get:(e,t,r)=>c1(e,t)||n.get(e,t,r),has:(e,t)=>!!c1(e,t)||n.has(e,t)}));class qk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Bk(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function Bk(n){return n.getComponent()?.type==="VERSION"}const Vm="@firebase/app",f1="0.14.7";const pi=new Sg("@firebase/app"),zk="@firebase/app-compat",Hk="@firebase/analytics-compat",$k="@firebase/analytics",Wk="@firebase/app-check-compat",Kk="@firebase/app-check",Gk="@firebase/auth",Qk="@firebase/auth-compat",Yk="@firebase/database",Xk="@firebase/data-connect",Jk="@firebase/database-compat",Zk="@firebase/functions",eP="@firebase/functions-compat",tP="@firebase/installations",nP="@firebase/installations-compat",rP="@firebase/messaging",iP="@firebase/messaging-compat",oP="@firebase/performance",sP="@firebase/performance-compat",aP="@firebase/remote-config",lP="@firebase/remote-config-compat",uP="@firebase/storage",cP="@firebase/storage-compat",fP="@firebase/firestore",hP="@firebase/ai",dP="@firebase/firestore-compat",pP="firebase",mP="12.8.0";const Um="[DEFAULT]",gP={[Vm]:"fire-core",[zk]:"fire-core-compat",[$k]:"fire-analytics",[Hk]:"fire-analytics-compat",[Kk]:"fire-app-check",[Wk]:"fire-app-check-compat",[Gk]:"fire-auth",[Qk]:"fire-auth-compat",[Yk]:"fire-rtdb",[Xk]:"fire-data-connect",[Jk]:"fire-rtdb-compat",[Zk]:"fire-fn",[eP]:"fire-fn-compat",[tP]:"fire-iid",[nP]:"fire-iid-compat",[rP]:"fire-fcm",[iP]:"fire-fcm-compat",[oP]:"fire-perf",[sP]:"fire-perf-compat",[aP]:"fire-rc",[lP]:"fire-rc-compat",[uP]:"fire-gcs",[cP]:"fire-gcs-compat",[fP]:"fire-fst",[dP]:"fire-fst-compat",[hP]:"fire-vertex","fire-js":"fire-js",[pP]:"fire-js-all"};const tf=new Map,yP=new Map,Fm=new Map;function h1(n,e){try{n.container.addComponent(e)}catch(t){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yo(n){const e=n.name;if(Fm.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;Fm.set(e,n);for(const t of tf.values())h1(t,n);for(const t of yP.values())h1(t,n);return!0}function Af(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Kn(n){return n==null?!1:n.settings!==void 0}const vP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},eo=new eu("app","Firebase",vP);class _P{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw eo.create("app-deleted",{appName:this._name})}}const ts=mP;function gT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Um,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw eo.create("bad-app-name",{appName:String(o)});if(t||(t=fT()),!t)throw eo.create("no-options");const a=tf.get(o);if(a){if(Qo(t,a.options)&&Qo(r,a.config))return a;throw eo.create("duplicate-app",{appName:o})}const l=new Ak(o);for(const f of Fm.values())l.addComponent(f);const c=new _P(t,r,l);return tf.set(o,c),c}function Ig(n=Um){const e=tf.get(n);if(!e&&n===Um&&fT())return gT();if(!e)throw eo.create("no-app",{appName:n});return e}function Lr(n,e,t){let r=gP[n]??n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${r}" with version "${e}":`];o&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(l.join(" "));return}Yo(new io(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const EP="firebase-heartbeat-database",wP=1,Fl="firebase-heartbeat-store";let Vd=null;function yT(){return Vd||(Vd=Vk(EP,wP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw eo.create("idb-open",{originalErrorMessage:n.message})})),Vd}async function TP(n){try{const t=(await yT()).transaction(Fl),r=await t.objectStore(Fl).get(vT(n));return await t.done,r}catch(e){if(e instanceof qr)pi.warn(e.message);else{const t=eo.create("idb-get",{originalErrorMessage:e?.message});pi.warn(t.message)}}}async function d1(n,e){try{const r=(await yT()).transaction(Fl,"readwrite");await r.objectStore(Fl).put(e,vT(n)),await r.done}catch(t){if(t instanceof qr)pi.warn(t.message);else{const r=eo.create("idb-set",{originalErrorMessage:t?.message});pi.warn(r.message)}}}function vT(n){return`${n.name}!${n.options.appId}`}const bP=1024,SP=30;class AP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new RP(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=p1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>SP){const o=kP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){pi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=p1(),{heartbeatsToSend:t,unsentEntries:r}=IP(this._heartbeatsCache.heartbeats),o=ef(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return pi.warn(e),""}}}function p1(){return new Date().toISOString().substring(0,10)}function IP(n,e=bP){const t=[];let r=n.slice();for(const o of n){const a=t.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),m1(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),m1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class RP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dk()?pk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await TP(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return d1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function m1(n){return ef(JSON.stringify({version:2,heartbeats:n})).length}function kP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function PP(n){Yo(new io("platform-logger",e=>new qk(e),"PRIVATE")),Yo(new io("heartbeat",e=>new AP(e),"PRIVATE")),Lr(Vm,f1,n),Lr(Vm,f1,"esm2020"),Lr("fire-js","")}PP("");var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var to,_T;(function(){var n;function e(P,R){function M(){}M.prototype=R.prototype,P.F=R.prototype,P.prototype=new M,P.prototype.constructor=P,P.D=function(O,I,L){for(var N=Array(arguments.length-2),z=2;z<arguments.length;z++)N[z-2]=arguments[z];return R.prototype[I].apply(O,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,M){M||(M=0);const O=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)O[I]=R.charCodeAt(M++)|R.charCodeAt(M++)<<8|R.charCodeAt(M++)<<16|R.charCodeAt(M++)<<24;else for(I=0;I<16;++I)O[I]=R[M++]|R[M++]<<8|R[M++]<<16|R[M++]<<24;R=P.g[0],M=P.g[1],I=P.g[2];let L=P.g[3],N;N=R+(L^M&(I^L))+O[0]+3614090360&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+O[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+O[2]+606105819&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+O[3]+3250441966&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+O[4]+4118548399&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+O[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+O[6]+2821735955&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+O[7]+4249261313&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+O[8]+1770035416&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+O[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+O[10]+4294925233&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+O[11]+2304563134&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(L^M&(I^L))+O[12]+1804603682&4294967295,R=M+(N<<7&4294967295|N>>>25),N=L+(I^R&(M^I))+O[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=I+(M^L&(R^M))+O[14]+2792965006&4294967295,I=L+(N<<17&4294967295|N>>>15),N=M+(R^I&(L^R))+O[15]+1236535329&4294967295,M=I+(N<<22&4294967295|N>>>10),N=R+(I^L&(M^I))+O[1]+4129170786&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+O[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+O[11]+643717713&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+O[0]+3921069994&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+O[5]+3593408605&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+O[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+O[15]+3634488961&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+O[4]+3889429448&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+O[9]+568446438&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+O[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+O[3]+4107603335&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+O[8]+1163531501&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(I^L&(M^I))+O[13]+2850285829&4294967295,R=M+(N<<5&4294967295|N>>>27),N=L+(M^I&(R^M))+O[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=I+(R^M&(L^R))+O[7]+1735328473&4294967295,I=L+(N<<14&4294967295|N>>>18),N=M+(L^R&(I^L))+O[12]+2368359562&4294967295,M=I+(N<<20&4294967295|N>>>12),N=R+(M^I^L)+O[5]+4294588738&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+O[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+O[11]+1839030562&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+O[14]+4259657740&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+O[1]+2763975236&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+O[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+O[7]+4139469664&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+O[10]+3200236656&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+O[13]+681279174&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+O[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+O[3]+3572445317&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+O[6]+76029189&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(M^I^L)+O[9]+3654602809&4294967295,R=M+(N<<4&4294967295|N>>>28),N=L+(R^M^I)+O[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=I+(L^R^M)+O[15]+530742520&4294967295,I=L+(N<<16&4294967295|N>>>16),N=M+(I^L^R)+O[2]+3299628645&4294967295,M=I+(N<<23&4294967295|N>>>9),N=R+(I^(M|~L))+O[0]+4096336452&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+O[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+O[14]+2878612391&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+O[5]+4237533241&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+O[12]+1700485571&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+O[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+O[10]+4293915773&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+O[1]+2240044497&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+O[8]+1873313359&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+O[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+O[6]+2734768916&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+O[13]+1309151649&4294967295,M=I+(N<<21&4294967295|N>>>11),N=R+(I^(M|~L))+O[4]+4149444226&4294967295,R=M+(N<<6&4294967295|N>>>26),N=L+(M^(R|~I))+O[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=I+(R^(L|~M))+O[2]+718787259&4294967295,I=L+(N<<15&4294967295|N>>>17),N=M+(L^(I|~R))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+I&4294967295,P.g[3]=P.g[3]+L&4294967295}r.prototype.v=function(P,R){R===void 0&&(R=P.length);const M=R-this.blockSize,O=this.C;let I=this.h,L=0;for(;L<R;){if(I==0)for(;L<=M;)o(this,P,L),L+=this.blockSize;if(typeof P=="string"){for(;L<R;)if(O[I++]=P.charCodeAt(L++),I==this.blockSize){o(this,O),I=0;break}}else for(;L<R;)if(O[I++]=P[L++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=R},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;R=this.o*8;for(var M=P.length-8;M<P.length;++M)P[M]=R&255,R/=256;for(this.v(P),P=Array(16),R=0,M=0;M<4;++M)for(let O=0;O<32;O+=8)P[R++]=this.g[M]>>>O&255;return P};function a(P,R){var M=c;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=R(P)}function l(P,R){this.h=R;const M=[];let O=!0;for(let I=P.length-1;I>=0;I--){const L=P[I]|0;O&&L==R||(M[I]=L,O=!1)}this.g=M}var c={};function f(P){return-128<=P&&P<128?a(P,function(R){return new l([R|0],R<0?-1:0)}):new l([P|0],P<0?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return _(p(-P));const R=[];let M=1;for(let O=0;P>=M;O++)R[O]=P/M|0,M*=4294967296;return new l(R,0)}function v(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return _(v(P.substring(1),R));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(R,8));let O=m;for(let L=0;L<P.length;L+=8){var I=Math.min(8,P.length-L);const N=parseInt(P.substring(L,L+I),R);I<8?(I=p(Math.pow(R,I)),O=O.j(I).add(p(N))):(O=O.j(M),O=O.add(p(N)))}return O}var m=f(0),d=f(1),y=f(16777216);n=l.prototype,n.m=function(){if(E(this))return-_(this).m();let P=0,R=1;for(let M=0;M<this.g.length;M++){const O=this.i(M);P+=(O>=0?O:4294967296+O)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(S(this))return"0";if(E(this))return"-"+_(this).toString(P);const R=p(Math.pow(P,6));var M=this;let O="";for(;;){const I=b(M,R).g;M=T(M,I.j(R));let L=((M.g.length>0?M.g[0]:M.h)>>>0).toString(P);if(M=I,S(M))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},n.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function S(P){if(P.h!=0)return!1;for(let R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function E(P){return P.h==-1}n.l=function(P){return P=T(this,P),E(P)?-1:S(P)?0:1};function _(P){const R=P.g.length,M=[];for(let O=0;O<R;O++)M[O]=~P.g[O];return new l(M,~P.h).add(d)}n.abs=function(){return E(this)?_(this):this},n.add=function(P){const R=Math.max(this.g.length,P.g.length),M=[];let O=0;for(let I=0;I<=R;I++){let L=O+(this.i(I)&65535)+(P.i(I)&65535),N=(L>>>16)+(this.i(I)>>>16)+(P.i(I)>>>16);O=N>>>16,L&=65535,N&=65535,M[I]=N<<16|L}return new l(M,M[M.length-1]&-2147483648?-1:0)};function T(P,R){return P.add(_(R))}n.j=function(P){if(S(this)||S(P))return m;if(E(this))return E(P)?_(this).j(_(P)):_(_(this).j(P));if(E(P))return _(this.j(_(P)));if(this.l(y)<0&&P.l(y)<0)return p(this.m()*P.m());const R=this.g.length+P.g.length,M=[];for(var O=0;O<2*R;O++)M[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<P.g.length;I++){const L=this.i(O)>>>16,N=this.i(O)&65535,z=P.i(I)>>>16,G=P.i(I)&65535;M[2*O+2*I]+=N*G,w(M,2*O+2*I),M[2*O+2*I+1]+=L*G,w(M,2*O+2*I+1),M[2*O+2*I+1]+=N*z,w(M,2*O+2*I+1),M[2*O+2*I+2]+=L*z,w(M,2*O+2*I+2)}for(P=0;P<R;P++)M[P]=M[2*P+1]<<16|M[2*P];for(P=R;P<2*R;P++)M[P]=0;return new l(M,0)};function w(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function k(P,R){this.g=P,this.h=R}function b(P,R){if(S(R))throw Error("division by zero");if(S(P))return new k(m,m);if(E(P))return R=b(_(P),R),new k(_(R.g),_(R.h));if(E(R))return R=b(P,_(R)),new k(_(R.g),R.h);if(P.g.length>30){if(E(P)||E(R))throw Error("slowDivide_ only works with positive integers.");for(var M=d,O=R;O.l(P)<=0;)M=D(M),O=D(O);var I=F(M,1),L=F(O,1);for(O=F(O,2),M=F(M,2);!S(O);){var N=L.add(O);N.l(P)<=0&&(I=I.add(M),L=N),O=F(O,1),M=F(M,1)}return R=T(P,I.j(R)),new k(I,R)}for(I=m;P.l(R)>=0;){for(M=Math.max(1,Math.floor(P.m()/R.m())),O=Math.ceil(Math.log(M)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=p(M),N=L.j(R);E(N)||N.l(P)>0;)M-=O,L=p(M),N=L.j(R);S(L)&&(L=d),I=I.add(L),P=T(P,N)}return new k(I,P)}n.B=function(P){return b(this,P).h},n.and=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let O=0;O<R;O++)M[O]=this.i(O)&P.i(O);return new l(M,this.h&P.h)},n.or=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let O=0;O<R;O++)M[O]=this.i(O)|P.i(O);return new l(M,this.h|P.h)},n.xor=function(P){const R=Math.max(this.g.length,P.g.length),M=[];for(let O=0;O<R;O++)M[O]=this.i(O)^P.i(O);return new l(M,this.h^P.h)};function D(P){const R=P.g.length+1,M=[];for(let O=0;O<R;O++)M[O]=P.i(O)<<1|P.i(O-1)>>>31;return new l(M,P.h)}function F(P,R){const M=R>>5;R%=32;const O=P.g.length-M,I=[];for(let L=0;L<O;L++)I[L]=R>0?P.i(L+M)>>>R|P.i(L+M+1)<<32-R:P.i(L+M);return new l(I,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,_T=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=v,to=l}).apply(typeof g1<"u"?g1:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ET,Il,wT,Vc,qm,TT,bT,ST;(function(){var n,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var C=0;C<h.length;++C){var U=h[C];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=t(this);function o(h,C){if(C)e:{var U=r;h=h.split(".");for(var H=0;H<h.length-1;H++){var ue=h[H];if(!(ue in U))break e;U=U[ue]}h=h[h.length-1],H=U[h],C=C(H),C!=H&&C!=null&&e(U,h,{configurable:!0,writable:!0,value:C})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(C){var U=[],H;for(H in C)Object.prototype.hasOwnProperty.call(C,H)&&U.push([H,C[H]]);return U}});var a=a||{},l=this||self;function c(h){var C=typeof h;return C=="object"&&h!=null||C=="function"}function f(h,C,U){return h.call.apply(h.bind,arguments)}function p(h,C,U){return p=f,p.apply(null,arguments)}function v(h,C){var U=Array.prototype.slice.call(arguments,1);return function(){var H=U.slice();return H.push.apply(H,arguments),h.apply(this,H)}}function m(h,C){function U(){}U.prototype=C.prototype,h.Z=C.prototype,h.prototype=new U,h.prototype.constructor=h,h.Ob=function(H,ue,he){for(var Se=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Se[$e-2]=arguments[$e];return C.prototype[ue].apply(H,Se)}}var d=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function y(h){const C=h.length;if(C>0){const U=Array(C);for(let H=0;H<C;H++)U[H]=h[H];return U}return[]}function S(h,C){for(let H=1;H<arguments.length;H++){const ue=arguments[H];var U=typeof ue;if(U=U!="object"?U:ue?Array.isArray(ue)?"array":U:"null",U=="array"||U=="object"&&typeof ue.length=="number"){U=h.length||0;const he=ue.length||0;h.length=U+he;for(let Se=0;Se<he;Se++)h[U+Se]=ue[Se]}else h.push(ue)}}class E{constructor(C,U){this.i=C,this.j=U,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function _(h){l.setTimeout(()=>{throw h},0)}function T(){var h=P;let C=null;return h.g&&(C=h.g,h.g=h.g.next,h.g||(h.h=null),C.next=null),C}class w{constructor(){this.h=this.g=null}add(C,U){const H=k.get();H.set(C,U),this.h?this.h.next=H:this.g=H,this.h=H}}var k=new E(()=>new b,h=>h.reset());class b{constructor(){this.next=this.g=this.h=null}set(C,U){this.h=C,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let D,F=!1,P=new w,R=()=>{const h=Promise.resolve(void 0);D=()=>{h.then(M)}};function M(){for(var h;h=T();){try{h.h.call(h.g)}catch(U){_(U)}var C=k;C.j(h),C.h<100&&(C.h++,h.next=C.g,C.g=h)}F=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(h,C){this.type=h,this.g=this.target=C,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var h=!1,C=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const U=()=>{};l.addEventListener("test",U,C),l.removeEventListener("test",U,C)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function z(h,C){I.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,C)}m(z,I),z.prototype.init=function(h,C){const U=this.type=h.type,H=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=C,C=h.relatedTarget,C||(U=="mouseover"?C=h.fromElement:U=="mouseout"&&(C=h.toElement)),this.relatedTarget=C,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),ne=0;function re(h,C,U,H,ue){this.listener=h,this.proxy=null,this.src=C,this.type=U,this.capture=!!H,this.ha=ue,this.key=++ne,this.da=this.fa=!1}function oe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Y(h,C,U){for(const H in h)C.call(U,h[H],H,h)}function W(h,C){for(const U in h)C.call(void 0,h[U],U,h)}function V(h){const C={};for(const U in h)C[U]=h[U];return C}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(h,C){let U,H;for(let ue=1;ue<arguments.length;ue++){H=arguments[ue];for(U in H)h[U]=H[U];for(let he=0;he<B.length;he++)U=B[he],Object.prototype.hasOwnProperty.call(H,U)&&(h[U]=H[U])}}function te(h){this.src=h,this.g={},this.h=0}te.prototype.add=function(h,C,U,H,ue){const he=h.toString();h=this.g[he],h||(h=this.g[he]=[],this.h++);const Se=$(h,C,H,ue);return Se>-1?(C=h[Se],U||(C.fa=!1)):(C=new re(C,this.src,he,!!H,ue),C.fa=U,h.push(C)),C};function ee(h,C){const U=C.type;if(U in h.g){var H=h.g[U],ue=Array.prototype.indexOf.call(H,C,void 0),he;(he=ue>=0)&&Array.prototype.splice.call(H,ue,1),he&&(oe(C),h.g[U].length==0&&(delete h.g[U],h.h--))}}function $(h,C,U,H){for(let ue=0;ue<h.length;++ue){const he=h[ue];if(!he.da&&he.listener==C&&he.capture==!!U&&he.ha==H)return ue}return-1}var X="closure_lm_"+(Math.random()*1e6|0),se={};function ae(h,C,U,H,ue){if(Array.isArray(C)){for(let he=0;he<C.length;he++)ae(h,C[he],U,H,ue);return null}return U=pe(U),h&&h[G]?h.J(C,U,c(H)?!!H.capture:!1,ue):me(h,C,U,!1,H,ue)}function me(h,C,U,H,ue,he){if(!C)throw Error("Invalid event type");const Se=c(ue)?!!ue.capture:!!ue;let $e=kt(h);if($e||(h[X]=$e=new te(h)),U=$e.add(C,U,H,Se,he),U.proxy)return U;if(H=Re(),U.proxy=H,H.src=h,H.listener=U,h.addEventListener)L||(ue=Se),ue===void 0&&(ue=!1),h.addEventListener(C.toString(),H,ue);else if(h.attachEvent)h.attachEvent(Ge(C.toString()),H);else if(h.addListener&&h.removeListener)h.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Re(){function h(U){return C.call(h.src,h.listener,U)}const C=et;return h}function je(h,C,U,H,ue){if(Array.isArray(C))for(var he=0;he<C.length;he++)je(h,C[he],U,H,ue);else H=c(H)?!!H.capture:!!H,U=pe(U),h&&h[G]?(h=h.i,he=String(C).toString(),he in h.g&&(C=h.g[he],U=$(C,U,H,ue),U>-1&&(oe(C[U]),Array.prototype.splice.call(C,U,1),C.length==0&&(delete h.g[he],h.h--)))):h&&(h=kt(h))&&(C=h.g[C.toString()],h=-1,C&&(h=$(C,U,H,ue)),(U=h>-1?C[h]:null)&&Ve(U))}function Ve(h){if(typeof h!="number"&&h&&!h.da){var C=h.src;if(C&&C[G])ee(C.i,h);else{var U=h.type,H=h.proxy;C.removeEventListener?C.removeEventListener(U,H,h.capture):C.detachEvent?C.detachEvent(Ge(U),H):C.addListener&&C.removeListener&&C.removeListener(H),(U=kt(C))?(ee(U,h),U.h==0&&(U.src=null,C[X]=null)):oe(h)}}}function Ge(h){return h in se?se[h]:se[h]="on"+h}function et(h,C){if(h.da)h=!0;else{C=new z(C,this);const U=h.listener,H=h.ha||h.src;h.fa&&Ve(h),h=U.call(H,C)}return h}function kt(h){return h=h[X],h instanceof te?h:null}var ct="__closure_events_fn_"+(Math.random()*1e9>>>0);function pe(h){return typeof h=="function"?h:(h[ct]||(h[ct]=function(C){return h.handleEvent(C)}),h[ct])}function de(){O.call(this),this.i=new te(this),this.M=this,this.G=null}m(de,O),de.prototype[G]=!0,de.prototype.removeEventListener=function(h,C,U,H){je(this,h,C,U,H)};function we(h,C){var U,H=h.G;if(H)for(U=[];H;H=H.G)U.push(H);if(h=h.M,H=C.type||C,typeof C=="string")C=new I(C,h);else if(C instanceof I)C.target=C.target||h;else{var ue=C;C=new I(H,h),K(C,ue)}ue=!0;let he,Se;if(U)for(Se=U.length-1;Se>=0;Se--)he=C.g=U[Se],ue=Ae(he,H,!0,C)&&ue;if(he=C.g=h,ue=Ae(he,H,!0,C)&&ue,ue=Ae(he,H,!1,C)&&ue,U)for(Se=0;Se<U.length;Se++)he=C.g=U[Se],ue=Ae(he,H,!1,C)&&ue}de.prototype.N=function(){if(de.Z.N.call(this),this.i){var h=this.i;for(const C in h.g){const U=h.g[C];for(let H=0;H<U.length;H++)oe(U[H]);delete h.g[C],h.h--}}this.G=null},de.prototype.J=function(h,C,U,H){return this.i.add(String(h),C,!1,U,H)},de.prototype.K=function(h,C,U,H){return this.i.add(String(h),C,!0,U,H)};function Ae(h,C,U,H){if(C=h.i.g[String(C)],!C)return!0;C=C.concat();let ue=!0;for(let he=0;he<C.length;++he){const Se=C[he];if(Se&&!Se.da&&Se.capture==U){const $e=Se.listener,Pt=Se.ha||Se.src;Se.fa&&ee(h.i,Se),ue=$e.call(Pt,H)!==!1&&ue}}return ue&&!H.defaultPrevented}function ve(h,C){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:l.setTimeout(h,C||0)}function He(h){h.g=ve(()=>{h.g=null,h.i&&(h.i=!1,He(h))},h.l);const C=h.h;h.h=null,h.m.apply(null,C)}class Ke extends O{constructor(C,U){super(),this.m=C,this.l=U,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Be(h){O.call(this),this.h=h,this.g={}}m(Be,O);var zt=[];function nn(h){Y(h.g,function(C,U){this.g.hasOwnProperty(U)&&Ve(C)},h),h.g={}}Be.prototype.N=function(){Be.Z.N.call(this),nn(this)},Be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rt=l.JSON.stringify,as=l.JSON.parse,lt=class{stringify(h){return l.JSON.stringify(h,void 0)}parse(h){return l.JSON.parse(h,void 0)}};function Gt(){}function hu(){}var Ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ls(){I.call(this,"d")}m(ls,I);function Pa(){I.call(this,"c")}m(Pa,I);var Jn={},us=null;function wi(){return us=us||new de}Jn.Ia="serverreachability";function cs(h){I.call(this,Jn.Ia,h)}m(cs,I);function zr(h){const C=wi();we(C,new cs(C))}Jn.STAT_EVENT="statevent";function Hr(h,C){I.call(this,Jn.STAT_EVENT,h),this.stat=C}m(Hr,I);function It(h){const C=wi();we(C,new Hr(C,h))}Jn.Ja="timingevent";function xa(h,C){I.call(this,Jn.Ja,h),this.size=C}m(xa,I);function Ti(h,C){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){h()},C)}function bi(){this.g=!0}bi.prototype.ua=function(){this.g=!1};function du(h,C,U,H,ue,he){h.info(function(){if(h.g)if(he){var Se="",$e=he.split("&");for(let at=0;at<$e.length;at++){var Pt=$e[at].split("=");if(Pt.length>1){const Nt=Pt[0];Pt=Pt[1];const Cn=Nt.split("_");Se=Cn.length>=2&&Cn[1]=="type"?Se+(Nt+"="+Pt+"&"):Se+(Nt+"=redacted&")}}}else Se=null;else Se=he;return"XMLHTTP REQ ("+H+") [attempt "+ue+"]: "+C+`
`+U+`
`+Se})}function pu(h,C,U,H,ue,he,Se){h.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ue+"]: "+C+`
`+U+`
`+he+" "+Se})}function pr(h,C,U,H){h.info(function(){return"XMLHTTP TEXT ("+C+"): "+yo(h,U)+(H?" "+H:"")})}function mu(h,C){h.info(function(){return"TIMEOUT: "+C})}bi.prototype.info=function(){};function yo(h,C){if(!h.g)return C;if(!C)return null;try{const he=JSON.parse(C);if(he){for(h=0;h<he.length;h++)if(Array.isArray(he[h])){var U=he[h];if(!(U.length<2)){var H=U[1];if(Array.isArray(H)&&!(H.length<1)){var ue=H[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let Se=1;Se<H.length;Se++)H[Se]=""}}}}return rt(he)}catch{return C}}var Si={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ai={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gu;function $r(){}m($r,Gt),$r.prototype.g=function(){return new XMLHttpRequest},gu=new $r;function mr(h){return encodeURIComponent(String(h))}function fs(h){var C=1;h=h.split(":");const U=[];for(;C>0&&h.length;)U.push(h.shift()),C--;return h.length&&U.push(h.join(":")),U}function Vn(h,C,U,H){this.j=h,this.i=C,this.l=U,this.S=H||1,this.V=new Be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yu}function yu(){this.i=null,this.g="",this.h=!1}var vu={},Ca={};function Zn(h,C,U){h.M=1,h.A=Kr(Un(C)),h.u=U,h.R=!0,Oa(h,null)}function Oa(h,C){h.F=Date.now(),vo(h),h.B=Un(h.A);var U=h.B,H=h.S;Array.isArray(H)||(H=[String(H)]),Ba(U.i,"t",H),h.C=0,U=h.j.L,h.h=new yu,h.g=ku(h.j,U?C:null,!h.u),h.P>0&&(h.O=new Ke(p(h.Y,h,h.g),h.P)),C=h.V,U=h.g,H=h.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(zt[0]=ue.toString()),ue=zt);for(let he=0;he<ue.length;he++){const Se=ae(U,ue[he],H||C.handleEvent,!1,C.h||C);if(!Se)break;C.g[Se.key]=Se}C=h.J?V(h.J):{},h.u?(h.v||(h.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,C)):(h.v="GET",h.g.ea(h.B,h.v,null,C)),zr(),du(h.i,h.v,h.B,h.l,h.S,h.u)}Vn.prototype.ba=function(h){h=h.target;const C=this.O;C&&Tr(h)==3?C.j():this.Y(h)},Vn.prototype.Y=function(h){try{if(h==this.g)e:{const $e=Tr(this.g),Pt=this.g.ya(),at=this.g.ca();if(!($e<3)&&($e!=3||this.g&&(this.h.h||this.g.la()||Iu(this.g)))){this.K||$e!=4||Pt==7||(Pt==8||at<=0?zr(3):zr(2)),hs(this);var C=this.g.ca();this.X=C;var U=_u(this);if(this.o=C==200,pu(this.i,this.v,this.B,this.l,this.S,$e,C),this.o){if(this.U&&!this.L){t:{if(this.g){var H,ue=this.g;if((H=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(H)){var he=H;break t}}he=null}if(h=he)pr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pt(this,h);else{this.o=!1,this.m=3,It(12),Wr(this),_o(this);break e}}if(this.R){h=!0;let Nt;for(;!this.K&&this.C<U.length;)if(Nt=wu(this,U),Nt==Ca){$e==4&&(this.m=4,It(14),h=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==vu){this.m=4,It(15),pr(this.i,this.l,U,"[Invalid Chunk]"),h=!1;break}else pr(this.i,this.l,Nt,null),pt(this,Nt);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$e!=4||U.length!=0||this.h.h||(this.m=1,It(16),h=!1),this.o=this.o&&h,!h)pr(this.i,this.l,U,"[Invalid Chunked Response]"),Wr(this),_o(this);else if(U.length>0&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.aa&&!Se.P&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ko(Se),Se.P=!0,It(11))}}else pr(this.i,this.l,U,null),pt(this,U);$e==4&&Wr(this),this.o&&!this.K&&($e==4?Ts(this.j,this):(this.o=!1,vo(this)))}else Ha(this.g),C==400&&U.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Wr(this),_o(this)}}}catch{}};function _u(h){if(!Eu(h))return h.g.la();const C=Iu(h.g);if(C==="")return"";let U="";const H=C.length,ue=Tr(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Wr(h),_o(h),"";h.h.i=new l.TextDecoder}for(let he=0;he<H;he++)h.h.h=!0,U+=h.h.i.decode(C[he],{stream:!(ue&&he==H-1)});return C.length=0,h.h.g+=U,h.C=0,h.h.g}function Eu(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function wu(h,C){var U=h.C,H=C.indexOf(`
`,U);return H==-1?Ca:(U=Number(C.substring(U,H)),isNaN(U)?vu:(H+=1,H+U>C.length?Ca:(C=C.slice(H,H+U),h.C=H+U,C)))}Vn.prototype.cancel=function(){this.K=!0,Wr(this)};function vo(h){h.T=Date.now()+h.H,Na(h,h.H)}function Na(h,C){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(p(h.aa,h),C)}function hs(h){h.D&&(l.clearTimeout(h.D),h.D=null)}Vn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(mu(this.i,this.B),this.M!=2&&(zr(),It(17)),Wr(this),this.m=2,_o(this)):Na(this,this.T-h)};function _o(h){h.j.I==0||h.K||Ts(h.j,h)}function Wr(h){hs(h);var C=h.O;C&&typeof C.dispose=="function"&&C.dispose(),h.O=null,nn(h.V),h.g&&(C=h.g,h.g=null,C.abort(),C.dispose())}function pt(h,C){try{var U=h.j;if(U.I!=0&&(U.g==h||Da(U.h,h))){if(!h.L&&Da(U.h,h)&&U.I==3){try{var H=U.Ba.g.parse(C)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ue=H;if(ue[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<h.F)ws(U),Pn(U);else break e;Ar(U),It(18)}}else U.xa=ue[1],0<U.xa-U.K&&ue[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=Ti(p(U.Va,U),6e3));Eo(U.h)<=1&&U.ta&&(U.ta=void 0)}else xn(U,11)}else if((h.L||U.g==h)&&ws(U),!N(C))for(ue=U.Ba.g.parse(C),C=0;C<ue.length;C++){let at=ue[C];const Nt=at[0];if(!(Nt<=U.K))if(U.K=Nt,at=at[1],U.I==2)if(at[0]=="c"){U.M=at[1],U.ba=at[2];const Cn=at[3];Cn!=null&&(U.ka=Cn,U.j.info("VER="+U.ka));const Jr=at[4];Jr!=null&&(U.za=Jr,U.j.info("SVER="+U.za));const Ir=at[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(H=1.5*Ir,U.O=H,U.j.info("backChannelRequestTimeoutMs_="+H)),H=U;const Rr=h.g;if(Rr){const As=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var he=H.h;he.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(he.j=he.l,he.g=new Set,he.h&&(ps(he,he.h),he.h=null))}if(H.G){const Ka=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(H.wa=Ka,ot(H.J,H.G,Ka))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-h.F,U.j.info("Handshake RTT: "+U.T+"ms")),H=U;var Se=h;if(H.na=Wa(H,H.L?H.ba:null,H.W),Se.L){wo(H.h,Se);var $e=Se,Pt=H.O;Pt&&($e.H=Pt),$e.D&&(hs($e),vo($e)),H.g=Se}else rn(H);U.i.length>0&&Xr(U)}else at[0]!="stop"&&at[0]!="close"||xn(U,7);else U.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?xn(U,7):_s(U):at[0]!="noop"&&U.l&&U.l.qa(at),U.A=0)}}zr(4)}catch{}}var rh=class{constructor(h,C){this.g=h,this.map=C}};function ds(h){this.l=h||10,l.PerformanceNavigationTiming?(h=l.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function La(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Eo(h){return h.h?1:h.g?h.g.size:0}function Da(h,C){return h.h?h.h==C:h.g?h.g.has(C):!1}function ps(h,C){h.g?h.g.add(C):h.h=C}function wo(h,C){h.h&&h.h==C?h.h=null:h.g&&h.g.has(C)&&h.g.delete(C)}ds.prototype.cancel=function(){if(this.i=In(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function In(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let C=h.i;for(const U of h.g.values())C=C.concat(U.G);return C}return y(h.i)}var Tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rn(h,C){if(h){h=h.split("&");for(let U=0;U<h.length;U++){const H=h[U].indexOf("=");let ue,he=null;H>=0?(ue=h[U].substring(0,H),he=h[U].substring(H+1)):ue=h[U],C(ue,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function gr(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;h instanceof gr?(this.l=h.l,To(this,h.j),this.o=h.o,this.g=h.g,yr(this,h.u),this.h=h.h,Ii(this,za(h.i)),this.m=h.m):h&&(C=String(h).match(Tu))?(this.l=!1,To(this,C[1]||"",!0),this.o=bo(C[2]||""),this.g=bo(C[3]||"",!0),yr(this,C[4]),this.h=bo(C[5]||"",!0),Ii(this,C[6]||"",!0),this.m=bo(C[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}gr.prototype.toString=function(){const h=[];var C=this.j;C&&h.push(So(C,ja,!0),":");var U=this.g;return(U||C=="file")&&(h.push("//"),(C=this.o)&&h.push(So(C,ja,!0),"@"),h.push(mr(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&h.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&h.push("/"),h.push(So(U,U.charAt(0)=="/"?Ao:Va,!0))),(U=this.i.toString())&&h.push("?",U),(U=this.m)&&h.push("#",So(U,Ua)),h.join("")},gr.prototype.resolve=function(h){const C=Un(this);let U=!!h.j;U?To(C,h.j):U=!!h.o,U?C.o=h.o:U=!!h.g,U?C.g=h.g:U=h.u!=null;var H=h.h;if(U)yr(C,h.u);else if(U=!!h.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var ue=C.h.lastIndexOf("/");ue!=-1&&(H=C.h.slice(0,ue+1)+H)}if(ue=H,ue==".."||ue==".")H="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){H=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const he=[];for(let Se=0;Se<ue.length;){const $e=ue[Se++];$e=="."?H&&Se==ue.length&&he.push(""):$e==".."?((he.length>1||he.length==1&&he[0]!="")&&he.pop(),H&&Se==ue.length&&he.push("")):(he.push($e),H=!0)}H=he.join("/")}else H=ue}return U?C.h=H:U=h.i.toString()!=="",U?Ii(C,za(h.i)):U=!!h.m,U&&(C.m=h.m),C};function Un(h){return new gr(h)}function To(h,C,U){h.j=U?bo(C,!0):C,h.j&&(h.j=h.j.replace(/:$/,""))}function yr(h,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);h.u=C}else h.u=null}function Ii(h,C,U){C instanceof Ze?(h.i=C,gs(h.i,h.l)):(U||(C=So(C,ih)),h.i=new Ze(C,h.l))}function ot(h,C,U){h.i.set(C,U)}function Kr(h){return ot(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function bo(h,C){return h?C?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function So(h,C,U){return typeof h=="string"?(h=encodeURI(h).replace(C,Ma),U&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Ma(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ja=/[#\/\?@]/g,Va=/[#\?:]/g,Ao=/[#\?]/g,ih=/[#\?@]/g,Ua=/#/g;function Ze(h,C){this.h=this.g=null,this.i=h||null,this.j=!!C}function vr(h){h.g||(h.g=new Map,h.h=0,h.i&&Rn(h.i,function(C,U){h.add(decodeURIComponent(C.replace(/\+/g," ")),U)}))}n=Ze.prototype,n.add=function(h,C){vr(this),this.i=null,h=_r(this,h);let U=this.g.get(h);return U||this.g.set(h,U=[]),U.push(C),this.h+=1,this};function Fa(h,C){vr(h),C=_r(h,C),h.g.has(C)&&(h.i=null,h.h-=h.g.get(C).length,h.g.delete(C))}function ms(h,C){return vr(h),C=_r(h,C),h.g.has(C)}n.forEach=function(h,C){vr(this),this.g.forEach(function(U,H){U.forEach(function(ue){h.call(C,ue,H,this)},this)},this)};function qa(h,C){vr(h);let U=[];if(typeof C=="string")ms(h,C)&&(U=U.concat(h.g.get(_r(h,C))));else for(h=Array.from(h.g.values()),C=0;C<h.length;C++)U=U.concat(h[C]);return U}n.set=function(h,C){return vr(this),this.i=null,h=_r(this,h),ms(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[C]),this.h+=1,this},n.get=function(h,C){return h?(h=qa(this,h),h.length>0?String(h[0]):C):C};function Ba(h,C,U){Fa(h,C),U.length>0&&(h.i=null,h.g.set(_r(h,C),y(U)),h.h+=U.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],C=Array.from(this.g.keys());for(let H=0;H<C.length;H++){var U=C[H];const ue=mr(U);U=qa(this,U);for(let he=0;he<U.length;he++){let Se=ue;U[he]!==""&&(Se+="="+mr(U[he])),h.push(Se)}}return this.i=h.join("&")};function za(h){const C=new Ze;return C.i=h.i,h.g&&(C.g=new Map(h.g),C.h=h.h),C}function _r(h,C){return C=String(C),h.j&&(C=C.toLowerCase()),C}function gs(h,C){C&&!h.j&&(vr(h),h.i=null,h.g.forEach(function(U,H){const ue=H.toLowerCase();H!=ue&&(Fa(this,H),Ba(this,ue,U))},h)),h.j=C}function Er(h,C){const U=new bi;if(l.Image){const H=new Image;H.onload=v(Qt,U,"TestLoadImage: loaded",!0,C,H),H.onerror=v(Qt,U,"TestLoadImage: error",!1,C,H),H.onabort=v(Qt,U,"TestLoadImage: abort",!1,C,H),H.ontimeout=v(Qt,U,"TestLoadImage: timeout",!1,C,H),l.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=h}else C(!1)}function wr(h,C){const U=new bi,H=new AbortController,ue=setTimeout(()=>{H.abort(),Qt(U,"TestPingServer: timeout",!1,C)},1e4);fetch(h,{signal:H.signal}).then(he=>{clearTimeout(ue),he.ok?Qt(U,"TestPingServer: ok",!0,C):Qt(U,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(ue),Qt(U,"TestPingServer: error",!1,C)})}function Qt(h,C,U,H,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),H(U)}catch{}}function Io(){this.g=new lt}function Gr(h){this.i=h.Sb||null,this.h=h.ab||!1}m(Gr,Gt),Gr.prototype.g=function(){return new kn(this.i,this.h)};function kn(h,C){de.call(this),this.H=h,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(kn,de),n=kn.prototype,n.open=function(h,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=C,this.readyState=1,er(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(C.body=h),(this.H||l).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ri(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bu(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function bu(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var C=h.value?h.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!h.done}))&&(this.response=this.responseText+=C)}h.done?Ri(this):er(this),this.readyState==3&&bu(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Ri(this))},n.Na=function(h){this.g&&(this.response=h,Ri(this))},n.ga=function(){this.g&&Ri(this)};function Ri(h){h.readyState=4,h.l=null,h.j=null,h.B=null,er(h)}n.setRequestHeader=function(h,C){this.A.append(h,C)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],C=this.h.entries();for(var U=C.next();!U.done;)U=U.value,h.push(U[0]+": "+U[1]),U=C.next();return h.join(`\r
`)};function er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(kn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Su(h){let C="";return Y(h,function(U,H){C+=H,C+=":",C+=U,C+=`\r
`}),C}function ys(h,C,U){e:{for(H in U){var H=!1;break e}H=!0}H||(U=Su(U),typeof h=="string"?U!=null&&mr(U):ot(h,C,U))}function ft(h){de.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(ft,de);var Au=/^https?$/i,oh=["POST","PUT"];n=ft.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,C,U,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);C=C?C.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gu.g(),this.g.onreadystatechange=d(p(this.Ca,this));try{this.B=!0,this.g.open(C,String(h),!0),this.B=!1}catch(he){ki(this,he);return}if(h=U||"",U=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ue in H)U.set(ue,H[ue]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const he of H.keys())U.set(he,H.get(he));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(U.keys()).find(he=>he.toLowerCase()=="content-type"),ue=l.FormData&&h instanceof l.FormData,!(Array.prototype.indexOf.call(oh,C,void 0)>=0)||H||ue||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[he,Se]of U)this.g.setRequestHeader(he,Se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(he){ki(this,he)}};function ki(h,C){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=C,h.o=5,Pi(h),Yr(h)}function Pi(h){h.A||(h.A=!0,we(h,"complete"),we(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,we(this,"complete"),we(this,"abort"),Yr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),ft.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Qr(this):this.Xa())},n.Xa=function(){Qr(this)};function Qr(h){if(h.h&&typeof a<"u"){if(h.v&&Tr(h)==4)setTimeout(h.Ca.bind(h),0);else if(we(h,"readystatechange"),Tr(h)==4){h.h=!1;try{const he=h.ca();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var U;if(!(U=C)){var H;if(H=he===0){let Se=String(h.D).match(Tu)[1]||null;!Se&&l.self&&l.self.location&&(Se=l.self.location.protocol.slice(0,-1)),H=!Au.test(Se?Se.toLowerCase():"")}U=H}if(U)we(h,"complete"),we(h,"success");else{h.o=6;try{var ue=Tr(h)>2?h.g.statusText:""}catch{ue=""}h.l=ue+" ["+h.ca()+"]",Pi(h)}}finally{Yr(h)}}}}function Yr(h,C){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const U=h.g;h.g=null,C||we(h,"ready");try{U.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Tr(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Tr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var C=this.g.responseText;return h&&C.indexOf(h)==0&&(C=C.substring(h.length)),as(C)}};function Iu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Ha(h){const C={};h=(h.g&&Tr(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<h.length;H++){if(N(h[H]))continue;var U=fs(h[H]);const ue=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const he=C[ue]||[];C[ue]=he,he.push(U)}W(C,function(H){return H.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function br(h,C,U){return U&&U.internalChannelParams&&U.internalChannelParams[h]||C}function vs(h){this.za=0,this.i=[],this.j=new bi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=br("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=br("baseRetryDelayMs",5e3,h),this.Za=br("retryDelaySeedMs",1e4,h),this.Ta=br("forwardChannelMaxRetries",2,h),this.va=br("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new ds(h&&h.concurrentRequestLimit),this.Ba=new Io,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=vs.prototype,n.ka=8,n.I=1,n.connect=function(h,C,U,H){It(0),this.W=h,this.H=C||{},U&&H!==void 0&&(this.H.OSID=U,this.H.OAID=H),this.F=this.X,this.J=Wa(this,null,this.W),Xr(this)};function _s(h){if(Es(h),h.I==3){var C=h.V++,U=Un(h.J);if(ot(U,"SID",h.M),ot(U,"RID",C),ot(U,"TYPE","terminate"),Sr(h,U),C=new Vn(h,h.j,C),C.M=2,C.A=Kr(Un(U)),U=!1,l.navigator&&l.navigator.sendBeacon)try{U=l.navigator.sendBeacon(C.A.toString(),"")}catch{}!U&&l.Image&&(new Image().src=C.A,U=!0),U||(C.g=ku(C.j,null),C.g.ea(C.A)),C.F=Date.now(),vo(C)}Po(h)}function Pn(h){h.g&&(ko(h),h.g.cancel(),h.g=null)}function Es(h){Pn(h),h.v&&(l.clearTimeout(h.v),h.v=null),ws(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&l.clearTimeout(h.m),h.m=null)}function Xr(h){if(!La(h.h)&&!h.m){h.m=!0;var C=h.Ea;D||R(),F||(D(),F=!0),P.add(C,h),h.D=0}}function Ru(h,C){return Eo(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=C.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(p(h.Ea,h,C),bs(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const ue=new Vn(this,this.j,h);let he=this.o;if(this.U&&(he?(he=V(he),K(he,this.U)):he=this.U),this.u!==null||this.R||(ue.J=he,he=null),this.S)e:{for(var C=0,U=0;U<this.i.length;U++){t:{var H=this.i[U];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(C+=H,C>4096){C=U;break e}if(C===4096||U===this.i.length-1){C=U+1;break e}}C=1e3}else C=1e3;C=$a(this,ue,C),U=Un(this.J),ot(U,"RID",h),ot(U,"CVER",22),this.G&&ot(U,"X-HTTP-Session-Id",this.G),Sr(this,U),he&&(this.R?C="headers="+mr(Su(he))+"&"+C:this.u&&ys(U,this.u,he)),ps(this.h,ue),this.Ra&&ot(U,"TYPE","init"),this.S?(ot(U,"$req",C),ot(U,"SID","null"),ue.U=!0,Zn(ue,U,null)):Zn(ue,U,C),this.I=2}}else this.I==3&&(h?Ro(this,h):this.i.length==0||La(this.h)||Ro(this))};function Ro(h,C){var U;C?U=C.l:U=h.V++;const H=Un(h.J);ot(H,"SID",h.M),ot(H,"RID",U),ot(H,"AID",h.K),Sr(h,H),h.u&&h.o&&ys(H,h.u,h.o),U=new Vn(h,h.j,U,h.D+1),h.u===null&&(U.J=h.o),C&&(h.i=C.G.concat(h.i)),C=$a(h,U,1e3),U.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ps(h.h,U),Zn(U,H,C)}function Sr(h,C){h.H&&Y(h.H,function(U,H){ot(C,H,U)}),h.l&&Y({},function(U,H){ot(C,H,U)})}function $a(h,C,U){U=Math.min(h.i.length,U);const H=h.l?p(h.l.Ka,h.l,h):null;e:{var ue=h.i;let $e=-1;for(;;){const Pt=["count="+U];$e==-1?U>0?($e=ue[0].g,Pt.push("ofs="+$e)):$e=0:Pt.push("ofs="+$e);let at=!0;for(let Nt=0;Nt<U;Nt++){var he=ue[Nt].g;const Cn=ue[Nt].map;if(he-=$e,he<0)$e=Math.max(0,ue[Nt].g-100),at=!1;else try{he="req"+he+"_"||"";try{var Se=Cn instanceof Map?Cn:Object.entries(Cn);for(const[Jr,Ir]of Se){let Rr=Ir;c(Ir)&&(Rr=rt(Ir)),Pt.push(he+Jr+"="+encodeURIComponent(Rr))}}catch(Jr){throw Pt.push(he+"type="+encodeURIComponent("_badmap")),Jr}}catch{H&&H(Cn)}}if(at){Se=Pt.join("&");break e}}Se=void 0}return h=h.i.splice(0,U),C.G=h,Se}function rn(h){if(!h.g&&!h.v){h.Y=1;var C=h.Da;D||R(),F||(D(),F=!0),P.add(C,h),h.A=0}}function Ar(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(p(h.Da,h),bs(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,xi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Pn(this),xi(this))};function ko(h){h.B!=null&&(l.clearTimeout(h.B),h.B=null)}function xi(h){h.g=new Vn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var C=Un(h.na);ot(C,"RID","rpc"),ot(C,"SID",h.M),ot(C,"AID",h.K),ot(C,"CI",h.F?"0":"1"),!h.F&&h.ia&&ot(C,"TO",h.ia),ot(C,"TYPE","xmlhttp"),Sr(h,C),h.u&&h.o&&ys(C,h.u,h.o),h.O&&(h.g.H=h.O);var U=h.g;h=h.ba,U.M=1,U.A=Kr(Un(C)),U.u=null,U.R=!0,Oa(U,h)}n.Va=function(){this.C!=null&&(this.C=null,Pn(this),Ar(this),It(19))};function ws(h){h.C!=null&&(l.clearTimeout(h.C),h.C=null)}function Ts(h,C){var U=null;if(h.g==C){ws(h),ko(h),h.g=null;var H=2}else if(Da(h.h,C))U=C.G,wo(h.h,C),H=1;else return;if(h.I!=0){if(C.o)if(H==1){U=C.u?C.u.length:0,C=Date.now()-C.F;var ue=h.D;H=wi(),we(H,new xa(H,U)),Xr(h)}else rn(h);else if(ue=C.m,ue==3||ue==0&&C.X>0||!(H==1&&Ru(h,C)||H==2&&Ar(h)))switch(U&&U.length>0&&(C=h.h,C.i=C.i.concat(U)),ue){case 1:xn(h,5);break;case 4:xn(h,10);break;case 3:xn(h,6);break;default:xn(h,2)}}}function bs(h,C){let U=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(U*=2),U*C}function xn(h,C){if(h.j.info("Error code "+C),C==2){var U=p(h.bb,h),H=h.Ua;const ue=!H;H=new gr(H||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||To(H,"https"),Kr(H),ue?Er(H.toString(),U):wr(H.toString(),U)}else It(2);h.I=0,h.l&&h.l.pa(C),Po(h),Es(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Po(h){if(h.I=0,h.ja=[],h.l){const C=In(h.h);(C.length!=0||h.i.length!=0)&&(S(h.ja,C),S(h.ja,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.oa()}}function Wa(h,C,U){var H=U instanceof gr?Un(U):new gr(U);if(H.g!="")C&&(H.g=C+"."+H.g),yr(H,H.u);else{var ue=l.location;H=ue.protocol,C=C?C+"."+ue.hostname:ue.hostname,ue=+ue.port;const he=new gr(null);H&&To(he,H),C&&(he.g=C),ue&&yr(he,ue),U&&(he.h=U),H=he}return U=h.G,C=h.wa,U&&C&&ot(H,U,C),ot(H,"VER",h.ka),Sr(h,H),H}function ku(h,C,U){if(C&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=h.Aa&&!h.ma?new ft(new Gr({ab:U})):new ft(h.ma),C.Fa(h.L),C}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}n=Pu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ss(){}Ss.prototype.g=function(h,C){return new Yt(h,C)};function Yt(h,C){de.call(this),this.g=new vs(C),this.l=h,this.h=C&&C.messageUrlParams||null,h=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(h?h["X-WebChannel-Content-Type"]=C.messageContentType:h={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(h?h["X-WebChannel-Client-Profile"]=C.sa:h={"X-WebChannel-Client-Profile":C.sa}),this.g.U=h,(h=C&&C.Qb)&&!N(h)&&(this.g.u=h),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!N(C)&&(this.g.G=C,h=this.h,h!==null&&C in h&&(h=this.h,C in h&&delete h[C])),this.j=new Ci(this)}m(Yt,de),Yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){_s(this.g)},Yt.prototype.o=function(h){var C=this.g;if(typeof h=="string"){var U={};U.__data__=h,h=U}else this.v&&(U={},U.__data__=rt(h),h=U);C.i.push(new rh(C.Ya++,h)),C.I==3&&Xr(C)},Yt.prototype.N=function(){this.g.l=null,delete this.j,_s(this.g),delete this.g,Yt.Z.N.call(this)};function xu(h){ls.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var C=h.__sm__;if(C){e:{for(const U in C){h=U;break e}h=void 0}(this.i=h)&&(h=this.i,C=C!==null&&h in C?C[h]:void 0),this.data=C}else this.data=h}m(xu,ls);function Cu(){Pa.call(this),this.status=1}m(Cu,Pa);function Ci(h){this.g=h}m(Ci,Pu),Ci.prototype.ra=function(){we(this.g,"a")},Ci.prototype.qa=function(h){we(this.g,new xu(h))},Ci.prototype.pa=function(h){we(this.g,new Cu)},Ci.prototype.oa=function(){we(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,ST=function(){return new Ss},bT=function(){return wi()},TT=Jn,qm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,Vc=Si,Ai.COMPLETE="complete",wT=Ai,hu.EventType=Ei,Ei.OPEN="a",Ei.CLOSE="b",Ei.ERROR="c",Ei.MESSAGE="d",de.prototype.listen=de.prototype.J,Il=hu,ft.prototype.listenOnce=ft.prototype.K,ft.prototype.getLastError=ft.prototype.Ha,ft.prototype.getLastErrorCode=ft.prototype.ya,ft.prototype.getStatus=ft.prototype.ca,ft.prototype.getResponseJson=ft.prototype.La,ft.prototype.getResponseText=ft.prototype.la,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Fa,ET=ft}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let wa="12.8.0";function xP(n){wa=n}const Xo=new Sg("@firebase/firestore");function Gs(){return Xo.logLevel}function Pe(n,...e){if(Xo.logLevel<=Ye.DEBUG){const t=e.map(Rg);Xo.debug(`Firestore (${wa}): ${n}`,...t)}}function mi(n,...e){if(Xo.logLevel<=Ye.ERROR){const t=e.map(Rg);Xo.error(`Firestore (${wa}): ${n}`,...t)}}function aa(n,...e){if(Xo.logLevel<=Ye.WARN){const t=e.map(Rg);Xo.warn(`Firestore (${wa}): ${n}`,...t)}}function Rg(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Fe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,AT(n,r,t)}function AT(n,e,t){let r=`FIRESTORE (${wa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw mi(r),new Error(r)}function st(n,e,t,r){let o="Unexpected state";typeof t=="string"?o=t:r=t,n||AT(e,o,r)}function We(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ci{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class IT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(cn.UNAUTHENTICATED)))}shutdown(){}}class OP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class NP{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0,42304);let r=this.i;const o=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ci,e.enqueueRetryable((()=>o(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await o(this.currentUser)}))},c=f=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ci)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new IT(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class LP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class DP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new LP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){st(this.o===void 0,3512);const r=a=>{a.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Pe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const o=a=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?o(a):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(st(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new y1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class kg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=jP(40);for(let a=0;a<o.length;++a)r.length<20&&o[a]<t&&(r+=e.charAt(o[a]%62))}return r}}function Xe(n,e){return n<e?-1:n>e?1:0}function Bm(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const o=n.charAt(r),a=e.charAt(r);if(o!==a)return Ud(o)===Ud(a)?Xe(o,a):Ud(o)?1:-1}return Xe(n.length,e.length)}const VP=55296,UP=57343;function Ud(n){const e=n.charCodeAt(0);return e>=VP&&e<=UP}function la(n,e,t){return n.length===e.length&&n.every(((r,o)=>t(r,e[o])))}const v1="__name__";class Or{constructor(e,t,r){t===void 0?t=0:t>e.length&&Fe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Fe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const a=Or.compareSegments(e.get(o),t.get(o));if(a!==0)return a}return Xe(e.length,t.length)}static compareSegments(e,t){const r=Or.isNumericId(e),o=Or.isNumericId(t);return r&&!o?-1:!r&&o?1:r&&o?Or.extractNumericId(e).compare(Or.extractNumericId(t)):Bm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return to.fromString(e.substring(4,e.length-2))}}class dt extends Or{construct(e,t,r){return new dt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((o=>o.length>0)))}return new dt(t)}static emptyPath(){return new dt([])}}const FP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Or{construct(e,t,r){return new en(e,t,r)}static isValidIdentifier(e){return FP.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v1}static keyField(){return new en([v1])}static fromServerFormat(e){const t=[];let r="",o=0;const a=()=>{if(r.length===0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const c=e[o];if(c==="\\"){if(o+1===e.length)throw new Ie(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,o+=2}else c==="`"?(l=!l,o++):c!=="."||l?(r+=c,o++):(a(),o++)}if(a(),l)throw new Ie(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}class Le{constructor(e){this.path=e}static fromPath(e){return new Le(dt.fromString(e))}static fromName(e){return new Le(dt.fromString(e).popFirst(5))}static empty(){return new Le(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Le(new dt(e.slice()))}}function RT(n,e,t){if(!t)throw new Ie(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qP(n,e,t,r){if(e===!0&&r===!0)throw new Ie(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _1(n){if(!Le.isDocumentKey(n))throw new Ie(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function E1(n){if(Le.isDocumentKey(n))throw new Ie(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kT(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function If(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe(12329,{type:typeof n})}function fr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=If(n);throw new Ie(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Vt(n,e){const t={typeString:n};return e&&(t.value=e),t}function nu(n,e){if(!kT(n))throw new Ie(ge.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const o=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const l=n[r];if(o&&typeof l!==o){t=`JSON field '${r}' must be a ${o}.`;break}if(a!==void 0&&l!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new Ie(ge.INVALID_ARGUMENT,t);return!0}const w1=-62135596800,T1=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*T1);return new yt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<w1)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T1}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Vt("string",yt._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new yt(0,0))}static max(){return new ze(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ql=-1;function BP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=ze.fromTimestamp(r===1e9?new yt(t+1,0):new yt(t,r));return new oo(o,Le.empty(),e)}function zP(n){return new oo(n.readTime,n.key,ql)}class oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oo(ze.min(),Le.empty(),ql)}static max(){return new oo(ze.max(),Le.empty(),ql)}}function HP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Le.comparator(n.documentKey,e.documentKey),t!==0?t:Xe(n.largestBatchId,e.largestBatchId))}const $P="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ta(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==$P)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye(((r,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(t){return ye.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ye.reject(t)}static resolve(e){return new ye(((t,r)=>{t(e)}))}static reject(e){return new ye(((t,r)=>{r(e)}))}static waitFor(e){return new ye(((t,r)=>{let o=0,a=0,l=!1;e.forEach((c=>{++o,c.next((()=>{++a,l&&a===o&&t()}),(f=>r(f)))})),l=!0,a===o&&t()}))}static or(e){let t=ye.resolve(!1);for(const r of e)t=t.next((o=>o?ye.resolve(o):r()));return t}static forEach(e,t){const r=[];return e.forEach(((o,a)=>{r.push(t.call(this,o,a))})),this.waitFor(r)}static mapArray(e,t){return new ye(((r,o)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((v=>{l[p]=v,++c,c===a&&r(l)}),(v=>o(v)))}}))}static doWhile(e,t){return new ye(((r,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):r()};a()}))}}function KP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ba(n){return n.name==="IndexedDbTransactionError"}class Rf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rf.ce=-1;const Pg=-1;function kf(n){return n==null}function nf(n){return n===0&&1/n==-1/0}function GP(n){return typeof n=="number"&&Number.isInteger(n)&&!nf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const PT="";function QP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=b1(e)),e=YP(n.get(t),e);return b1(e)}function YP(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case PT:t+="";break;default:t+=a}}return t}function b1(n){return n+PT+""}function S1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ho(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class St{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new St(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kc(this.root,e,this.comparator,!0)}}class kc{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,o,a){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=o??Zt.EMPTY,this.right=a??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,a){return new Zt(e??this.key,t??this.value,r??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const a=r(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,r),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Fe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Fe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Fe(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe(57766)}get value(){throw Fe(16141)}get color(){throw Fe(16727)}get left(){throw Fe(29726)}get right(){throw Fe(36894)}copy(e,t,r,o,a){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new A1(this.data.getIterator())}getIteratorFrom(e){return new A1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class A1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Dn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Dn([])}unionWith(e){let t=new Bt(en.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Dn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new CT("Invalid base64 string: "+a):a}})(e);return new tn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let l=0;l<o.length;++l)a+=String.fromCharCode(o[l]);return a})(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const XP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(n){if(st(!!n,39018),typeof n=="string"){let e=0;const t=XP.exec(n);if(st(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ao(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}const OT="server_timestamp",NT="__type__",LT="__previous_value__",DT="__local_write_time__";function xg(n){return(n?.mapValue?.fields||{})[NT]?.stringValue===OT}function Pf(n){const e=n.mapValue.fields[LT];return xg(e)?Pf(e):e}function Bl(n){const e=so(n.mapValue.fields[DT].timestampValue);return new yt(e.seconds,e.nanos)}class JP{constructor(e,t,r,o,a,l,c,f,p,v,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=v,this.apiKey=m}}const rf="(default)";class zl{constructor(e,t){this.projectId=e,this.database=t||rf}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}function ZP(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ie(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(n.options.projectId,e)}const MT="__type__",ex="__max__",Pc={mapValue:{}},jT="__vector__",of="value";function lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?xg(n)?4:nx(n)?9007199254740991:tx(n)?10:11:Fe(28295,{value:n})}function Fr(n,e){if(n===e)return!0;const t=lo(n);if(t!==lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bl(n).isEqual(Bl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const l=so(o.timestampValue),c=so(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,a){return ao(o.bytesValue).isEqual(ao(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,a){return Ct(o.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)})(n,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return Ct(o.integerValue)===Ct(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const l=Ct(o.doubleValue),c=Ct(a.doubleValue);return l===c?nf(l)===nf(c):isNaN(l)&&isNaN(c)}return!1})(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return(function(o,a){const l=o.mapValue.fields||{},c=a.mapValue.fields||{};if(S1(l)!==S1(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Fr(l[f],c[f])))return!1;return!0})(n,e);default:return Fe(52216,{left:n})}}function Hl(n,e){return(n.values||[]).find((t=>Fr(t,e)))!==void 0}function ua(n,e){if(n===e)return 0;const t=lo(n),r=lo(e);if(t!==r)return Xe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(n.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=Ct(a.integerValue||a.doubleValue),f=Ct(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return I1(n.timestampValue,e.timestampValue);case 4:return I1(Bl(n),Bl(e));case 5:return Bm(n.stringValue,e.stringValue);case 6:return(function(a,l){const c=ao(a),f=ao(l);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),f=l.split("/");for(let p=0;p<c.length&&p<f.length;p++){const v=Xe(c[p],f[p]);if(v!==0)return v}return Xe(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Xe(Ct(a.latitude),Ct(l.latitude));return c!==0?c:Xe(Ct(a.longitude),Ct(l.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return R1(n.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},f=l.fields||{},p=c[of]?.arrayValue,v=f[of]?.arrayValue,m=Xe(p?.values?.length||0,v?.values?.length||0);return m!==0?m:R1(p,v)})(n.mapValue,e.mapValue);case 11:return(function(a,l){if(a===Pc.mapValue&&l===Pc.mapValue)return 0;if(a===Pc.mapValue)return 1;if(l===Pc.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),p=l.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let m=0;m<f.length&&m<v.length;++m){const d=Bm(f[m],v[m]);if(d!==0)return d;const y=ua(c[f[m]],p[v[m]]);if(y!==0)return y}return Xe(f.length,v.length)})(n.mapValue,e.mapValue);default:throw Fe(23264,{he:t})}}function I1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Xe(n,e);const t=so(n),r=so(e),o=Xe(t.seconds,r.seconds);return o!==0?o:Xe(t.nanos,r.nanos)}function R1(n,e){const t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){const a=ua(t[o],r[o]);if(a)return a}return Xe(t.length,r.length)}function ca(n){return zm(n)}function zm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=so(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return ao(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Le.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",o=!0;for(const a of t.values||[])o?o=!1:r+=",",r+=zm(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const l of r)a?a=!1:o+=",",o+=`${l}:${zm(t.fields[l])}`;return o+"}"})(n.mapValue):Fe(61005,{value:n})}function Uc(n){switch(lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(n);return e?16+Uc(e):16;case 5:return 2*n.stringValue.length;case 6:return ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,a)=>o+Uc(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let o=0;return ho(r.fields,((a,l)=>{o+=a.length+Uc(l)})),o})(n.mapValue);default:throw Fe(13486,{value:n})}}function k1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hm(n){return!!n&&"integerValue"in n}function Cg(n){return!!n&&"arrayValue"in n}function P1(n){return!!n&&"nullValue"in n}function x1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fc(n){return!!n&&"mapValue"in n}function tx(n){return(n?.mapValue?.fields||{})[MT]?.stringValue===jT}function Nl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return ho(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Nl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return{...n}}function nx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ex}class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=en.emptyPath(),r={},o=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,o),r={},o=[],t=c.popLast()}l?r[c.lastSegment()]=Nl(l):o.push(c.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,o)}delete(e){const t=this.field(e.popLast());Fc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ho(t,((o,a)=>e[o]=a));for(const o of r)delete e[o]}clone(){return new An(Nl(this.value))}}function VT(n){const e=[];return ho(n.fields,((t,r)=>{const o=new en([t]);if(Fc(r)){const a=VT(r.mapValue).fields;if(a.length===0)e.push(o);else for(const l of a)e.push(o.child(l))}else e.push(o)})),new Dn(e)}class fn{constructor(e,t,r,o,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new fn(e,0,ze.min(),ze.min(),ze.min(),An.empty(),0)}static newFoundDocument(e,t,r,o){return new fn(e,1,t,ze.min(),r,o,0)}static newNoDocument(e,t){return new fn(e,2,t,ze.min(),ze.min(),An.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,ze.min(),ze.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(e,t){this.position=e,this.inclusive=t}}function C1(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const a=e[o],l=n.position[o];if(a.field.isKeyField()?r=Le.comparator(Le.fromName(l.referenceValue),t.key):r=ua(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function O1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Fr(n.position[t],e.position[t]))return!1;return!0}class $l{constructor(e,t="asc"){this.field=e,this.dir=t}}function rx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class UT{}class jt extends UT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ox(e,t,r):t==="array-contains"?new lx(e,r):t==="in"?new ux(e,r):t==="not-in"?new cx(e,r):t==="array-contains-any"?new fx(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new sx(e,r):new ax(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ua(t,this.value)):t!==null&&lo(this.value)===lo(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hr extends UT{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new hr(e,t)}matches(e){return FT(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FT(n){return n.op==="and"}function qT(n){return ix(n)&&FT(n)}function ix(n){for(const e of n.filters)if(e instanceof hr)return!1;return!0}function $m(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(qT(n))return n.filters.map((e=>$m(e))).join(",");{const e=n.filters.map((t=>$m(t))).join(",");return`${n.op}(${e})`}}function BT(n,e){return n instanceof jt?(function(r,o){return o instanceof jt&&r.op===o.op&&r.field.isEqual(o.field)&&Fr(r.value,o.value)})(n,e):n instanceof hr?(function(r,o){return o instanceof hr&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((a,l,c)=>a&&BT(l,o.filters[c])),!0):!1})(n,e):void Fe(19439)}function zT(n){return n instanceof jt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`})(n):n instanceof hr?(function(t){return t.op.toString()+" {"+t.getFilters().map(zT).join(" ,")+"}"})(n):"Filter"}class ox extends jt{constructor(e,t,r){super(e,t,r),this.key=Le.fromName(r.referenceValue)}matches(e){const t=Le.comparator(e.key,this.key);return this.matchesComparison(t)}}class sx extends jt{constructor(e,t){super(e,"in",t),this.keys=HT("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ax extends jt{constructor(e,t){super(e,"not-in",t),this.keys=HT("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function HT(n,e){return(e.arrayValue?.values||[]).map((t=>Le.fromName(t.referenceValue)))}class lx extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Cg(t)&&Hl(t.arrayValue,this.value)}}class ux extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hl(this.value.arrayValue,t)}}class cx extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hl(this.value.arrayValue,t)}}class fx extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Hl(this.value.arrayValue,r)))}}class hx{constructor(e,t=null,r=[],o=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function N1(n,e=null,t=[],r=[],o=null,a=null,l=null){return new hx(n,e,t,r,o,a,l)}function Og(n){const e=We(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>$m(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),kf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ca(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ca(r))).join(",")),e.Te=t}return e.Te}function Ng(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!BT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!O1(n.startAt,e.startAt)&&O1(n.endAt,e.endAt)}function Wm(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Sa{constructor(e,t=null,r=[],o=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function dx(n,e,t,r,o,a,l,c){return new Sa(n,e,t,r,o,a,l,c)}function Lg(n){return new Sa(n)}function L1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function px(n){return Le.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function $T(n){return n.collectionGroup!==null}function Ll(n){const e=We(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Bt(en.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(c=c.add(p.field))}))})),c})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $l(a,r))})),t.has(en.keyField().canonicalString())||e.Ie.push(new $l(en.keyField(),r))}return e.Ie}function Dr(n){const e=We(n);return e.Ee||(e.Ee=mx(e,Ll(n))),e.Ee}function mx(n,e){if(n.limitType==="F")return N1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new $l(o.field,a)}));const t=n.endAt?new sf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new sf(n.startAt.position,n.startAt.inclusive):null;return N1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Km(n,e){const t=n.filters.concat([e]);return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gx(n,e){const t=n.explicitOrderBy.concat([e]);return new Sa(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function af(n,e,t){return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xf(n,e){return Ng(Dr(n),Dr(e))&&n.limitType===e.limitType}function WT(n){return`${Og(Dr(n))}|lt:${n.limitType}`}function Qs(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((o=>zT(o))).join(", ")}]`),kf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((o=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(o))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((o=>ca(o))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((o=>ca(o))).join(",")),`Target(${r})`})(Dr(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&(function(r,o){const a=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Le.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,o){for(const a of Ll(r))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,o){for(const a of r.filters)if(!a.matches(o))return!1;return!0})(n,e)&&(function(r,o){return!(r.startAt&&!(function(l,c,f){const p=C1(l,c,f);return l.inclusive?p<=0:p<0})(r.startAt,Ll(r),o)||r.endAt&&!(function(l,c,f){const p=C1(l,c,f);return l.inclusive?p>=0:p>0})(r.endAt,Ll(r),o))})(n,e)}function yx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KT(n){return(e,t)=>{let r=!1;for(const o of Ll(n)){const a=vx(o,e,t);if(a!==0)return a;r=r||o.field.isKeyField()}return 0}}function vx(n,e,t){const r=n.field.isKeyField()?Le.comparator(e.key,t.key):(function(a,l,c){const f=l.data.field(a),p=c.data.field(a);return f!==null&&p!==null?ua(f,p):Fe(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Fe(19790,{direction:n.dir})}}class ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[o,a]of r)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,((t,r)=>{for(const[o,a]of r)e(o,a)}))}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}const _x=new St(Le.comparator);function gi(){return _x}const GT=new St(Le.comparator);function Rl(...n){let e=GT;for(const t of n)e=e.insert(t.key,t);return e}function QT(n){let e=GT;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function $o(){return Dl()}function YT(){return Dl()}function Dl(){return new ns((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Ex=new St(Le.comparator),wx=new Bt(Le.comparator);function Je(...n){let e=wx;for(const t of n)e=e.add(t);return e}const Tx=new Bt(Xe);function bx(){return Tx}function Dg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nf(e)?"-0":e}}function XT(n){return{integerValue:""+n}}function Sx(n,e){return GP(e)?XT(e):Dg(n,e)}class Of{constructor(){this._=void 0}}function Ax(n,e,t){return n instanceof Wl?(function(o,a){const l={fields:{[NT]:{stringValue:OT},[DT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&xg(a)&&(a=Pf(a)),a&&(l.fields[LT]=a),{mapValue:l}})(t,e):n instanceof Kl?ZT(n,e):n instanceof Gl?eb(n,e):(function(o,a){const l=JT(o,a),c=D1(l)+D1(o.Ae);return Hm(l)&&Hm(o.Ae)?XT(c):Dg(o.serializer,c)})(n,e)}function Ix(n,e,t){return n instanceof Kl?ZT(n,e):n instanceof Gl?eb(n,e):t}function JT(n,e){return n instanceof lf?(function(r){return Hm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Wl extends Of{}class Kl extends Of{constructor(e){super(),this.elements=e}}function ZT(n,e){const t=tb(e);for(const r of n.elements)t.some((o=>Fr(o,r)))||t.push(r);return{arrayValue:{values:t}}}class Gl extends Of{constructor(e){super(),this.elements=e}}function eb(n,e){let t=tb(e);for(const r of n.elements)t=t.filter((o=>!Fr(o,r)));return{arrayValue:{values:t}}}class lf extends Of{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function D1(n){return Ct(n.integerValue||n.doubleValue)}function tb(n){return Cg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rx{constructor(e,t){this.field=e,this.transform=t}}function kx(n,e){return n.field.isEqual(e.field)&&(function(r,o){return r instanceof Kl&&o instanceof Kl||r instanceof Gl&&o instanceof Gl?la(r.elements,o.elements,Fr):r instanceof lf&&o instanceof lf?Fr(r.Ae,o.Ae):r instanceof Wl&&o instanceof Wl})(n.transform,e.transform)}class Px{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Nf{}function nb(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mg(n.key,Qn.none()):new ru(n.key,n.data,Qn.none());{const t=n.data,r=An.empty();let o=new Bt(en.comparator);for(let a of e.fields)if(!o.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),o=o.add(a)}return new po(n.key,r,new Dn(o.toArray()),Qn.none())}}function xx(n,e,t){n instanceof ru?(function(o,a,l){const c=o.value.clone(),f=j1(o.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(n,e,t):n instanceof po?(function(o,a,l){if(!qc(o.precondition,a))return void a.convertToUnknownDocument(l.version);const c=j1(o.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(rb(o)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(n,e,t):(function(o,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function Ml(n,e,t,r){return n instanceof ru?(function(a,l,c,f){if(!qc(a.precondition,l))return c;const p=a.value.clone(),v=V1(a.fieldTransforms,f,l);return p.setAll(v),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof po?(function(a,l,c,f){if(!qc(a.precondition,l))return c;const p=V1(a.fieldTransforms,f,l),v=l.data;return v.setAll(rb(a)),v.setAll(p),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((m=>m.field)))})(n,e,t,r):(function(a,l,c){return qc(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(n,e,t)}function Cx(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),a=JT(r.transform,o||null);a!=null&&(t===null&&(t=An.empty()),t.set(r.field,a))}return t||null}function M1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&la(r,o,((a,l)=>kx(a,l)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class ru extends Nf{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class po extends Nf{constructor(e,t,r,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rb(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function j1(n,e,t){const r=new Map;st(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let o=0;o<t.length;o++){const a=n[o],l=a.transform,c=e.data.field(a.field);r.set(a.field,Ix(l,c,t[o]))}return r}function V1(n,e,t){const r=new Map;for(const o of n){const a=o.transform,l=t.data.field(o.field);r.set(o.field,Ax(a,l,e))}return r}class Mg extends Nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ox extends Nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&xx(a,e,r[o])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Ml(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YT();return this.mutations.forEach((o=>{const a=e.get(o.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(o.key)?null:c;const f=nb(l,c);f!==null&&r.set(o.key,f),l.isValidDocument()||l.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,((t,r)=>M1(t,r)))&&la(this.baseMutations,e.baseMutations,((t,r)=>M1(t,r)))}}class jg{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){st(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return Ex})();const a=e.mutations;for(let l=0;l<a.length;l++)o=o.insert(a[l].key,r[l].version);return new jg(e,t,r,o)}}class Lx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dx{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mt,tt;function Mx(n){switch(n){case ge.OK:return Fe(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return Fe(15467,{code:n})}}function ib(n){if(n===void 0)return mi("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Mt.OK:return ge.OK;case Mt.CANCELLED:return ge.CANCELLED;case Mt.UNKNOWN:return ge.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ge.INTERNAL;case Mt.UNAVAILABLE:return ge.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ge.NOT_FOUND;case Mt.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Mt.ABORTED:return ge.ABORTED;case Mt.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Mt.DATA_LOSS:return ge.DATA_LOSS;default:return Fe(39323,{code:n})}}(tt=Mt||(Mt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";function jx(){return new TextEncoder}const Vx=new to([4294967295,4294967295],0);function U1(n){const e=jx().encode(n),t=new _T;return t.update(e),new Uint8Array(t.digest())}function F1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new to([t,r],0),new to([o,a],0)]}class Vg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new kl(`Invalid padding: ${t}`);if(r<0)throw new kl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new kl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=to.fromNumber(this.ge)}ye(e,t,r){let o=e.add(t.multiply(to.fromNumber(r)));return o.compare(Vx)===1&&(o=new to([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=U1(e),[r,o]=F1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,o,a);if(!this.we(l))return!1}return!0}static create(e,t,r){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Vg(a,o,t);return r.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=U1(e),[r,o]=F1(t);for(let a=0;a<this.hashCount;a++){const l=this.ye(r,o,a);this.be(l)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Lf{constructor(e,t,r,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Lf(ze.min(),o,new St(Xe),gi(),Je())}}class iu{constructor(e,t,r,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new iu(r,t,Je(),Je(),Je())}}class Bc{constructor(e,t,r,o){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=o}}class ob{constructor(e,t){this.targetId=e,this.Ce=t}}class sb{constructor(e,t,r=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class q1{constructor(){this.ve=0,this.Fe=B1(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),r=Je();return this.Fe.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Fe(38017,{changeType:a})}})),new iu(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=B1()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,st(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Ux{constructor(e){this.Ge=e,this.ze=new Map,this.je=gi(),this.He=xc(),this.Je=xc(),this.Ze=new St(Xe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Fe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,r=e.Ce.count,o=this.ot(t);if(o){const a=o.target;if(Wm(a))if(r===0){const l=new Le(a.path);this.et(t,l,fn.newNoDocument(l,ze.min()))}else st(r===1,20013,{expectedCount:r});else{const l=this._t(t);if(l!==r){const c=this.ut(e),f=c?this.ct(c,e,l):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=t;let l,c;try{l=ao(r).toUint8Array()}catch(f){if(f instanceof CT)return aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new Vg(l,o,a)}catch(f){return aa(f instanceof kl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let o=0;return r.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(t,a,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&Wm(c.target)){const f=new Le(c.target.path);this.It(f).has(l)||this.Et(l,f)||this.et(l,f,fn.newNoDocument(f,e))}a.Be&&(t.set(l,a.ke()),a.Ke())}}));let r=Je();this.Je.forEach(((a,l)=>{let c=!0;l.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const o=new Lf(e,t,this.Ze,this.je,r);return this.je=gi(),this.He=xc(),this.Je=xc(),this.Ze=new St(Xe),o}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.qe(t,1):o.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new q1,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Bt(Xe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Bt(Xe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function xc(){return new St(Le.comparator)}function B1(){return new St(Le.comparator)}const Fx={asc:"ASCENDING",desc:"DESCENDING"},qx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bx={and:"AND",or:"OR"};class zx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gm(n,e){return n.useProto3Json||kf(e)?e:{value:e}}function uf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ab(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Hx(n,e){return uf(n,e.toTimestamp())}function Mr(n){return st(!!n,49232),ze.fromTimestamp((function(t){const r=so(t);return new yt(r.seconds,r.nanos)})(n))}function Ug(n,e){return Qm(n,e).canonicalString()}function Qm(n,e){const t=(function(o){return new dt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function lb(n){const e=dt.fromString(n);return st(db(e),10190,{key:e.toString()}),e}function Ym(n,e){return Ug(n.databaseId,e.path)}function Fd(n,e){const t=lb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Le(cb(t))}function ub(n,e){return Ug(n.databaseId,e)}function $x(n){const e=lb(n);return e.length===4?dt.emptyPath():cb(e)}function Xm(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function cb(n){return st(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function z1(n,e,t){return{name:Ym(n,e),fields:t.value.mapValue.fields}}function Wx(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Fe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(p,v){return p.useProto3Json?(st(v===void 0||typeof v=="string",58123),tn.fromBase64String(v||"")):(st(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(p){const v=p.code===void 0?ge.UNKNOWN:ib(p.code);return new Ie(v,p.message||"")})(l);t=new sb(r,o,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fd(n,r.document.name),a=Mr(r.document.updateTime),l=r.document.createTime?Mr(r.document.createTime):ze.min(),c=new An({mapValue:{fields:r.document.fields}}),f=fn.newFoundDocument(o,a,l,c),p=r.targetIds||[],v=r.removedTargetIds||[];t=new Bc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Fd(n,r.document),a=r.readTime?Mr(r.readTime):ze.min(),l=fn.newNoDocument(o,a),c=r.removedTargetIds||[];t=new Bc([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Fd(n,r.document),a=r.removedTargetIds||[];t=new Bc([],a,o,null)}else{if(!("filter"in e))return Fe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:a}=r,l=new Dx(o,a),c=r.targetId;t=new ob(c,l)}}return t}function Kx(n,e){let t;if(e instanceof ru)t={update:z1(n,e.key,e.value)};else if(e instanceof Mg)t={delete:Ym(n,e.key)};else if(e instanceof po)t={update:z1(n,e.key,e.data),updateMask:nC(e.fieldMask)};else{if(!(e instanceof Ox))return Fe(16599,{dt:e.type});t={verify:Ym(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const c=l.transform;if(c instanceof Wl)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Kl)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gl)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lf)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Fe(20930,{transform:l.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:Hx(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Fe(27497)})(n,e.precondition)),t}function Gx(n,e){return n&&n.length>0?(st(e!==void 0,14353),n.map((t=>(function(o,a){let l=o.updateTime?Mr(o.updateTime):Mr(a);return l.isEqual(ze.min())&&(l=Mr(a)),new Px(l,o.transformResults||[])})(t,e)))):[]}function Qx(n,e){return{documents:[ub(n,e.path)]}}function Yx(n,e){const t={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ub(n,o);const a=(function(p){if(p.length!==0)return hb(hr.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((v=>(function(d){return{field:Ys(d.field),direction:Zx(d.dir)}})(v)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Gm(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:o}}function Xx(n){let e=$x(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){st(r===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(m){const d=fb(m);return d instanceof hr&&qT(d)?d.getFilters():[d]})(t.where));let l=[];t.orderBy&&(l=(function(m){return m.map((d=>(function(S){return new $l(Xs(S.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(d)))})(t.orderBy));let c=null;t.limit&&(c=(function(m){let d;return d=typeof m=="object"?m.value:m,kf(d)?null:d})(t.limit));let f=null;t.startAt&&(f=(function(m){const d=!!m.before,y=m.values||[];return new sf(y,d)})(t.startAt));let p=null;return t.endAt&&(p=(function(m){const d=!m.before,y=m.values||[];return new sf(y,d)})(t.endAt)),dx(e,o,l,a,c,"F",f,p)}function Jx(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function fb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xs(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Xs(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xs(t.unaryFilter.field);return jt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Xs(t.unaryFilter.field);return jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Fe(61313);default:return Fe(60726)}})(n):n.fieldFilter!==void 0?(function(t){return jt.create(Xs(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Fe(58110);default:return Fe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return hr.create(t.compositeFilter.filters.map((r=>fb(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Fe(1026)}})(t.compositeFilter.op))})(n):Fe(30097,{filter:n})}function Zx(n){return Fx[n]}function eC(n){return qx[n]}function tC(n){return Bx[n]}function Ys(n){return{fieldPath:n.canonicalString()}}function Xs(n){return en.fromServerFormat(n.fieldPath)}function hb(n){return n instanceof jt?(function(t){if(t.op==="=="){if(x1(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NAN"}};if(P1(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(x1(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NAN"}};if(P1(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(t.field),op:eC(t.op),value:t.value}}})(n):n instanceof hr?(function(t){const r=t.getFilters().map((o=>hb(o)));return r.length===1?r[0]:{compositeFilter:{op:tC(t.op),filters:r}}})(n):Fe(54877,{filter:n})}function nC(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function db(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function pb(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ji{constructor(e,t,r,o,a=ze.min(),l=ze.min(),c=tn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class rC{constructor(e){this.yt=e}}function iC(n){const e=Xx({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?af(e,e.limit,"L"):e}class oC{constructor(){this.Sn=new sC}addToCollectionParentIndex(e,t){return this.Sn.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(oo.min())}updateCollectionGroup(e,t,r){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class sC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Bt(dt.comparator),a=!o.has(r);return this.index[t]=o.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Bt(dt.comparator)).toArray()}}const H1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(mb,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);class fa{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new fa(0)}static ar(){return new fa(-1)}}const $1="LruGarbageCollector",aC=1048576;function W1([n,e],[t,r]){const o=Xe(n,t);return o===0?Xe(e,r):o}class lC{constructor(e){this.Pr=e,this.buffer=new Bt(W1),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();W1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class uC{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Pe($1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ba(t)?Pe($1,"Ignoring IndexedDB error during garbage collection: ",t):await Ta(t)}await this.Ar(3e5)}))}}class cC{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return ye.resolve(Rf.ce);const r=new lC(t);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),ye.resolve(H1)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H1):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,o,a,l,c,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),o=this.params.maximumSequenceNumbersToCollect):o=m,l=Date.now(),this.nthSequenceNumber(e,o)))).next((m=>(r=m,c=Date.now(),this.removeTargets(e,r,t)))).next((m=>(a=m,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(p=Date.now(),Gs()<=Ye.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${o} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${m} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ye.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:m}))))}}function fC(n,e){return new cC(n,e)}class hC{constructor(){this.changes=new ns((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ye.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class dC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class pC{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(r!==null&&Ml(r.mutation,o,Dn.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Je()){const o=$o();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,r).next((a=>{let l=Rl();return a.forEach(((c,f)=>{l=l.insert(c,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const r=$o();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Je())))}populateOverlays(e,t,r){const o=[];return r.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,r,o){let a=gi();const l=Dl(),c=(function(){return Dl()})();return t.forEach(((f,p)=>{const v=r.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof po)?a=a.insert(p.key,p):v!==void 0?(l.set(p.key,v.mutation.getFieldMask()),Ml(v.mutation,p,v.mutation.getFieldMask(),yt.now())):l.set(p.key,Dn.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,v)=>l.set(p,v))),t.forEach(((p,v)=>c.set(p,new dC(v,l.get(p)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=Dl();let o=new St(((l,c)=>l-c)),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let v=r.get(f)||Dn.empty();v=c.applyToLocalView(p,v),r.set(f,v);const m=(o.get(c.batchId)||Je()).add(f);o=o.insert(c.batchId,m)}))})).next((()=>{const l=[],c=o.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),p=f.key,v=f.value,m=YT();v.forEach((d=>{if(!a.has(d)){const y=nb(t.get(d),r.get(d));y!==null&&m.set(d,y),a=a.add(d)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,m))}return ye.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,o){return px(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$T(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next((a=>{const l=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-a.size):ye.resolve($o());let c=ql,f=a;return l.next((p=>ye.forEach(p,((v,m)=>(c<m.largestBatchId&&(c=m.largestBatchId),a.get(v)?ye.resolve():this.remoteDocumentCache.getEntry(e,v).next((d=>{f=f.insert(v,d)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,Je()))).next((v=>({batchId:c,changes:QT(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Le(t)).next((r=>{let o=Rl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){const a=t.collectionGroup;let l=Rl();return this.indexManager.getCollectionParents(e,a).next((c=>ye.forEach(c,(f=>{const p=(function(m,d){return new Sa(d,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,o).next((v=>{v.forEach(((m,d)=>{l=l.insert(m,d)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,r,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,o)))).next((l=>{a.forEach(((f,p)=>{const v=p.getKey();l.get(v)===null&&(l=l.insert(v,fn.newInvalidDocument(v)))}));let c=Rl();return l.forEach(((f,p)=>{const v=a.get(f);v!==void 0&&Ml(v.mutation,p,Dn.empty(),yt.now()),Cf(t,p)&&(c=c.insert(f,p))})),c}))}}class mC{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ye.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Mr(o.createTime)}})(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(o){return{name:o.name,query:iC(o.bundledQuery),readTime:Mr(o.readTime)}})(t)),ye.resolve()}}class gC{constructor(){this.overlays=new St(Le.comparator),this.Lr=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$o();return ye.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&r.set(o,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((o,a)=>{this.bt(e,t,a)})),ye.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(r)),ye.resolve()}getOverlaysForCollection(e,t,r){const o=$o(),a=t.length+1,l=new Le(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&o.set(f.getKey(),f)}return ye.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let a=new St(((p,v)=>p-v));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=a.get(p.largestBatchId);v===null&&(v=$o(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const c=$o(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,v)=>c.set(p,v))),!(c.size()>=o)););return ye.resolve(c)}bt(e,t,r){const o=this.overlays.get(r.key);if(o!==null){const l=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Lx(t,r));let a=this.Lr.get(t);a===void 0&&(a=Je(),this.Lr.set(t,a)),this.Lr.set(t,a.add(r.key))}}class yC{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}class Fg{constructor(){this.kr=new Bt(Kt.Kr),this.qr=new Bt(Kt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Kt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Le(new dt([])),r=new Kt(t,e),o=new Kt(t,e+1),a=[];return this.qr.forEachInRange([r,o],(l=>{this.Wr(l),a.push(l.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Le(new dt([])),r=new Kt(t,e),o=new Kt(t,e+1);let a=Je();return this.qr.forEachInRange([r,o],(l=>{a=a.add(l.key)})),a}containsKey(e){const t=new Kt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Le.comparator(e.key,t.key)||Xe(e.Hr,t.Hr)}static Ur(e,t){return Xe(e.Hr,t.Hr)||Le.comparator(e.key,t.key)}}class vC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Kt.Kr)}checkEmpty(e){return ye.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Nx(a,t,r,o);this.mutationQueue.push(l);for(const c of o)this.Jr=this.Jr.add(new Kt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ye.resolve(l)}lookupMutationBatch(e,t){return ye.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=this.Xr(r),a=o<0?0:o;return ye.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(this.mutationQueue.length===0?Pg:this.Yn-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([r,o],(l=>{const c=this.Zr(l.Hr);a.push(c)})),ye.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Xe);return t.forEach((o=>{const a=new Kt(o,0),l=new Kt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,l],(c=>{r=r.add(c.Hr)}))})),ye.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let a=r;Le.isDocumentKey(a)||(a=a.child(""));const l=new Kt(new Le(a),0);let c=new Bt(Xe);return this.Jr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===o&&(c=c.add(f.Hr)),!0)}),l),ye.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){st(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return ye.forEach(t.mutations,(o=>{const a=new Kt(o.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Kt(t,0),o=this.Jr.firstAfterOrEqual(r);return ye.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _C{constructor(e){this.ti=e,this.docs=(function(){return new St(Le.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),a=o?o.size:0,l=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ye.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let r=gi();return t.forEach((o=>{const a=this.docs.get(o);r=r.insert(o,a?a.document.mutableCopy():fn.newInvalidDocument(o))})),ye.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let a=gi();const l=t.path,c=new Le(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||HP(zP(v),r)<=0||(o.has(v.key)||Cf(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ye.resolve(a)}getAllFromCollectionGroup(e,t,r,o){Fe(9500)}ni(e,t){return ye.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new EC(this)}getSize(e){return ye.resolve(this.size)}}class EC extends hC{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?t.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),ye.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class wC{constructor(e){this.persistence=e,this.ri=new ns((t=>Og(t)),Ng),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new Fg,this.targetCount=0,this.oi=fa._r()}forEachTarget(e,t){return this.ri.forEach(((r,o)=>t(o))),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),ye.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new fa(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.lr(t),ye.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,r){let o=0;const a=[];return this.ri.forEach(((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),o++)})),ye.waitFor(a).next((()=>o))}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return ye.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),ye.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((l=>{a.push(o.markPotentiallyOrphaned(e,l))})),ye.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return ye.resolve(r)}containsKey(e,t){return ye.resolve(this.si.containsKey(t))}}class gb{constructor(e,t){this._i={},this.overlays={},this.ai=new Rf(0),this.ui=!1,this.ui=!0,this.ci=new yC,this.referenceDelegate=e(this),this.li=new wC(this),this.indexManager=new oC,this.remoteDocumentCache=(function(o){return new _C(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new rC(t),this.Pi=new mC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new vC(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new TC(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((a=>this.referenceDelegate.Ii(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Ei(e,t){return ye.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class TC extends WP{constructor(e){super(),this.currentSequenceNumber=e}}class qg{constructor(e){this.persistence=e,this.Ri=new Fg,this.Ai=null}static Vi(e){return new qg(e)}get di(){if(this.Ai)return this.Ai;throw Fe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),ye.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.di.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.di,(r=>{const o=Le.fromPath(r);return this.mi(e,o).next((a=>{a||t.removeEntry(o,ze.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ye.or([()=>ye.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class cf{constructor(e,t){this.persistence=e,this.fi=new ns((r=>QP(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=fC(this,t)}static Vi(e,t){return new cf(e,t)}Ti(){}Ii(e){return ye.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((o=>r+o))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return ye.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((a=>a?ye.resolve():t(o)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.ni(e,(l=>this.wr(e,l,t).next((c=>{c||(r++,a.removeEntry(l,ze.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),ye.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ye.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Uc(e.data.value)),t}wr(e,t,r){return ye.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.fi.get(t);return ye.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bg{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=o}static Es(e,t){let r=Je(),o=Je();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Bg(e,t.fromCache,r,o)}}class bC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return hk()?8:KP(hn())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,o){const a={result:null};return this.gs(e,t).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ps(e,t,o,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new bC;return this.ys(e,t,l).next((c=>{if(a.result=c,this.As)return this.ws(e,t,l,c.size)}))})).next((()=>a.result))}ws(e,t,r,o){return r.documentReadCount<this.Vs?(Gs()<=Ye.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",Qs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ye.resolve()):(Gs()<=Ye.DEBUG&&Pe("QueryEngine","Query:",Qs(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(Gs()<=Ye.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",Qs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):ye.resolve())}gs(e,t){if(L1(t))return ye.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=af(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=Je(...a);return this.fs.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.bs(t,c);return this.Ss(t,p,l,f.readTime)?this.gs(e,af(t,null,"F")):this.Ds(e,p,t,f)}))))})))))}ps(e,t,r,o){return L1(t)||o.isEqual(ze.min())?ye.resolve(null):this.fs.getDocuments(e,r).next((a=>{const l=this.bs(t,a);return this.Ss(t,l,r,o)?ye.resolve(null):(Gs()<=Ye.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qs(t)),this.Ds(e,l,t,BP(o,ql)).next((c=>c)))}))}bs(e,t){let r=new Bt(KT(e));return t.forEach(((o,a)=>{Cf(e,a)&&(r=r.add(a))})),r}Ss(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ys(e,t,r){return Gs()<=Ye.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",Qs(t)),this.fs.getDocumentsMatchingQuery(e,t,oo.min(),r)}Ds(e,t,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((a=>(t.forEach((l=>{a=a.insert(l.key,l)})),a)))}}const zg="LocalStore",AC=3e8;class IC{constructor(e,t,r,o){this.persistence=e,this.Cs=t,this.serializer=o,this.vs=new St(Xe),this.Fs=new ns((a=>Og(a)),Ng),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function RC(n,e,t,r){return new IC(n,e,t,r)}async function yb(n,e){const t=We(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next((a=>(o=a,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],c=[];let f=Je();for(const p of o){l.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){c.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ns:p,removedBatchIds:l,addedBatchIds:c})))}))}))}function kC(n,e){const t=We(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),a=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,p,v){const m=p.batch,d=m.keys();let y=ye.resolve();return d.forEach((S=>{y=y.next((()=>v.getEntry(f,S))).next((E=>{const _=p.docVersions.get(S);st(_!==null,48541),E.version.compareTo(_)<0&&(m.applyToRemoteDocument(E,p),E.isValidDocument()&&(E.setReadTime(p.commitVersion),v.addEntry(E)))}))})),y.next((()=>c.mutationQueue.removeMutationBatch(f,m)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Je();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(f=f.add(c.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,o)))}))}function vb(n){const e=We(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function PC(n,e){const t=We(n),r=e.snapshotVersion;let o=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=t.xs.newChangeBuffer({trackRemovals:!0});o=t.vs;const c=[];e.targetChanges.forEach(((v,m)=>{const d=o.get(m);if(!d)return;c.push(t.li.removeMatchingKeys(a,v.removedDocuments,m).next((()=>t.li.addMatchingKeys(a,v.addedDocuments,m))));let y=d.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):v.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(v.resumeToken,r)),o=o.insert(m,y),(function(E,_,T){return E.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=AC?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(d,y,v)&&c.push(t.li.updateTargetData(a,y))}));let f=gi(),p=Je();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),c.push(xC(a,l,e.documentUpdates).next((v=>{f=v.Bs,p=v.Ls}))),!r.isEqual(ze.min())){const v=t.li.getLastRemoteSnapshotVersion(a).next((m=>t.li.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(v)}return ye.waitFor(c).next((()=>l.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.vs=o,a)))}function xC(n,e,t){let r=Je(),o=Je();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let l=gi();return t.forEach(((c,f)=>{const p=a.get(c);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(c)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):Pe(zg,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",f.version)})),{Bs:l,Ls:o}}))}function CC(n,e){const t=We(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Pg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function OC(n,e){const t=We(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return t.li.getTargetData(r,e).next((a=>a?(o=a,ye.resolve(o)):t.li.allocateTargetId(r).next((l=>(o=new Ji(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=t.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Jm(n,e,t){const r=We(n),o=r.vs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!ba(l))throw l;Pe(zg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function K1(n,e,t){const r=We(n);let o=ze.min(),a=Je();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,v){const m=We(f),d=m.Fs.get(v);return d!==void 0?ye.resolve(m.vs.get(d)):m.li.getTargetData(p,v)})(r,l,Dr(e)).next((c=>{if(c)return o=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(l,c.targetId).next((f=>{a=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(l,e,t?o:ze.min(),t?a:Je()))).next((c=>(NC(r,yx(e),c),{documents:c,ks:a})))))}function NC(n,e,t){let r=n.Ms.get(e)||ze.min();t.forEach(((o,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Ms.set(e,r)}class G1{constructor(){this.activeTargetIds=bx()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LC{constructor(){this.vo=new G1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new G1,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DC{Mo(e){}shutdown(){}}const Q1="ConnectivityMonitor";class Y1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Pe(Q1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Pe(Q1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function Zm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const qd="RestConnection",MC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jC{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===rf?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,t,r,o,a){const l=Zm(),c=this.Qo(e,t.toUriEncodedString());Pe(qd,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,o,a);const{host:p}=new URL(c),v=fo(p);return this.zo(e,c,f,r,v).then((m=>(Pe(qd,`Received RPC '${e}' ${l}: `,m),m)),(m=>{throw aa(qd,`RPC '${e}' ${l} failed with error: `,m,"url: ",c,"request:",r),m}))}jo(e,t,r,o,a,l){return this.Wo(e,t,r,o,a)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,a)=>e[a]=o)),r&&r.headers.forEach(((o,a)=>e[a]=o))}Qo(e,t){const r=MC[e];let o=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class VC{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const un="WebChannelConnection",El=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class Zs extends jC{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Zs.c_){const e=bT();El(e,TT.STAT_EVENT,(t=>{t.stat===qm.PROXY?Pe(un,"STAT_EVENT: detected buffering proxy"):t.stat===qm.NOPROXY&&Pe(un,"STAT_EVENT: detected no buffering proxy")})),Zs.c_=!0}}zo(e,t,r,o,a){const l=Zm();return new Promise(((c,f)=>{const p=new ET;p.setWithCredentials(!0),p.listenOnce(wT.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Vc.NO_ERROR:const m=p.getResponseJson();Pe(un,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(m)),c(m);break;case Vc.TIMEOUT:Pe(un,`RPC '${e}' ${l} timed out`),f(new Ie(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const d=p.getStatus();if(Pe(un,`RPC '${e}' ${l} failed with status:`,d,"response text:",p.getResponseText()),d>0){let y=p.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y?.error;if(S&&S.status&&S.message){const E=(function(T){const w=T.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(w)>=0?w:ge.UNKNOWN})(S.status);f(new Ie(E,S.message))}else f(new Ie(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ie(ge.UNAVAILABLE,"Connection failed."));break;default:Fe(9055,{l_:e,streamId:l,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Pe(un,`RPC '${e}' ${l} completed.`)}}));const v=JSON.stringify(o);Pe(un,`RPC '${e}' ${l} sending request:`,o),p.send(t,"POST",v,r,15)}))}T_(e,t,r){const o=Zm(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const p=a.join("");Pe(un,`Creating RPC '${e}' stream ${o}: ${p}`,c);const v=l.createWebChannel(p,c);this.I_(v);let m=!1,d=!1;const y=new VC({Ho:S=>{d?Pe(un,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(m||(Pe(un,`Opening RPC '${e}' stream ${o} transport.`),v.open(),m=!0),Pe(un,`RPC '${e}' stream ${o} sending:`,S),v.send(S))},Jo:()=>v.close()});return El(v,Il.EventType.OPEN,(()=>{d||(Pe(un,`RPC '${e}' stream ${o} transport opened.`),y.i_())})),El(v,Il.EventType.CLOSE,(()=>{d||(d=!0,Pe(un,`RPC '${e}' stream ${o} transport closed`),y.o_(),this.E_(v))})),El(v,Il.EventType.ERROR,(S=>{d||(d=!0,aa(un,`RPC '${e}' stream ${o} transport errored. Name:`,S.name,"Message:",S.message),y.o_(new Ie(ge.UNAVAILABLE,"The operation could not be completed")))})),El(v,Il.EventType.MESSAGE,(S=>{if(!d){const E=S.data[0];st(!!E,16349);const _=E,T=_?.error||_[0]?.error;if(T){Pe(un,`RPC '${e}' stream ${o} received error:`,T);const w=T.status;let k=(function(F){const P=Mt[F];if(P!==void 0)return ib(P)})(w),b=T.message;k===void 0&&(k=ge.INTERNAL,b="Unknown error status: "+w+" with message "+T.message),d=!0,y.o_(new Ie(k,b)),v.close()}else Pe(un,`RPC '${e}' stream ${o} received:`,E),y.__(E)}})),Zs.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ST()}}function UC(n){return new Zs(n)}function Bd(){return typeof document<"u"?document:null}function Df(n){return new zx(n,!0)}Zs.c_=!1;class _b{constructor(e,t,r=1e3,o=1.5,a=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=o,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const X1="PersistentStream";class Eb{constructor(e,t,r,o,a,l,c,f){this.Ci=e,this.b_=r,this.S_=o,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _b(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(mi(t.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===t&&this.G_(r,o)}),(r=>{e((()=>{const o=new Ie(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Pe(X1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Pe(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class FC extends Eb{constructor(e,t,r,o,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Wx(this.serializer,e),r=(function(a){if(!("targetChange"in a))return ze.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ze.min():l.readTime?Mr(l.readTime):ze.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Xm(this.serializer),t.addTarget=(function(a,l){let c;const f=l.target;if(c=Wm(f)?{documents:Qx(a,f)}:{query:Yx(a,f).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=ab(a,l.resumeToken);const p=Gm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ze.min())>0){c.readTime=uf(a,l.snapshotVersion.toTimestamp());const p=Gm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c})(this.serializer,e);const r=Jx(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Xm(this.serializer),t.removeTarget=e,this.K_(t)}}class qC extends Eb{constructor(e,t,r,o,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Gx(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Xm(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Kx(this.serializer,r)))};this.K_(t)}}class BC{}class zC extends BC{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Wo(e,Qm(t,r),o,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ie(ge.UNKNOWN,a.toString())}))}jo(e,t,r,o,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.jo(e,Qm(t,r),o,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(ge.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function HC(n,e,t,r){return new zC(n,e,t,r)}class $C{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mi(t),this.aa=!1):Pe("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Jo="RemoteStore";class WC{constructor(e,t,r,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((l=>{r.enqueueAndForget((async()=>{rs(this)&&(Pe(Jo,"Restarting streams for network reachability change."),await(async function(f){const p=We(f);p.Ea.add(4),await ou(p),p.Va.set("Unknown"),p.Ea.delete(4),await Mf(p)})(this))}))})),this.Va=new $C(r,o)}}async function Mf(n){if(rs(n))for(const e of n.Ra)await e(!0)}async function ou(n){for(const e of n.Ra)await e(!1)}function wb(n,e){const t=We(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Kg(t)?Wg(t):Aa(t).O_()&&$g(t,e))}function Hg(n,e){const t=We(n),r=Aa(t);t.Ia.delete(e),r.O_()&&Tb(t,e),t.Ia.size===0&&(r.O_()?r.L_():rs(t)&&t.Va.set("Unknown"))}function $g(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Aa(n).Z_(e)}function Tb(n,e){n.da.$e(e),Aa(n).X_(e)}function Wg(n){n.da=new Ux({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Aa(n).start(),n.Va.ua()}function Kg(n){return rs(n)&&!Aa(n).x_()&&n.Ia.size>0}function rs(n){return We(n).Ea.size===0}function bb(n){n.da=void 0}async function KC(n){n.Va.set("Online")}async function GC(n){n.Ia.forEach(((e,t)=>{$g(n,e)}))}async function QC(n,e){bb(n),Kg(n)?(n.Va.ha(e),Wg(n)):n.Va.set("Unknown")}async function YC(n,e,t){if(n.Va.set("Online"),e instanceof sb&&e.state===2&&e.cause)try{await(async function(o,a){const l=a.cause;for(const c of a.targetIds)o.Ia.has(c)&&(await o.remoteSyncer.rejectListen(c,l),o.Ia.delete(c),o.da.removeTarget(c))})(n,e)}catch(r){Pe(Jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ff(n,r)}else if(e instanceof Bc?n.da.Xe(e):e instanceof ob?n.da.st(e):n.da.tt(e),!t.isEqual(ze.min()))try{const r=await vb(n.localStore);t.compareTo(r)>=0&&await(function(a,l){const c=a.da.Tt(l);return c.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.Ia.get(p);v&&a.Ia.set(p,v.withResumeToken(f.resumeToken,l))}})),c.targetMismatches.forEach(((f,p)=>{const v=a.Ia.get(f);if(!v)return;a.Ia.set(f,v.withResumeToken(tn.EMPTY_BYTE_STRING,v.snapshotVersion)),Tb(a,f);const m=new Ji(v.target,f,p,v.sequenceNumber);$g(a,m)})),a.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){Pe(Jo,"Failed to raise snapshot:",r),await ff(n,r)}}async function ff(n,e,t){if(!ba(e))throw e;n.Ea.add(1),await ou(n),n.Va.set("Offline"),t||(t=()=>vb(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Pe(Jo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Mf(n)}))}function Sb(n,e){return e().catch((t=>ff(n,t,e)))}async function jf(n){const e=We(n),t=uo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Pg;for(;XC(e);)try{const o=await CC(e.localStore,r);if(o===null){e.Ta.length===0&&t.L_();break}r=o.batchId,JC(e,o)}catch(o){await ff(e,o)}Ab(e)&&Ib(e)}function XC(n){return rs(n)&&n.Ta.length<10}function JC(n,e){n.Ta.push(e);const t=uo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function Ab(n){return rs(n)&&!uo(n).x_()&&n.Ta.length>0}function Ib(n){uo(n).start()}async function ZC(n){uo(n).ra()}async function eO(n){const e=uo(n);for(const t of n.Ta)e.ea(t.mutations)}async function tO(n,e,t){const r=n.Ta.shift(),o=jg.from(r,e,t);await Sb(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await jf(n)}async function nO(n,e){e&&uo(n).Y_&&await(async function(r,o){if((function(l){return Mx(l)&&l!==ge.ABORTED})(o.code)){const a=r.Ta.shift();uo(r).B_(),await Sb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,o))),await jf(r)}})(n,e),Ab(n)&&Ib(n)}async function J1(n,e){const t=We(n);t.asyncQueue.verifyOperationInProgress(),Pe(Jo,"RemoteStore received new credentials");const r=rs(t);t.Ea.add(3),await ou(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Mf(t)}async function rO(n,e){const t=We(n);e?(t.Ea.delete(2),await Mf(t)):e||(t.Ea.add(2),await ou(t),t.Va.set("Unknown"))}function Aa(n){return n.ma||(n.ma=(function(t,r,o){const a=We(t);return a.sa(),new FC(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:KC.bind(null,n),Yo:GC.bind(null,n),t_:QC.bind(null,n),J_:YC.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),Kg(n)?Wg(n):n.Va.set("Unknown")):(await n.ma.stop(),bb(n))}))),n.ma}function uo(n){return n.fa||(n.fa=(function(t,r,o){const a=We(t);return a.sa(),new qC(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:ZC.bind(null,n),t_:nO.bind(null,n),ta:eO.bind(null,n),na:tO.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await jf(n)):(await n.fa.stop(),n.Ta.length>0&&(Pe(Jo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Gg{constructor(e,t,r,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=a,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,a){const l=Date.now()+r,c=new Gg(e,t,l,o,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(n,e){if(mi("AsyncQueue",`${e}: ${n}`),ba(n))return new Ie(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Le.comparator(t.key,r.key):(t,r)=>Le.comparator(t.key,r.key),this.keyedMap=Rl(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ea;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Z1{constructor(){this.ga=new St(Le.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Fe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class ha{constructor(e,t,r,o,a,l,c,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,o,a){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new ha(e,t,ea.emptySet(t),l,r,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class iO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class oO{constructor(){this.queries=e0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const o=We(t),a=o.queries;o.queries=e0(),a.forEach(((l,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new Ie(ge.ABORTED,"Firestore shutting down"))}}function e0(){return new ns((n=>WT(n)),xf)}async function Rb(n,e){const t=We(n);let r=3;const o=e.query;let a=t.queries.get(o);a?!a.Sa()&&e.Da()&&(r=2):(a=new iO,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(o,!0);break;case 1:a.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(l){const c=Qg(l,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(c)}t.queries.set(o,a),a.ba.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Yg(t)}async function kb(n,e){const t=We(n),r=e.query;let o=3;const a=t.queries.get(r);if(a){const l=a.ba.indexOf(e);l>=0&&(a.ba.splice(l,1),a.ba.length===0?o=e.Da()?0:1:!a.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sO(n,e){const t=We(n);let r=!1;for(const o of e){const a=o.query,l=t.queries.get(a);if(l){for(const c of l.ba)c.Fa(o)&&(r=!0);l.wa=o}}r&&Yg(t)}function aO(n,e,t){const r=We(n),o=r.queries.get(e);if(o)for(const a of o.ba)a.onError(t);r.queries.delete(e)}function Yg(n){n.Ca.forEach((e=>{e.next()}))}var eg,t0;(t0=eg||(eg={})).Ma="default",t0.Cache="cache";class Pb{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==eg.Cache}}class xb{constructor(e){this.key=e}}class Cb{constructor(e){this.key=e}}class lO{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Je(),this.mutatedKeys=Je(),this.eu=KT(e),this.tu=new ea(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new Z1,o=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,l=o,c=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,m)=>{const d=o.get(v),y=Cf(this.query,m)?m:null,S=!!d&&this.mutatedKeys.has(d.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;d&&y?d.data.isEqual(y.data)?S!==E&&(r.track({type:3,doc:y}),_=!0):this.su(d,y)||(r.track({type:2,doc:y}),_=!0,(f&&this.eu(y,f)>0||p&&this.eu(y,p)<0)&&(c=!0)):!d&&y?(r.track({type:0,doc:y}),_=!0):d&&!y&&(r.track({type:1,doc:d}),_=!0,(f||p)&&(c=!0)),_&&(y?(l=l.add(y),a=E?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),r.track({type:1,doc:v})}return{tu:l,iu:r,Ss:c,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((v,m)=>(function(y,S){const E=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe(20277,{Vt:_})}};return E(y)-E(S)})(v.type,m.type)||this.eu(v.doc,m.doc))),this.ou(r),o=o??!1;const c=t&&!o?this._u():[],f=this.Ya.size===0&&this.current&&!o?1:0,p=f!==this.Xa;return this.Xa=f,l.length!==0||p?{snapshot:new ha(this.query,e.tu,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new Cb(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new xb(r))})),t}cu(e){this.Za=e.ks,this.Ya=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ha.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Xg="SyncEngine";class uO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cO{constructor(e){this.key=e,this.hu=!1}}class fO{constructor(e,t,r,o,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ns((c=>WT(c)),xf),this.Iu=new Map,this.Eu=new Set,this.Ru=new St(Le.comparator),this.Au=new Map,this.Vu=new Fg,this.du={},this.mu=new Map,this.fu=fa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hO(n,e,t=!0){const r=jb(n);let o;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.lu()):o=await Ob(r,e,t,!0),o}async function dO(n,e){const t=jb(n);await Ob(t,e,!0,!1)}async function Ob(n,e,t,r){const o=await OC(n.localStore,Dr(e)),a=o.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await pO(n,e,a,l==="current",o.resumeToken)),n.isPrimaryClient&&t&&wb(n.remoteStore,o),c}async function pO(n,e,t,r,o){n.pu=(m,d,y)=>(async function(E,_,T,w){let k=_.view.ru(T);k.Ss&&(k=await K1(E.localStore,_.query,!1).then((({documents:P})=>_.view.ru(P,k))));const b=w&&w.targetChanges.get(_.targetId),D=w&&w.targetMismatches.get(_.targetId)!=null,F=_.view.applyChanges(k,E.isPrimaryClient,b,D);return r0(E,_.targetId,F.au),F.snapshot})(n,m,d,y);const a=await K1(n.localStore,e,!0),l=new lO(e,a.ks),c=l.ru(a.documents),f=iu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),p=l.applyChanges(c,n.isPrimaryClient,f);r0(n,t,p.au);const v=new uO(e,t,l);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function mO(n,e,t){const r=We(n),o=r.Tu.get(e),a=r.Iu.get(o.targetId);if(a.length>1)return r.Iu.set(o.targetId,a.filter((l=>!xf(l,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),t&&Hg(r.remoteStore,o.targetId),tg(r,o.targetId)})).catch(Ta)):(tg(r,o.targetId),await Jm(r.localStore,o.targetId,!0))}async function gO(n,e){const t=We(n),r=t.Tu.get(e),o=t.Iu.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Hg(t.remoteStore,r.targetId))}async function yO(n,e,t){const r=SO(n);try{const o=await(function(l,c){const f=We(l),p=yt.now(),v=c.reduce(((y,S)=>y.add(S.key)),Je());let m,d;return f.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let S=gi(),E=Je();return f.xs.getEntries(y,v).next((_=>{S=_,S.forEach(((T,w)=>{w.isValidDocument()||(E=E.add(T))}))})).next((()=>f.localDocuments.getOverlayedDocuments(y,S))).next((_=>{m=_;const T=[];for(const w of c){const k=Cx(w,m.get(w.key).overlayedDocument);k!=null&&T.push(new po(w.key,k,VT(k.value.mapValue),Qn.exists(!0)))}return f.mutationQueue.addMutationBatch(y,p,T,c)})).next((_=>{d=_;const T=_.applyToLocalDocumentSet(m,E);return f.documentOverlayCache.saveOverlays(y,_.batchId,T)}))})).then((()=>({batchId:d.batchId,changes:QT(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(l,c,f){let p=l.du[l.currentUser.toKey()];p||(p=new St(Xe)),p=p.insert(c,f),l.du[l.currentUser.toKey()]=p})(r,o.batchId,t),await su(r,o.changes),await jf(r.remoteStore)}catch(o){const a=Qg(o,"Failed to persist write");t.reject(a)}}async function Nb(n,e){const t=We(n);try{const r=await PC(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const l=t.Au.get(a);l&&(st(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?l.hu=!0:o.modifiedDocuments.size>0?st(l.hu,14607):o.removedDocuments.size>0&&(st(l.hu,42227),l.hu=!1))})),await su(t,r,e)}catch(r){await Ta(r)}}function n0(n,e,t){const r=We(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const o=[];r.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&o.push(c.snapshot)})),(function(l,c){const f=We(l);f.onlineState=c;let p=!1;f.queries.forEach(((v,m)=>{for(const d of m.ba)d.va(c)&&(p=!0)})),p&&Yg(f)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vO(n,e,t){const r=We(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Au.get(e),a=o&&o.key;if(a){let l=new St(Le.comparator);l=l.insert(a,fn.newNoDocument(a,ze.min()));const c=Je().add(a),f=new Lf(ze.min(),new Map,new St(Xe),l,c);await Nb(r,f),r.Ru=r.Ru.remove(a),r.Au.delete(e),Jg(r)}else await Jm(r.localStore,e,!1).then((()=>tg(r,e,t))).catch(Ta)}async function _O(n,e){const t=We(n),r=e.batch.batchId;try{const o=await kC(t.localStore,e);Db(t,r,null),Lb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await su(t,o)}catch(o){await Ta(o)}}async function EO(n,e,t){const r=We(n);try{const o=await(function(l,c){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return f.mutationQueue.lookupMutationBatch(p,c).next((m=>(st(m!==null,37113),v=m.keys(),f.mutationQueue.removeMutationBatch(p,m)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>f.localDocuments.getDocuments(p,v)))}))})(r.localStore,e);Db(r,e,t),Lb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await su(r,o)}catch(o){await Ta(o)}}function Lb(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function Db(n,e,t){const r=We(n);let o=r.du[r.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function tg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||Mb(n,r)}))}function Mb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(Hg(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Jg(n))}function r0(n,e,t){for(const r of t)r instanceof xb?(n.Vu.addReference(r.key,e),wO(n,r)):r instanceof Cb?(Pe(Xg,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||Mb(n,r.key)):Fe(19791,{wu:r})}function wO(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Pe(Xg,"New document in limbo: "+t),n.Eu.add(r),Jg(n))}function Jg(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Le(dt.fromString(e)),r=n.fu.next();n.Au.set(r,new cO(t)),n.Ru=n.Ru.insert(t,r),wb(n.remoteStore,new Ji(Dr(Lg(t.path)),r,"TargetPurposeLimboResolution",Rf.ce))}}async function su(n,e,t){const r=We(n),o=[],a=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{l.push(r.pu(f,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:t?.targetChanges.get(f.targetId)?.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){o.push(p);const v=Bg.Es(f.targetId,p);a.push(v)}})))})),await Promise.all(l),r.Pu.J_(o),await(async function(f,p){const v=We(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ye.forEach(p,(d=>ye.forEach(d.Ts,(y=>v.persistence.referenceDelegate.addReference(m,d.targetId,y))).next((()=>ye.forEach(d.Is,(y=>v.persistence.referenceDelegate.removeReference(m,d.targetId,y)))))))))}catch(m){if(!ba(m))throw m;Pe(zg,"Failed to update sequence numbers: "+m)}for(const m of p){const d=m.targetId;if(!m.fromCache){const y=v.vs.get(d),S=y.snapshotVersion,E=y.withLastLimboFreeSnapshotVersion(S);v.vs=v.vs.insert(d,E)}}})(r.localStore,a))}async function TO(n,e){const t=We(n);if(!t.currentUser.isEqual(e)){Pe(Xg,"User change. New user:",e.toKey());const r=await yb(t.localStore,e);t.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((f=>{f.reject(new Ie(ge.CANCELLED,l))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(t,r.Ns)}}function bO(n,e){const t=We(n),r=t.Au.get(e);if(r&&r.hu)return Je().add(r.key);{let o=Je();const a=t.Iu.get(e);if(!a)return o;for(const l of a){const c=t.Tu.get(l);o=o.unionWith(c.view.nu)}return o}}function jb(n){const e=We(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vO.bind(null,e),e.Pu.J_=sO.bind(null,e.eventManager),e.Pu.yu=aO.bind(null,e.eventManager),e}function SO(n){const e=We(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_O.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EO.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Df(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return RC(this.persistence,new SC,e.initialUser,this.serializer)}Cu(e){return new gb(qg.Vi,this.serializer)}Du(e){return new LC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class AO extends hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){st(this.persistence.referenceDelegate instanceof cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uC(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new gb((r=>cf.Vi(r,t)),this.serializer)}}class ng{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>n0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=TO.bind(null,this.syncEngine),await rO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oO})()}createDatastore(e){const t=Df(e.databaseInfo.databaseId),r=UC(e.databaseInfo);return HC(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,o,a,l,c){return new WC(r,o,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>n0(this.syncEngine,t,0)),(function(){return Y1.v()?new Y1:new DC})())}createSyncEngine(e,t){return(function(o,a,l,c,f,p,v){const m=new fO(o,a,l,c,f,p);return v&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=We(t);Pe(Jo,"RemoteStore shutting down."),r.Ea.add(5),await ou(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ng.provider={build:()=>new ng};class Vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const co="FirestoreClient";class IO{constructor(e,t,r,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=o,this.user=cn.UNAUTHENTICATED,this.clientId=kg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async l=>{Pe(co,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(r,(l=>(Pe(co,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Qg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function zd(n,e){n.asyncQueue.verifyOperationInProgress(),Pe(co,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async o=>{r.isEqual(o)||(await yb(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function i0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RO(n);Pe(co,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>J1(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,o)=>J1(e.remoteStore,o))),n._onlineComponents=e}async function RO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe(co,"Using user provided OfflineComponentProvider");try{await zd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ge.FAILED_PRECONDITION||o.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await zd(n,new hf)}}else Pe(co,"Using default OfflineComponentProvider"),await zd(n,new AO(void 0));return n._offlineComponents}async function Ub(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe(co,"Using user provided OnlineComponentProvider"),await i0(n,n._uninitializedComponentsProvider._online)):(Pe(co,"Using default OnlineComponentProvider"),await i0(n,new ng))),n._onlineComponents}function kO(n){return Ub(n).then((e=>e.syncEngine))}async function Fb(n){const e=await Ub(n),t=e.eventManager;return t.onListen=hO.bind(null,e.syncEngine),t.onUnlisten=mO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gO.bind(null,e.syncEngine),t}function PO(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const v=new Vb({next:d=>{v.Nu(),l.enqueueAndForget((()=>kb(a,m)));const y=d.docs.has(c);!y&&d.fromCache?p.reject(new Ie(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&d.fromCache&&f&&f.source==="server"?p.reject(new Ie(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(d)},error:d=>p.reject(d)}),m=new Pb(Lg(c.path),v,{includeMetadataChanges:!0,Ka:!0});return Rb(a,m)})(await Fb(n),n.asyncQueue,e,t,r))),r.promise}function xO(n,e,t={}){const r=new ci;return n.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,f,p){const v=new Vb({next:d=>{v.Nu(),l.enqueueAndForget((()=>kb(a,m))),d.fromCache&&f.source==="server"?p.reject(new Ie(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(d)},error:d=>p.reject(d)}),m=new Pb(c,v,{includeMetadataChanges:!0,Ka:!0});return Rb(a,m)})(await Fb(n),n.asyncQueue,e,t,r))),r.promise}function CO(n,e){const t=new ci;return n.asyncQueue.enqueueAndForget((async()=>yO(await kO(n),e,t))),t.promise}function qb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const OO="ComponentProvider",o0=new Map;function NO(n,e,t,r,o){return new JP(n,e,t,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,qb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}const Bb="firestore.googleapis.com",s0=!0;class a0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=s0}else this.host=e.host,this.ssl=e.ssl??s0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aC)throw new Ie(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qb(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ie(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vf{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CP;switch(r.type){case"firstParty":return new DP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=o0.get(t);r&&(Pe(OO,"Removing Datastore"),o0.delete(t),r.terminate())})(this),Promise.resolve()}}function LO(n,e,t,r={}){n=fr(n,Vf);const o=fo(e),a=n._getSettings(),l={...a,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;o&&(Tg(`https://${c}`),bg("Firestore",!0)),a.host!==Bb&&a.host!==c&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:c,ssl:o,emulatorOptions:r};if(!Qo(f,l)&&(n._setSettings(f),r.mockUserToken)){let p,v;if(typeof r.mockUserToken=="string")p=r.mockUserToken,v=cn.MOCK_USER;else{p=dT(r.mockUserToken,n._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ie(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new cn(m)}n._authCredentials=new OP(new IT(p,v))}}class mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class Ot{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new no(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(nu(t,Ot._jsonSchema))return new Ot(e,r||null,new Le(dt.fromString(t.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:Vt("string",Ot._jsonSchemaVersion),referencePath:Vt("string")};class no extends mo{constructor(e,t,r){super(e,t,Lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new Le(e))}withConverter(e){return new no(this.firestore,e,this._path)}}function Uf(n,e,...t){if(n=wt(n),RT("collection","path",e),n instanceof Vf){const r=dt.fromString(e,...t);return E1(r),new no(n,null,r)}{if(!(n instanceof Ot||n instanceof no))throw new Ie(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return E1(r),new no(n.firestore,null,r)}}function da(n,e,...t){if(n=wt(n),arguments.length===1&&(e=kg.newId()),RT("doc","path",e),n instanceof Vf){const r=dt.fromString(e,...t);return _1(r),new Ot(n,null,new Le(r))}{if(!(n instanceof Ot||n instanceof no))throw new Ie(ge.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(dt.fromString(e,...t));return _1(r),new Ot(n.firestore,n instanceof no?n.converter:null,new Le(r))}}const l0="AsyncQueue";class u0{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _b(this,"async_queue_retry"),this._c=()=>{const r=Bd();r&&Pe(l0,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Bd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Bd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ci;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ba(e))throw e;Pe(l0,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,mi("INTERNAL UNHANDLED ERROR: ",c0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Gg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(o),o}uc(){this.nc&&Fe(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function c0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class is extends Vf{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new u0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u0(e),this._firestoreClient=void 0,await e}}}function DO(n,e){const t=typeof n=="object"?n:Ig(),r=typeof n=="string"?n:rf,o=Af(t,"firestore").getImmediate({identifier:r});if(!o._initialized){const a=cT("firestore");a&&LO(o,...a)}return o}function Zg(n){if(n._terminated)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||MO(n),n._firestoreClient}function MO(n){const e=n._freezeSettings(),t=NO(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new IO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(o){const a=o?._online.build();return{_offline:o?._offline.build(a),_online:a}})(n._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(tn.fromBase64String(e))}catch(t){throw new Ie(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Gn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Vt("string",Gn._jsonSchemaVersion),bytes:Vt("string")};class ey{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ff{constructor(e){this._methodName=e}}class jr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(nu(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:Vt("string",jr._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class cr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==o[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new cr(e.vectorValues);throw new Ie(ge.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:Vt("string",cr._jsonSchemaVersion),vectorValues:Vt("object")};const jO=/^__.*__$/;class VO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new po(e,this.data,this.fieldMask,t,this.fieldTransforms):new ru(e,this.data,t,this.fieldTransforms)}}class zb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new po(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Hb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe(40011,{dataSource:n})}}class ty{constructor(e,t,r,o,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return df(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Hb(this.dataSource)&&jO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class UO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Df(e)}createContext(e,t,r,o=!1){return new ty({dataSource:e,methodName:t,targetDoc:r,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qf(n){const e=n._freezeSettings(),t=Df(n._databaseId);return new UO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function $b(n,e,t,r,o,a={}){const l=n.createContext(a.merge||a.mergeFields?2:0,e,t,o);ry("Data must be an object, but it was:",l,r);const c=Wb(r,l);let f,p;if(a.merge)f=new Dn(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const v=[];for(const m of a.mergeFields){const d=pa(e,m,t);if(!l.contains(d))throw new Ie(ge.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Qb(v,d)||v.push(d)}f=new Dn(v),p=l.fieldTransforms.filter((m=>f.covers(m.field)))}else f=null,p=l.fieldTransforms;return new VO(new An(c),f,p)}class Bf extends Ff{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bf}}class ny extends Ff{_toFieldTransform(e){return new Rx(e.path,new Wl)}isEqual(e){return e instanceof ny}}function FO(n,e,t,r){const o=n.createContext(1,e,t);ry("Data must be an object, but it was:",o,r);const a=[],l=An.empty();ho(r,((f,p)=>{const v=Gb(e,f,t);p=wt(p);const m=o.childContextForFieldPath(v);if(p instanceof Bf)a.push(v);else{const d=au(p,m);d!=null&&(a.push(v),l.set(v,d))}}));const c=new Dn(a);return new zb(l,c,o.fieldTransforms)}function qO(n,e,t,r,o,a){const l=n.createContext(1,e,t),c=[pa(e,r,t)],f=[o];if(a.length%2!=0)throw new Ie(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)c.push(pa(e,a[d])),f.push(a[d+1]);const p=[],v=An.empty();for(let d=c.length-1;d>=0;--d)if(!Qb(p,c[d])){const y=c[d];let S=f[d];S=wt(S);const E=l.childContextForFieldPath(y);if(S instanceof Bf)p.push(y);else{const _=au(S,E);_!=null&&(p.push(y),v.set(y,_))}}const m=new Dn(p);return new zb(v,m,l.fieldTransforms)}function BO(n,e,t,r=!1){return au(t,n.createContext(r?4:3,e))}function au(n,e){if(Kb(n=wt(n)))return ry("Unsupported field value:",e,n),Wb(n,e);if(n instanceof Ff)return(function(r,o){if(!Hb(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const a=[];let l=0;for(const c of r){let f=au(c,o.childContextForArray(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(n,e)}return(function(r,o){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Sx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=yt.fromDate(r);return{timestampValue:uf(o.serializer,a)}}if(r instanceof yt){const a=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uf(o.serializer,a)}}if(r instanceof jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:ab(o.serializer,r._byteString)};if(r instanceof Ot){const a=o.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw o.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Ug(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof cr)return(function(l,c){const f=l instanceof cr?l.toArray():l;return{mapValue:{fields:{[MT]:{stringValue:jT},[of]:{arrayValue:{values:f.map((v=>{if(typeof v!="number")throw c.createError("VectorValues must only contain numeric values.");return Dg(c.serializer,v)}))}}}}}})(r,o);if(pb(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${If(r)}`)})(n,e)}function Wb(n,e){const t={};return xT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(n,((r,o)=>{const a=au(o,e.childContextForField(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function Kb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof yt||n instanceof jr||n instanceof Gn||n instanceof Ot||n instanceof Ff||n instanceof cr||pb(n))}function ry(n,e,t){if(!Kb(t)||!kT(t)){const r=If(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function pa(n,e,t){if((e=wt(e))instanceof ey)return e._internalPath;if(typeof e=="string")return Gb(n,e);throw df("Field path arguments must be of type string or ",n,!1,void 0,t)}const zO=new RegExp("[~\\*/\\[\\]]");function Gb(n,e,t){if(e.search(zO)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ey(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function df(n,e,t,r,o){const a=r&&!r.isEmpty(),l=o!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${o}`),f+=")"),new Ie(ge.INVALID_ARGUMENT,c+n+f)}function Qb(n,e){return n.some((t=>t.isEqual(e)))}class HO{convertValue(e,t="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ho(e,((o,a)=>{r[o]=this.convertValue(a,t)})),r}convertVectorValue(e){const t=e.fields?.[of].arrayValue?.values?.map((r=>Ct(r.doubleValue)));return new cr(t)}convertGeoPoint(e){return new jr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const t=so(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=dt.fromString(e);st(db(r),9688,{name:e});const o=new zl(r.get(1),r.get(3)),a=new Le(r.popFirst(5));return o.isEqual(t)||mi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}class Yb extends HO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,t)}}function Xb(){return new ny("serverTimestamp")}const f0="@firebase/firestore",h0="4.10.0";class Jb{constructor(e,t,r,o,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $O(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(pa("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $O extends Jb{data(){return super.data()}}function WO(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iy{}class oy extends iy{}function Zb(n,e,...t){let r=[];e instanceof iy&&r.push(e),r=r.concat(t),(function(a){const l=a.filter((f=>f instanceof ay)).length,c=a.filter((f=>f instanceof sy)).length;if(l>1||l>0&&c>0)throw new Ie(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)n=o._apply(n);return n}class sy extends oy{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sy(e,t,r)}_apply(e){const t=this._parse(e);return tS(e._query,t),new mo(e.firestore,e.converter,Km(e._query,t))}_parse(e){const t=qf(e.firestore);return(function(a,l,c,f,p,v,m){let d;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Ie(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){p0(m,v);const S=[];for(const E of m)S.push(d0(f,a,E));d={arrayValue:{values:S}}}else d=d0(f,a,m)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||p0(m,v),d=BO(c,l,m,v==="in"||v==="not-in");return jt.create(p,v,d)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class ay extends iy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ay(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:hr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let l=o;const c=a.getFlattenedFilters();for(const f of c)tS(l,f),l=Km(l,f)})(e._query,t),new mo(e.firestore,e.converter,Km(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ly extends oy{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ly(e,t)}_apply(e){const t=(function(o,a,l){if(o.startAt!==null)throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(a,l)})(e._query,this._field,this._direction);return new mo(e.firestore,e.converter,gx(e._query,t))}}function eS(n,e="asc"){const t=e,r=pa("orderBy",n);return ly._create(r,t)}class uy extends oy{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new uy(e,t,r)}_apply(e){return new mo(e.firestore,e.converter,af(e._query,this._limit,this._limitType))}}function KO(n){return uy._create("limit",n,"F")}function d0(n,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$T(e)&&t.indexOf("/")!==-1)throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(dt.fromString(t));if(!Le.isDocumentKey(r))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return k1(n,new Le(r))}if(t instanceof Ot)return k1(n,t._key);throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${If(t)}.`)}function p0(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tS(n,e){const t=(function(o,a){for(const l of o)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ie(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nS(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Pl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wo extends Jb{constructor(e,t,r,o,a,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pa("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ge.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Wo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Wo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wo._jsonSchema={type:Vt("string",Wo._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class zc extends Wo{data(e={}){return super.data(e)}}class ta{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Pl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new zc(this._firestore,this._userDataWriter,r.key,r,new Pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let l=0;return o._snapshot.docChanges.map((c=>{const f=new zc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Pl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const f=new zc(o._firestore,o._userDataWriter,c.doc.key,c.doc,new Pl(o._snapshot.mutatedKeys.has(c.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),v=l.indexOf(c.doc.key)),{type:GO(c.type),doc:f,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ie(ge.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ta._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],o=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),o.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fe(61501,{type:n})}}ta._jsonSchemaVersion="firestore/querySnapshot/1.0",ta._jsonSchema={type:Vt("string",ta._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function m0(n){n=fr(n,Ot);const e=fr(n.firestore,is),t=Zg(e);return PO(t,n._key).then((r=>ZO(e,n,r)))}function cy(n){n=fr(n,mo);const e=fr(n.firestore,is),t=Zg(e),r=new Yb(e);return WO(n._query),xO(t,n._query).then((o=>new ta(e,r,n,o)))}function QO(n,e,t){n=fr(n,Ot);const r=fr(n.firestore,is),o=nS(n.converter,e,t),a=qf(r);return zf(r,[$b(a,"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Qn.none())])}function YO(n,e,t,...r){n=fr(n,Ot);const o=fr(n.firestore,is),a=qf(o);let l;return l=typeof(e=wt(e))=="string"||e instanceof ey?qO(a,"updateDoc",n._key,e,t,r):FO(a,"updateDoc",n._key,e),zf(o,[l.toMutation(n._key,Qn.exists(!0))])}function XO(n){return zf(fr(n.firestore,is),[new Mg(n._key,Qn.none())])}function JO(n,e){const t=fr(n.firestore,is),r=da(n),o=nS(n.converter,e),a=qf(n.firestore);return zf(t,[$b(a,"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then((()=>r))}function zf(n,e){const t=Zg(n);return CO(t,e)}function ZO(n,e,t){const r=t.docs.get(e._key),o=new Yb(n);return new Wo(n,o,e._key,r,new Pl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){xP(ts),Yo(new io("firestore",((r,{instanceIdentifier:o,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new is(new NP(r.getProvider("auth-internal")),new MP(l,r.getProvider("app-check-internal")),ZP(l,o),l);return a={useFetchStreams:t,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),Lr(f0,h0,e),Lr(f0,h0,"esm2020")})();var eN="firebase",tN="12.8.0";Lr(eN,tN,"app");function rS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nN=rS,iS=new eu("auth","Firebase",rS());const pf=new Sg("@firebase/auth");function rN(n,...e){pf.logLevel<=Ye.WARN&&pf.warn(`Auth (${ts}): ${n}`,...e)}function Hc(n,...e){pf.logLevel<=Ye.ERROR&&pf.error(`Auth (${ts}): ${n}`,...e)}function dr(n,...e){throw fy(n,...e)}function Vr(n,...e){return fy(n,...e)}function oS(n,e,t){const r={...nN(),[e]:t};return new eu("auth","Firebase",r).create(e,{appName:n.name})}function ro(n){return oS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return iS.create(n,...e)}function Ue(n,e,...t){if(!n)throw fy(e,...t)}function ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hc(e),new Error(e)}function yi(n,e){n||ai(e)}function rg(){return typeof self<"u"&&self.location?.href||""}function iN(){return g0()==="http:"||g0()==="https:"}function g0(){return typeof self<"u"&&self.location?.protocol||null}function oN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iN()||uk()||"connection"in navigator)?navigator.onLine:!0}function sN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class lu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=sk()||ck()}get(){return oN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hy(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class sS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const aN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const lN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uN=new lu(3e4,6e4);function go(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Br(n,e,t,r,o={}){return aS(n,o,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=tu({key:n.config.apiKey,...l}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return lk()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&fo(n.emulatorConfig.host)&&(p.credentials="include"),sS.fetch()(await lS(n,n.config.apiHost,t,c),p)})}async function aS(n,e,t){n._canInitEmulator=!1;const r={...aN,...e};try{const o=new fN(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Oc(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[f,p]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Oc(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Oc(n,"user-disabled",l);const v=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw oS(n,v,p);dr(n,v)}}catch(o){if(o instanceof qr)throw o;dr(n,"network-request-failed",{message:String(o)})}}async function Hf(n,e,t,r,o={}){const a=await Br(n,e,t,r,o);return"mfaPendingCredential"in a&&dr(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function lS(n,e,t,r){const o=`${e}${t}?${r}`,a=n,l=a.config.emulator?hy(n.config,o):`${n.config.apiScheme}://${o}`;return lN.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function cN(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),uN.get())})}}function Oc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Vr(n,e,r);return o.customData._tokenResponse=t,o}function y0(n){return n!==void 0&&n.enterprise!==void 0}class hN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dN(n,e){return Br(n,"GET","/v2/recaptchaConfig",go(n,e))}async function pN(n,e){return Br(n,"POST","/v1/accounts:delete",e)}async function mf(n,e){return Br(n,"POST","/v1/accounts:lookup",e)}function jl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mN(n,e=!1){const t=wt(n),r=await t.getIdToken(e),o=dy(r);Ue(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,l=a?.sign_in_provider;return{claims:o,token:r,authTime:jl(Hd(o.auth_time)),issuedAtTime:jl(Hd(o.iat)),expirationTime:jl(Hd(o.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Hd(n){return Number(n)*1e3}function dy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const o=lT(t);return o?JSON.parse(o):(Hc("Failed to decode base64 JWT payload"),null)}catch(o){return Hc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function v0(n){const e=dy(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ma(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qr&&gN(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function gN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class yN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ig{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gf(n){const e=n.auth,t=await n.getIdToken(),r=await ma(n,mf(e,{idToken:t}));Ue(r?.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const a=o.providerUserInfo?.length?uS(o.providerUserInfo):[],l=_N(n.providerData,a),c=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!l?.length,p=c?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,v)}async function vN(n){const e=wt(n);await gf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _N(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function uS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function EN(n,e){const t=await aS(n,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,l=await lS(n,o,"/v1/token",`key=${a}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&fo(n.emulatorConfig.host)&&(f.credentials="include"),sS.fetch()(l,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wN(n,e){return Br(n,"POST","/v2/accounts:revokeToken",go(n,e))}class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");const t=v0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:o,expiresIn:a}=await EN(e,t);this.updateTokensAndExpiration(r,o,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:a}=t,l=new na;return r&&(Ue(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),o&&(Ue(typeof o=="string","internal-error",{appName:e}),l.accessToken=o),a&&(Ue(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return ai("not implemented")}}function Wi(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class lr{constructor({uid:e,auth:t,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new yN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ig(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await ma(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mN(this,e)}reload(){return vN(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await gf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ro(this.auth));const e=await this.getIdToken();return await ma(this,pN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,o=t.email??void 0,a=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:m,emailVerified:d,isAnonymous:y,providerData:S,stsTokenManager:E}=t;Ue(m&&E,e,"internal-error");const _=na.fromJSON(this.name,E);Ue(typeof m=="string",e,"internal-error"),Wi(r,e.name),Wi(o,e.name),Ue(typeof d=="boolean",e,"internal-error"),Ue(typeof y=="boolean",e,"internal-error"),Wi(a,e.name),Wi(l,e.name),Wi(c,e.name),Wi(f,e.name),Wi(p,e.name),Wi(v,e.name);const T=new lr({uid:m,auth:e,email:o,emailVerified:d,displayName:r,isAnonymous:y,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:_,createdAt:p,lastLoginAt:v});return S&&Array.isArray(S)&&(T.providerData=S.map(w=>({...w}))),f&&(T._redirectEventId=f),T}static async _fromIdTokenResponse(e,t,r=!1){const o=new na;o.updateFromServerResponse(t);const a=new lr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await gf(a),a}static async _fromGetAccountInfoResponse(e,t,r){const o=t.users[0];Ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?uS(o.providerUserInfo):[],l=!(o.email&&o.passwordHash)&&!a?.length,c=new na;c.updateFromIdToken(r);const f=new lr({uid:o.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ig(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!a?.length};return Object.assign(f,p),f}}const _0=new Map;function li(n){yi(n instanceof Function,"Expected a class definition");let e=_0.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_0.set(n,e),e)}class cS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cS.type="NONE";const E0=cS;function $c(n,e,t){return`firebase:${n}:${e}:${t}`}class ra{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:a}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,a),this.fullPersistenceKey=$c("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mf(this.auth,{idToken:e}).catch(()=>{});return t?lr._fromGetAccountInfoResponse(this.auth,t,e):null}return lr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ra(li(E0),e,r);const o=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=o[0]||li(E0);const l=$c(r,e.config.apiKey,e.name);let c=null;for(const p of t)try{const v=await p._get(l);if(v){let m;if(typeof v=="string"){const d=await mf(e,{idToken:v}).catch(()=>{});if(!d)break;m=await lr._fromGetAccountInfoResponse(e,d,v)}else m=lr._fromJSON(e,v);p!==a&&(c=m),a=p;break}}catch{}const f=o.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ra(a,e,r):(a=f[0],c&&await a._set(l,c.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new ra(a,e,r))}}function w0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gS(e))return"Blackberry";if(yS(e))return"Webos";if(hS(e))return"Safari";if((e.includes("chrome/")||dS(e))&&!e.includes("edge/"))return"Chrome";if(mS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function fS(n=hn()){return/firefox\//i.test(n)}function hS(n=hn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dS(n=hn()){return/crios\//i.test(n)}function pS(n=hn()){return/iemobile/i.test(n)}function mS(n=hn()){return/android/i.test(n)}function gS(n=hn()){return/blackberry/i.test(n)}function yS(n=hn()){return/webos/i.test(n)}function py(n=hn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function TN(n=hn()){return py(n)&&!!window.navigator?.standalone}function bN(){return fk()&&document.documentMode===10}function vS(n=hn()){return py(n)||mS(n)||yS(n)||gS(n)||/windows phone/i.test(n)||pS(n)}function _S(n,e=[]){let t;switch(n){case"Browser":t=w0(hn());break;case"Worker":t=`${w0(hn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ts}/${r}`}class SN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,c)=>{try{const f=e(a);l(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function AN(n,e={}){return Br(n,"GET","/v2/passwordPolicy",go(n,e))}const IN=6;class RN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??IN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class kN{constructor(e,t,r,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new SN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ra.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mf(this,{idToken:e}),r=await lr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(r=c.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ro(this));const t=e?wt(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ro(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ro(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AN(this),t=new RN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&li(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=await ra.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,o);return()=>{l=!0,f()}}else{const f=e.addObserver(t);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_S(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function os(n){return wt(n)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=_k(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let $f={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(n){$f=n}function ES(n){return $f.loadJS(n)}function xN(){return $f.recaptchaEnterpriseScript}function CN(){return $f.gapiScript}function ON(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class NN{constructor(){this.enterprise=new LN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class LN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const DN="recaptcha-enterprise",wS="NO_RECAPTCHA";class MN{constructor(e){this.type=DN,this.auth=os(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{dN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new hN(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{c(f)})})}function o(a,l,c){const f=window.grecaptcha;y0(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(wS)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NN().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!t&&y0(window.grecaptcha))o(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=xN();f.length!==0&&(f+=c),ES(f).then(()=>{o(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function b0(n,e,t,r=!1,o=!1){const a=new MN(n);let l;if(o)l=wS;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const f=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const f=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function og(n,e,t,r,o){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await b0(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await b0(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)})}function jN(n,e){const t=Af(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Qo(a,e??{}))return o;dr(o,"already-initialized")}return t.initialize({options:e})}function VN(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function UN(n,e,t){const r=os(n);Ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,a=TS(e),{host:l,port:c}=FN(e),f=c===null?"":`:${c}`,p={url:`${a}//${l}${f}/`},v=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ue(Qo(p,r.config.emulator)&&Qo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,fo(l)?(Tg(`${a}//${l}${f}`),bg("Auth",!0)):qN()}function TS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function FN(n){const e=TS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const a=o[1];return{host:a,port:S0(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:S0(l)}}}function S0(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function qN(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class my{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function BN(n,e){return Br(n,"POST","/v1/accounts:signUp",e)}async function zN(n,e){return Hf(n,"POST","/v1/accounts:signInWithPassword",go(n,e))}async function HN(n,e){return Br(n,"POST","/v1/accounts:sendOobCode",go(n,e))}async function $N(n,e){return HN(n,e)}async function WN(n,e){return Hf(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}async function KN(n,e){return Hf(n,"POST","/v1/accounts:signInWithEmailLink",go(n,e))}class Ql extends my{constructor(e,t,r,o=null){super("password",r),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ql(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ql(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,t,"signInWithPassword",zN);case"emailLink":return WN(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return og(e,r,"signUpPassword",BN);case"emailLink":return KN(e,{idToken:t,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ia(n,e){return Hf(n,"POST","/v1/accounts:signInWithIdp",go(n,e))}const GN="http://localhost";class Zo extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Zo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...a}=t;if(!r||!o)return null;const l=new Zo(r,o);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ia(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ia(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ia(e,t)}buildRequest(){const e={requestUri:GN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tu(t)}return e}}function QN(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YN(n){const e=Sl(Al(n)).link,t=e?Sl(Al(e)).deep_link_id:null,r=Sl(Al(n)).deep_link_id;return(r?Sl(Al(r)).link:null)||r||t||e||n}class gy{constructor(e){const t=Sl(Al(e)),r=t.apiKey??null,o=t.oobCode??null,a=QN(t.mode??null);Ue(r&&o&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=YN(e);try{return new gy(t)}catch{return null}}}class Ia{constructor(){this.providerId=Ia.PROVIDER_ID}static credential(e,t){return Ql._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=gy.parseLink(t);return Ue(r,"argument-error"),Ql._fromEmailAndCode(e,r.code,r.tenantId)}}Ia.PROVIDER_ID="password";Ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class bS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class uu extends bS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ki extends uu{constructor(){super("facebook.com")}static credential(e){return Zo._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";class Gi extends uu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Zo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Gi.credential(t,r)}catch{return null}}}Gi.GOOGLE_SIGN_IN_METHOD="google.com";Gi.PROVIDER_ID="google.com";class Qi extends uu{constructor(){super("github.com")}static credential(e){return Zo._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.GITHUB_SIGN_IN_METHOD="github.com";Qi.PROVIDER_ID="github.com";class Yi extends uu{constructor(){super("twitter.com")}static credential(e,t){return Zo._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Yi.credential(t,r)}catch{return null}}}Yi.TWITTER_SIGN_IN_METHOD="twitter.com";Yi.PROVIDER_ID="twitter.com";class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,o=!1){const a=await lr._fromIdTokenResponse(e,r,o),l=A0(r);return new ga({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const o=A0(r);return new ga({user:e,providerId:o,_tokenResponse:r,operationType:t})}}function A0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class yf extends qr{constructor(e,t,r,o){super(t.code,t.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,o){return new yf(e,t,r,o)}}function SS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yf._fromErrorAndOperation(n,a,e,r):a})}async function XN(n,e,t=!1){const r=await ma(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ga._forOperation(n,"link",r)}async function JN(n,e,t=!1){const{auth:r}=n;if(Kn(r.app))return Promise.reject(ro(r));const o="reauthenticate";try{const a=await ma(n,SS(r,o,e,n),t);Ue(a.idToken,r,"internal-error");const l=dy(a.idToken);Ue(l,r,"internal-error");const{sub:c}=l;return Ue(n.uid===c,r,"user-mismatch"),ga._forOperation(n,o,a)}catch(a){throw a?.code==="auth/user-not-found"&&dr(r,"user-mismatch"),a}}async function AS(n,e,t=!1){if(Kn(n.app))return Promise.reject(ro(n));const r="signIn",o=await SS(n,r,e),a=await ga._fromIdTokenResponse(n,r,o);return t||await n._updateCurrentUser(a.user),a}async function ZN(n,e){return AS(os(n),e)}async function e4(n){const e=os(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function t4(n,e,t){const r=os(n);await og(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$N)}function n4(n,e,t){return Kn(n.app)?Promise.reject(ro(n)):ZN(wt(n),Ia.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&e4(n),r})}async function r4(n,e){return Br(n,"POST","/v1/accounts:update",e)}async function IS(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=wt(n),a={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await ma(r,r4(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:f})=>f==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function i4(n,e,t,r){return wt(n).onIdTokenChanged(e,t,r)}function o4(n,e,t){return wt(n).beforeAuthStateChanged(e,t)}function RS(n,e,t,r){return wt(n).onAuthStateChanged(e,t,r)}function s4(n){return wt(n).signOut()}const vf="__sak";class kS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const a4=1e3,l4=10;class PS extends kS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),o=this.localCache[t];r!==o&&e(t,o,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,f)=>{this.notifyListeners(l,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);bN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,l4):o()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},a4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}PS.type="LOCAL";const u4=PS;class xS extends kS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xS.type="SESSION";const CS=xS;function c4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Wf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const r=new Wf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:o,data:a}=t.data,l=this.handlersMap[o];if(!l?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const c=Array.from(l).map(async p=>p(t.origin,a)),f=await c4(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wf.receivers=[];function yy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class f4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,l;return new Promise((c,f)=>{const p=yy("",20);o.port1.start();const v=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:o,onMessage(m){const d=m;if(d.data.eventId===p)switch(d.data.status){case"ack":clearTimeout(v),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(d.data.response);break;default:clearTimeout(v),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),o.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[o.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ur(){return window}function h4(n){Ur().location.href=n}function OS(){return typeof Ur().WorkerGlobalScope<"u"&&typeof Ur().importScripts=="function"}async function d4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p4(){return navigator?.serviceWorker?.controller||null}function m4(){return OS()?self:null}const NS="firebaseLocalStorageDb",g4=1,_f="firebaseLocalStorage",LS="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Kf(n,e){return n.transaction([_f],e?"readwrite":"readonly").objectStore(_f)}function y4(){const n=indexedDB.deleteDatabase(NS);return new cu(n).toPromise()}function sg(){const n=indexedDB.open(NS,g4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(_f,{keyPath:LS})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(_f)?e(r):(r.close(),await y4(),e(await sg()))})})}async function I0(n,e,t){const r=Kf(n,!0).put({[LS]:e,value:t});return new cu(r).toPromise()}async function v4(n,e){const t=Kf(n,!1).get(e),r=await new cu(t).toPromise();return r===void 0?null:r.value}function R0(n,e){const t=Kf(n,!0).delete(e);return new cu(t).toPromise()}const _4=800,E4=3;class DS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>E4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wf._getInstance(m4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await d4(),!this.activeServiceWorker)return;this.sender=new f4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await I0(e,vf,"1"),await R0(e,vf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>I0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>v4(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>R0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Kf(o,!1).getAll();return new cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DS.type="LOCAL";const w4=DS;new lu(3e4,6e4);function T4(n,e){return e?li(e):(Ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class vy extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function b4(n){return AS(n.auth,new vy(n),n.bypassAuthState)}function S4(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),JN(t,new vy(n),n.bypassAuthState)}async function A4(n){const{auth:e,user:t}=n;return Ue(t,e,"internal-error"),XN(t,new vy(n),n.bypassAuthState)}class MS{constructor(e,t,r,o,a=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:o,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return b4;case"linkViaPopup":case"linkViaRedirect":return A4;case"reauthViaPopup":case"reauthViaRedirect":return S4;default:dr(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I4=new lu(2e3,1e4);class Js extends MS{constructor(e,t,r,o,a){super(e,t,o,a),this.provider=r,this.authWindow=null,this.pollId=null,Js.currentPopupAction&&Js.currentPopupAction.cancel(),Js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ue(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Js.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I4.get())};e()}}Js.currentPopupAction=null;const R4="pendingRedirect",Wc=new Map;class k4 extends MS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await P4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P4(n,e){const t=O4(e),r=C4(n);if(!await r._isAvailable())return!1;const o=await r._get(t)==="true";return await r._remove(t),o}function x4(n,e){Wc.set(n._key(),e)}function C4(n){return li(n._redirectPersistence)}function O4(n){return $c(R4,n.config.apiKey,n.name)}async function N4(n,e,t=!1){if(Kn(n.app))return Promise.reject(ro(n));const r=os(n),o=T4(r,e),l=await new k4(r,o,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}const L4=600*1e3;class D4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!jS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Vr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L4&&this.cachedEventUids.clear(),this.cachedEventUids.has(k0(e))}saveEventToCache(e){this.cachedEventUids.add(k0(e)),this.lastProcessedEventTime=Date.now()}}function k0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function jS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function M4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jS(n);default:return!1}}async function j4(n,e={}){return Br(n,"GET","/v1/projects",e)}const V4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U4=/^https?/;async function F4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await j4(n);for(const t of e)try{if(q4(t))return}catch{}dr(n,"unauthorized-domain")}function q4(n){const e=rg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!U4.test(t))return!1;if(V4.test(n))return r===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const B4=new lu(3e4,6e4);function P0(){const n=Ur().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function z4(n){return new Promise((e,t)=>{function r(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),t(Vr(n,"network-request-failed"))},timeout:B4.get()})}if(Ur().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ur().gapi?.load)r();else{const o=ON("iframefcb");return Ur()[o]=()=>{gapi.load?r():t(Vr(n,"network-request-failed"))},ES(`${CN()}?onload=${o}`).catch(a=>t(a))}}).catch(e=>{throw Kc=null,e})}let Kc=null;function H4(n){return Kc=Kc||z4(n),Kc}const $4=new lu(5e3,15e3),W4="__/auth/iframe",K4="emulator/auth/iframe",G4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y4(n){const e=n.config;Ue(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hy(e,K4):`https://${n.config.authDomain}/${W4}`,r={apiKey:e.apiKey,appName:n.name,v:ts},o=Q4.get(n.config.apiHost);o&&(r.eid=o);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${tu(r).slice(1)}`}async function X4(n){const e=await H4(n),t=Ur().gapi;return Ue(t,n,"internal-error"),e.open({where:document.body,url:Y4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G4,dontclear:!0},r=>new Promise(async(o,a)=>{await r.restyle({setHideOnLeave:!1});const l=Vr(n,"network-request-failed"),c=Ur().setTimeout(()=>{a(l)},$4.get());function f(){Ur().clearTimeout(c),o(r)}r.ping(f).then(f,()=>{a(l)})}))}const J4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z4=500,eL=600,tL="_blank",nL="http://localhost";class x0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rL(n,e,t,r=Z4,o=eL){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...J4,width:r.toString(),height:o.toString(),top:a,left:l},p=hn().toLowerCase();t&&(c=dS(p)?tL:t),fS(p)&&(e=e||nL,f.scrollbars="yes");const v=Object.entries(f).reduce((d,[y,S])=>`${d}${y}=${S},`,"");if(TN(p)&&c!=="_self")return iL(e||"",c),new x0(null);const m=window.open(e||"",c,v);Ue(m,n,"popup-blocked");try{m.focus()}catch{}return new x0(m)}function iL(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const oL="__/auth/handler",sL="emulator/auth/handler",aL=encodeURIComponent("fac");async function C0(n,e,t,r,o,a){Ue(n.config.authDomain,n,"auth-domain-config-required"),Ue(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ts,eventId:o};if(e instanceof bS){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",vk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,m]of Object.entries({}))l[v]=m}if(e instanceof uu){const v=e.getScopes().filter(m=>m!=="");v.length>0&&(l.scopes=v.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const v of Object.keys(c))c[v]===void 0&&delete c[v];const f=await n._getAppCheckToken(),p=f?`#${aL}=${encodeURIComponent(f)}`:"";return`${lL(n)}?${tu(c).slice(1)}${p}`}function lL({config:n}){return n.emulator?hy(n,sL):`https://${n.authDomain}/${oL}`}const $d="webStorageSupport";class uL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CS,this._completeRedirectFn=N4,this._overrideRedirectResult=x4}async _openPopup(e,t,r,o){yi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await C0(e,t,r,rg(),o);return rL(e,a,yy())}async _openRedirect(e,t,r,o){await this._originValidation(e);const a=await C0(e,t,r,rg(),o);return h4(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(yi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await X4(e),r=new D4(e);return t.register("authEvent",o=>(Ue(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($d,{type:$d},o=>{const a=o?.[0]?.[$d];a!==void 0&&t(!!a),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vS()||hS()||py()}}const cL=uL;var O0="@firebase/auth",N0="1.12.0";class fL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dL(n){Yo(new io("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ue(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_S(n)},p=new kN(r,o,a,f);return VN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yo(new io("auth-internal",e=>{const t=os(e.getProvider("auth").getImmediate());return(r=>new fL(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(O0,N0,hL(n)),Lr(O0,N0,"esm2020")}const pL=300,mL=hT("authIdTokenMaxAge")||pL;let L0=null;const gL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mL)return;const o=t?.token;L0!==o&&(L0=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yL(n=Ig()){const e=Af(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jN(n,{popupRedirectResolver:cL,persistence:[w4,u4,CS]}),r=hT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=gL(a.toString());o4(t,l,()=>l(t.currentUser)),i4(t,c=>l(c))}}const o=uT("auth");return o&&UN(t,`http://${o}`),t}function vL(){return document.getElementsByTagName("head")?.[0]??document}PN({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=o=>{const a=Vr("internal-error");a.customData=o,t(a)},r.type="text/javascript",r.charset="UTF-8",vL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dL("Browser");const VS="firebasestorage.googleapis.com",US="storageBucket",_L=120*1e3,EL=600*1e3,wL=1e3;class At extends qr{constructor(e,t,r=0){super(Wd(e),`Firebase Storage: ${t} (${Wd(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,At.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function Wd(n){return"storage/"+n}function _y(){const n="An unknown error occurred, please check the error payload for server response.";return new At(vt.UNKNOWN,n)}function TL(n){return new At(vt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function bL(n){return new At(vt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SL(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new At(vt.UNAUTHENTICATED,n)}function AL(){return new At(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IL(n){return new At(vt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function FS(){return new At(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qS(){return new At(vt.CANCELED,"User canceled the upload/download.")}function RL(n){return new At(vt.INVALID_URL,"Invalid URL '"+n+"'.")}function kL(n){return new At(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function PL(){return new At(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+US+"' property when initializing the app?")}function BS(){return new At(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xL(){return new At(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function CL(){return new At(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function OL(n){return new At(vt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ag(n){return new At(vt.INVALID_ARGUMENT,n)}function zS(){return new At(vt.APP_DELETED,"The Firebase app was deleted.")}function NL(n){return new At(vt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vl(n,e){return new At(vt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wl(n){throw new At(vt.INTERNAL_ERROR,"Internal error: "+n)}class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(r.path==="")return r;throw kL(e)}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)";function a(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+o+l,"i"),f={bucket:1,path:3};function p(b){b.path_=decodeURIComponent(b.path)}const v="v[A-Za-z0-9_]+",m=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${v}/b/${o}/o${d}`,"i"),S={bucket:1,path:3},E=t===VS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,_="([^?#]*)",T=new RegExp(`^https?://${E}/${o}/${_}`,"i"),k=[{regex:c,indices:f,postModify:a},{regex:y,indices:S,postModify:p},{regex:T,indices:{bucket:1,path:2},postModify:p}];for(let b=0;b<k.length;b++){const D=k[b],F=D.regex.exec(e);if(F){const P=F[D.indices.bucket];let R=F[D.indices.path];R||(R=""),r=new Mn(P,R),D.postModify(r);break}}if(r==null)throw RL(e);return r}}class LL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function DL(n,e,t){let r=1,o=null,a=null,l=!1,c=0;function f(){return c===2}let p=!1;function v(..._){p||(p=!0,e.apply(null,_))}function m(_){o=setTimeout(()=>{o=null,n(y,f())},_)}function d(){a&&clearTimeout(a)}function y(_,...T){if(p){d();return}if(_){d(),v.call(null,_,...T);return}if(f()||l){d(),v.call(null,_,...T);return}r<64&&(r*=2);let k;c===1?(c=2,k=0):k=(r+Math.random())*1e3,m(k)}let S=!1;function E(_){S||(S=!0,d(),!p&&(o!==null?(_||(c=2),clearTimeout(o),m(0)):_||(c=1)))}return m(0),a=setTimeout(()=>{l=!0,E(!0)},t),E}function ML(n){n(!1)}function jL(n){return n!==void 0}function VL(n){return typeof n=="function"}function UL(n){return typeof n=="object"&&!Array.isArray(n)}function Gf(n){return typeof n=="string"||n instanceof String}function D0(n){return Ey()&&n instanceof Blob}function Ey(){return typeof Blob<"u"}function M0(n,e,t,r){if(r<e)throw ag(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw ag(`Invalid value for '${n}'. Expected ${t} or less.`)}function Ra(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function HS(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const o=e(r)+"="+e(n[r]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ko;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ko||(Ko={}));function $S(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||o||a}class FL{constructor(e,t,r,o,a,l,c,f,p,v,m,d=!0,y=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=m,this.retry=d,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,E)=>{this.resolve_=S,this.reject_=E,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Nc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const f=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===Ko.NO_ERROR,f=a.getStatus();if(!c||$S(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===Ko.ABORT;r(!1,new Nc(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Nc(p,a))})},t=(r,o)=>{const a=this.resolve_,l=this.reject_,c=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(c,c.getResponse());jL(f)?a(f):a()}catch(f){l(f)}else if(c!==null){const f=_y();f.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,f)):l(f)}else if(o.canceled){const f=this.appDelete_?zS():qS();l(f)}else{const f=FS();l(f)}};this.canceled_?t(!1,new Nc(!1,null,!0)):this.backoffId_=DL(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ML(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nc{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function qL(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function BL(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zL(n,e){e&&(n["X-Firebase-GMPID"]=e)}function HL(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function $L(n,e,t,r,o,a,l=!0,c=!1){const f=HS(n.urlParams),p=n.url+f,v=Object.assign({},n.headers);return zL(v,e),qL(v,t),BL(v,a),HL(v,r),new FL(p,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,l,c)}function WL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function KL(...n){const e=WL();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Ey())return new Blob(n);throw new At(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function GL(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function QL(n){if(typeof atob>"u")throw OL("base-64");return atob(n)}const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kd{constructor(e,t){this.data=e,this.contentType=t||null}}function YL(n,e){switch(n){case Nr.RAW:return new Kd(WS(e));case Nr.BASE64:case Nr.BASE64URL:return new Kd(KS(n,e));case Nr.DATA_URL:return new Kd(JL(e),ZL(e))}throw _y()}function WS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=n.charCodeAt(++t);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function XL(n){let e;try{e=decodeURIComponent(n)}catch{throw Vl(Nr.DATA_URL,"Malformed data URL.")}return WS(e)}function KS(n,e){switch(n){case Nr.BASE64:{const o=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(o||a)throw Vl(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const o=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(o||a)throw Vl(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=QL(e)}catch(o){throw o.message.includes("polyfill")?o:Vl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class GS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Vl(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=eD(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function JL(n){const e=new GS(n);return e.base64?KS(Nr.BASE64,e.rest):XL(e.rest)}function ZL(n){return new GS(n).contentType}function eD(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}class Xi{constructor(e,t){let r=0,o="";D0(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(D0(this.data_)){const r=this.data_,o=GL(r,e,t);return o===null?null:new Xi(o)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Xi(r,!0)}}static getBlob(...e){if(Ey()){const t=e.map(r=>r instanceof Xi?r.data_:r);return new Xi(KL.apply(null,t))}else{const t=e.map(l=>Gf(l)?YL(Nr.RAW,l).data:l.data_);let r=0;t.forEach(l=>{r+=l.byteLength});const o=new Uint8Array(r);let a=0;return t.forEach(l=>{for(let c=0;c<l.length;c++)o[a++]=l[c]}),new Xi(o,!0)}}uploadData(){return this.data_}}function QS(n){let e;try{e=JSON.parse(n)}catch{return null}return UL(e)?e:null}function tD(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function nD(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function YS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function rD(n,e){return e}class mn{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||rD}}let Lc=null;function iD(n){return!Gf(n)||n.length<2?n:YS(n)}function XS(){if(Lc)return Lc;const n=[];n.push(new mn("bucket")),n.push(new mn("generation")),n.push(new mn("metageneration")),n.push(new mn("name","fullPath",!0));function e(a,l){return iD(l)}const t=new mn("name");t.xform=e,n.push(t);function r(a,l){return l!==void 0?Number(l):l}const o=new mn("size");return o.xform=r,n.push(o),n.push(new mn("timeCreated")),n.push(new mn("updated")),n.push(new mn("md5Hash",null,!0)),n.push(new mn("cacheControl",null,!0)),n.push(new mn("contentDisposition",null,!0)),n.push(new mn("contentEncoding",null,!0)),n.push(new mn("contentLanguage",null,!0)),n.push(new mn("contentType",null,!0)),n.push(new mn("metadata","customMetadata",!0)),Lc=n,Lc}function oD(n,e){function t(){const r=n.bucket,o=n.fullPath,a=new Mn(r,o);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function sD(n,e,t){const r={};r.type="file";const o=t.length;for(let a=0;a<o;a++){const l=t[a];r[l.local]=l.xform(r,e[l.server])}return oD(r,n),r}function JS(n,e,t){const r=QS(e);return r===null?null:sD(n,r,t)}function aD(n,e,t,r){const o=QS(e);if(o===null||!Gf(o.downloadTokens))return null;const a=o.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const v=n.bucket,m=n.fullPath,d="/b/"+l(v)+"/o/"+l(m),y=Ra(d,t,r),S=HS({alt:"media",token:p});return y+S})[0]}function ZS(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const a=e[o];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class ss{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function fi(n){if(!n)throw _y()}function wy(n,e){function t(r,o){const a=JS(n,o,e);return fi(a!==null),a}return t}function lD(n,e){function t(r,o){const a=JS(n,o,e);return fi(a!==null),aD(a,o,n.host,n._protocol)}return t}function fu(n){function e(t,r){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=AL():o=SL():t.getStatus()===402?o=bL(n.bucket):t.getStatus()===403?o=IL(n.path):o=r,o.status=t.getStatus(),o.serverResponse=r.serverResponse,o}return e}function Ty(n){const e=fu(n);function t(r,o){let a=e(r,o);return r.getStatus()===404&&(a=TL(n.path)),a.serverResponse=o.serverResponse,a}return t}function uD(n,e,t){const r=e.fullServerUrl(),o=Ra(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new ss(o,a,wy(n,t),l);return c.errorHandler=Ty(e),c}function cD(n,e,t){const r=e.fullServerUrl(),o=Ra(r,n.host,n._protocol),a="GET",l=n.maxOperationRetryTime,c=new ss(o,a,lD(n,t),l);return c.errorHandler=Ty(e),c}function fD(n,e){const t=e.fullServerUrl(),r=Ra(t,n.host,n._protocol),o="DELETE",a=n.maxOperationRetryTime;function l(f,p){}const c=new ss(r,o,l,a);return c.successCodes=[200,204],c.errorHandler=Ty(e),c}function hD(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function eA(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=hD(null,e)),r}function dD(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let k="";for(let b=0;b<2;b++)k=k+Math.random().toString().slice(2);return k}const f=c();l["Content-Type"]="multipart/related; boundary="+f;const p=eA(e,r,o),v=ZS(p,t),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,d=`\r
--`+f+"--",y=Xi.getBlob(m,r,d);if(y===null)throw BS();const S={name:p.fullPath},E=Ra(a,n.host,n._protocol),_="POST",T=n.maxUploadRetryTime,w=new ss(E,_,wy(n,t),T);return w.urlParams=S,w.headers=l,w.body=y.uploadData(),w.errorHandler=fu(e),w}class Ef{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function by(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{fi(!1)}return fi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function pD(n,e,t,r,o){const a=e.bucketOnlyServerUrl(),l=eA(e,r,o),c={name:l.fullPath},f=Ra(a,n.host,n._protocol),p="POST",v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},m=ZS(l,t),d=n.maxUploadRetryTime;function y(E){by(E);let _;try{_=E.getResponseHeader("X-Goog-Upload-URL")}catch{fi(!1)}return fi(Gf(_)),_}const S=new ss(f,p,y,d);return S.urlParams=c,S.headers=v,S.body=m,S.errorHandler=fu(e),S}function mD(n,e,t,r){const o={"X-Goog-Upload-Command":"query"};function a(p){const v=by(p,["active","final"]);let m=null;try{m=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{fi(!1)}m||fi(!1);const d=Number(m);return fi(!isNaN(d)),new Ef(d,r.size(),v==="final")}const l="POST",c=n.maxUploadRetryTime,f=new ss(t,l,a,c);return f.headers=o,f.errorHandler=fu(e),f}const j0=256*1024;function gD(n,e,t,r,o,a,l,c){const f=new Ef(0,0);if(l?(f.current=l.current,f.total=l.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw xL();const p=f.total-f.current;let v=p;o>0&&(v=Math.min(v,o));const m=f.current,d=m+v;let y="";v===0?y="finalize":p===v?y="upload, finalize":y="upload";const S={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${f.current}`},E=r.slice(m,d);if(E===null)throw BS();function _(b,D){const F=by(b,["active","final"]),P=f.current+v,R=r.size();let M;return F==="final"?M=wy(e,a)(b,D):M=null,new Ef(P,R,F==="final",M)}const T="POST",w=e.maxUploadRetryTime,k=new ss(t,T,_,w);return k.headers=S,k.body=E.uploadData(),k.progressCallback=c||null,k.errorHandler=fu(n),k}const Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Gd(n){switch(n){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}class yD{constructor(e,t,r){if(VL(e)||t!=null||r!=null)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Ws(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class vD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o,a){if(this.sent_)throw wl("cannot .send() more than once");if(fo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _D extends vD{initXhr(){this.xhr_.responseType="text"}}function Ho(){return new _D}class ED{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=XS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if($S(o.status,[]))if(a)o=FS();else{this.sleepTime=Math.max(this.sleepTime*2,wL),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,a)=>{this._resolve=o,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const r=pD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ho,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=mD(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(o,Ho,t,r);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=j0*this._chunkMultiplier,t=new Ef(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,a)=>{let l;try{l=gD(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(f){this._error=f,this._transition("error");return}const c=this._ref.storage._makeRequest(l,Ho,o,a,!1);this._request=c,c.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){j0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=uD(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Ho,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=dD(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Ho,e,t);this._request=o,o.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=qS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Gd(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const a=new yD(t||void 0,r||void 0,o||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Gd(this._state)){case Sn.SUCCESS:Ws(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:const t=this._reject;Ws(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Gd(this._state)){case Sn.RUNNING:case Sn.PAUSED:e.next&&Ws(e.next.bind(e,this.snapshot))();break;case Sn.SUCCESS:e.complete&&Ws(e.complete.bind(e))();break;case Sn.CANCELED:case Sn.ERROR:e.error&&Ws(e.error.bind(e,this._error))();break;default:e.error&&Ws(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}class es{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new es(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YS(this._location.path)}get storage(){return this._service}get parent(){const e=tD(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new es(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw NL(e)}}function wD(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ED(n,new Xi(e),t)}function TD(n){n._throwIfRoot("getDownloadURL");const e=cD(n.storage,n._location,XS());return n.storage.makeRequestWithTokens(e,Ho).then(t=>{if(t===null)throw CL();return t})}function bD(n){n._throwIfRoot("deleteObject");const e=fD(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Ho)}function SD(n,e){const t=nD(n._location.path,e),r=new Mn(n._location.bucket,t);return new es(n.storage,r)}function AD(n){return/^[A-Za-z]+:\/\//.test(n)}function ID(n,e){return new es(n,e)}function tA(n,e){if(n instanceof Sy){const t=n;if(t._bucket==null)throw PL();const r=new es(t,t._bucket);return e!=null?tA(r,e):r}else return e!==void 0?SD(n,e):n}function RD(n,e){if(e&&AD(e)){if(n instanceof Sy)return ID(n,e);throw ag("To use ref(service, url), the first argument must be a Storage instance.")}else return tA(n,e)}function V0(n,e){const t=e?.[US];return t==null?null:Mn.makeFromBucketSpec(t,n)}function kD(n,e,t,r={}){n.host=`${e}:${t}`;const o=fo(e);o&&(Tg(`https://${n.host}/b`),bg("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:a}=r;a&&(n._overrideAuthToken=typeof a=="string"?a:dT(a,n.app.options.projectId))}class Sy{constructor(e,t,r,o,a,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=VS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_L,this._maxUploadRetryTime=EL,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=V0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=V0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new es(this,e)}_makeRequest(e,t,r,o,a=!0){if(this._deleted)return new LL(zS());{const l=$L(e,this._appId,r,o,t,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,o).getPromise()}}const U0="@firebase/storage",F0="0.14.0";const nA="storage";function PD(n,e,t){return n=wt(n),wD(n,e,t)}function xD(n){return n=wt(n),TD(n)}function Ay(n){return n=wt(n),bD(n)}function Qf(n,e){return n=wt(n),RD(n,e)}function CD(n=Ig(),e){n=wt(n);const r=Af(n,nA).getImmediate({identifier:e}),o=cT("storage");return o&&OD(r,...o),r}function OD(n,e,t,r={}){kD(n,e,t,r)}function ND(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Sy(t,r,o,e,ts)}function LD(){Yo(new io(nA,ND,"PUBLIC").setMultipleInstances(!0)),Lr(U0,F0,""),Lr(U0,F0,"esm2020")}LD();const DD={apiKey:"AIzaSyD7GTDzLO4JfMSw3Sw1XQcpJsGFWpkSUuk",authDomain:"dra-lueine-barradas.firebaseapp.com",projectId:"dra-lueine-barradas",storageBucket:"dra-lueine-barradas.firebasestorage.app",messagingSenderId:"1010406146962",appId:"1:1010406146962:web:ffded9bc70de18b5f8b74b"},Iy=gT(DD),hi=DO(Iy),Yl=yL(Iy),Yf=CD(Iy);function rA(n){return n?n.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").replace(/-+/g,"-"):""}function lg({title:n,id:e,slug:t}){const r=t||rA(n);return r?e?`${r}-${e}`:r:e||""}function MD(n){if(!n)return"";const e=n.lastIndexOf("-");return e===-1?n:n.slice(e+1)||n}function jD(){const[n,e]=Z.useState([]),[t,r]=Z.useState(3),[o,a]=Z.useState(0),l=Z.useRef(0),c=Z.useRef(0);Z.useEffect(()=>{async function d(){const y=Zb(Uf(hi,"posts"),eS("date","desc")),E=(await cy(y)).docs.map(_=>({id:_.id,..._.data()}));e(E)}d()},[]),Z.useEffect(()=>{const d=()=>{r(window.innerWidth<768?1:3),a(0)};return d(),window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]);const f=Math.ceil(n.length/t),p=d=>{l.current=d.touches[0].clientX},v=d=>{c.current=d.touches[0].clientX},m=()=>{const d=l.current-c.current;Math.abs(d)>50&&(d>0&&o<f-1?a(o+1):d<0&&o>0&&a(o-1))};return j.jsxs("section",{id:"blog",className:"blog-section",children:[j.jsxs("header",{className:"label-container",children:[j.jsx("span",{className:"label",children:"ARTIGOS"}),j.jsx("h2",{className:"blog-title",children:"Para leitura"})]}),j.jsx("div",{className:"carousel-wrapper",onTouchStart:p,onTouchMove:v,onTouchEnd:m,children:j.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${o*100}%)`},children:Array.from({length:f}).map((d,y)=>j.jsx("div",{className:"carousel-page",children:n.slice(y*t,y*t+t).map(S=>{const E=`/post/${lg({title:S.title,id:S.id,slug:S.slug})}`;return j.jsxs("article",{className:"blog-card",children:[S.featuredImage&&j.jsx("img",{src:S.featuredImage,alt:S.title,className:"blog-image",loading:"lazy",decoding:"async"}),j.jsxs("div",{className:"blog-content",children:[j.jsx("h3",{children:j.jsx(Go,{to:E,className:"blog-title-link",children:S.title})}),j.jsx("p",{children:S.summary}),j.jsx(Go,{to:E,className:"blog-link",children:"Ler mais"})]})]},S.id)})},y))})}),j.jsx("div",{className:"carousel-indicator",children:Array.from({length:f}).map((d,y)=>j.jsx("button",{className:`indicator-line ${y===o?"active":""}`,onClick:()=>a(y),"aria-label":`Pgina ${y+1}`},y))})]})}function VD(){const n=[{id:1,name:"Paciente XXX",text:"Atendimento extremamente atencioso e humanizado. Me senti acolhida desde o incio da consulta.",rating:5},{id:2,name:"Paciente XXX",text:"Profissional excelente, muito cuidadosa e detalhista. A consulta foi completa e me trouxe muita segurana.",rating:5},{id:3,name:"Paciente XXX",text:"Atendimento diferenciado, com foco na preveno e no cuidado individual. Recomendo com total confiana.",rating:5}],[e,t]=Z.useState(n),[r,o]=Z.useState("https://maps.app.goo.gl/e5MtxNupxjszhWMD6"),[a,l]=Z.useState(!0),[c,f]=Z.useState(3),[p,v]=Z.useState(0),m=Z.useRef(0),d=Z.useRef(0);Z.useEffect(()=>{const T="AIzaSyAfS-gnwpsX5akD-jWz_ep8GNGyK1K8lPg",w="ChIJ93fD-IDZrpIRs3-6dNElQAE",k=()=>new Promise((D,F)=>{if(window.google?.maps?.places){D();return}const P=document.getElementById("google-maps-js");if(P){P.addEventListener("load",D),P.addEventListener("error",F);return}const R=document.createElement("script");R.id="google-maps-js",R.src=`https://maps.googleapis.com/maps/api/js?key=${T}&libraries=places`,R.async=!0,R.defer=!0,R.onload=D,R.onerror=F,document.head.appendChild(R)});(async()=>{try{if(await k(),!window.google?.maps?.places){l(!1);return}new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:w,fields:["reviews","url"]},(F,P)=>{if(P===window.google.maps.places.PlacesServiceStatus.OK&&F?.reviews?.length){const R=F.reviews.filter(M=>M?.text).map((M,O)=>({id:M.time||O,name:M.author_name||"Paciente",text:M.text,rating:M.rating||5,avatar:M.profile_photo_url||""}));R.length>0&&t(R)}F?.url&&o(F.url),l(!1)})}catch{l(!1)}})()},[]),Z.useEffect(()=>{const T=()=>{f(window.innerWidth<768?1:3),v(0)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const y=Math.ceil(e.length/c),S=T=>{m.current=T.touches[0].clientX},E=T=>{d.current=T.touches[0].clientX},_=()=>{const T=m.current-d.current;Math.abs(T)>50&&(T>0&&p<y-1?v(p+1):T<0&&p>0&&v(p-1))};return j.jsxs("section",{id:"depoimentos",className:"testimonials",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"testimonials-label",children:"DEPOIMENTOS"}),j.jsx("h2",{children:"O que nossos pacientes dizem sobre nosso trabalho?"})]}),j.jsx("div",{className:"carousel-wrapper",onTouchStart:S,onTouchMove:E,onTouchEnd:_,children:j.jsx("div",{className:"carousel-track",style:{transform:`translateX(-${p*100}%)`},children:Array.from({length:y}).map((T,w)=>j.jsx("div",{className:"carousel-page",children:e.slice(w*c,w*c+c).map(k=>j.jsxs("div",{className:"testimonial-card",children:[j.jsxs("div",{className:"testimonial-header",children:[j.jsx("div",{className:"avatar",style:k.avatar?{backgroundImage:`url(${k.avatar})`}:void 0}),j.jsxs("div",{children:[j.jsx("strong",{children:k.name}),j.jsx("div",{className:"stars",children:Array.from({length:5}).map((b,D)=>j.jsx("span",{children:D<k.rating?"":""},D))})]})]}),j.jsx("p",{children:k.text})]},k.id))},w))})}),j.jsx("div",{className:"carousel-indicator",children:Array.from({length:y}).map((T,w)=>j.jsx("button",{className:`indicator-line ${w===p?"active":""}`,onClick:()=>v(w)},w))}),j.jsxs("a",{href:r,className:"testimonial-button",children:[a?"Carregando avaliaes...":"Escrever Avaliao",j.jsx(PR,{size:20})]})]})}function UD(n){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"M328 112 184 256l144 144"},child:[]}]})(n)}function FD(n){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(n)}const qD="/assets/consultorio-dra-lueine1-B69TsYyD.webp",BD="/assets/consultorio-dra-lueine2-yg6SWbpe.webp";function zD(){const n=[qD,BD],[e,t]=Z.useState(0),r=()=>{t(a=>a===0?n.length-1:a-1)},o=()=>{t(a=>a===n.length-1?0:a+1)};return j.jsx("section",{className:"env-section",children:j.jsxs("div",{className:"env-grid",children:[j.jsxs("div",{className:"env-text-top",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"NOSSO AMBIENTE"}),j.jsx("h2",{children:"Cuidado comea pelo ambiente"})]}),j.jsxs("p",{children:["Um consultrio moderno, climatizado e acolhedor, pensado para garantir",j.jsx("strong",{children:" conforto, privacidade e tranquilidade."})]}),j.jsx("p",{children:"Aqui, cada atendimento acontece de forma individualizada, em um espao reservado, preparado para consultas clnicas e um acompanhamento mdico atento aos detalhes."}),j.jsx(Dt,{className:"about-button"})]}),j.jsxs("div",{className:"env-image-main",children:[j.jsx("img",{src:n[e],alt:"Ambiente do consultrio"}),j.jsx("button",{className:"arrow left",onClick:r,children:j.jsx(UD,{})}),j.jsx("button",{className:"arrow right",onClick:o,children:j.jsx(FD,{})})]})]})})}function HD(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"},child:[]}]})(n)}function $D(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M112,80a16,16,0,1,1,16,16A16,16,0,0,1,112,80ZM64,80a64,64,0,0,1,128,0c0,59.95-57.58,93.54-60,94.95a8,8,0,0,1-7.94,0C121.58,173.54,64,140,64,80Zm16,0c0,42.2,35.84,70.21,48,78.5,12.15-8.28,48-36.3,48-78.5a48,48,0,0,0-96,0Zm122.77,67.63a8,8,0,0,0-5.54,15C213.74,168.74,224,176.92,224,184c0,13.36-36.52,32-96,32s-96-18.64-96-32c0-7.08,10.26-15.26,26.77-21.36a8,8,0,0,0-5.54-15C29.22,156.49,16,169.41,16,184c0,31.18,57.71,48,112,48s112-16.82,112-48C240,169.41,226.78,156.49,202.77,147.63Z"},child:[]}]})(n)}function WD(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M222.37,158.46l-47.11-21.11-.13-.06a16,16,0,0,0-15.17,1.4,8.12,8.12,0,0,0-.75.56L134.87,160c-15.42-7.49-31.34-23.29-38.83-38.51l20.78-24.71c.2-.25.39-.5.57-.77a16,16,0,0,0,1.32-15.06l0-.12L97.54,33.64a16,16,0,0,0-16.62-9.52A56.26,56.26,0,0,0,32,80c0,79.4,64.6,144,144,144a56.26,56.26,0,0,0,55.88-48.92A16,16,0,0,0,222.37,158.46ZM176,208A128.14,128.14,0,0,1,48,80,40.2,40.2,0,0,1,82.87,40a.61.61,0,0,0,0,.12l21,47L83.2,111.86a6.13,6.13,0,0,0-.57.77,16,16,0,0,0-1,15.7c9.06,18.53,27.73,37.06,46.46,46.11a16,16,0,0,0,15.75-1.14,8.44,8.44,0,0,0,.74-.56L168.89,152l47,21.05h0s.08,0,.11,0A40.21,40.21,0,0,1,176,208Z"},child:[]}]})(n)}function KD(n){return ut({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M116,80a12,12,0,1,1,12,12A12,12,0,0,1,116,80ZM97.08,147.73C78.05,127.35,68,103.93,68,80a60,60,0,0,1,120,0c0,23.93-10.05,47.35-29.08,67.73A136.54,136.54,0,0,1,130,171.47a4,4,0,0,1-4,0A136.54,136.54,0,0,1,97.08,147.73ZM76,80c0,47.09,42.25,77,52,83.3,9.75-6.28,52-36.21,52-83.3A52,52,0,0,0,76,80Zm125.38,71.38a4,4,0,0,0-2.76,7.51c18.67,6.89,29.38,16,29.38,25.11,0,17.39-40.18,36-100,36S28,201.39,28,184c0-9.07,10.71-18.22,29.38-25.11a4,4,0,0,0-2.76-7.51C32.29,159.62,20,171.21,20,184c0,12.46,11.73,23.83,33,32,20.09,7.73,46.72,12,75,12s54.89-4.25,75-12c21.29-8.19,33-19.56,33-32C236,171.21,223.71,159.62,201.38,151.38Z"},child:[]}]})(n)}var Qd,q0;function GD(){if(q0)return Qd;q0=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var c,f,p;if(Array.isArray(a)){if(c=a.length,c!=l.length)return!1;for(f=c;f--!==0;)if(!o(a[f],l[f]))return!1;return!0}var v;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!l.has(f.value[0]))return!1;for(v=a.entries();!(f=v.next()).done;)if(!o(f.value[1],l.get(f.value[0])))return!1;return!0}if(t&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(v=a.entries();!(f=v.next()).done;)if(!l.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(c=a.length,c!=l.length)return!1;for(f=c;f--!==0;)if(a[f]!==l[f])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),c=p.length,c!==Object.keys(l).length)return!1;for(f=c;f--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[f]))return!1;if(n&&a instanceof Element)return!1;for(f=c;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&a.$$typeof)&&!o(a[p[f]],l[p[f]]))return!1;return!0}return a!==a&&l!==l}return Qd=function(l,c){try{return o(l,c)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},Qd}var QD=GD();const YD=ya(QD);var Yd,B0;function XD(){if(B0)return Yd;B0=1;var n=function(e,t,r,o,a,l,c,f){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var v=[r,o,a,l,c,f],m=0;p=new Error(t.replace(/%s/g,function(){return v[m++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return Yd=n,Yd}var JD=XD();const z0=ya(JD);var Xd,H0;function ZD(){return H0||(H0=1,Xd=function(e,t,r,o){var a=r?r.call(o,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),c=Object.keys(t);if(l.length!==c.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(t),p=0;p<l.length;p++){var v=l[p];if(!f(v))return!1;var m=e[v],d=t[v];if(a=r?r.call(o,m,d,v):void 0,a===!1||a===void 0&&m!==d)return!1}return!0}),Xd}var e3=ZD();const t3=ya(e3);var iA=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(iA||{}),Jd={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},$0=Object.values(iA),Ry={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},n3=Object.entries(Ry).reduce((n,[e,t])=>(n[t]=e,n),{}),ur="data-rh",oa={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},sa=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},r3=n=>{let e=sa(n,"title");const t=sa(n,oa.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=sa(n,oa.DEFAULT_TITLE);return e||r||void 0},i3=n=>sa(n,oa.ON_CHANGE_CLIENT_STATE)||(()=>{}),Zd=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),o3=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const o=Object.keys(r);for(let a=0;a<o.length;a+=1){const c=o[a].toLowerCase();if(n.indexOf(c)!==-1&&r[c])return t.concat(r)}}return t},[]),s3=n=>console&&typeof console.warn=="function"&&console.warn(n),Tl=(n,e,t)=>{const r={};return t.filter(o=>Array.isArray(o[n])?!0:(typeof o[n]<"u"&&s3(`Helmet: ${n} should be of type "Array". Instead found type "${typeof o[n]}"`),!1)).map(o=>o[n]).reverse().reduce((o,a)=>{const l={};a.filter(f=>{let p;const v=Object.keys(f);for(let d=0;d<v.length;d+=1){const y=v[d],S=y.toLowerCase();e.indexOf(S)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(S==="rel"&&f[S].toLowerCase()==="stylesheet")&&(p=S),e.indexOf(y)!==-1&&(y==="innerHTML"||y==="cssText"||y==="itemprop")&&(p=y)}if(!p||!f[p])return!1;const m=f[p].toLowerCase();return r[p]||(r[p]={}),l[p]||(l[p]={}),r[p][m]?!1:(l[p][m]=!0,!0)}).reverse().forEach(f=>o.push(f));const c=Object.keys(l);for(let f=0;f<c.length;f+=1){const p=c[f],v={...r[p],...l[p]};r[p]=v}return o},[]).reverse()},a3=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},l3=n=>({baseTag:o3(["href"],n),bodyAttributes:Zd("bodyAttributes",n),defer:sa(n,oa.DEFER),encode:sa(n,oa.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Zd("htmlAttributes",n),linkTags:Tl("link",["rel","href"],n),metaTags:Tl("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Tl("noscript",["innerHTML"],n),onChangeClientState:i3(n),scriptTags:Tl("script",["src","innerHTML"],n),styleTags:Tl("style",["cssText"],n),title:r3(n),titleAttributes:Zd("titleAttributes",n),prioritizeSeoTags:a3(n,oa.PRIORITIZE_SEO_TAGS)}),oA=n=>Array.isArray(n)?n.join(""):n,u3=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},ep=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(u3(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},W0=(n,e)=>({...n,[e]:void 0}),c3=["noscript","script","style"],ug=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),sA=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),f3=(n,e,t,r)=>{const o=sA(t),a=oA(e);return o?`<${n} ${ur}="true" ${o}>${ug(a,r)}</${n}>`:`<${n} ${ur}="true">${ug(a,r)}</${n}>`},h3=(n,e,t=!0)=>e.reduce((r,o)=>{const a=o,l=Object.keys(a).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,v)=>{const m=typeof a[v]>"u"?v:`${v}="${ug(a[v],t)}"`;return p?`${p} ${m}`:m},""),c=a.innerHTML||a.cssText||"",f=c3.indexOf(n)===-1;return`${r}<${n} ${ur}="true" ${l}${f?"/>":`>${c}</${n}>`}`},""),aA=(n,e={})=>Object.keys(n).reduce((t,r)=>{const o=Ry[r];return t[o||r]=n[r],t},e),d3=(n,e,t)=>{const r={key:e,[ur]:!0},o=aA(t,r);return[qt.createElement("title",o,e)]},Gc=(n,e)=>e.map((t,r)=>{const o={key:r,[ur]:!0};return Object.keys(t).forEach(a=>{const c=Ry[a]||a;if(c==="innerHTML"||c==="cssText"){const f=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:f}}else o[c]=t[a]}),qt.createElement(n,o)}),Wn=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>d3(n,e.title,e.titleAttributes),toString:()=>f3(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>aA(e),toString:()=>sA(e)};default:return{toComponent:()=>Gc(n,e),toString:()=>h3(n,e,t)}}},p3=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const o=ep(n,Jd.meta),a=ep(e,Jd.link),l=ep(t,Jd.script);return{priorityMethods:{toComponent:()=>[...Gc("meta",o.priority),...Gc("link",a.priority),...Gc("script",l.priority)],toString:()=>`${Wn("meta",o.priority,r)} ${Wn("link",a.priority,r)} ${Wn("script",l.priority,r)}`},metaTags:o.default,linkTags:a.default,scriptTags:l.default}},m3=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:o,noscriptTags:a,styleTags:l,title:c="",titleAttributes:f,prioritizeSeoTags:p}=n;let{linkTags:v,metaTags:m,scriptTags:d}=n,y={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:y,linkTags:v,metaTags:m,scriptTags:d}=p3(n)),{priority:y,base:Wn("base",e,r),bodyAttributes:Wn("bodyAttributes",t,r),htmlAttributes:Wn("htmlAttributes",o,r),link:Wn("link",v,r),meta:Wn("meta",m,r),noscript:Wn("noscript",a,r),script:Wn("script",d,r),style:Wn("style",l,r),title:Wn("title",{title:c,titleAttributes:f},r)}},cg=m3,Dc=[],lA=!!(typeof window<"u"&&window.document&&window.document.createElement),fg=class{instances=[];canUseDOM=lA;context;value={setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Dc:this.instances,add:n=>{(this.canUseDOM?Dc:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Dc:this.instances).indexOf(n);(this.canUseDOM?Dc:this.instances).splice(e,1)}}};constructor(n,e){this.context=n,this.canUseDOM=e||!1,e||(n.helmet=cg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},g3={},uA=qt.createContext(g3),cA=class fA extends Z.Component{static canUseDOM=lA;helmetData;constructor(e){super(e),this.helmetData=new fg(this.props.context||{},fA.canUseDOM)}render(){return qt.createElement(uA.Provider,{value:this.helmetData.value},this.props.children)}},Ks=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${ur}]`),o=[].slice.call(r),a=[];let l;return e&&e.length&&e.forEach(c=>{const f=document.createElement(n);for(const p in c)if(Object.prototype.hasOwnProperty.call(c,p))if(p==="innerHTML")f.innerHTML=c.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=c.cssText:f.appendChild(document.createTextNode(c.cssText));else{const v=p,m=typeof c[v]>"u"?"":c[v];f.setAttribute(p,m)}f.setAttribute(ur,"true"),o.some((p,v)=>(l=v,f.isEqualNode(p)))?o.splice(l,1):a.push(f)}),o.forEach(c=>c.parentNode?.removeChild(c)),a.forEach(c=>t.appendChild(c)),{oldTags:o,newTags:a}},hg=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(ur),o=r?r.split(","):[],a=[...o],l=Object.keys(e);for(const c of l){const f=e[c]||"";t.getAttribute(c)!==f&&t.setAttribute(c,f),o.indexOf(c)===-1&&o.push(c);const p=a.indexOf(c);p!==-1&&a.splice(p,1)}for(let c=a.length-1;c>=0;c-=1)t.removeAttribute(a[c]);o.length===a.length?t.removeAttribute(ur):t.getAttribute(ur)!==l.join(",")&&t.setAttribute(ur,l.join(","))},y3=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=oA(n)),hg("title",e)},K0=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:o,linkTags:a,metaTags:l,noscriptTags:c,onChangeClientState:f,scriptTags:p,styleTags:v,title:m,titleAttributes:d}=n;hg("body",r),hg("html",o),y3(m,d);const y={baseTag:Ks("base",t),linkTags:Ks("link",a),metaTags:Ks("meta",l),noscriptTags:Ks("noscript",c),scriptTags:Ks("script",p),styleTags:Ks("style",v)},S={},E={};Object.keys(y).forEach(_=>{const{newTags:T,oldTags:w}=y[_];T.length&&(S[_]=T),w.length&&(E[_]=y[_].oldTags)}),e&&e(),f(n,S,E)},bl=null,v3=n=>{bl&&cancelAnimationFrame(bl),n.defer?bl=requestAnimationFrame(()=>{K0(n,()=>{bl=null})}):(K0(n),bl=null)},_3=v3,G0=class extends Z.Component{rendered=!1;shouldComponentUpdate(n){return!t3(n,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:n}=this.props.context;n.remove(this),this.emitChange()}emitChange(){const{helmetInstances:n,setHelmet:e}=this.props.context;let t=null;const r=l3(n.get().map(o=>{const a={...o.props};return delete a.context,a}));cA.canUseDOM?_3(r):cg&&(t=cg(r)),e(t)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:n}=this.props.context;n.add(this),this.emitChange()}render(){return this.init(),null}},hA=class extends Z.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(n){return!YD(W0(this.props,"helmetData"),W0(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return z0($0.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${$0.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),z0(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return qt.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:o,...a}=r.props,l=Object.keys(a).reduce((f,p)=>(f[n3[p]||p]=a[p],f),{});let{type:c}=r;switch(typeof c=="symbol"?c=c.toString():this.warnOnInvalidChildren(r,o),c){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,l,o);break;default:e=this.mapObjectTypeChildren(r,e,l,o);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof fg)){const o=r;r=new fg(o.context,!0),delete t.helmetData}return r?qt.createElement(G0,{...t,context:r.value}):qt.createElement(uA.Consumer,null,o=>qt.createElement(G0,{...t,context:o}))}};function E3(){return Z.useEffect(()=>{const n=new URL(window.location.href).hash.substring(1);if(n){const e=document.getElementById(n);if(e){const o=e.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:o,behavior:"smooth"})}}},[]),j.jsxs("main",{children:[j.jsxs(hA,{children:[j.jsx("title",{children:"Dra. Lueine Barradas | Clnica Geral | Cardiologia Clnica"}),j.jsx("meta",{name:"description",content:"Atendimento mdico humanizado em Bragana, PA. Agende sua consulta com a Dra. Lueine Barradas."}),j.jsx("meta",{name:"keywords",content:"Cardiologia Clnica, Bragana PA, Mdica Bragana Par, Check-up cardiolgico, Hipertenso, Dra Lueine Barradas"}),j.jsx("link",{rel:"canonical",href:"https://dralueinebarradas.com.br/"}),j.jsx("meta",{property:"og:title",content:"Dra. Lueine Barradas | Clnica Geral | Cardiologia Clnica"}),j.jsx("meta",{property:"og:description",content:"Atendimento mdico humanizado em Bragana, PA. Agende sua consulta com a Dra. Lueine Barradas."}),j.jsx("meta",{property:"og:type",content:"website"}),j.jsx("meta",{property:"og:url",content:"https://dralueinebarradas.com.br/"}),j.jsx("script",{type:"application/ld+json",children:`
            {
              "@context": "https://schema.org",
              "@type": "MedicalBusiness",
              "name": "Dra. Lueine Barradas",
              "address": {
                "@type": "PostalAddress",
                "streetAddress": "Av. Nazeazeno Ferreira, 60",
                "addressLocality": "Bragana",
                "addressRegion": "PA",
                "addressCountry": "BR"
              },
              "geo": {
                "@type": "GeoCoordinates",
                "latitude": -1.0488685, 
                "longitude": -46.7686801
              },
              "telephone": "+5591985807373"
            }
          `})]}),j.jsxs("section",{id:"inicio",className:"hero",children:[j.jsx("div",{className:"hero-overlay"}),j.jsxs("div",{className:"hero-container",children:[j.jsxs("div",{className:"hero-text",children:[j.jsx("span",{className:"hero-label",children:"DRA. LUEINE BARRADAS"}),j.jsxs("h1",{children:["CUIDADO E ",j.jsx("br",{}),j.jsx("span",{children:"COMPROMISSO"})]}),j.jsx("p",{children:"Meu propsito como mdica  alinhar o cuidado humanizado e a excelncia tcnica para garantir sade e qualidade de vida para voc."}),j.jsxs("div",{className:"hero-actions",children:[j.jsxs("div",{className:"hero-location",children:[j.jsx(KD,{size:16,color:"#FFF"}),j.jsx("span",{children:"Atendimento em Bragana - PA"})]}),j.jsx("div",{children:j.jsx(Dt,{className:"hero-btn primary"})})]})]}),j.jsx("div",{className:"hero-image",children:j.jsx("img",{src:GR,alt:"Dra. Lueine Barradas - Mdica Cardiologista em Bragana Par",loading:"eager",fetchpriority:"high",decoding:"async"})}),j.jsxs("aside",{className:"hero-card",children:[j.jsx("strong",{children:"Dra. Lueine Barradas"}),j.jsx("p",{children:"CRM PA 18364"}),j.jsxs("ul",{children:[j.jsxs("li",{children:[j.jsx("b",{children:"rea de atuao:"})," Clnica Geral | Cardiologia Clnica"]}),j.jsxs("li",{children:[j.jsx("b",{children:"Foco:"})," Preveno cardiovascular e cuidado integral"]}),j.jsxs("li",{children:[j.jsx("b",{children:"Experincia:"})," Atendimento clnico humanizado e individualizado"]})]})]})]}),j.jsx("div",{className:"hero-scroll",children:j.jsx(OR,{})})]}),j.jsxs("section",{id:"servicos",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"SERVIOS"}),j.jsx("h2",{children:"O que eu posso te ajudar?"})]}),j.jsxs("div",{className:"cards-grid",children:[j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(BR,{className:"icon"})}),j.jsx("h3",{children:"Consulta de rotina"})]}),j.jsx("p",{children:"Atendimento clnico integral, com foco na preveno, no acompanhamento contnuo e no cuidado individualizado em todas as fases da vida."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(r1,{className:"icon"})}),j.jsx("h3",{children:"Check-up Cardiolgico"})]}),j.jsx("p",{children:"Avaliao completa da sade cardiovascular, com anlise de fatores de risco, histrico clnico e solicitao de exames conforme indicao individual."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(xR,{className:"icon"})}),j.jsx("h3",{children:"Avaliao e Liberao para Atividade Fsica"})]}),j.jsx("p",{children:"Avaliao clnica e cardiovascular para liberao segura da prtica de atividade fsica, considerando idade, histrico de sade e exames complementares."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(LR,{className:"icon"})}),j.jsx("h3",{children:"Consultas Pr-operatrias"})]}),j.jsx("p",{children:"Avaliao clnica e cardiovascular para liberao cirrgica, com estratificao de risco e orientaes pr e ps-operatrias."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(qR,{className:"icon"})}),j.jsx("h3",{children:"Preveno de Doenas Cardiovasculares"})]}),j.jsx("p",{children:"Acompanhamento direcionado  reduo de risco cardiovascular, com controle de hipertenso, diabetes, colesterol, obesidade e hbitos de vida."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(MR,{className:"icon"})}),j.jsx("h3",{children:"Hipertenso Arterial"})]}),j.jsx("p",{children:"Diagnstico, acompanhamento e controle da presso arterial, com plano teraputico individualizado e monitoramento contnuo."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(VR,{className:"icon"})}),j.jsx("h3",{children:"Doena Arterial Coronariana"})]}),j.jsx("p",{children:"Avaliao e acompanhamento clnico de pacientes com doena arterial coronariana, com foco em controle de fatores de risco e preveno de eventos."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(jR,{className:"icon"})}),j.jsx("h3",{children:"Infarto Agudo do Miocrdio"})]}),j.jsx("p",{children:"Seguimento clnico e preveno secundria em pacientes com histrico de infarto, com foco em segurana, controle de risco e qualidade de vida."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(r1,{className:"icon"})}),j.jsx("h3",{children:"Insuficincia Cardaca"})]}),j.jsx("p",{children:"Acompanhamento clnico de pacientes com insuficincia cardaca, com orientao teraputica, controle de sintomas e monitoramento contnuo."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(HR,{className:"icon"})}),j.jsx("h3",{children:"Arritmias Cardacas"})]}),j.jsx("p",{children:"Avaliao clnica de alteraes do ritmo cardaco, com investigao, acompanhamento e orientao conforme cada caso."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(FR,{className:"icon"})}),j.jsx("h3",{children:"Obesidade e Sndrome Metablica"})]}),j.jsx("p",{children:"Abordagem clnica integrada para obesidade e sndrome metablica, com foco em sade, mudana de hbitos e acompanhamento contnuo."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(zR,{className:"icon"})}),j.jsx("h3",{children:"Colesterol e Triglicerdeos Elevados"})]}),j.jsx("p",{children:"Avaliao e controle das dislipidemias, com orientao individualizada e preveno de doenas cardiovasculares."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(DR,{className:"icon"})}),j.jsx("h3",{children:"Diabetes Mellitus"})]}),j.jsx("p",{children:"Acompanhamento clnico do diabetes, com foco no controle glicmico, preveno de complicaes e promoo da sade."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(UR,{className:"icon"})}),j.jsx("h3",{children:"Avaliao do Sono e Apneia do Sono"})]}),j.jsx("p",{children:"Avaliao clnica do sono e acompanhamento de pacientes com suspeita ou diagnstico de apneia do sono."}),j.jsx(Dt,{className:"card-button"})]}),j.jsxs("article",{className:"card",children:[j.jsxs("div",{className:"header-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(NR,{className:"icon"})}),j.jsx("h3",{children:"Tratamento do Tabagismo"})]}),j.jsx("p",{children:"Acompanhamento mdico para cessao do tabagismo, com estratgias individualizadas e foco na reduo de riscos  sade."}),j.jsx(Dt,{className:"card-button"})]})]})]}),j.jsxs("section",{id:"consulta",className:"procedure-section",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"CUIDADO INTEGRAL"}),j.jsx("h2",{className:"procedure-title",children:"O que acontece na consulta?"})]}),j.jsxs("article",{className:"procedure-step reverse",children:[j.jsxs("div",{className:"procedure-content",children:[j.jsx("p",{className:"procedure-description",children:"A consulta comea com uma investigao detalhada da sua sade, buscando compreender voc de forma integral. Avalio aspectos clnicos, hbitos de vida e fatores que podem impactar diretamente sua sade, especialmente a sade cardiovascular."}),j.jsx("p",{className:"procedure-description",children:"Durante esse primeiro momento, conversamos sobre:"}),j.jsxs("ul",{className:"procedure-list",role:"list",children:[j.jsx("li",{children:"Histrico de doenas, cirurgias, alergias e uso de medicamentos"}),j.jsx("li",{children:"Hbitos de vida e rotina diria"}),j.jsx("li",{children:"Padro de sono, qualidade do descanso e presena de roncos"}),j.jsx("li",{children:"Nvel de atividade fsica e sedentarismo"}),j.jsx("li",{children:"Sade emocional, incluindo sintomas de ansiedade e depresso"}),j.jsx("li",{children:"Outros fatores que possam influenciar sua sade cardiovascular e metablica"})]})]}),j.jsx("div",{className:"procedure-image",children:j.jsx("img",{src:WR,alt:"Consulta mdica com avaliao cardiovascular",loading:"lazy",decoding:"async"})})]}),j.jsxs("article",{className:"procedure-step",children:[j.jsx("div",{className:"procedure-image",children:j.jsx("img",{src:KR,alt:"Consulta mdica com avaliao cardiovascular",loading:"lazy",decoding:"async"})}),j.jsxs("div",{className:"procedure-content",children:[j.jsx("p",{className:"procedure-description",children:"Na sequncia, realizo um exame fsico completo, com ateno especial ao sistema cardiovascular, avaliando sinais importantes para um acompanhamento seguro e individualizado."}),j.jsx("p",{className:"procedure-description",children:"Com base nas diretrizes mdicas mais atualizadas, tambm oriento sobre vacinas e exames preventivos essenciais, sempre considerando idade, sexo, histrico pessoal e familiar, como:"}),j.jsxs("ul",{className:"procedure-list",role:"list",children:[j.jsx("li",{children:"Colonoscopia"}),j.jsx("li",{children:"Densitometria ssea"}),j.jsx("li",{children:"Avaliaes urolgicas ou ginecolgicas"}),j.jsx("li",{children:"Exames especficos para a sade cardiovascular"})]})]})]}),j.jsx("aside",{className:"procedure-highlight",children:j.jsx("p",{children:"O objetivo da consulta  oferecer um cuidado personalizado e preventivo, ajudando voc a compreender melhor sua sade, reduzir riscos e promover longevidade com qualidade de vida, sempre alinhando excelncia tcnica com um olhar atento s suas necessidades individuais."})})]}),j.jsx("section",{id:"sobre",className:"about",children:j.jsxs("div",{className:"about-container",children:[j.jsx("div",{className:"about-image",children:j.jsx("img",{src:i1,alt:"Dra. Lueine Barradas",loading:"lazy",decoding:"async"})}),j.jsxs("div",{className:"about-content",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"SOBRE MIM"}),j.jsxs("h2",{children:["Conhea a ",j.jsx("br",{})," Dra. Lueine Barradas"]})]}),j.jsx("div",{className:"about-crm",children:"CRM PA 18364"}),j.jsx("div",{className:"about-image-mobile",children:j.jsx("img",{src:i1,alt:"Dra. Lueine Barradas",loading:"lazy",decoding:"async"})}),j.jsx("p",{children:"Mdica formada pela Universidade do Vale do Itaja (UNIVALI), com atuao em Medicina de Famlia e Comunidade e foco em medicina preventiva e cuidado integral  sade."}),j.jsx("p",{children:"Atua em Bragana  Par, acompanhando pacientes de forma individualizada, com um olhar atento no apenas para a doena, mas para a pessoa como um todo."}),j.jsx("p",{children:"Acredita que cuidar da sade vai alm de tratar sintomas. Por isso, mantm atualizao contnua e atualmente realiza ps-graduao em Cardiologia e Imunizao Humana, integrando preveno, diagnstico e acompanhamento ao longo do tempo."}),j.jsx("p",{children:"Seu trabalho  baseado na escuta qualificada, na construo de vnculo e na elaborao de planos de cuidado que faam sentido para a realidade de cada paciente."}),j.jsx(Dt,{className:"about-button"})]})]})}),j.jsx(VD,{}),j.jsx($R,{}),j.jsx(jD,{}),j.jsx(zD,{}),j.jsx("section",{id:"contato",className:"contact",children:j.jsxs("div",{className:"contact-grid",children:[j.jsx("div",{className:"map-wrapper",children:j.jsx("iframe",{title:"Mapa consultrio",src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3989.1498290488926!2d-46.77125592417375!3d-1.0488539354144943!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x92aed980f8c377f7%3A0x14025d174ba7fb3!2sDra%20Lueine%20Barradas!5e0!3m2!1spt-BR!2sbr!4v1769569385545!5m2!1spt-BR!2sbr",loading:"lazy"})}),j.jsxs("div",{className:"map-text",children:[j.jsxs("header",{className:"section-header",children:[j.jsx("span",{className:"label",children:"CONTATO"}),j.jsx("h2",{children:"Entre em contato conosco"})]}),j.jsxs("div",{className:"contact-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(HD,{className:"icon"})}),j.jsxs("div",{children:[j.jsx("strong",{children:"Horrio de funcionamento:"}),j.jsx("p",{children:"Segunda a Sexta | 08h s 18h"})]})]}),j.jsxs("div",{className:"contact-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx($D,{className:"icon"})}),j.jsxs("div",{children:[j.jsx("strong",{children:"Endereo"}),j.jsx("p",{children:"Av. Nazeazeno Ferreira, 60 - Padre Luiz, Bragana - PA"})]})]}),j.jsxs("div",{className:"contact-card",children:[j.jsx("div",{className:"card-icon-container",children:j.jsx(WD,{className:"icon"})}),j.jsxs("div",{children:[j.jsx("strong",{children:"Telefone"}),j.jsx("p",{children:"(91) 98580-7373"})]})]}),j.jsx(Dt,{className:"about-button"})]})]})})]})}function w3(){const{slugId:n}=T2(),[e,t]=Z.useState(null),[r,o]=Z.useState({displayName:"",photoURL:""}),[a,l]=Z.useState(""),[c,f]=Z.useState([]);if(Z.useEffect(()=>{async function k(){const b=MD(n),D=da(hi,"posts",b),F=await m0(D);if(!F.exists())return;const P=F.data();if(t({id:b,...P}),P.authorId){const R=da(hi,"admuser",P.authorId),M=await m0(R);M.exists()&&o(M.data())}}k()},[n]),Z.useEffect(()=>{l(window.location.href)},[n]),Z.useEffect(()=>{async function k(){if(!e?.id){f([]);return}const b=Zb(Uf(hi,"posts"),eS("date","desc"),KO(6)),P=(await cy(b)).docs.map(R=>({id:R.id,...R.data()})).filter(R=>R.id!==e.id).slice(0,3);f(P)}k()},[e?.id]),!e)return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"skeleton skeleton-img"}),j.jsxs("section",{className:"post-detail",children:[j.jsx("div",{className:"skeleton skeleton-title"}),j.jsx("div",{className:"skeleton skeleton-text"}),j.jsx("div",{className:"skeleton skeleton-text"}),j.jsx("div",{className:"skeleton skeleton-text",style:{width:"60%"}})]})]});const p="https://dralueinebarradas.com.br",v=lg({title:e.title,id:e.id,slug:e.slug}),m=a||`${p}/post/${v}`,d=encodeURIComponent(`Confira este post: ${e.title}`),S=(e.summary||e.content||"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim().slice(0,155),E=e.authorName||r.displayName||"Dra. Lueine Barradas",_=e?.date?.seconds?new Date(e.date.seconds*1e3).toISOString():null,T={"@context":"https://schema.org","@type":"Article",headline:e.title,description:S,image:e.featuredImage?[e.featuredImage]:void 0,author:{"@type":"Person",name:E},publisher:{"@type":"Organization",name:"Dra. Lueine Barradas",logo:{"@type":"ImageObject",url:`${p}/favicon.ico`}},datePublished:_||void 0,dateModified:_||void 0,mainEntityOfPage:m},w=e?.date?.seconds?new Date(e.date.seconds*1e3).toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:"numeric"}):"";return j.jsxs(j.Fragment,{children:[j.jsxs(hA,{children:[j.jsxs("title",{children:[e.title," | Dra. Lueine Barradas"]}),j.jsx("meta",{name:"description",content:S}),j.jsx("link",{rel:"canonical",href:m}),j.jsx("meta",{property:"og:title",content:e.title}),j.jsx("meta",{property:"og:description",content:S}),j.jsx("meta",{property:"og:type",content:"article"}),j.jsx("meta",{property:"og:url",content:m}),e.featuredImage&&j.jsx("meta",{property:"og:image",content:e.featuredImage}),_&&j.jsx("meta",{property:"article:published_time",content:_}),j.jsx("meta",{property:"article:author",content:E}),j.jsx("meta",{name:"twitter:card",content:e.featuredImage?"summary_large_image":"summary"}),j.jsx("script",{type:"application/ld+json",children:JSON.stringify(T)})]}),e.featuredImage&&j.jsx("div",{className:"featured-image-full",children:j.jsx("img",{src:e.featuredImage,alt:e.title})}),j.jsxs("div",{className:"post-body",children:[j.jsxs("article",{className:"post-detail","aria-live":"polite",children:[j.jsx("h1",{children:e.title}),j.jsx("p",{className:"description",children:e.summary}),j.jsx("div",{className:"meta",children:j.jsxs("div",{className:"author",children:[r.photoURL?j.jsx("img",{src:r.photoURL,alt:r.displayName,className:"author-photo"}):j.jsx("div",{className:"author-photo author-photo-placeholder","aria-label":"Avatar genrico",children:j.jsxs("svg",{viewBox:"0 0 64 64",role:"img","aria-hidden":"true",children:[j.jsx("circle",{cx:"32",cy:"24",r:"14"}),j.jsx("path",{d:"M12 58c4-12 16-18 20-18s16 6 20 18"})]})}),j.jsxs("div",{className:"author-info",children:[j.jsxs("span",{className:"author-name",children:["Publicado por ",e.authorName]}),j.jsxs("span",{className:"author-date",children:["em ",w]})]})]})}),j.jsx("div",{className:"content",dangerouslySetInnerHTML:{__html:e.content}})]}),j.jsxs("section",{className:"post-infos",children:[j.jsxs("aside",{className:"share-aside","aria-label":"Compartilhar",children:[j.jsx("h2",{className:"share-title",children:"Compartilhe"}),j.jsxs("div",{className:"share-buttons",children:[j.jsx("a",{href:`https://api.whatsapp.com/send?text=${d}%20${encodeURIComponent(m)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no WhatsApp",children:j.jsx(wg,{})}),j.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(m)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no Facebook",children:j.jsx(AR,{})}),j.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(m)}&text=${encodeURIComponent(e.title)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no Twitter",children:j.jsx(kR,{})}),j.jsx("a",{href:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(m)}`,target:"_blank",rel:"noopener noreferrer","aria-label":"Compartilhar no LinkedIn",children:j.jsx(RR,{})})]})]}),c.length>0&&j.jsxs("div",{className:"related-posts","aria-label":"Outros posts",children:[j.jsx("h2",{className:"share-title",children:"Outros posts"}),j.jsx("div",{className:"related-grid",children:c.map(k=>{const b=`/post/${lg({title:k.title,id:k.id,slug:k.slug})}`;return j.jsxs("article",{className:"related-card",children:[k.featuredImage&&j.jsx("img",{src:k.featuredImage,alt:k.title,loading:"lazy",decoding:"async"}),j.jsxs("div",{className:"related-content",children:[j.jsx("h3",{children:j.jsx(Go,{to:b,children:k.title})}),j.jsx("p",{children:k.summary})]})]},k.id)})})]})]})]})]})}function T3({user:n,userProfile:e,editingProfile:t,onStartEditProfile:r,onCancelEditProfile:o,onSaveProfile:a,onProfileChange:l,onProfileImageChange:c,onProfileImageRemove:f,hasProfileChanged:p,uploading:v,onSignOut:m}){const d=Z.useRef(null),y=!!e.photoURL,S=()=>{d.current&&d.current.click()};return j.jsxs("header",{className:"admin-header",children:[j.jsxs("div",{className:`user-profile ${t?"editing":""}`,children:[j.jsxs("div",{className:"avatar-wrapper",children:[y?j.jsx("img",{src:e.photoURL,alt:"Avatar",className:"avatar"}):j.jsx("div",{className:"avatar avatar-fallback","aria-label":"Avatar genrico",children:j.jsxs("svg",{viewBox:"0 0 64 64",role:"img","aria-hidden":"true",children:[j.jsx("circle",{cx:"32",cy:"24",r:"14"}),j.jsx("path",{d:"M12 58c4-12 16-18 20-18s16 6 20 18"})]})}),t&&y&&j.jsx("button",{type:"button",className:"avatar-action remove",onClick:f,"aria-label":"Remover foto",children:""}),t&&!y&&j.jsx("button",{type:"button",className:"avatar-action add",onClick:S,"aria-label":"Adicionar foto",children:"+"}),t&&j.jsx("input",{ref:d,type:"file",accept:"image/*",className:"avatar-input",onChange:c})]}),j.jsx("div",{className:"user-info",children:t?j.jsxs(j.Fragment,{children:[j.jsx("input",{type:"text",placeholder:"Seu nome",value:e.displayName,onChange:E=>l({...e,displayName:E.target.value})}),j.jsxs("div",{className:"profile-actions",children:[j.jsx("button",{className:"admin-btn primary",disabled:!p()||v,onClick:a,children:v?"Enviando...":"Salvar perfil"}),j.jsx("button",{className:"admin-btn cancel",onClick:o,children:"Cancelar"})]})]}):j.jsxs(j.Fragment,{children:[j.jsx("strong",{className:"user-name",children:e.displayName||n.email}),j.jsx("button",{className:"edit-profile-link",onClick:r,children:"Editar perfil"})]})})]}),j.jsx("button",{className:"admin-logout",onClick:m,children:"Sair"})]})}var tp,Q0;function b3(){if(Q0)return tp;Q0=1;function n(){this.__data__=[],this.size=0}return tp=n,tp}var np,Y0;function dA(){if(Y0)return np;Y0=1;function n(e,t){return e===t||e!==e&&t!==t}return np=n,np}var rp,X0;function Xf(){if(X0)return rp;X0=1;var n=dA();function e(t,r){for(var o=t.length;o--;)if(n(t[o][0],r))return o;return-1}return rp=e,rp}var ip,J0;function S3(){if(J0)return ip;J0=1;var n=Xf(),e=Array.prototype,t=e.splice;function r(o){var a=this.__data__,l=n(a,o);if(l<0)return!1;var c=a.length-1;return l==c?a.pop():t.call(a,l,1),--this.size,!0}return ip=r,ip}var op,Z0;function A3(){if(Z0)return op;Z0=1;var n=Xf();function e(t){var r=this.__data__,o=n(r,t);return o<0?void 0:r[o][1]}return op=e,op}var sp,eE;function I3(){if(eE)return sp;eE=1;var n=Xf();function e(t){return n(this.__data__,t)>-1}return sp=e,sp}var ap,tE;function R3(){if(tE)return ap;tE=1;var n=Xf();function e(t,r){var o=this.__data__,a=n(o,t);return a<0?(++this.size,o.push([t,r])):o[a][1]=r,this}return ap=e,ap}var lp,nE;function Jf(){if(nE)return lp;nE=1;var n=b3(),e=S3(),t=A3(),r=I3(),o=R3();function a(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,lp=a,lp}var up,rE;function k3(){if(rE)return up;rE=1;var n=Jf();function e(){this.__data__=new n,this.size=0}return up=e,up}var cp,iE;function P3(){if(iE)return cp;iE=1;function n(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}return cp=n,cp}var fp,oE;function x3(){if(oE)return fp;oE=1;function n(e){return this.__data__.get(e)}return fp=n,fp}var hp,sE;function C3(){if(sE)return hp;sE=1;function n(e){return this.__data__.has(e)}return hp=n,hp}var dp,aE;function pA(){if(aE)return dp;aE=1;var n=typeof Sc=="object"&&Sc&&Sc.Object===Object&&Sc;return dp=n,dp}var pp,lE;function _i(){if(lE)return pp;lE=1;var n=pA(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=n||e||Function("return this")();return pp=t,pp}var mp,uE;function ky(){if(uE)return mp;uE=1;var n=_i(),e=n.Symbol;return mp=e,mp}var gp,cE;function O3(){if(cE)return gp;cE=1;var n=ky(),e=Object.prototype,t=e.hasOwnProperty,r=e.toString,o=n?n.toStringTag:void 0;function a(l){var c=t.call(l,o),f=l[o];try{l[o]=void 0;var p=!0}catch{}var v=r.call(l);return p&&(c?l[o]=f:delete l[o]),v}return gp=a,gp}var yp,fE;function N3(){if(fE)return yp;fE=1;var n=Object.prototype,e=n.toString;function t(r){return e.call(r)}return yp=t,yp}var vp,hE;function Zf(){if(hE)return vp;hE=1;var n=ky(),e=O3(),t=N3(),r="[object Null]",o="[object Undefined]",a=n?n.toStringTag:void 0;function l(c){return c==null?c===void 0?o:r:a&&a in Object(c)?e(c):t(c)}return vp=l,vp}var _p,dE;function mA(){if(dE)return _p;dE=1;function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return _p=n,_p}var Ep,pE;function gA(){if(pE)return Ep;pE=1;var n=Zf(),e=mA(),t="[object AsyncFunction]",r="[object Function]",o="[object GeneratorFunction]",a="[object Proxy]";function l(c){if(!e(c))return!1;var f=n(c);return f==r||f==o||f==t||f==a}return Ep=l,Ep}var wp,mE;function L3(){if(mE)return wp;mE=1;var n=_i(),e=n["__core-js_shared__"];return wp=e,wp}var Tp,gE;function D3(){if(gE)return Tp;gE=1;var n=L3(),e=(function(){var r=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function t(r){return!!e&&e in r}return Tp=t,Tp}var bp,yE;function yA(){if(yE)return bp;yE=1;var n=Function.prototype,e=n.toString;function t(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return bp=t,bp}var Sp,vE;function M3(){if(vE)return Sp;vE=1;var n=gA(),e=D3(),t=mA(),r=yA(),o=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,f=l.toString,p=c.hasOwnProperty,v=RegExp("^"+f.call(p).replace(o,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(d){if(!t(d)||e(d))return!1;var y=n(d)?v:a;return y.test(r(d))}return Sp=m,Sp}var Ap,_E;function j3(){if(_E)return Ap;_E=1;function n(e,t){return e?.[t]}return Ap=n,Ap}var Ip,EE;function ka(){if(EE)return Ip;EE=1;var n=M3(),e=j3();function t(r,o){var a=e(r,o);return n(a)?a:void 0}return Ip=t,Ip}var Rp,wE;function Py(){if(wE)return Rp;wE=1;var n=ka(),e=_i(),t=n(e,"Map");return Rp=t,Rp}var kp,TE;function eh(){if(TE)return kp;TE=1;var n=ka(),e=n(Object,"create");return kp=e,kp}var Pp,bE;function V3(){if(bE)return Pp;bE=1;var n=eh();function e(){this.__data__=n?n(null):{},this.size=0}return Pp=e,Pp}var xp,SE;function U3(){if(SE)return xp;SE=1;function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return xp=n,xp}var Cp,AE;function F3(){if(AE)return Cp;AE=1;var n=eh(),e="__lodash_hash_undefined__",t=Object.prototype,r=t.hasOwnProperty;function o(a){var l=this.__data__;if(n){var c=l[a];return c===e?void 0:c}return r.call(l,a)?l[a]:void 0}return Cp=o,Cp}var Op,IE;function q3(){if(IE)return Op;IE=1;var n=eh(),e=Object.prototype,t=e.hasOwnProperty;function r(o){var a=this.__data__;return n?a[o]!==void 0:t.call(a,o)}return Op=r,Op}var Np,RE;function B3(){if(RE)return Np;RE=1;var n=eh(),e="__lodash_hash_undefined__";function t(r,o){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=n&&o===void 0?e:o,this}return Np=t,Np}var Lp,kE;function z3(){if(kE)return Lp;kE=1;var n=V3(),e=U3(),t=F3(),r=q3(),o=B3();function a(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Lp=a,Lp}var Dp,PE;function H3(){if(PE)return Dp;PE=1;var n=z3(),e=Jf(),t=Py();function r(){this.size=0,this.__data__={hash:new n,map:new(t||e),string:new n}}return Dp=r,Dp}var Mp,xE;function $3(){if(xE)return Mp;xE=1;function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Mp=n,Mp}var jp,CE;function th(){if(CE)return jp;CE=1;var n=$3();function e(t,r){var o=t.__data__;return n(r)?o[typeof r=="string"?"string":"hash"]:o.map}return jp=e,jp}var Vp,OE;function W3(){if(OE)return Vp;OE=1;var n=th();function e(t){var r=n(this,t).delete(t);return this.size-=r?1:0,r}return Vp=e,Vp}var Up,NE;function K3(){if(NE)return Up;NE=1;var n=th();function e(t){return n(this,t).get(t)}return Up=e,Up}var Fp,LE;function G3(){if(LE)return Fp;LE=1;var n=th();function e(t){return n(this,t).has(t)}return Fp=e,Fp}var qp,DE;function Q3(){if(DE)return qp;DE=1;var n=th();function e(t,r){var o=n(this,t),a=o.size;return o.set(t,r),this.size+=o.size==a?0:1,this}return qp=e,qp}var Bp,ME;function vA(){if(ME)return Bp;ME=1;var n=H3(),e=W3(),t=K3(),r=G3(),o=Q3();function a(l){var c=-1,f=l==null?0:l.length;for(this.clear();++c<f;){var p=l[c];this.set(p[0],p[1])}}return a.prototype.clear=n,a.prototype.delete=e,a.prototype.get=t,a.prototype.has=r,a.prototype.set=o,Bp=a,Bp}var zp,jE;function Y3(){if(jE)return zp;jE=1;var n=Jf(),e=Py(),t=vA(),r=200;function o(a,l){var c=this.__data__;if(c instanceof n){var f=c.__data__;if(!e||f.length<r-1)return f.push([a,l]),this.size=++c.size,this;c=this.__data__=new t(f)}return c.set(a,l),this.size=c.size,this}return zp=o,zp}var Hp,VE;function X3(){if(VE)return Hp;VE=1;var n=Jf(),e=k3(),t=P3(),r=x3(),o=C3(),a=Y3();function l(c){var f=this.__data__=new n(c);this.size=f.size}return l.prototype.clear=e,l.prototype.delete=t,l.prototype.get=r,l.prototype.has=o,l.prototype.set=a,Hp=l,Hp}var $p,UE;function J3(){if(UE)return $p;UE=1;var n="__lodash_hash_undefined__";function e(t){return this.__data__.set(t,n),this}return $p=e,$p}var Wp,FE;function Z3(){if(FE)return Wp;FE=1;function n(e){return this.__data__.has(e)}return Wp=n,Wp}var Kp,qE;function e5(){if(qE)return Kp;qE=1;var n=vA(),e=J3(),t=Z3();function r(o){var a=-1,l=o==null?0:o.length;for(this.__data__=new n;++a<l;)this.add(o[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=t,Kp=r,Kp}var Gp,BE;function t5(){if(BE)return Gp;BE=1;function n(e,t){for(var r=-1,o=e==null?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}return Gp=n,Gp}var Qp,zE;function n5(){if(zE)return Qp;zE=1;function n(e,t){return e.has(t)}return Qp=n,Qp}var Yp,HE;function _A(){if(HE)return Yp;HE=1;var n=e5(),e=t5(),t=n5(),r=1,o=2;function a(l,c,f,p,v,m){var d=f&r,y=l.length,S=c.length;if(y!=S&&!(d&&S>y))return!1;var E=m.get(l),_=m.get(c);if(E&&_)return E==c&&_==l;var T=-1,w=!0,k=f&o?new n:void 0;for(m.set(l,c),m.set(c,l);++T<y;){var b=l[T],D=c[T];if(p)var F=d?p(D,b,T,c,l,m):p(b,D,T,l,c,m);if(F!==void 0){if(F)continue;w=!1;break}if(k){if(!e(c,function(P,R){if(!t(k,R)&&(b===P||v(b,P,f,p,m)))return k.push(R)})){w=!1;break}}else if(!(b===D||v(b,D,f,p,m))){w=!1;break}}return m.delete(l),m.delete(c),w}return Yp=a,Yp}var Xp,$E;function r5(){if($E)return Xp;$E=1;var n=_i(),e=n.Uint8Array;return Xp=e,Xp}var Jp,WE;function i5(){if(WE)return Jp;WE=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o,a){r[++t]=[a,o]}),r}return Jp=n,Jp}var Zp,KE;function o5(){if(KE)return Zp;KE=1;function n(e){var t=-1,r=Array(e.size);return e.forEach(function(o){r[++t]=o}),r}return Zp=n,Zp}var em,GE;function s5(){if(GE)return em;GE=1;var n=ky(),e=r5(),t=dA(),r=_A(),o=i5(),a=o5(),l=1,c=2,f="[object Boolean]",p="[object Date]",v="[object Error]",m="[object Map]",d="[object Number]",y="[object RegExp]",S="[object Set]",E="[object String]",_="[object Symbol]",T="[object ArrayBuffer]",w="[object DataView]",k=n?n.prototype:void 0,b=k?k.valueOf:void 0;function D(F,P,R,M,O,I,L){switch(R){case w:if(F.byteLength!=P.byteLength||F.byteOffset!=P.byteOffset)return!1;F=F.buffer,P=P.buffer;case T:return!(F.byteLength!=P.byteLength||!I(new e(F),new e(P)));case f:case p:case d:return t(+F,+P);case v:return F.name==P.name&&F.message==P.message;case y:case E:return F==P+"";case m:var N=o;case S:var z=M&l;if(N||(N=a),F.size!=P.size&&!z)return!1;var G=L.get(F);if(G)return G==P;M|=c,L.set(F,P);var ne=r(N(F),N(P),M,O,I,L);return L.delete(F),ne;case _:if(b)return b.call(F)==b.call(P)}return!1}return em=D,em}var tm,QE;function a5(){if(QE)return tm;QE=1;function n(e,t){for(var r=-1,o=t.length,a=e.length;++r<o;)e[a+r]=t[r];return e}return tm=n,tm}var nm,YE;function xy(){if(YE)return nm;YE=1;var n=Array.isArray;return nm=n,nm}var rm,XE;function l5(){if(XE)return rm;XE=1;var n=a5(),e=xy();function t(r,o,a){var l=o(r);return e(r)?l:n(l,a(r))}return rm=t,rm}var im,JE;function u5(){if(JE)return im;JE=1;function n(e,t){for(var r=-1,o=e==null?0:e.length,a=0,l=[];++r<o;){var c=e[r];t(c,r,e)&&(l[a++]=c)}return l}return im=n,im}var om,ZE;function c5(){if(ZE)return om;ZE=1;function n(){return[]}return om=n,om}var sm,ew;function f5(){if(ew)return sm;ew=1;var n=u5(),e=c5(),t=Object.prototype,r=t.propertyIsEnumerable,o=Object.getOwnPropertySymbols,a=o?function(l){return l==null?[]:(l=Object(l),n(o(l),function(c){return r.call(l,c)}))}:e;return sm=a,sm}var am,tw;function h5(){if(tw)return am;tw=1;function n(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}return am=n,am}var lm,nw;function nh(){if(nw)return lm;nw=1;function n(e){return e!=null&&typeof e=="object"}return lm=n,lm}var um,rw;function d5(){if(rw)return um;rw=1;var n=Zf(),e=nh(),t="[object Arguments]";function r(o){return e(o)&&n(o)==t}return um=r,um}var cm,iw;function p5(){if(iw)return cm;iw=1;var n=d5(),e=nh(),t=Object.prototype,r=t.hasOwnProperty,o=t.propertyIsEnumerable,a=n((function(){return arguments})())?n:function(l){return e(l)&&r.call(l,"callee")&&!o.call(l,"callee")};return cm=a,cm}var xl={exports:{}},fm,ow;function m5(){if(ow)return fm;ow=1;function n(){return!1}return fm=n,fm}xl.exports;var sw;function EA(){return sw||(sw=1,(function(n,e){var t=_i(),r=m5(),o=e&&!e.nodeType&&e,a=o&&!0&&n&&!n.nodeType&&n,l=a&&a.exports===o,c=l?t.Buffer:void 0,f=c?c.isBuffer:void 0,p=f||r;n.exports=p})(xl,xl.exports)),xl.exports}var hm,aw;function g5(){if(aw)return hm;aw=1;var n=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(r,o){var a=typeof r;return o=o??n,!!o&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<o}return hm=t,hm}var dm,lw;function wA(){if(lw)return dm;lw=1;var n=9007199254740991;function e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=n}return dm=e,dm}var pm,uw;function y5(){if(uw)return pm;uw=1;var n=Zf(),e=wA(),t=nh(),r="[object Arguments]",o="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",p="[object Map]",v="[object Number]",m="[object Object]",d="[object RegExp]",y="[object Set]",S="[object String]",E="[object WeakMap]",_="[object ArrayBuffer]",T="[object DataView]",w="[object Float32Array]",k="[object Float64Array]",b="[object Int8Array]",D="[object Int16Array]",F="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",M="[object Uint16Array]",O="[object Uint32Array]",I={};I[w]=I[k]=I[b]=I[D]=I[F]=I[P]=I[R]=I[M]=I[O]=!0,I[r]=I[o]=I[_]=I[a]=I[T]=I[l]=I[c]=I[f]=I[p]=I[v]=I[m]=I[d]=I[y]=I[S]=I[E]=!1;function L(N){return t(N)&&e(N.length)&&!!I[n(N)]}return pm=L,pm}var mm,cw;function v5(){if(cw)return mm;cw=1;function n(e){return function(t){return e(t)}}return mm=n,mm}var Cl={exports:{}};Cl.exports;var fw;function _5(){return fw||(fw=1,(function(n,e){var t=pA(),r=e&&!e.nodeType&&e,o=r&&!0&&n&&!n.nodeType&&n,a=o&&o.exports===r,l=a&&t.process,c=(function(){try{var f=o&&o.require&&o.require("util").types;return f||l&&l.binding&&l.binding("util")}catch{}})();n.exports=c})(Cl,Cl.exports)),Cl.exports}var gm,hw;function TA(){if(hw)return gm;hw=1;var n=y5(),e=v5(),t=_5(),r=t&&t.isTypedArray,o=r?e(r):n;return gm=o,gm}var ym,dw;function E5(){if(dw)return ym;dw=1;var n=h5(),e=p5(),t=xy(),r=EA(),o=g5(),a=TA(),l=Object.prototype,c=l.hasOwnProperty;function f(p,v){var m=t(p),d=!m&&e(p),y=!m&&!d&&r(p),S=!m&&!d&&!y&&a(p),E=m||d||y||S,_=E?n(p.length,String):[],T=_.length;for(var w in p)(v||c.call(p,w))&&!(E&&(w=="length"||y&&(w=="offset"||w=="parent")||S&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||o(w,T)))&&_.push(w);return _}return ym=f,ym}var vm,pw;function w5(){if(pw)return vm;pw=1;var n=Object.prototype;function e(t){var r=t&&t.constructor,o=typeof r=="function"&&r.prototype||n;return t===o}return vm=e,vm}var _m,mw;function T5(){if(mw)return _m;mw=1;function n(e,t){return function(r){return e(t(r))}}return _m=n,_m}var Em,gw;function b5(){if(gw)return Em;gw=1;var n=T5(),e=n(Object.keys,Object);return Em=e,Em}var wm,yw;function S5(){if(yw)return wm;yw=1;var n=w5(),e=b5(),t=Object.prototype,r=t.hasOwnProperty;function o(a){if(!n(a))return e(a);var l=[];for(var c in Object(a))r.call(a,c)&&c!="constructor"&&l.push(c);return l}return wm=o,wm}var Tm,vw;function A5(){if(vw)return Tm;vw=1;var n=gA(),e=wA();function t(r){return r!=null&&e(r.length)&&!n(r)}return Tm=t,Tm}var bm,_w;function I5(){if(_w)return bm;_w=1;var n=E5(),e=S5(),t=A5();function r(o){return t(o)?n(o):e(o)}return bm=r,bm}var Sm,Ew;function R5(){if(Ew)return Sm;Ew=1;var n=l5(),e=f5(),t=I5();function r(o){return n(o,t,e)}return Sm=r,Sm}var Am,ww;function k5(){if(ww)return Am;ww=1;var n=R5(),e=1,t=Object.prototype,r=t.hasOwnProperty;function o(a,l,c,f,p,v){var m=c&e,d=n(a),y=d.length,S=n(l),E=S.length;if(y!=E&&!m)return!1;for(var _=y;_--;){var T=d[_];if(!(m?T in l:r.call(l,T)))return!1}var w=v.get(a),k=v.get(l);if(w&&k)return w==l&&k==a;var b=!0;v.set(a,l),v.set(l,a);for(var D=m;++_<y;){T=d[_];var F=a[T],P=l[T];if(f)var R=m?f(P,F,T,l,a,v):f(F,P,T,a,l,v);if(!(R===void 0?F===P||p(F,P,c,f,v):R)){b=!1;break}D||(D=T=="constructor")}if(b&&!D){var M=a.constructor,O=l.constructor;M!=O&&"constructor"in a&&"constructor"in l&&!(typeof M=="function"&&M instanceof M&&typeof O=="function"&&O instanceof O)&&(b=!1)}return v.delete(a),v.delete(l),b}return Am=o,Am}var Im,Tw;function P5(){if(Tw)return Im;Tw=1;var n=ka(),e=_i(),t=n(e,"DataView");return Im=t,Im}var Rm,bw;function x5(){if(bw)return Rm;bw=1;var n=ka(),e=_i(),t=n(e,"Promise");return Rm=t,Rm}var km,Sw;function C5(){if(Sw)return km;Sw=1;var n=ka(),e=_i(),t=n(e,"Set");return km=t,km}var Pm,Aw;function O5(){if(Aw)return Pm;Aw=1;var n=ka(),e=_i(),t=n(e,"WeakMap");return Pm=t,Pm}var xm,Iw;function N5(){if(Iw)return xm;Iw=1;var n=P5(),e=Py(),t=x5(),r=C5(),o=O5(),a=Zf(),l=yA(),c="[object Map]",f="[object Object]",p="[object Promise]",v="[object Set]",m="[object WeakMap]",d="[object DataView]",y=l(n),S=l(e),E=l(t),_=l(r),T=l(o),w=a;return(n&&w(new n(new ArrayBuffer(1)))!=d||e&&w(new e)!=c||t&&w(t.resolve())!=p||r&&w(new r)!=v||o&&w(new o)!=m)&&(w=function(k){var b=a(k),D=b==f?k.constructor:void 0,F=D?l(D):"";if(F)switch(F){case y:return d;case S:return c;case E:return p;case _:return v;case T:return m}return b}),xm=w,xm}var Cm,Rw;function L5(){if(Rw)return Cm;Rw=1;var n=X3(),e=_A(),t=s5(),r=k5(),o=N5(),a=xy(),l=EA(),c=TA(),f=1,p="[object Arguments]",v="[object Array]",m="[object Object]",d=Object.prototype,y=d.hasOwnProperty;function S(E,_,T,w,k,b){var D=a(E),F=a(_),P=D?v:o(E),R=F?v:o(_);P=P==p?m:P,R=R==p?m:R;var M=P==m,O=R==m,I=P==R;if(I&&l(E)){if(!l(_))return!1;D=!0,M=!1}if(I&&!M)return b||(b=new n),D||c(E)?e(E,_,T,w,k,b):t(E,_,P,T,w,k,b);if(!(T&f)){var L=M&&y.call(E,"__wrapped__"),N=O&&y.call(_,"__wrapped__");if(L||N){var z=L?E.value():E,G=N?_.value():_;return b||(b=new n),k(z,G,T,w,b)}}return I?(b||(b=new n),r(E,_,T,w,k,b)):!1}return Cm=S,Cm}var Om,kw;function D5(){if(kw)return Om;kw=1;var n=L5(),e=nh();function t(r,o,a,l,c){return r===o?!0:r==null||o==null||!e(r)&&!e(o)?r!==r&&o!==o:n(r,o,a,l,t,c)}return Om=t,Om}var Nm,Pw;function M5(){if(Pw)return Nm;Pw=1;var n=D5();function e(t,r){return n(t,r)}return Nm=e,Nm}var Qc={exports:{}};var j5=Qc.exports,xw;function V5(){return xw||(xw=1,(function(n,e){(function(r,o){n.exports=o()})(typeof self<"u"?self:j5,function(){return(function(t){var r={};function o(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return t[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=t,o.c=r,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:c})},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s=109)})([(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(17),l=o(18),c=o(19),f=o(45),p=o(46),v=o(47),m=o(48),d=o(49),y=o(12),S=o(32),E=o(33),_=o(31),T=o(1),w={Scope:T.Scope,create:T.create,find:T.find,query:T.query,register:T.register,Container:a.default,Format:l.default,Leaf:c.default,Embed:m.default,Scroll:f.default,Block:v.default,Inline:p.default,Text:d.default,Attributor:{Attribute:y.default,Class:S.default,Style:E.default,Store:_.default}};r.default=w}),(function(t,r,o){var a=this&&this.__extends||(function(){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,w){T.__proto__=w}||function(T,w){for(var k in w)w.hasOwnProperty(k)&&(T[k]=w[k])};return function(T,w){_(T,w);function k(){this.constructor=T}T.prototype=w===null?Object.create(w):(k.prototype=w.prototype,new k)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=(function(_){a(T,_);function T(w){var k=this;return w="[Parchment] "+w,k=_.call(this,w)||this,k.message=w,k.name=k.constructor.name,k}return T})(Error);r.ParchmentError=l;var c={},f={},p={},v={};r.DATA_KEY="__blot";var m;(function(_){_[_.TYPE=3]="TYPE",_[_.LEVEL=12]="LEVEL",_[_.ATTRIBUTE=13]="ATTRIBUTE",_[_.BLOT=14]="BLOT",_[_.INLINE=7]="INLINE",_[_.BLOCK=11]="BLOCK",_[_.BLOCK_BLOT=10]="BLOCK_BLOT",_[_.INLINE_BLOT=6]="INLINE_BLOT",_[_.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",_[_.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",_[_.ANY=15]="ANY"})(m=r.Scope||(r.Scope={}));function d(_,T){var w=S(_);if(w==null)throw new l("Unable to create "+_+" blot");var k=w,b=_ instanceof Node||_.nodeType===Node.TEXT_NODE?_:k.create(T);return new k(b,T)}r.create=d;function y(_,T){return T===void 0&&(T=!1),_==null?null:_[r.DATA_KEY]!=null?_[r.DATA_KEY].blot:T?y(_.parentNode,T):null}r.find=y;function S(_,T){T===void 0&&(T=m.ANY);var w;if(typeof _=="string")w=v[_]||c[_];else if(_ instanceof Text||_.nodeType===Node.TEXT_NODE)w=v.text;else if(typeof _=="number")_&m.LEVEL&m.BLOCK?w=v.block:_&m.LEVEL&m.INLINE&&(w=v.inline);else if(_ instanceof HTMLElement){var k=(_.getAttribute("class")||"").split(/\s+/);for(var b in k)if(w=f[k[b]],w)break;w=w||p[_.tagName]}return w==null?null:T&m.LEVEL&w.scope&&T&m.TYPE&w.scope?w:null}r.query=S;function E(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];if(_.length>1)return _.map(function(b){return E(b)});var w=_[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new l("Invalid definition");if(w.blotName==="abstract")throw new l("Cannot register abstract class");if(v[w.blotName||w.attrName]=w,typeof w.keyName=="string")c[w.keyName]=w;else if(w.className!=null&&(f[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(b){return b.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var k=Array.isArray(w.tagName)?w.tagName:[w.tagName];k.forEach(function(b){(p[b]==null||w.className==null)&&(p[b]=w)})}return w}r.register=E}),(function(t,r,o){var a=o(51),l=o(11),c=o(3),f=o(20),p="\0",v=function(m){Array.isArray(m)?this.ops=m:m!=null&&Array.isArray(m.ops)?this.ops=m.ops:this.ops=[]};v.prototype.insert=function(m,d){var y={};return m.length===0?this:(y.insert=m,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y))},v.prototype.delete=function(m){return m<=0?this:this.push({delete:m})},v.prototype.retain=function(m,d){if(m<=0)return this;var y={retain:m};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(y.attributes=d),this.push(y)},v.prototype.push=function(m){var d=this.ops.length,y=this.ops[d-1];if(m=c(!0,{},m),typeof y=="object"){if(typeof m.delete=="number"&&typeof y.delete=="number")return this.ops[d-1]={delete:y.delete+m.delete},this;if(typeof y.delete=="number"&&m.insert!=null&&(d-=1,y=this.ops[d-1],typeof y!="object"))return this.ops.unshift(m),this;if(l(m.attributes,y.attributes)){if(typeof m.insert=="string"&&typeof y.insert=="string")return this.ops[d-1]={insert:y.insert+m.insert},typeof m.attributes=="object"&&(this.ops[d-1].attributes=m.attributes),this;if(typeof m.retain=="number"&&typeof y.retain=="number")return this.ops[d-1]={retain:y.retain+m.retain},typeof m.attributes=="object"&&(this.ops[d-1].attributes=m.attributes),this}}return d===this.ops.length?this.ops.push(m):this.ops.splice(d,0,m),this},v.prototype.chop=function(){var m=this.ops[this.ops.length-1];return m&&m.retain&&!m.attributes&&this.ops.pop(),this},v.prototype.filter=function(m){return this.ops.filter(m)},v.prototype.forEach=function(m){this.ops.forEach(m)},v.prototype.map=function(m){return this.ops.map(m)},v.prototype.partition=function(m){var d=[],y=[];return this.forEach(function(S){var E=m(S)?d:y;E.push(S)}),[d,y]},v.prototype.reduce=function(m,d){return this.ops.reduce(m,d)},v.prototype.changeLength=function(){return this.reduce(function(m,d){return d.insert?m+f.length(d):d.delete?m-d.delete:m},0)},v.prototype.length=function(){return this.reduce(function(m,d){return m+f.length(d)},0)},v.prototype.slice=function(m,d){m=m||0,typeof d!="number"&&(d=1/0);for(var y=[],S=f.iterator(this.ops),E=0;E<d&&S.hasNext();){var _;E<m?_=S.next(m-E):(_=S.next(d-E),y.push(_)),E+=f.length(_)}return new v(y)},v.prototype.compose=function(m){var d=f.iterator(this.ops),y=f.iterator(m.ops),S=[],E=y.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){for(var _=E.retain;d.peekType()==="insert"&&d.peekLength()<=_;)_-=d.peekLength(),S.push(d.next());E.retain-_>0&&y.next(E.retain-_)}for(var T=new v(S);d.hasNext()||y.hasNext();)if(y.peekType()==="insert")T.push(y.next());else if(d.peekType()==="delete")T.push(d.next());else{var w=Math.min(d.peekLength(),y.peekLength()),k=d.next(w),b=y.next(w);if(typeof b.retain=="number"){var D={};typeof k.retain=="number"?D.retain=w:D.insert=k.insert;var F=f.attributes.compose(k.attributes,b.attributes,typeof k.retain=="number");if(F&&(D.attributes=F),T.push(D),!y.hasNext()&&l(T.ops[T.ops.length-1],D)){var P=new v(d.rest());return T.concat(P).chop()}}else typeof b.delete=="number"&&typeof k.retain=="number"&&T.push(b)}return T.chop()},v.prototype.concat=function(m){var d=new v(this.ops.slice());return m.ops.length>0&&(d.push(m.ops[0]),d.ops=d.ops.concat(m.ops.slice(1))),d},v.prototype.diff=function(m,d){if(this.ops===m.ops)return new v;var y=[this,m].map(function(w){return w.map(function(k){if(k.insert!=null)return typeof k.insert=="string"?k.insert:p;var b=w===m?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),S=new v,E=a(y[0],y[1],d),_=f.iterator(this.ops),T=f.iterator(m.ops);return E.forEach(function(w){for(var k=w[1].length;k>0;){var b=0;switch(w[0]){case a.INSERT:b=Math.min(T.peekLength(),k),S.push(T.next(b));break;case a.DELETE:b=Math.min(k,_.peekLength()),_.next(b),S.delete(b);break;case a.EQUAL:b=Math.min(_.peekLength(),T.peekLength(),k);var D=_.next(b),F=T.next(b);l(D.insert,F.insert)?S.retain(b,f.attributes.diff(D.attributes,F.attributes)):S.push(F).delete(b);break}k-=b}}),S.chop()},v.prototype.eachLine=function(m,d){d=d||`
`;for(var y=f.iterator(this.ops),S=new v,E=0;y.hasNext();){if(y.peekType()!=="insert")return;var _=y.peek(),T=f.length(_)-y.peekLength(),w=typeof _.insert=="string"?_.insert.indexOf(d,T)-T:-1;if(w<0)S.push(y.next());else if(w>0)S.push(y.next(w));else{if(m(S,y.next(1).attributes||{},E)===!1)return;E+=1,S=new v}}S.length()>0&&m(S,{},E)},v.prototype.transform=function(m,d){if(d=!!d,typeof m=="number")return this.transformPosition(m,d);for(var y=f.iterator(this.ops),S=f.iterator(m.ops),E=new v;y.hasNext()||S.hasNext();)if(y.peekType()==="insert"&&(d||S.peekType()!=="insert"))E.retain(f.length(y.next()));else if(S.peekType()==="insert")E.push(S.next());else{var _=Math.min(y.peekLength(),S.peekLength()),T=y.next(_),w=S.next(_);if(T.delete)continue;w.delete?E.push(w):E.retain(_,f.attributes.transform(T.attributes,w.attributes,d))}return E.chop()},v.prototype.transformPosition=function(m,d){d=!!d;for(var y=f.iterator(this.ops),S=0;y.hasNext()&&S<=m;){var E=y.peekLength(),_=y.peekType();if(y.next(),_==="delete"){m-=Math.min(E,m-S);continue}else _==="insert"&&(S<m||!d)&&(m+=E);S+=E}return m},t.exports=v}),(function(t,r){var o=Object.prototype.hasOwnProperty,a=Object.prototype.toString,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,f=function(y){return typeof Array.isArray=="function"?Array.isArray(y):a.call(y)==="[object Array]"},p=function(y){if(!y||a.call(y)!=="[object Object]")return!1;var S=o.call(y,"constructor"),E=y.constructor&&y.constructor.prototype&&o.call(y.constructor.prototype,"isPrototypeOf");if(y.constructor&&!S&&!E)return!1;var _;for(_ in y);return typeof _>"u"||o.call(y,_)},v=function(y,S){l&&S.name==="__proto__"?l(y,S.name,{enumerable:!0,configurable:!0,value:S.newValue,writable:!0}):y[S.name]=S.newValue},m=function(y,S){if(S==="__proto__")if(o.call(y,S)){if(c)return c(y,S).value}else return;return y[S]};t.exports=function d(){var y,S,E,_,T,w,k=arguments[0],b=1,D=arguments.length,F=!1;for(typeof k=="boolean"&&(F=k,k=arguments[1]||{},b=2),(k==null||typeof k!="object"&&typeof k!="function")&&(k={});b<D;++b)if(y=arguments[b],y!=null)for(S in y)E=m(k,S),_=m(y,S),k!==_&&(F&&_&&(p(_)||(T=f(_)))?(T?(T=!1,w=E&&f(E)?E:[]):w=E&&p(E)?E:{},v(k,{name:S,newValue:d(F,w,_)})):typeof _<"u"&&v(k,{name:S,newValue:_}));return k}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var a=(function(){function I(L,N){for(var z=0;z<N.length;z++){var G=N[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,z){return N&&I(L.prototype,N),z&&I(L,z),L}})(),l=function I(L,N,z){L===null&&(L=Function.prototype);var G=Object.getOwnPropertyDescriptor(L,N);if(G===void 0){var ne=Object.getPrototypeOf(L);return ne===null?void 0:I(ne,N,z)}else{if("value"in G)return G.value;var re=G.get;return re===void 0?void 0:re.call(z)}},c=o(3),f=k(c),p=o(2),v=k(p),m=o(0),d=k(m),y=o(16),S=k(y),E=o(6),_=k(E),T=o(7),w=k(T);function k(I){return I&&I.__esModule?I:{default:I}}function b(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function D(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function F(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var P=1,R=(function(I){F(L,I);function L(){return b(this,L),D(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return a(L,[{key:"attach",value:function(){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new v.default().insert(this.value(),(0,f.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(z,G){var ne=d.default.query(z,d.default.Scope.BLOCK_ATTRIBUTE);ne!=null&&this.attributes.attribute(ne,G)}},{key:"formatAt",value:function(z,G,ne,re){this.format(ne,re)}},{key:"insertAt",value:function(z,G,ne){if(typeof G=="string"&&G.endsWith(`
`)){var re=d.default.create(M.blotName);this.parent.insertBefore(re,z===0?this:this.next),re.insertAt(0,G.slice(0,-1))}else l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,z,G,ne)}}]),L})(d.default.Embed);R.scope=d.default.Scope.BLOCK_BLOT;var M=(function(I){F(L,I);function L(N){b(this,L);var z=D(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N));return z.cache={},z}return a(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(z,G){return G.length()===0?z:z.insert(G.value(),O(G))},new v.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(z,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,z,G),this.cache={}}},{key:"formatAt",value:function(z,G,ne,re){G<=0||(d.default.query(ne,d.default.Scope.BLOCK)?z+G===this.length()&&this.format(ne,re):l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,z,Math.min(G,this.length()-z-1),ne,re),this.cache={})}},{key:"insertAt",value:function(z,G,ne){if(ne!=null)return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,z,G,ne);if(G.length!==0){var re=G.split(`
`),oe=re.shift();oe.length>0&&(z<this.length()-1||this.children.tail==null?l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(z,this.length()-1),oe):this.children.tail.insertAt(this.children.tail.length(),oe),this.cache={});var Y=this;re.reduce(function(W,V){return Y=Y.split(W,!0),Y.insertAt(0,V),V.length},z+oe.length)}}},{key:"insertBefore",value:function(z,G){var ne=this.children.head;l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,z,G),ne instanceof S.default&&ne.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+P),this.cache.length}},{key:"moveChildren",value:function(z,G){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,z,G),this.cache={}}},{key:"optimize",value:function(z){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,z),this.cache={}}},{key:"path",value:function(z){return l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,z,!0)}},{key:"removeChild",value:function(z){l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,z),this.cache={}}},{key:"split",value:function(z){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(G&&(z===0||z>=this.length()-P)){var ne=this.clone();return z===0?(this.parent.insertBefore(ne,this),this):(this.parent.insertBefore(ne,this.next),ne)}else{var re=l(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,z,G);return this.cache={},re}}}]),L})(d.default.Block);M.blotName="block",M.tagName="P",M.defaultChild="break",M.allowedChildren=[_.default,d.default.Embed,w.default];function O(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return I==null||(typeof I.formats=="function"&&(L=(0,f.default)(L,I.formats())),I.parent==null||I.parent.blotName=="scroll"||I.parent.statics.scope!==I.statics.scope)?L:O(I.parent,L)}r.bubbleFormats=O,r.BlockEmbed=R,r.default=M}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l=(function(){function Y(W,V){var B=[],K=!0,te=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),X;!(K=(X=$.next()).done)&&(B.push(X.value),!(V&&B.length===V));K=!0);}catch(se){te=!0,ee=se}finally{try{!K&&$.return&&$.return()}finally{if(te)throw ee}}return B}return function(W,V){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function Y(W,V){for(var B=0;B<V.length;B++){var K=V[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,V,B){return V&&Y(W.prototype,V),B&&Y(W,B),W}})();o(50);var f=o(2),p=O(f),v=o(14),m=O(v),d=o(8),y=O(d),S=o(9),E=O(S),_=o(0),T=O(_),w=o(15),k=O(w),b=o(3),D=O(b),F=o(10),P=O(F),R=o(34),M=O(R);function O(Y){return Y&&Y.__esModule?Y:{default:Y}}function I(Y,W,V){return W in Y?Object.defineProperty(Y,W,{value:V,enumerable:!0,configurable:!0,writable:!0}):Y[W]=V,Y}function L(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var N=(0,P.default)("quill"),z=(function(){c(Y,null,[{key:"debug",value:function(V){V===!0&&(V="log"),P.default.level(V)}},{key:"find",value:function(V){return V.__quill||T.default.find(V)}},{key:"import",value:function(V){return this.imports[V]==null&&N.error("Cannot import "+V+". Are you sure it was registered?"),this.imports[V]}},{key:"register",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof V!="string"){var ee=V.attrName||V.blotName;typeof ee=="string"?this.register("formats/"+ee,V,B):Object.keys(V).forEach(function($){K.register($,V[$],B)})}else this.imports[V]!=null&&!te&&N.warn("Overwriting "+V+" with",B),this.imports[V]=B,(V.startsWith("blots/")||V.startsWith("formats/"))&&B.blotName!=="abstract"?T.default.register(B):V.startsWith("modules")&&typeof B.register=="function"&&B.register()}}]);function Y(W){var V=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,Y),this.options=G(W,B),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",W);this.options.debug&&Y.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new y.default,this.scroll=T.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new m.default(this.scroll),this.selection=new k.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(y.default.events.EDITOR_CHANGE,function(ee){ee===y.default.events.TEXT_CHANGE&&V.root.classList.toggle("ql-blank",V.editor.isBlank())}),this.emitter.on(y.default.events.SCROLL_UPDATE,function(ee,$){var X=V.selection.lastRange,se=X&&X.length===0?X.index:void 0;ne.call(V,function(){return V.editor.update(null,$,se)},ee)});var te=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(te),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return c(Y,[{key:"addContainer",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof V=="string"){var K=V;V=document.createElement("div"),V.classList.add(K)}return this.container.insertBefore(V,B),V}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(V,B,K){var te=this,ee=re(V,B,K),$=l(ee,4);return V=$[0],B=$[1],K=$[3],ne.call(this,function(){return te.editor.deleteText(V,B)},K,V,-1*B)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(V),this.container.classList.toggle("ql-disabled",!V)}},{key:"focus",value:function(){var V=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=V,this.scrollIntoView()}},{key:"format",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y.default.sources.API;return ne.call(this,function(){var ee=K.getSelection(!0),$=new p.default;if(ee==null)return $;if(T.default.query(V,T.default.Scope.BLOCK))$=K.editor.formatLine(ee.index,ee.length,I({},V,B));else{if(ee.length===0)return K.selection.format(V,B),$;$=K.editor.formatText(ee.index,ee.length,I({},V,B))}return K.setSelection(ee,y.default.sources.SILENT),$},te)}},{key:"formatLine",value:function(V,B,K,te,ee){var $=this,X=void 0,se=re(V,B,K,te,ee),ae=l(se,4);return V=ae[0],B=ae[1],X=ae[2],ee=ae[3],ne.call(this,function(){return $.editor.formatLine(V,B,X)},ee,V,0)}},{key:"formatText",value:function(V,B,K,te,ee){var $=this,X=void 0,se=re(V,B,K,te,ee),ae=l(se,4);return V=ae[0],B=ae[1],X=ae[2],ee=ae[3],ne.call(this,function(){return $.editor.formatText(V,B,X)},ee,V,0)}},{key:"getBounds",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof V=="number"?K=this.selection.getBounds(V,B):K=this.selection.getBounds(V.index,V.length);var te=this.container.getBoundingClientRect();return{bottom:K.bottom-te.top,height:K.height,left:K.left-te.left,right:K.right-te.left,top:K.top-te.top,width:K.width}}},{key:"getContents",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=re(V,B),te=l(K,2);return V=te[0],B=te[1],this.editor.getContents(V,B)}},{key:"getFormat",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof V=="number"?this.editor.getFormat(V,B):this.editor.getFormat(V.index,V.length)}},{key:"getIndex",value:function(V){return V.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(V){return this.scroll.leaf(V)}},{key:"getLine",value:function(V){return this.scroll.line(V)}},{key:"getLines",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof V!="number"?this.scroll.lines(V.index,V.length):this.scroll.lines(V,B)}},{key:"getModule",value:function(V){return this.theme.modules[V]}},{key:"getSelection",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return V&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-V,K=re(V,B),te=l(K,2);return V=te[0],B=te[1],this.editor.getText(V,B)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(V,B,K){var te=this,ee=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Y.sources.API;return ne.call(this,function(){return te.editor.insertEmbed(V,B,K)},ee,V)}},{key:"insertText",value:function(V,B,K,te,ee){var $=this,X=void 0,se=re(V,0,K,te,ee),ae=l(se,4);return V=ae[0],X=ae[2],ee=ae[3],ne.call(this,function(){return $.editor.insertText(V,B,X)},ee,V,B.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(V,B,K){this.clipboard.dangerouslyPasteHTML(V,B,K)}},{key:"removeFormat",value:function(V,B,K){var te=this,ee=re(V,B,K),$=l(ee,4);return V=$[0],B=$[1],K=$[3],ne.call(this,function(){return te.editor.removeFormat(V,B)},K,V)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(V){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ne.call(this,function(){V=new p.default(V);var te=B.getLength(),ee=B.editor.deleteText(0,te),$=B.editor.applyDelta(V),X=$.ops[$.ops.length-1];X!=null&&typeof X.insert=="string"&&X.insert[X.insert.length-1]===`
`&&(B.editor.deleteText(B.getLength()-1,1),$.delete(1));var se=ee.compose($);return se},K)}},{key:"setSelection",value:function(V,B,K){if(V==null)this.selection.setRange(null,B||Y.sources.API);else{var te=re(V,B,K),ee=l(te,4);V=ee[0],B=ee[1],K=ee[3],this.selection.setRange(new w.Range(V,B),K),K!==y.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API,K=new p.default().insert(V);return this.setContents(K,B)}},{key:"update",value:function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y.default.sources.USER,B=this.scroll.update(V);return this.selection.update(V),B}},{key:"updateContents",value:function(V){var B=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y.default.sources.API;return ne.call(this,function(){return V=new p.default(V),B.editor.applyDelta(V,K)},K,!0)}}]),Y})();z.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},z.events=y.default.events,z.sources=y.default.sources,z.version="1.3.7",z.imports={delta:p.default,parchment:T.default,"core/module":E.default,"core/theme":M.default};function G(Y,W){if(W=(0,D.default)(!0,{container:Y,modules:{clipboard:!0,keyboard:!0,history:!0}},W),!W.theme||W.theme===z.DEFAULTS.theme)W.theme=M.default;else if(W.theme=z.import("themes/"+W.theme),W.theme==null)throw new Error("Invalid theme "+W.theme+". Did you register it?");var V=(0,D.default)(!0,{},W.theme.DEFAULTS);[V,W].forEach(function(te){te.modules=te.modules||{},Object.keys(te.modules).forEach(function(ee){te.modules[ee]===!0&&(te.modules[ee]={})})});var B=Object.keys(V.modules).concat(Object.keys(W.modules)),K=B.reduce(function(te,ee){var $=z.import("modules/"+ee);return $==null?N.error("Cannot load "+ee+" module. Are you sure you registered it?"):te[ee]=$.DEFAULTS||{},te},{});return W.modules!=null&&W.modules.toolbar&&W.modules.toolbar.constructor!==Object&&(W.modules.toolbar={container:W.modules.toolbar}),W=(0,D.default)(!0,{},z.DEFAULTS,{modules:K},V,W),["bounds","container","scrollingContainer"].forEach(function(te){typeof W[te]=="string"&&(W[te]=document.querySelector(W[te]))}),W.modules=Object.keys(W.modules).reduce(function(te,ee){return W.modules[ee]&&(te[ee]=W.modules[ee]),te},{}),W}function ne(Y,W,V,B){if(this.options.strict&&!this.isEnabled()&&W===y.default.sources.USER)return new p.default;var K=V==null?null:this.getSelection(),te=this.editor.delta,ee=Y();if(K!=null&&(V===!0&&(V=K.index),B==null?K=oe(K,ee,W):B!==0&&(K=oe(K,V,B,W)),this.setSelection(K,y.default.sources.SILENT)),ee.length()>0){var $,X=[y.default.events.TEXT_CHANGE,ee,te,W];if(($=this.emitter).emit.apply($,[y.default.events.EDITOR_CHANGE].concat(X)),W!==y.default.sources.SILENT){var se;(se=this.emitter).emit.apply(se,X)}}return ee}function re(Y,W,V,B,K){var te={};return typeof Y.index=="number"&&typeof Y.length=="number"?typeof W!="number"?(K=B,B=V,V=W,W=Y.length,Y=Y.index):(W=Y.length,Y=Y.index):typeof W!="number"&&(K=B,B=V,V=W,W=0),(typeof V>"u"?"undefined":a(V))==="object"?(te=V,K=B):typeof V=="string"&&(B!=null?te[V]=B:K=V),K=K||y.default.sources.API,[Y,W,te,K]}function oe(Y,W,V,B){if(Y==null)return null;var K=void 0,te=void 0;if(W instanceof p.default){var ee=[Y.index,Y.index+Y.length].map(function(ae){return W.transformPosition(ae,B!==y.default.sources.USER)}),$=l(ee,2);K=$[0],te=$[1]}else{var X=[Y.index,Y.index+Y.length].map(function(ae){return ae<W||ae===W&&B===y.default.sources.USER?ae:V>=0?ae+V:Math.max(W,ae+V)}),se=l(X,2);K=se[0],te=se[1]}return new w.Range(K,te-K)}r.expandConfig=G,r.overload=re,r.default=z}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function _(T,w){for(var k=0;k<w.length;k++){var b=w[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,w,k){return w&&_(T.prototype,w),k&&_(T,k),T}})(),l=function _(T,w,k){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,w);if(b===void 0){var D=Object.getPrototypeOf(T);return D===null?void 0:_(D,w,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(7),f=m(c),p=o(0),v=m(p);function m(_){return _&&_.__esModule?_:{default:_}}function d(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function y(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function S(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var E=(function(_){S(T,_);function T(){return d(this,T),y(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"formatAt",value:function(k,b,D,F){if(T.compare(this.statics.blotName,D)<0&&v.default.query(D,v.default.Scope.BLOT)){var P=this.isolate(k,b);F&&P.wrap(D,F)}else l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,k,b,D,F)}},{key:"optimize",value:function(k){if(l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,k),this.parent instanceof T&&T.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(k,b){var D=T.order.indexOf(k),F=T.order.indexOf(b);return D>=0||F>=0?D-F:k===b?0:k<b?-1:1}}]),T})(v.default.Inline);E.allowedChildren=[E,v.default.Embed,f.default],E.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default.Text);r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function w(k,b){for(var D=0;D<b.length;D++){var F=b[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}return function(k,b,D){return b&&w(k.prototype,b),D&&w(k,D),k}})(),l=function w(k,b,D){k===null&&(k=Function.prototype);var F=Object.getOwnPropertyDescriptor(k,b);if(F===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:w(P,b,D)}else{if("value"in F)return F.value;var R=F.get;return R===void 0?void 0:R.call(D)}},c=o(54),f=m(c),p=o(10),v=m(p);function m(w){return w&&w.__esModule?w:{default:w}}function d(w,k){if(!(w instanceof k))throw new TypeError("Cannot call a class as a function")}function y(w,k){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:w}function S(w,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);w.prototype=Object.create(k&&k.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(w,k):w.__proto__=k)}var E=(0,v.default)("quill:events"),_=["selectionchange","mousedown","mouseup","click"];_.forEach(function(w){document.addEventListener(w,function(){for(var k=arguments.length,b=Array(k),D=0;D<k;D++)b[D]=arguments[D];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(F){if(F.__quill&&F.__quill.emitter){var P;(P=F.__quill.emitter).handleDOM.apply(P,b)}})})});var T=(function(w){S(k,w);function k(){d(this,k);var b=y(this,(k.__proto__||Object.getPrototypeOf(k)).call(this));return b.listeners={},b.on("error",E.error),b}return a(k,[{key:"emit",value:function(){E.log.apply(E,arguments),l(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(D){for(var F=arguments.length,P=Array(F>1?F-1:0),R=1;R<F;R++)P[R-1]=arguments[R];(this.listeners[D.type]||[]).forEach(function(M){var O=M.node,I=M.handler;(D.target===O||O.contains(D.target))&&I.apply(void 0,[D].concat(P))})}},{key:"listenDOM",value:function(D,F,P){this.listeners[D]||(this.listeners[D]=[]),this.listeners[D].push({node:F,handler:P})}}]),k})(f.default);T.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},T.sources={API:"api",SILENT:"silent",USER:"user"},r.default=T}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}var l=function c(f){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,c),this.quill=f,this.options=p};l.DEFAULTS={},r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=["error","warn","log","info"],l="warn";function c(p){if(a.indexOf(p)<=a.indexOf(l)){for(var v,m=arguments.length,d=Array(m>1?m-1:0),y=1;y<m;y++)d[y-1]=arguments[y];(v=console)[p].apply(v,d)}}function f(p){return a.reduce(function(v,m){return v[m]=c.bind(console,m,p),v},{})}c.level=f.level=function(p){l=p},r.default=f}),(function(t,r,o){var a=Array.prototype.slice,l=o(52),c=o(53),f=t.exports=function(d,y,S){return S||(S={}),d===y?!0:d instanceof Date&&y instanceof Date?d.getTime()===y.getTime():!d||!y||typeof d!="object"&&typeof y!="object"?S.strict?d===y:d==y:m(d,y,S)};function p(d){return d==null}function v(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function m(d,y,S){var E,_;if(p(d)||p(y)||d.prototype!==y.prototype)return!1;if(c(d))return c(y)?(d=a.call(d),y=a.call(y),f(d,y,S)):!1;if(v(d)){if(!v(y)||d.length!==y.length)return!1;for(E=0;E<d.length;E++)if(d[E]!==y[E])return!1;return!0}try{var T=l(d),w=l(y)}catch{return!1}if(T.length!=w.length)return!1;for(T.sort(),w.sort(),E=T.length-1;E>=0;E--)if(T[E]!=w[E])return!1;for(E=T.length-1;E>=0;E--)if(_=T[E],!f(d[_],y[_],S))return!1;return typeof d==typeof y}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),l=(function(){function c(f,p,v){v===void 0&&(v={}),this.attrName=f,this.keyName=p;var m=a.Scope.TYPE&a.Scope.ATTRIBUTE;v.scope!=null?this.scope=v.scope&a.Scope.LEVEL|m:this.scope=a.Scope.ATTRIBUTE,v.whitelist!=null&&(this.whitelist=v.whitelist)}return c.keys=function(f){return[].map.call(f.attributes,function(p){return p.name})},c.prototype.add=function(f,p){return this.canAdd(f,p)?(f.setAttribute(this.keyName,p),!0):!1},c.prototype.canAdd=function(f,p){var v=a.query(f,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return v==null?!1:this.whitelist==null?!0:typeof p=="string"?this.whitelist.indexOf(p.replace(/["']/g,""))>-1:this.whitelist.indexOf(p)>-1},c.prototype.remove=function(f){f.removeAttribute(this.keyName)},c.prototype.value=function(f){var p=f.getAttribute(this.keyName);return this.canAdd(f,p)&&p?p:""},c})();r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var a=(function(){function R(M,O){var I=[],L=!0,N=!1,z=void 0;try{for(var G=M[Symbol.iterator](),ne;!(L=(ne=G.next()).done)&&(I.push(ne.value),!(O&&I.length===O));L=!0);}catch(re){N=!0,z=re}finally{try{!L&&G.return&&G.return()}finally{if(N)throw z}}return I}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function R(M,O){for(var I=0;I<O.length;I++){var L=O[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,O,I){return O&&R(M.prototype,O),I&&R(M,I),M}})(),c=function R(M,O,I){M===null&&(M=Function.prototype);var L=Object.getOwnPropertyDescriptor(M,O);if(L===void 0){var N=Object.getPrototypeOf(M);return N===null?void 0:R(N,O,I)}else{if("value"in L)return L.value;var z=L.get;return z===void 0?void 0:z.call(I)}},f=o(2),p=w(f),v=o(0),m=w(v),d=o(4),y=w(d),S=o(6),E=w(S),_=o(7),T=w(_);function w(R){return R&&R.__esModule?R:{default:R}}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function b(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function D(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var F=(function(R){D(M,R);function M(){return k(this,M),b(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return M})(E.default);F.blotName="code",F.tagName="CODE";var P=(function(R){D(M,R);function M(){return k(this,M),b(this,(M.__proto__||Object.getPrototypeOf(M)).apply(this,arguments))}return l(M,[{key:"delta",value:function(){var I=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(N,z){return N.insert(z).insert(`
`,I.formats())},new p.default)}},{key:"format",value:function(I,L){if(!(I===this.statics.blotName&&L)){var N=this.descendant(T.default,this.length()-1),z=a(N,1),G=z[0];G?.deleteAt(G.length()-1,1),c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"format",this).call(this,I,L)}}},{key:"formatAt",value:function(I,L,N,z){if(L!==0&&!(m.default.query(N,m.default.Scope.BLOCK)==null||N===this.statics.blotName&&z===this.statics.formats(this.domNode))){var G=this.newlineIndex(I);if(!(G<0||G>=I+L)){var ne=this.newlineIndex(I,!0)+1,re=G-ne+1,oe=this.isolate(ne,re),Y=oe.next;oe.format(N,z),Y instanceof M&&Y.formatAt(0,I-ne+L-re,N,z)}}}},{key:"insertAt",value:function(I,L,N){if(N==null){var z=this.descendant(T.default,I),G=a(z,2),ne=G[0],re=G[1];ne.insertAt(re,L)}}},{key:"length",value:function(){var I=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?I:I+1}},{key:"newlineIndex",value:function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,I).lastIndexOf(`
`);var N=this.domNode.textContent.slice(I).indexOf(`
`);return N>-1?I+N:-1}},{key:"optimize",value:function(I){this.domNode.textContent.endsWith(`
`)||this.appendChild(m.default.create("text",`
`)),c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"optimize",this).call(this,I);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(I),L.moveChildren(this),L.remove())}},{key:"replace",value:function(I){c(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"replace",this).call(this,I),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var N=m.default.find(L);N==null?L.parentNode.removeChild(L):N instanceof m.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(I){var L=c(M.__proto__||Object.getPrototypeOf(M),"create",this).call(this,I);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),M})(y.default);P.blotName="code-block",P.tagName="PRE",P.TAB="  ",r.Code=F,r.default=P}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},l=(function(){function Y(W,V){var B=[],K=!0,te=!1,ee=void 0;try{for(var $=W[Symbol.iterator](),X;!(K=(X=$.next()).done)&&(B.push(X.value),!(V&&B.length===V));K=!0);}catch(se){te=!0,ee=se}finally{try{!K&&$.return&&$.return()}finally{if(te)throw ee}}return B}return function(W,V){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return Y(W,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function Y(W,V){for(var B=0;B<V.length;B++){var K=V[B];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,V,B){return V&&Y(W.prototype,V),B&&Y(W,B),W}})(),f=o(2),p=L(f),v=o(20),m=L(v),d=o(0),y=L(d),S=o(13),E=L(S),_=o(24),T=L(_),w=o(4),k=L(w),b=o(16),D=L(b),F=o(21),P=L(F),R=o(11),M=L(R),O=o(3),I=L(O);function L(Y){return Y&&Y.__esModule?Y:{default:Y}}function N(Y,W,V){return W in Y?Object.defineProperty(Y,W,{value:V,enumerable:!0,configurable:!0,writable:!0}):Y[W]=V,Y}function z(Y,W){if(!(Y instanceof W))throw new TypeError("Cannot call a class as a function")}var G=/^[ -~]*$/,ne=(function(){function Y(W){z(this,Y),this.scroll=W,this.delta=this.getDelta()}return c(Y,[{key:"applyDelta",value:function(V){var B=this,K=!1;this.scroll.update();var te=this.scroll.length();return this.scroll.batchStart(),V=oe(V),V.reduce(function(ee,$){var X=$.retain||$.delete||$.insert.length||1,se=$.attributes||{};if($.insert!=null){if(typeof $.insert=="string"){var ae=$.insert;ae.endsWith(`
`)&&K&&(K=!1,ae=ae.slice(0,-1)),ee>=te&&!ae.endsWith(`
`)&&(K=!0),B.scroll.insertAt(ee,ae);var me=B.scroll.line(ee),Re=l(me,2),je=Re[0],Ve=Re[1],Ge=(0,I.default)({},(0,w.bubbleFormats)(je));if(je instanceof k.default){var et=je.descendant(y.default.Leaf,Ve),kt=l(et,1),ct=kt[0];Ge=(0,I.default)(Ge,(0,w.bubbleFormats)(ct))}se=m.default.attributes.diff(Ge,se)||{}}else if(a($.insert)==="object"){var pe=Object.keys($.insert)[0];if(pe==null)return ee;B.scroll.insertAt(ee,pe,$.insert[pe])}te+=X}return Object.keys(se).forEach(function(de){B.scroll.formatAt(ee,X,de,se[de])}),ee+X},0),V.reduce(function(ee,$){return typeof $.delete=="number"?(B.scroll.deleteAt(ee,$.delete),ee):ee+($.retain||$.insert.length||1)},0),this.scroll.batchEnd(),this.update(V)}},{key:"deleteText",value:function(V,B){return this.scroll.deleteAt(V,B),this.update(new p.default().retain(V).delete(B))}},{key:"formatLine",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(te).forEach(function(ee){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[ee])){var $=K.scroll.lines(V,Math.max(B,1)),X=B;$.forEach(function(se){var ae=se.length();if(!(se instanceof E.default))se.format(ee,te[ee]);else{var me=V-se.offset(K.scroll),Re=se.newlineIndex(me+X)-me+1;se.formatAt(me,Re,ee,te[ee])}X-=ae})}}),this.scroll.optimize(),this.update(new p.default().retain(V).retain(B,(0,P.default)(te)))}},{key:"formatText",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(te).forEach(function(ee){K.scroll.formatAt(V,B,ee,te[ee])}),this.update(new p.default().retain(V).retain(B,(0,P.default)(te)))}},{key:"getContents",value:function(V,B){return this.delta.slice(V,V+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(V,B){return V.concat(B.delta())},new p.default)}},{key:"getFormat",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],te=[];B===0?this.scroll.path(V).forEach(function($){var X=l($,1),se=X[0];se instanceof k.default?K.push(se):se instanceof y.default.Leaf&&te.push(se)}):(K=this.scroll.lines(V,B),te=this.scroll.descendants(y.default.Leaf,V,B));var ee=[K,te].map(function($){if($.length===0)return{};for(var X=(0,w.bubbleFormats)($.shift());Object.keys(X).length>0;){var se=$.shift();if(se==null)return X;X=re((0,w.bubbleFormats)(se),X)}return X});return I.default.apply(I.default,ee)}},{key:"getText",value:function(V,B){return this.getContents(V,B).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(V,B,K){return this.scroll.insertAt(V,B,K),this.update(new p.default().retain(V).insert(N({},B,K)))}},{key:"insertText",value:function(V,B){var K=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(V,B),Object.keys(te).forEach(function(ee){K.scroll.formatAt(V,B.length,ee,te[ee])}),this.update(new p.default().retain(V).insert(B,(0,P.default)(te)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var V=this.scroll.children.head;return V.statics.blotName!==k.default.blotName||V.children.length>1?!1:V.children.head instanceof D.default}},{key:"removeFormat",value:function(V,B){var K=this.getText(V,B),te=this.scroll.line(V+B),ee=l(te,2),$=ee[0],X=ee[1],se=0,ae=new p.default;$!=null&&($ instanceof E.default?se=$.newlineIndex(X)-X+1:se=$.length()-X,ae=$.delta().slice(X,X+se-1).insert(`
`));var me=this.getContents(V,B+se),Re=me.diff(new p.default().insert(K).concat(ae)),je=new p.default().retain(V).concat(Re);return this.applyDelta(je)}},{key:"update",value:function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,te=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(G)&&y.default.find(B[0].target)){var ee=y.default.find(B[0].target),$=(0,w.bubbleFormats)(ee),X=ee.offset(this.scroll),se=B[0].oldValue.replace(T.default.CONTENTS,""),ae=new p.default().insert(se),me=new p.default().insert(ee.value()),Re=new p.default().retain(X).concat(ae.diff(me,K));V=Re.reduce(function(je,Ve){return Ve.insert?je.insert(Ve.insert,$):je.push(Ve)},new p.default),this.delta=te.compose(V)}else this.delta=this.getDelta(),(!V||!(0,M.default)(te.compose(V),this.delta))&&(V=te.diff(this.delta,K));return V}}]),Y})();function re(Y,W){return Object.keys(W).reduce(function(V,B){return Y[B]==null||(W[B]===Y[B]?V[B]=W[B]:Array.isArray(W[B])?W[B].indexOf(Y[B])<0&&(V[B]=W[B].concat([Y[B]])):V[B]=[W[B],Y[B]]),V},{})}function oe(Y){return Y.reduce(function(W,V){if(V.insert===1){var B=(0,P.default)(V.attributes);return delete B.image,W.insert({image:V.attributes.image},B)}if(V.attributes!=null&&(V.attributes.list===!0||V.attributes.bullet===!0)&&(V=(0,P.default)(V),V.attributes.list?V.attributes.list="ordered":(V.attributes.list="bullet",delete V.attributes.bullet)),typeof V.insert=="string"){var K=V.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(K,V.attributes)}return W.push(V)},new p.default)}r.default=ne}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var a=(function(){function R(M,O){var I=[],L=!0,N=!1,z=void 0;try{for(var G=M[Symbol.iterator](),ne;!(L=(ne=G.next()).done)&&(I.push(ne.value),!(O&&I.length===O));L=!0);}catch(re){N=!0,z=re}finally{try{!L&&G.return&&G.return()}finally{if(N)throw z}}return I}return function(M,O){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function R(M,O){for(var I=0;I<O.length;I++){var L=O[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(M,L.key,L)}}return function(M,O,I){return O&&R(M.prototype,O),I&&R(M,I),M}})(),c=o(0),f=T(c),p=o(21),v=T(p),m=o(11),d=T(m),y=o(8),S=T(y),E=o(10),_=T(E);function T(R){return R&&R.__esModule?R:{default:R}}function w(R){if(Array.isArray(R)){for(var M=0,O=Array(R.length);M<R.length;M++)O[M]=R[M];return O}else return Array.from(R)}function k(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}var b=(0,_.default)("quill:selection"),D=function R(M){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;k(this,R),this.index=M,this.length=O},F=(function(){function R(M,O){var I=this;k(this,R),this.emitter=O,this.scroll=M,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=f.default.create("cursor",this),this.lastRange=this.savedRange=new D(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){I.mouseDown||setTimeout(I.update.bind(I,S.default.sources.USER),1)}),this.emitter.on(S.default.events.EDITOR_CHANGE,function(L,N){L===S.default.events.TEXT_CHANGE&&N.length()>0&&I.update(S.default.sources.SILENT)}),this.emitter.on(S.default.events.SCROLL_BEFORE_UPDATE,function(){if(I.hasFocus()){var L=I.getNativeRange();L!=null&&L.start.node!==I.cursor.textNode&&I.emitter.once(S.default.events.SCROLL_UPDATE,function(){try{I.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(S.default.events.SCROLL_OPTIMIZE,function(L,N){if(N.range){var z=N.range,G=z.startNode,ne=z.startOffset,re=z.endNode,oe=z.endOffset;I.setNativeRange(G,ne,re,oe)}}),this.update(S.default.sources.SILENT)}return l(R,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var I=O.cursor.restore();if(!I)return;setTimeout(function(){O.setNativeRange(I.startNode,I.startOffset,I.endNode,I.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(S.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,I){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[O])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||f.default.query(O,f.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var N=f.default.find(L.start.node,!1);if(N==null)return;if(N instanceof f.default.Leaf){var z=N.split(L.start.offset);N.parent.insertBefore(this.cursor,z)}else N.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(O,I),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();O=Math.min(O,L-1),I=Math.min(O+I,L-1)-O;var N=void 0,z=this.scroll.leaf(O),G=a(z,2),ne=G[0],re=G[1];if(ne==null)return null;var oe=ne.position(re,!0),Y=a(oe,2);N=Y[0],re=Y[1];var W=document.createRange();if(I>0){W.setStart(N,re);var V=this.scroll.leaf(O+I),B=a(V,2);if(ne=B[0],re=B[1],ne==null)return null;var K=ne.position(re,!0),te=a(K,2);return N=te[0],re=te[1],W.setEnd(N,re),W.getBoundingClientRect()}else{var ee="left",$=void 0;return N instanceof Text?(re<N.data.length?(W.setStart(N,re),W.setEnd(N,re+1)):(W.setStart(N,re-1),W.setEnd(N,re),ee="right"),$=W.getBoundingClientRect()):($=ne.domNode.getBoundingClientRect(),re>0&&(ee="right")),{bottom:$.top+$.height,height:$.height,left:$[ee],right:$[ee],top:$.top,width:0}}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var I=O.getRangeAt(0);if(I==null)return null;var L=this.normalizeNative(I);return b.info("getNativeRange",L),L}},{key:"getRange",value:function(){var O=this.getNativeRange();if(O==null)return[null,null];var I=this.normalizedToRange(O);return[I,O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var I=this,L=[[O.start.node,O.start.offset]];O.native.collapsed||L.push([O.end.node,O.end.offset]);var N=L.map(function(ne){var re=a(ne,2),oe=re[0],Y=re[1],W=f.default.find(oe,!0),V=W.offset(I.scroll);return Y===0?V:W instanceof f.default.Container?V+W.length():V+W.index(oe,Y)}),z=Math.min(Math.max.apply(Math,w(N)),this.scroll.length()-1),G=Math.min.apply(Math,[z].concat(w(N)));return new D(G,z-G)}},{key:"normalizeNative",value:function(O){if(!P(this.root,O.startContainer)||!O.collapsed&&!P(this.root,O.endContainer))return null;var I={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[I.start,I.end].forEach(function(L){for(var N=L.node,z=L.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>z)N=N.childNodes[z],z=0;else if(N.childNodes.length===z)N=N.lastChild,z=N instanceof Text?N.data.length:N.childNodes.length+1;else break;L.node=N,L.offset=z}),I}},{key:"rangeToNative",value:function(O){var I=this,L=O.collapsed?[O.index]:[O.index,O.index+O.length],N=[],z=this.scroll.length();return L.forEach(function(G,ne){G=Math.min(z-1,G);var re=void 0,oe=I.scroll.leaf(G),Y=a(oe,2),W=Y[0],V=Y[1],B=W.position(V,ne!==0),K=a(B,2);re=K[0],V=K[1],N.push(re,V)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(O){var I=this.lastRange;if(I!=null){var L=this.getBounds(I.index,I.length);if(L!=null){var N=this.scroll.length()-1,z=this.scroll.line(Math.min(I.index,N)),G=a(z,1),ne=G[0],re=ne;if(I.length>0){var oe=this.scroll.line(Math.min(I.index+I.length,N)),Y=a(oe,1);re=Y[0]}if(!(ne==null||re==null)){var W=O.getBoundingClientRect();L.top<W.top?O.scrollTop-=W.top-L.top:L.bottom>W.bottom&&(O.scrollTop+=L.bottom-W.bottom)}}}}},{key:"setNativeRange",value:function(O,I){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:I,z=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",O,I,L,N),!(O!=null&&(this.root.parentNode==null||O.parentNode==null||L.parentNode==null))){var G=document.getSelection();if(G!=null)if(O!=null){this.hasFocus()||this.root.focus();var ne=(this.getNativeRange()||{}).native;if(ne==null||z||O!==ne.startContainer||I!==ne.startOffset||L!==ne.endContainer||N!==ne.endOffset){O.tagName=="BR"&&(I=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),L.tagName=="BR"&&(N=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var re=document.createRange();re.setStart(O,I),re.setEnd(L,N),G.removeAllRanges(),G.addRange(re)}}else G.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:S.default.sources.API;if(typeof I=="string"&&(L=I,I=!1),b.info("setRange",O),O!=null){var N=this.rangeToNative(O);this.setNativeRange.apply(this,w(N).concat([I]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S.default.sources.USER,I=this.lastRange,L=this.getRange(),N=a(L,2),z=N[0],G=N[1];if(this.lastRange=z,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(I,this.lastRange)){var ne;!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode&&this.cursor.restore();var re=[S.default.events.SELECTION_CHANGE,(0,v.default)(this.lastRange),(0,v.default)(I),O];if((ne=this.emitter).emit.apply(ne,[S.default.events.EDITOR_CHANGE].concat(re)),O!==S.default.sources.SILENT){var oe;(oe=this.emitter).emit.apply(oe,re)}}}}]),R})();function P(R,M){try{M.parentNode}catch{return!1}return M instanceof Text&&(M=M.parentNode),R.contains(M)}r.Range=D,r.default=F}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var T=0;T<_.length;T++){var w=_[T];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,T){return _&&S(E.prototype,_),T&&S(E,T),E}})(),l=function S(E,_,T){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,_,T)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(T)}},c=o(0),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"insertInto",value:function(T,w){T.children.length===0?l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertInto",this).call(this,T,w):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),E})(f.default.Embed);y.blotName="break",y.tagName="BR",r.default=y}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(44),c=o(30),f=o(1),p=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.build(),S}return d.prototype.appendChild=function(y){this.insertBefore(y)},d.prototype.attach=function(){m.prototype.attach.call(this),this.children.forEach(function(y){y.attach()})},d.prototype.build=function(){var y=this;this.children=new l.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(S){try{var E=v(S);y.insertBefore(E,y.children.head||void 0)}catch(_){if(_ instanceof f.ParchmentError)return;throw _}})},d.prototype.deleteAt=function(y,S){if(y===0&&S===this.length())return this.remove();this.children.forEachAt(y,S,function(E,_,T){E.deleteAt(_,T)})},d.prototype.descendant=function(y,S){var E=this.children.find(S),_=E[0],T=E[1];return y.blotName==null&&y(_)||y.blotName!=null&&_ instanceof y?[_,T]:_ instanceof d?_.descendant(y,T):[null,-1]},d.prototype.descendants=function(y,S,E){S===void 0&&(S=0),E===void 0&&(E=Number.MAX_VALUE);var _=[],T=E;return this.children.forEachAt(S,E,function(w,k,b){(y.blotName==null&&y(w)||y.blotName!=null&&w instanceof y)&&_.push(w),w instanceof d&&(_=_.concat(w.descendants(y,k,T))),T-=b}),_},d.prototype.detach=function(){this.children.forEach(function(y){y.detach()}),m.prototype.detach.call(this)},d.prototype.formatAt=function(y,S,E,_){this.children.forEachAt(y,S,function(T,w,k){T.formatAt(w,k,E,_)})},d.prototype.insertAt=function(y,S,E){var _=this.children.find(y),T=_[0],w=_[1];if(T)T.insertAt(w,S,E);else{var k=E==null?f.create("text",S):f.create(S,E);this.appendChild(k)}},d.prototype.insertBefore=function(y,S){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(E){return y instanceof E}))throw new f.ParchmentError("Cannot insert "+y.statics.blotName+" into "+this.statics.blotName);y.insertInto(this,S)},d.prototype.length=function(){return this.children.reduce(function(y,S){return y+S.length()},0)},d.prototype.moveChildren=function(y,S){this.children.forEach(function(E){y.insertBefore(E,S)})},d.prototype.optimize=function(y){if(m.prototype.optimize.call(this,y),this.children.length===0)if(this.statics.defaultChild!=null){var S=f.create(this.statics.defaultChild);this.appendChild(S),S.optimize(y)}else this.remove()},d.prototype.path=function(y,S){S===void 0&&(S=!1);var E=this.children.find(y,S),_=E[0],T=E[1],w=[[this,y]];return _ instanceof d?w.concat(_.path(T,S)):(_!=null&&w.push([_,T]),w)},d.prototype.removeChild=function(y){this.children.remove(y)},d.prototype.replace=function(y){y instanceof d&&y.moveChildren(this),m.prototype.replace.call(this,y)},d.prototype.split=function(y,S){if(S===void 0&&(S=!1),!S){if(y===0)return this;if(y===this.length())return this.next}var E=this.clone();return this.parent.insertBefore(E,this.next),this.children.forEachAt(y,this.length(),function(_,T,w){_=_.split(T,S),E.appendChild(_)}),E},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(y,S){var E=this,_=[],T=[];y.forEach(function(w){w.target===E.domNode&&w.type==="childList"&&(_.push.apply(_,w.addedNodes),T.push.apply(T,w.removedNodes))}),T.forEach(function(w){if(!(w.parentNode!=null&&w.tagName!=="IFRAME"&&document.body.compareDocumentPosition(w)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var k=f.find(w);k!=null&&(k.domNode.parentNode==null||k.domNode.parentNode===E.domNode)&&k.detach()}}),_.filter(function(w){return w.parentNode==E.domNode}).sort(function(w,k){return w===k?0:w.compareDocumentPosition(k)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(w){var k=null;w.nextSibling!=null&&(k=f.find(w.nextSibling));var b=v(w);(b.next!=k||b.next==null)&&(b.parent!=null&&b.parent.removeChild(E),E.insertBefore(b,k||void 0))})},d})(c.default);function v(m){var d=f.find(m);if(d==null)try{d=f.create(m)}catch{d=f.create(f.Scope.INLINE),[].slice.call(m.childNodes).forEach(function(S){d.domNode.appendChild(S)}),m.parentNode&&m.parentNode.replaceChild(d.domNode,m),d.attach()}return d}r.default=p}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12),c=o(31),f=o(17),p=o(1),v=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.attributes=new c.default(S.domNode),S}return d.formats=function(y){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return y.tagName.toLowerCase()},d.prototype.format=function(y,S){var E=p.query(y);E instanceof l.default?this.attributes.attribute(E,S):S&&E!=null&&(y!==this.statics.blotName||this.formats()[y]!==S)&&this.replaceWith(y,S)},d.prototype.formats=function(){var y=this.attributes.values(),S=this.statics.formats(this.domNode);return S!=null&&(y[this.statics.blotName]=S),y},d.prototype.replaceWith=function(y,S){var E=m.prototype.replaceWith.call(this,y,S);return this.attributes.copy(E),E},d.prototype.update=function(y,S){var E=this;m.prototype.update.call(this,y,S),y.some(function(_){return _.target===E.domNode&&_.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(y,S){var E=m.prototype.wrap.call(this,y,S);return E instanceof d&&E.statics.scope===this.statics.scope&&this.attributes.move(E),E},d})(f.default);r.default=v}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(30),c=o(1),f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.value=function(m){return!0},v.prototype.index=function(m,d){return this.domNode===m||this.domNode.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},v.prototype.position=function(m,d){var y=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return m>0&&(y+=1),[this.parent.domNode,y]},v.prototype.value=function(){var m;return m={},m[this.statics.blotName]=this.statics.value(this.domNode)||!0,m},v.scope=c.Scope.INLINE_BLOT,v})(l.default);r.default=f}),(function(t,r,o){var a=o(11),l=o(3),c={attributes:{compose:function(p,v,m){typeof p!="object"&&(p={}),typeof v!="object"&&(v={});var d=l(!0,{},v);m||(d=Object.keys(d).reduce(function(S,E){return d[E]!=null&&(S[E]=d[E]),S},{}));for(var y in p)p[y]!==void 0&&v[y]===void 0&&(d[y]=p[y]);return Object.keys(d).length>0?d:void 0},diff:function(p,v){typeof p!="object"&&(p={}),typeof v!="object"&&(v={});var m=Object.keys(p).concat(Object.keys(v)).reduce(function(d,y){return a(p[y],v[y])||(d[y]=v[y]===void 0?null:v[y]),d},{});return Object.keys(m).length>0?m:void 0},transform:function(p,v,m){if(typeof p!="object")return v;if(typeof v=="object"){if(!m)return v;var d=Object.keys(v).reduce(function(y,S){return p[S]===void 0&&(y[S]=v[S]),y},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(p){return new f(p)},length:function(p){return typeof p.delete=="number"?p.delete:typeof p.retain=="number"?p.retain:typeof p.insert=="string"?p.insert.length:1}};function f(p){this.ops=p,this.index=0,this.offset=0}f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(p){p||(p=1/0);var v=this.ops[this.index];if(v){var m=this.offset,d=c.length(v);if(p>=d-m?(p=d-m,this.index+=1,this.offset=0):this.offset+=p,typeof v.delete=="number")return{delete:p};var y={};return v.attributes&&(y.attributes=v.attributes),typeof v.retain=="number"?y.retain=p:typeof v.insert=="string"?y.insert=v.insert.substr(m,p):y.insert=v.insert,y}else return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?c.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var p=this.offset,v=this.index,m=this.next(),d=this.ops.slice(this.index);return this.offset=p,this.index=v,[m].concat(d)}else return[]},t.exports=c}),(function(t,r){var o=(function(){function a(E,_){return _!=null&&E instanceof _}var l;try{l=Map}catch{l=function(){}}var c;try{c=Set}catch{c=function(){}}var f;try{f=Promise}catch{f=function(){}}function p(E,_,T,w,k){typeof _=="object"&&(T=_.depth,w=_.prototype,k=_.includeNonEnumerable,_=_.circular);var b=[],D=[],F=typeof Buffer<"u";typeof _>"u"&&(_=!0),typeof T>"u"&&(T=1/0);function P(R,M){if(R===null)return null;if(M===0)return R;var O,I;if(typeof R!="object")return R;if(a(R,l))O=new l;else if(a(R,c))O=new c;else if(a(R,f))O=new f(function(W,V){R.then(function(B){W(P(B,M-1))},function(B){V(P(B,M-1))})});else if(p.__isArray(R))O=[];else if(p.__isRegExp(R))O=new RegExp(R.source,S(R)),R.lastIndex&&(O.lastIndex=R.lastIndex);else if(p.__isDate(R))O=new Date(R.getTime());else{if(F&&Buffer.isBuffer(R))return Buffer.allocUnsafe?O=Buffer.allocUnsafe(R.length):O=new Buffer(R.length),R.copy(O),O;a(R,Error)?O=Object.create(R):typeof w>"u"?(I=Object.getPrototypeOf(R),O=Object.create(I)):(O=Object.create(w),I=w)}if(_){var L=b.indexOf(R);if(L!=-1)return D[L];b.push(R),D.push(O)}a(R,l)&&R.forEach(function(W,V){var B=P(V,M-1),K=P(W,M-1);O.set(B,K)}),a(R,c)&&R.forEach(function(W){var V=P(W,M-1);O.add(V)});for(var N in R){var z;I&&(z=Object.getOwnPropertyDescriptor(I,N)),!(z&&z.set==null)&&(O[N]=P(R[N],M-1))}if(Object.getOwnPropertySymbols)for(var G=Object.getOwnPropertySymbols(R),N=0;N<G.length;N++){var ne=G[N],re=Object.getOwnPropertyDescriptor(R,ne);re&&!re.enumerable&&!k||(O[ne]=P(R[ne],M-1),re.enumerable||Object.defineProperty(O,ne,{enumerable:!1}))}if(k)for(var oe=Object.getOwnPropertyNames(R),N=0;N<oe.length;N++){var Y=oe[N],re=Object.getOwnPropertyDescriptor(R,Y);re&&re.enumerable||(O[Y]=P(R[Y],M-1),Object.defineProperty(O,Y,{enumerable:!1}))}return O}return P(E,T)}p.clonePrototype=function(_){if(_===null)return null;var T=function(){};return T.prototype=_,new T};function v(E){return Object.prototype.toString.call(E)}p.__objToStr=v;function m(E){return typeof E=="object"&&v(E)==="[object Date]"}p.__isDate=m;function d(E){return typeof E=="object"&&v(E)==="[object Array]"}p.__isArray=d;function y(E){return typeof E=="object"&&v(E)==="[object RegExp]"}p.__isRegExp=y;function S(E){var _="";return E.global&&(_+="g"),E.ignoreCase&&(_+="i"),E.multiline&&(_+="m"),_}return p.__getRegExpFlags=S,p})();typeof t=="object"&&t.exports&&(t.exports=o)}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function O(I,L){var N=[],z=!0,G=!1,ne=void 0;try{for(var re=I[Symbol.iterator](),oe;!(z=(oe=re.next()).done)&&(N.push(oe.value),!(L&&N.length===L));z=!0);}catch(Y){G=!0,ne=Y}finally{try{!z&&re.return&&re.return()}finally{if(G)throw ne}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function O(I,L){for(var N=0;N<L.length;N++){var z=L[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}return function(I,L,N){return L&&O(I.prototype,L),N&&O(I,N),I}})(),c=function O(I,L,N){I===null&&(I=Function.prototype);var z=Object.getOwnPropertyDescriptor(I,L);if(z===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:O(G,L,N)}else{if("value"in z)return z.value;var ne=z.get;return ne===void 0?void 0:ne.call(N)}},f=o(0),p=b(f),v=o(8),m=b(v),d=o(4),y=b(d),S=o(16),E=b(S),_=o(13),T=b(_),w=o(25),k=b(w);function b(O){return O&&O.__esModule?O:{default:O}}function D(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function F(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function P(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}function R(O){return O instanceof y.default||O instanceof d.BlockEmbed}var M=(function(O){P(I,O);function I(L,N){D(this,I);var z=F(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L));return z.emitter=N.emitter,Array.isArray(N.whitelist)&&(z.whitelist=N.whitelist.reduce(function(G,ne){return G[ne]=!0,G},{})),z.domNode.addEventListener("DOMNodeInserted",function(){}),z.optimize(),z.enable(),z}return l(I,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,z){var G=this.line(N),ne=a(G,2),re=ne[0],oe=ne[1],Y=this.line(N+z),W=a(Y,1),V=W[0];if(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"deleteAt",this).call(this,N,z),V!=null&&re!==V&&oe>0){if(re instanceof d.BlockEmbed||V instanceof d.BlockEmbed){this.optimize();return}if(re instanceof T.default){var B=re.newlineIndex(re.length(),!0);if(B>-1&&(re=re.split(B+1),re===V)){this.optimize();return}}else if(V instanceof T.default){var K=V.newlineIndex(0);K>-1&&V.split(K+1)}var te=V.children.head instanceof E.default?null:V.children.head;re.moveChildren(V,te),re.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,z,G,ne){this.whitelist!=null&&!this.whitelist[G]||(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"formatAt",this).call(this,N,z,G,ne),this.optimize())}},{key:"insertAt",value:function(N,z,G){if(!(G!=null&&this.whitelist!=null&&!this.whitelist[z])){if(N>=this.length())if(G==null||p.default.query(z,p.default.Scope.BLOCK)==null){var ne=p.default.create(this.statics.defaultChild);this.appendChild(ne),G==null&&z.endsWith(`
`)&&(z=z.slice(0,-1)),ne.insertAt(0,z,G)}else{var re=p.default.create(z,G);this.appendChild(re)}else c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertAt",this).call(this,N,z,G);this.optimize()}}},{key:"insertBefore",value:function(N,z){if(N.statics.scope===p.default.Scope.INLINE_BLOT){var G=p.default.create(this.statics.defaultChild);G.appendChild(N),N=G}c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,N,z)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(R,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,G=function ne(re,oe,Y){var W=[],V=Y;return re.children.forEachAt(oe,Y,function(B,K,te){R(B)?W.push(B):B instanceof p.default.Container&&(W=W.concat(ne(B,K,V))),V-=te}),W};return G(this,N,z)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,N,z),N.length>0&&this.emitter.emit(m.default.events.SCROLL_OPTIMIZE,N,z))}},{key:"path",value:function(N){return c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var z=m.default.sources.USER;typeof N=="string"&&(z=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(m.default.events.SCROLL_BEFORE_UPDATE,z,N),c(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(m.default.events.SCROLL_UPDATE,z,N)}}}]),I})(p.default.Scroll);M.blotName="scroll",M.className="ql-editor",M.tagName="DIV",M.defaultChild="block",M.allowedChildren=[y.default,d.BlockEmbed,k.default],r.default=M}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},l=(function(){function $(X,se){var ae=[],me=!0,Re=!1,je=void 0;try{for(var Ve=X[Symbol.iterator](),Ge;!(me=(Ge=Ve.next()).done)&&(ae.push(Ge.value),!(se&&ae.length===se));me=!0);}catch(et){Re=!0,je=et}finally{try{!me&&Ve.return&&Ve.return()}finally{if(Re)throw je}}return ae}return function(X,se){if(Array.isArray(X))return X;if(Symbol.iterator in Object(X))return $(X,se);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function $(X,se){for(var ae=0;ae<se.length;ae++){var me=se[ae];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(X,me.key,me)}}return function(X,se,ae){return se&&$(X.prototype,se),ae&&$(X,ae),X}})(),f=o(21),p=O(f),v=o(11),m=O(v),d=o(3),y=O(d),S=o(2),E=O(S),_=o(20),T=O(_),w=o(0),k=O(w),b=o(5),D=O(b),F=o(10),P=O(F),R=o(9),M=O(R);function O($){return $&&$.__esModule?$:{default:$}}function I($,X,se){return X in $?Object.defineProperty($,X,{value:se,enumerable:!0,configurable:!0,writable:!0}):$[X]=se,$}function L($,X){if(!($ instanceof X))throw new TypeError("Cannot call a class as a function")}function N($,X){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X&&(typeof X=="object"||typeof X=="function")?X:$}function z($,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof X);$.prototype=Object.create(X&&X.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf($,X):$.__proto__=X)}var G=(0,P.default)("quill:keyboard"),ne=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",re=(function($){z(X,$),c(X,null,[{key:"match",value:function(ae,me){return me=ee(me),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Re){return!!me[Re]!==ae[Re]&&me[Re]!==null})?!1:me.key===(ae.which||ae.keyCode)}}]);function X(se,ae){L(this,X);var me=N(this,(X.__proto__||Object.getPrototypeOf(X)).call(this,se,ae));return me.bindings={},Object.keys(me.options.bindings).forEach(function(Re){Re==="list autofill"&&se.scroll.whitelist!=null&&!se.scroll.whitelist.list||me.options.bindings[Re]&&me.addBinding(me.options.bindings[Re])}),me.addBinding({key:X.keys.ENTER,shiftKey:null},B),me.addBinding({key:X.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(me.addBinding({key:X.keys.BACKSPACE},{collapsed:!0},Y),me.addBinding({key:X.keys.DELETE},{collapsed:!0},W)):(me.addBinding({key:X.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Y),me.addBinding({key:X.keys.DELETE},{collapsed:!0,suffix:/^.?$/},W)),me.addBinding({key:X.keys.BACKSPACE},{collapsed:!1},V),me.addBinding({key:X.keys.DELETE},{collapsed:!1},V),me.addBinding({key:X.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Y),me.listen(),me}return c(X,[{key:"addBinding",value:function(ae){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},je=ee(ae);if(je==null||je.key==null)return G.warn("Attempted to add invalid keyboard binding",je);typeof me=="function"&&(me={handler:me}),typeof Re=="function"&&(Re={handler:Re}),je=(0,y.default)(je,me,Re),this.bindings[je.key]=this.bindings[je.key]||[],this.bindings[je.key].push(je)}},{key:"listen",value:function(){var ae=this;this.quill.root.addEventListener("keydown",function(me){if(!me.defaultPrevented){var Re=me.which||me.keyCode,je=(ae.bindings[Re]||[]).filter(function(lt){return X.match(me,lt)});if(je.length!==0){var Ve=ae.quill.getSelection();if(!(Ve==null||!ae.quill.hasFocus())){var Ge=ae.quill.getLine(Ve.index),et=l(Ge,2),kt=et[0],ct=et[1],pe=ae.quill.getLeaf(Ve.index),de=l(pe,2),we=de[0],Ae=de[1],ve=Ve.length===0?[we,Ae]:ae.quill.getLeaf(Ve.index+Ve.length),He=l(ve,2),Ke=He[0],Be=He[1],zt=we instanceof k.default.Text?we.value().slice(0,Ae):"",nn=Ke instanceof k.default.Text?Ke.value().slice(Be):"",rt={collapsed:Ve.length===0,empty:Ve.length===0&&kt.length()<=1,format:ae.quill.getFormat(Ve),offset:ct,prefix:zt,suffix:nn},as=je.some(function(lt){if(lt.collapsed!=null&&lt.collapsed!==rt.collapsed||lt.empty!=null&&lt.empty!==rt.empty||lt.offset!=null&&lt.offset!==rt.offset)return!1;if(Array.isArray(lt.format)){if(lt.format.every(function(Gt){return rt.format[Gt]==null}))return!1}else if(a(lt.format)==="object"&&!Object.keys(lt.format).every(function(Gt){return lt.format[Gt]===!0?rt.format[Gt]!=null:lt.format[Gt]===!1?rt.format[Gt]==null:(0,m.default)(lt.format[Gt],rt.format[Gt])}))return!1;return lt.prefix!=null&&!lt.prefix.test(rt.prefix)||lt.suffix!=null&&!lt.suffix.test(rt.suffix)?!1:lt.handler.call(ae,Ve,rt)!==!0});as&&me.preventDefault()}}}})}}]),X})(M.default);re.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},re.DEFAULTS={bindings:{bold:te("bold"),italic:te("italic"),underline:te("underline"),indent:{key:re.keys.TAB,format:["blockquote","indent","list"],handler:function(X,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","+1",D.default.sources.USER)}},outdent:{key:re.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(X,se){if(se.collapsed&&se.offset!==0)return!0;this.quill.format("indent","-1",D.default.sources.USER)}},"outdent backspace":{key:re.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(X,se){se.format.indent!=null?this.quill.format("indent","-1",D.default.sources.USER):se.format.list!=null&&this.quill.format("list",!1,D.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:re.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(X){this.quill.deleteText(X.index-1,1,D.default.sources.USER)}},tab:{key:re.keys.TAB,handler:function(X){this.quill.history.cutoff();var se=new E.default().retain(X.index).delete(X.length).insert("	");this.quill.updateContents(se,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index+1,D.default.sources.SILENT)}},"list empty enter":{key:re.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(X,se){this.quill.format("list",!1,D.default.sources.USER),se.format.indent&&this.quill.format("indent",!1,D.default.sources.USER)}},"checklist enter":{key:re.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(X){var se=this.quill.getLine(X.index),ae=l(se,2),me=ae[0],Re=ae[1],je=(0,y.default)({},me.formats(),{list:"checked"}),Ve=new E.default().retain(X.index).insert(`
`,je).retain(me.length()-Re-1).retain(1,{list:"unchecked"});this.quill.updateContents(Ve,D.default.sources.USER),this.quill.setSelection(X.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:re.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(X,se){var ae=this.quill.getLine(X.index),me=l(ae,2),Re=me[0],je=me[1],Ve=new E.default().retain(X.index).insert(`
`,se.format).retain(Re.length()-je-1).retain(1,{header:null});this.quill.updateContents(Ve,D.default.sources.USER),this.quill.setSelection(X.index+1,D.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(X,se){var ae=se.prefix.length,me=this.quill.getLine(X.index),Re=l(me,2),je=Re[0],Ve=Re[1];if(Ve>ae)return!0;var Ge=void 0;switch(se.prefix.trim()){case"[]":case"[ ]":Ge="unchecked";break;case"[x]":Ge="checked";break;case"-":case"*":Ge="bullet";break;default:Ge="ordered"}this.quill.insertText(X.index," ",D.default.sources.USER),this.quill.history.cutoff();var et=new E.default().retain(X.index-Ve).delete(ae+1).retain(je.length()-2-Ve).retain(1,{list:Ge});this.quill.updateContents(et,D.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(X.index-ae,D.default.sources.SILENT)}},"code exit":{key:re.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(X){var se=this.quill.getLine(X.index),ae=l(se,2),me=ae[0],Re=ae[1],je=new E.default().retain(X.index+me.length()-Re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(je,D.default.sources.USER)}},"embed left":oe(re.keys.LEFT,!1),"embed left shift":oe(re.keys.LEFT,!0),"embed right":oe(re.keys.RIGHT,!1),"embed right shift":oe(re.keys.RIGHT,!0)}};function oe($,X){var se,ae=$===re.keys.LEFT?"prefix":"suffix";return se={key:$,shiftKey:X,altKey:null},I(se,ae,/^$/),I(se,"handler",function(Re){var je=Re.index;$===re.keys.RIGHT&&(je+=Re.length+1);var Ve=this.quill.getLeaf(je),Ge=l(Ve,1),et=Ge[0];return et instanceof k.default.Embed?($===re.keys.LEFT?X?this.quill.setSelection(Re.index-1,Re.length+1,D.default.sources.USER):this.quill.setSelection(Re.index-1,D.default.sources.USER):X?this.quill.setSelection(Re.index,Re.length+1,D.default.sources.USER):this.quill.setSelection(Re.index+Re.length+1,D.default.sources.USER),!1):!0}),se}function Y($,X){if(!($.index===0||this.quill.getLength()<=1)){var se=this.quill.getLine($.index),ae=l(se,1),me=ae[0],Re={};if(X.offset===0){var je=this.quill.getLine($.index-1),Ve=l(je,1),Ge=Ve[0];if(Ge!=null&&Ge.length()>1){var et=me.formats(),kt=this.quill.getFormat($.index-1,1);Re=T.default.attributes.diff(et,kt)||{}}}var ct=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(X.prefix)?2:1;this.quill.deleteText($.index-ct,ct,D.default.sources.USER),Object.keys(Re).length>0&&this.quill.formatLine($.index-ct,ct,Re,D.default.sources.USER),this.quill.focus()}}function W($,X){var se=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(X.suffix)?2:1;if(!($.index>=this.quill.getLength()-se)){var ae={},me=0,Re=this.quill.getLine($.index),je=l(Re,1),Ve=je[0];if(X.offset>=Ve.length()-1){var Ge=this.quill.getLine($.index+1),et=l(Ge,1),kt=et[0];if(kt){var ct=Ve.formats(),pe=this.quill.getFormat($.index,1);ae=T.default.attributes.diff(ct,pe)||{},me=kt.length()}}this.quill.deleteText($.index,se,D.default.sources.USER),Object.keys(ae).length>0&&this.quill.formatLine($.index+me-1,se,ae,D.default.sources.USER)}}function V($){var X=this.quill.getLines($),se={};if(X.length>1){var ae=X[0].formats(),me=X[X.length-1].formats();se=T.default.attributes.diff(me,ae)||{}}this.quill.deleteText($,D.default.sources.USER),Object.keys(se).length>0&&this.quill.formatLine($.index,1,se,D.default.sources.USER),this.quill.setSelection($.index,D.default.sources.SILENT),this.quill.focus()}function B($,X){var se=this;$.length>0&&this.quill.scroll.deleteAt($.index,$.length);var ae=Object.keys(X.format).reduce(function(me,Re){return k.default.query(Re,k.default.Scope.BLOCK)&&!Array.isArray(X.format[Re])&&(me[Re]=X.format[Re]),me},{});this.quill.insertText($.index,`
`,ae,D.default.sources.USER),this.quill.setSelection($.index+1,D.default.sources.SILENT),this.quill.focus(),Object.keys(X.format).forEach(function(me){ae[me]==null&&(Array.isArray(X.format[me])||me!=="link"&&se.quill.format(me,X.format[me],D.default.sources.USER))})}function K($){return{key:re.keys.TAB,shiftKey:!$,format:{"code-block":!0},handler:function(se){var ae=k.default.query("code-block"),me=se.index,Re=se.length,je=this.quill.scroll.descendant(ae,me),Ve=l(je,2),Ge=Ve[0],et=Ve[1];if(Ge!=null){var kt=this.quill.getIndex(Ge),ct=Ge.newlineIndex(et,!0)+1,pe=Ge.newlineIndex(kt+et+Re),de=Ge.domNode.textContent.slice(ct,pe).split(`
`);et=0,de.forEach(function(we,Ae){$?(Ge.insertAt(ct+et,ae.TAB),et+=ae.TAB.length,Ae===0?me+=ae.TAB.length:Re+=ae.TAB.length):we.startsWith(ae.TAB)&&(Ge.deleteAt(ct+et,ae.TAB.length),et-=ae.TAB.length,Ae===0?me-=ae.TAB.length:Re-=ae.TAB.length),et+=we.length+1}),this.quill.update(D.default.sources.USER),this.quill.setSelection(me,Re,D.default.sources.SILENT)}}}}function te($){return{key:$[0].toUpperCase(),shortKey:!0,handler:function(se,ae){this.quill.format($,!ae.format[$],D.default.sources.USER)}}}function ee($){if(typeof $=="string"||typeof $=="number")return ee({key:$});if((typeof $>"u"?"undefined":a($))==="object"&&($=(0,p.default)($,!1)),typeof $.key=="string")if(re.keys[$.key.toUpperCase()]!=null)$.key=re.keys[$.key.toUpperCase()];else if($.key.length===1)$.key=$.key.toUpperCase().charCodeAt(0);else return null;return $.shortKey&&($[ne]=$.shortKey,delete $.shortKey),$}r.default=re,r.SHORTKEY=ne}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function T(w,k){var b=[],D=!0,F=!1,P=void 0;try{for(var R=w[Symbol.iterator](),M;!(D=(M=R.next()).done)&&(b.push(M.value),!(k&&b.length===k));D=!0);}catch(O){F=!0,P=O}finally{try{!D&&R.return&&R.return()}finally{if(F)throw P}}return b}return function(w,k){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return T(w,k);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function T(w,k,b){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,k);if(D===void 0){var F=Object.getPrototypeOf(w);return F===null?void 0:T(F,k,b)}else{if("value"in D)return D.value;var P=D.get;return P===void 0?void 0:P.call(b)}},c=(function(){function T(w,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,k,b){return k&&T(w.prototype,k),b&&T(w,b),w}})(),f=o(0),p=d(f),v=o(7),m=d(v);function d(T){return T&&T.__esModule?T:{default:T}}function y(T,w){if(!(T instanceof w))throw new TypeError("Cannot call a class as a function")}function S(T,w){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:T}function E(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);T.prototype=Object.create(w&&w.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(T,w):T.__proto__=w)}var _=(function(T){E(w,T),c(w,null,[{key:"value",value:function(){}}]);function w(k,b){y(this,w);var D=S(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k));return D.selection=b,D.textNode=document.createTextNode(w.CONTENTS),D.domNode.appendChild(D.textNode),D._length=0,D}return c(w,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,D){if(this._length!==0)return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,b,D);for(var F=this,P=0;F!=null&&F.statics.scope!==p.default.Scope.BLOCK_BLOT;)P+=F.offset(F.parent),F=F.parent;F!=null&&(this._length=w.CONTENTS.length,F.optimize(),F.formatAt(P,w.CONTENTS.length,b,D),this._length=0)}},{key:"index",value:function(b,D){return b===this.textNode?0:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,b,D)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,D=this.selection.getNativeRange(),F=void 0,P=void 0,R=void 0;if(D!=null&&D.start.node===b&&D.end.node===b){var M=[b,D.start.offset,D.end.offset];F=M[0],P=M[1],R=M[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==w.CONTENTS){var O=this.textNode.data.split(w.CONTENTS).join("");this.next instanceof m.default?(F=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=w.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(p.default.create(this.textNode),this),this.textNode=document.createTextNode(w.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),P!=null){var I=[P,R].map(function(N){return Math.max(0,Math.min(F.data.length,N-1))}),L=a(I,2);return P=L[0],R=L[1],{startNode:F,startOffset:P,endNode:F,endOffset:R}}}}},{key:"update",value:function(b,D){var F=this;if(b.some(function(R){return R.type==="characterData"&&R.target===F.textNode})){var P=this.restore();P&&(D.range=P)}}},{key:"value",value:function(){return""}}]),w})(p.default.Embed);_.blotName="cursor",_.className="ql-cursor",_.tagName="span",_.CONTENTS="\uFEFF",r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=p(a),c=o(4),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return E})(l.default.Container);y.allowedChildren=[f.default,c.BlockEmbed,y],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var a=(function(){function _(T,w){for(var k=0;k<w.length;k++){var b=w[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,w,k){return w&&_(T.prototype,w),k&&_(T,k),T}})(),l=function _(T,w,k){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,w);if(b===void 0){var D=Object.getPrototypeOf(T);return D===null?void 0:_(D,w,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(0),f=p(c);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function m(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function d(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var y=(function(_){d(T,_);function T(){return v(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"value",value:function(k){var b=l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"value",this).call(this,k);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(D){return("00"+parseInt(D).toString(16)).slice(-2)}).join("")):b}}]),T})(f.default.Attributor.Style),S=new f.default.Attributor.Class("color","ql-color",{scope:f.default.Scope.INLINE}),E=new y("color","color",{scope:f.default.Scope.INLINE});r.ColorAttributor=y,r.ColorClass=S,r.ColorStyle=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var a=(function(){function E(_,T){for(var w=0;w<T.length;w++){var k=T[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,T,w){return T&&E(_.prototype,T),w&&E(_,w),_}})(),l=function E(_,T,w){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,T);if(k===void 0){var b=Object.getPrototypeOf(_);return b===null?void 0:E(b,T,w)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(w)}},c=o(6),f=p(c);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function m(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function d(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var y=(function(E){d(_,E);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"format",value:function(w,k){if(w!==this.statics.blotName||!k)return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"format",this).call(this,w,k);k=this.constructor.sanitize(k),this.domNode.setAttribute("href",k)}}],[{key:"create",value:function(w){var k=l(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,w);return w=this.sanitize(w),k.setAttribute("href",w),k.setAttribute("rel","noopener noreferrer"),k.setAttribute("target","_blank"),k}},{key:"formats",value:function(w){return w.getAttribute("href")}},{key:"sanitize",value:function(w){return S(w,this.PROTOCOL_WHITELIST)?w:this.SANITIZED_URL}}]),_})(f.default);y.blotName="link",y.tagName="A",y.SANITIZED_URL="about:blank",y.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function S(E,_){var T=document.createElement("a");T.href=E;var w=T.href.slice(0,T.href.indexOf(":"));return _.indexOf(w)>-1}r.default=y,r.sanitize=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},l=(function(){function _(T,w){for(var k=0;k<w.length;k++){var b=w[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,w,k){return w&&_(T.prototype,w),k&&_(T,k),T}})(),c=o(23),f=m(c),p=o(107),v=m(p);function m(_){return _&&_.__esModule?_:{default:_}}function d(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}var y=0;function S(_,T){_.setAttribute(T,_.getAttribute(T)!=="true")}var E=(function(){function _(T){var w=this;d(this,_),this.select=T,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){w.togglePicker()}),this.label.addEventListener("keydown",function(k){switch(k.keyCode){case f.default.keys.ENTER:w.togglePicker();break;case f.default.keys.ESCAPE:w.escape(),k.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return l(_,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),S(this.label,"aria-expanded"),S(this.options,"aria-hidden")}},{key:"buildItem",value:function(w){var k=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),w.hasAttribute("value")&&b.setAttribute("data-value",w.getAttribute("value")),w.textContent&&b.setAttribute("data-label",w.textContent),b.addEventListener("click",function(){k.selectItem(b,!0)}),b.addEventListener("keydown",function(D){switch(D.keyCode){case f.default.keys.ENTER:k.selectItem(b,!0),D.preventDefault();break;case f.default.keys.ESCAPE:k.escape(),D.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var w=document.createElement("span");return w.classList.add("ql-picker-label"),w.innerHTML=v.default,w.tabIndex="0",w.setAttribute("role","button"),w.setAttribute("aria-expanded","false"),this.container.appendChild(w),w}},{key:"buildOptions",value:function(){var w=this,k=document.createElement("span");k.classList.add("ql-picker-options"),k.setAttribute("aria-hidden","true"),k.tabIndex="-1",k.id="ql-picker-options-"+y,y+=1,this.label.setAttribute("aria-controls",k.id),this.options=k,[].slice.call(this.select.options).forEach(function(b){var D=w.buildItem(b);k.appendChild(D),b.selected===!0&&w.selectItem(D)}),this.container.appendChild(k)}},{key:"buildPicker",value:function(){var w=this;[].slice.call(this.select.attributes).forEach(function(k){w.container.setAttribute(k.name,k.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var w=this;this.close(),setTimeout(function(){return w.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(w){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(w!==b&&(b?.classList.remove("ql-selected"),w!=null&&(w.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(w.parentNode.children,w),w.hasAttribute("data-value")?this.label.setAttribute("data-value",w.getAttribute("data-value")):this.label.removeAttribute("data-value"),w.hasAttribute("data-label")?this.label.setAttribute("data-label",w.getAttribute("data-label")):this.label.removeAttribute("data-label"),k))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var D=document.createEvent("Event");D.initEvent("change",!0,!0),this.select.dispatchEvent(D)}this.close()}}},{key:"update",value:function(){var w=void 0;if(this.select.selectedIndex>-1){var k=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];w=this.select.options[this.select.selectedIndex],this.selectItem(k)}else this.selectItem(null);var b=w!=null&&w!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),_})();r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(0),l=G(a),c=o(5),f=G(c),p=o(4),v=G(p),m=o(16),d=G(m),y=o(25),S=G(y),E=o(24),_=G(E),T=o(35),w=G(T),k=o(6),b=G(k),D=o(22),F=G(D),P=o(7),R=G(P),M=o(55),O=G(M),I=o(42),L=G(I),N=o(23),z=G(N);function G(ne){return ne&&ne.__esModule?ne:{default:ne}}f.default.register({"blots/block":v.default,"blots/block/embed":p.BlockEmbed,"blots/break":d.default,"blots/container":S.default,"blots/cursor":_.default,"blots/embed":w.default,"blots/inline":b.default,"blots/scroll":F.default,"blots/text":R.default,"modules/clipboard":O.default,"modules/history":L.default,"modules/keyboard":z.default}),l.default.register(v.default,d.default,_.default,b.default,F.default,R.default),r.default=f.default}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(1),l=(function(){function c(f){this.domNode=f,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(c.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),c.create=function(f){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var p;return Array.isArray(this.tagName)?(typeof f=="string"&&(f=f.toUpperCase(),parseInt(f).toString()===f&&(f=parseInt(f))),typeof f=="number"?p=document.createElement(this.tagName[f-1]):this.tagName.indexOf(f)>-1?p=document.createElement(f):p=document.createElement(this.tagName[0])):p=document.createElement(this.tagName),this.className&&p.classList.add(this.className),p},c.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},c.prototype.clone=function(){var f=this.domNode.cloneNode(!1);return a.create(f)},c.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},c.prototype.deleteAt=function(f,p){var v=this.isolate(f,p);v.remove()},c.prototype.formatAt=function(f,p,v,m){var d=this.isolate(f,p);if(a.query(v,a.Scope.BLOT)!=null&&m)d.wrap(v,m);else if(a.query(v,a.Scope.ATTRIBUTE)!=null){var y=a.create(this.statics.scope);d.wrap(y),y.format(v,m)}},c.prototype.insertAt=function(f,p,v){var m=v==null?a.create("text",p):a.create(p,v),d=this.split(f);this.parent.insertBefore(m,d)},c.prototype.insertInto=function(f,p){p===void 0&&(p=null),this.parent!=null&&this.parent.children.remove(this);var v=null;f.children.insertBefore(this,p),p!=null&&(v=p.domNode),(this.domNode.parentNode!=f.domNode||this.domNode.nextSibling!=v)&&f.domNode.insertBefore(this.domNode,v),this.parent=f,this.attach()},c.prototype.isolate=function(f,p){var v=this.split(f);return v.split(p),v},c.prototype.length=function(){return 1},c.prototype.offset=function(f){return f===void 0&&(f=this.parent),this.parent==null||this==f?0:this.parent.children.offset(this)+this.parent.offset(f)},c.prototype.optimize=function(f){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},c.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},c.prototype.replace=function(f){f.parent!=null&&(f.parent.insertBefore(this,f.next),f.remove())},c.prototype.replaceWith=function(f,p){var v=typeof f=="string"?a.create(f,p):f;return v.replace(this),v},c.prototype.split=function(f,p){return f===0?this:this.next},c.prototype.update=function(f,p){},c.prototype.wrap=function(f,p){var v=typeof f=="string"?a.create(f,p):f;return this.parent!=null&&this.parent.insertBefore(v,this.next),v.appendChild(this),v},c.blotName="abstract",c})();r.default=l}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(12),l=o(32),c=o(33),f=o(1),p=(function(){function v(m){this.attributes={},this.domNode=m,this.build()}return v.prototype.attribute=function(m,d){d?m.add(this.domNode,d)&&(m.value(this.domNode)!=null?this.attributes[m.attrName]=m:delete this.attributes[m.attrName]):(m.remove(this.domNode),delete this.attributes[m.attrName])},v.prototype.build=function(){var m=this;this.attributes={};var d=a.default.keys(this.domNode),y=l.default.keys(this.domNode),S=c.default.keys(this.domNode);d.concat(y).concat(S).forEach(function(E){var _=f.query(E,f.Scope.ATTRIBUTE);_ instanceof a.default&&(m.attributes[_.attrName]=_)})},v.prototype.copy=function(m){var d=this;Object.keys(this.attributes).forEach(function(y){var S=d.attributes[y].value(d.domNode);m.format(y,S)})},v.prototype.move=function(m){var d=this;this.copy(m),Object.keys(this.attributes).forEach(function(y){d.attributes[y].remove(d.domNode)}),this.attributes={}},v.prototype.values=function(){var m=this;return Object.keys(this.attributes).reduce(function(d,y){return d[y]=m.attributes[y].value(m.domNode),d},{})},v})();r.default=p}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12);function c(p,v){var m=p.getAttribute("class")||"";return m.split(/\s+/).filter(function(d){return d.indexOf(v+"-")===0})}var f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.keys=function(m){return(m.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},v.prototype.add=function(m,d){return this.canAdd(m,d)?(this.remove(m),m.classList.add(this.keyName+"-"+d),!0):!1},v.prototype.remove=function(m){var d=c(m,this.keyName);d.forEach(function(y){m.classList.remove(y)}),m.classList.length===0&&m.removeAttribute("class")},v.prototype.value=function(m){var d=c(m,this.keyName)[0]||"",y=d.slice(this.keyName.length+1);return this.canAdd(m,y)?y:""},v})(l.default);r.default=f}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(12);function c(p){var v=p.split("-"),m=v.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return v[0]+m}var f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.keys=function(m){return(m.getAttribute("style")||"").split(";").map(function(d){var y=d.split(":");return y[0].trim()})},v.prototype.add=function(m,d){return this.canAdd(m,d)?(m.style[c(this.keyName)]=d,!0):!1},v.prototype.remove=function(m){m.style[c(this.keyName)]="",m.getAttribute("style")||m.removeAttribute("style")},v.prototype.value=function(m){var d=m.style[c(this.keyName)];return this.canAdd(m,d)?d:""},v})(l.default);r.default=f}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function f(p,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,d.key,d)}}return function(p,v,m){return v&&f(p.prototype,v),m&&f(p,m),p}})();function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var c=(function(){function f(p,v){l(this,f),this.quill=p,this.options=v,this.modules={}}return a(f,[{key:"init",value:function(){var v=this;Object.keys(this.options.modules).forEach(function(m){v.modules[m]==null&&v.addModule(m)})}},{key:"addModule",value:function(v){var m=this.quill.constructor.import("modules/"+v);return this.modules[v]=new m(this.quill,this.options.modules[v]||{}),this.modules[v]}}]),f})();c.DEFAULTS={modules:{}},c.themes={default:c},r.default=c}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function T(w,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,k,b){return k&&T(w.prototype,k),b&&T(w,b),w}})(),l=function T(w,k,b){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,k);if(D===void 0){var F=Object.getPrototypeOf(w);return F===null?void 0:T(F,k,b)}else{if("value"in D)return D.value;var P=D.get;return P===void 0?void 0:P.call(b)}},c=o(0),f=m(c),p=o(7),v=m(p);function m(T){return T&&T.__esModule?T:{default:T}}function d(T,w){if(!(T instanceof w))throw new TypeError("Cannot call a class as a function")}function y(T,w){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:T}function S(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);T.prototype=Object.create(w&&w.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(T,w):T.__proto__=w)}var E="\uFEFF",_=(function(T){S(w,T);function w(k){d(this,w);var b=y(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,k));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(D){b.contentNode.appendChild(D)}),b.leftGuard=document.createTextNode(E),b.rightGuard=document.createTextNode(E),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(w,[{key:"index",value:function(b,D){return b===this.leftGuard?0:b===this.rightGuard?1:l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"index",this).call(this,b,D)}},{key:"restore",value:function(b){var D=void 0,F=void 0,P=b.data.split(E).join("");if(b===this.leftGuard)if(this.prev instanceof v.default){var R=this.prev.length();this.prev.insertAt(R,P),D={startNode:this.prev.domNode,startOffset:R+P.length}}else F=document.createTextNode(P),this.parent.insertBefore(f.default.create(F),this),D={startNode:F,startOffset:P.length};else b===this.rightGuard&&(this.next instanceof v.default?(this.next.insertAt(0,P),D={startNode:this.next.domNode,startOffset:P.length}):(F=document.createTextNode(P),this.parent.insertBefore(f.default.create(F),this.next),D={startNode:F,startOffset:P.length}));return b.data=E,D}},{key:"update",value:function(b,D){var F=this;b.forEach(function(P){if(P.type==="characterData"&&(P.target===F.leftGuard||P.target===F.rightGuard)){var R=F.restore(P.target);R&&(D.range=R)}})}}]),w})(f.default.Embed);r.default=_}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var f={scope:l.default.Scope.BLOCK,whitelist:["right","center","justify"]},p=new l.default.Attributor.Attribute("align","align",f),v=new l.default.Attributor.Class("align","ql-align",f),m=new l.default.Attributor.Style("align","text-align",f);r.AlignAttribute=p,r.AlignClass=v,r.AlignStyle=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var a=o(0),l=f(a),c=o(26);function f(m){return m&&m.__esModule?m:{default:m}}var p=new l.default.Attributor.Class("background","ql-bg",{scope:l.default.Scope.INLINE}),v=new c.ColorAttributor("background","background-color",{scope:l.default.Scope.INLINE});r.BackgroundClass=p,r.BackgroundStyle=v}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var a=o(0),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}var f={scope:l.default.Scope.BLOCK,whitelist:["rtl"]},p=new l.default.Attributor.Attribute("direction","dir",f),v=new l.default.Attributor.Class("direction","ql-direction",f),m=new l.default.Attributor.Style("direction","direction",f);r.DirectionAttribute=p,r.DirectionClass=v,r.DirectionStyle=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var a=(function(){function T(w,k){for(var b=0;b<k.length;b++){var D=k[b];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(w,D.key,D)}}return function(w,k,b){return k&&T(w.prototype,k),b&&T(w,b),w}})(),l=function T(w,k,b){w===null&&(w=Function.prototype);var D=Object.getOwnPropertyDescriptor(w,k);if(D===void 0){var F=Object.getPrototypeOf(w);return F===null?void 0:T(F,k,b)}else{if("value"in D)return D.value;var P=D.get;return P===void 0?void 0:P.call(b)}},c=o(0),f=p(c);function p(T){return T&&T.__esModule?T:{default:T}}function v(T,w){if(!(T instanceof w))throw new TypeError("Cannot call a class as a function")}function m(T,w){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:T}function d(T,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);T.prototype=Object.create(w&&w.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(T,w):T.__proto__=w)}var y={scope:f.default.Scope.INLINE,whitelist:["serif","monospace"]},S=new f.default.Attributor.Class("font","ql-font",y),E=(function(T){d(w,T);function w(){return v(this,w),m(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"value",value:function(b){return l(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),w})(f.default.Attributor.Style),_=new E("font","font-family",y);r.FontStyle=_,r.FontClass=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var a=o(0),l=c(a);function c(v){return v&&v.__esModule?v:{default:v}}var f=new l.default.Attributor.Class("size","ql-size",{scope:l.default.Scope.INLINE,whitelist:["small","large","huge"]}),p=new l.default.Attributor.Style("size","font-size",{scope:l.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=f,r.SizeStyle=p}),(function(t,r,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var a=(function(){function k(b,D){for(var F=0;F<D.length;F++){var P=D[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,D,F){return D&&k(b.prototype,D),F&&k(b,F),b}})(),l=o(0),c=d(l),f=o(5),p=d(f),v=o(9),m=d(v);function d(k){return k&&k.__esModule?k:{default:k}}function y(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}function S(k,b){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:k}function E(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(k,b):k.__proto__=b)}var _=(function(k){E(b,k);function b(D,F){y(this,b);var P=S(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,D,F));return P.lastRecorded=0,P.ignoreChange=!1,P.clear(),P.quill.on(p.default.events.EDITOR_CHANGE,function(R,M,O,I){R!==p.default.events.TEXT_CHANGE||P.ignoreChange||(!P.options.userOnly||I===p.default.sources.USER?P.record(M,O):P.transform(M))}),P.quill.keyboard.addBinding({key:"Z",shortKey:!0},P.undo.bind(P)),P.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},P.redo.bind(P)),/Win/i.test(navigator.platform)&&P.quill.keyboard.addBinding({key:"Y",shortKey:!0},P.redo.bind(P)),P}return a(b,[{key:"change",value:function(F,P){if(this.stack[F].length!==0){var R=this.stack[F].pop();this.stack[P].push(R),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(R[F],p.default.sources.USER),this.ignoreChange=!1;var M=w(R[F]);this.quill.setSelection(M)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(F,P){if(F.ops.length!==0){this.stack.redo=[];var R=this.quill.getContents().diff(P),M=Date.now();if(this.lastRecorded+this.options.delay>M&&this.stack.undo.length>0){var O=this.stack.undo.pop();R=R.compose(O.undo),F=O.redo.compose(F)}else this.lastRecorded=M;this.stack.undo.push({redo:F,undo:R}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(F){this.stack.undo.forEach(function(P){P.undo=F.transform(P.undo,!0),P.redo=F.transform(P.redo,!0)}),this.stack.redo.forEach(function(P){P.undo=F.transform(P.undo,!0),P.redo=F.transform(P.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b})(m.default);_.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function T(k){var b=k.ops[k.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith(`
`):b.attributes!=null?Object.keys(b.attributes).some(function(D){return c.default.query(D,c.default.Scope.BLOCK)!=null}):!1}function w(k){var b=k.reduce(function(F,P){return F+=P.delete||0,F},0),D=k.length()-b;return T(k)&&(D-=1),D}r.default=_,r.getLastChangeIndex=w}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var a=(function(){function B(K,te){for(var ee=0;ee<te.length;ee++){var $=te[ee];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(K,$.key,$)}}return function(K,te,ee){return te&&B(K.prototype,te),ee&&B(K,ee),K}})(),l=function B(K,te,ee){K===null&&(K=Function.prototype);var $=Object.getOwnPropertyDescriptor(K,te);if($===void 0){var X=Object.getPrototypeOf(K);return X===null?void 0:B(X,te,ee)}else{if("value"in $)return $.value;var se=$.get;return se===void 0?void 0:se.call(ee)}},c=o(3),f=M(c),p=o(2),v=M(p),m=o(8),d=M(m),y=o(23),S=M(y),E=o(34),_=M(E),T=o(59),w=M(T),k=o(60),b=M(k),D=o(28),F=M(D),P=o(61),R=M(P);function M(B){return B&&B.__esModule?B:{default:B}}function O(B,K){if(!(B instanceof K))throw new TypeError("Cannot call a class as a function")}function I(B,K){if(!B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:B}function L(B,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);B.prototype=Object.create(K&&K.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(B,K):B.__proto__=K)}var N=[!1,"center","right","justify"],z=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],G=[!1,"serif","monospace"],ne=["1","2","3",!1],re=["small",!1,"large","huge"],oe=(function(B){L(K,B);function K(te,ee){O(this,K);var $=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,ee)),X=function se(ae){if(!document.body.contains(te.root))return document.body.removeEventListener("click",se);$.tooltip!=null&&!$.tooltip.root.contains(ae.target)&&document.activeElement!==$.tooltip.textbox&&!$.quill.hasFocus()&&$.tooltip.hide(),$.pickers!=null&&$.pickers.forEach(function(me){me.container.contains(ae.target)||me.close()})};return te.emitter.listenDOM("click",document.body,X),$}return a(K,[{key:"addModule",value:function(ee){var $=l(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,ee);return ee==="toolbar"&&this.extendToolbar($),$}},{key:"buildButtons",value:function(ee,$){ee.forEach(function(X){var se=X.getAttribute("class")||"";se.split(/\s+/).forEach(function(ae){if(ae.startsWith("ql-")&&(ae=ae.slice(3),$[ae]!=null))if(ae==="direction")X.innerHTML=$[ae][""]+$[ae].rtl;else if(typeof $[ae]=="string")X.innerHTML=$[ae];else{var me=X.value||"";me!=null&&$[ae][me]&&(X.innerHTML=$[ae][me])}})})}},{key:"buildPickers",value:function(ee,$){var X=this;this.pickers=ee.map(function(ae){if(ae.classList.contains("ql-align"))return ae.querySelector("option")==null&&V(ae,N),new b.default(ae,$.align);if(ae.classList.contains("ql-background")||ae.classList.contains("ql-color")){var me=ae.classList.contains("ql-background")?"background":"color";return ae.querySelector("option")==null&&V(ae,z,me==="background"?"#ffffff":"#000000"),new w.default(ae,$[me])}else return ae.querySelector("option")==null&&(ae.classList.contains("ql-font")?V(ae,G):ae.classList.contains("ql-header")?V(ae,ne):ae.classList.contains("ql-size")&&V(ae,re)),new F.default(ae)});var se=function(){X.pickers.forEach(function(me){me.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,se)}}]),K})(_.default);oe.DEFAULTS=(0,f.default)(!0,{},_.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,te=this.container.querySelector("input.ql-image[type=file]");te==null&&(te=document.createElement("input"),te.setAttribute("type","file"),te.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),te.classList.add("ql-image"),te.addEventListener("change",function(){if(te.files!=null&&te.files[0]!=null){var ee=new FileReader;ee.onload=function($){var X=K.quill.getSelection(!0);K.quill.updateContents(new v.default().retain(X.index).delete(X.length).insert({image:$.target.result}),d.default.sources.USER),K.quill.setSelection(X.index+1,d.default.sources.SILENT),te.value=""},ee.readAsDataURL(te.files[0])}}),this.container.appendChild(te)),te.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Y=(function(B){L(K,B);function K(te,ee){O(this,K);var $=I(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,te,ee));return $.textbox=$.root.querySelector('input[type="text"]'),$.listen(),$}return a(K,[{key:"listen",value:function(){var ee=this;this.textbox.addEventListener("keydown",function($){S.default.match($,"enter")?(ee.save(),$.preventDefault()):S.default.match($,"escape")&&(ee.cancel(),$.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),$!=null?this.textbox.value=$:ee!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+ee)||""),this.root.setAttribute("data-mode",ee)}},{key:"restoreFocus",value:function(){var ee=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=ee}},{key:"save",value:function(){var ee=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var $=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",ee,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",ee,d.default.sources.USER)),this.quill.root.scrollTop=$;break}case"video":ee=W(ee);case"formula":{if(!ee)break;var X=this.quill.getSelection(!0);if(X!=null){var se=X.index+X.length;this.quill.insertEmbed(se,this.root.getAttribute("data-mode"),ee,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(se+1," ",d.default.sources.USER),this.quill.setSelection(se+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K})(R.default);function W(B){var K=B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":B}function V(B,K){var te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(ee){var $=document.createElement("option");ee===te?$.setAttribute("selected","selected"):$.setAttribute("value",ee),B.appendChild($)})}r.BaseTooltip=Y,r.default=oe}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function l(){this.head=this.tail=null,this.length=0}return l.prototype.append=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];this.insertBefore(c[0],null),c.length>1&&this.append.apply(this,c.slice(1))},l.prototype.contains=function(c){for(var f,p=this.iterator();f=p();)if(f===c)return!0;return!1},l.prototype.insertBefore=function(c,f){c&&(c.next=f,f!=null?(c.prev=f.prev,f.prev!=null&&(f.prev.next=c),f.prev=c,f===this.head&&(this.head=c)):this.tail!=null?(this.tail.next=c,c.prev=this.tail,this.tail=c):(c.prev=null,this.head=this.tail=c),this.length+=1)},l.prototype.offset=function(c){for(var f=0,p=this.head;p!=null;){if(p===c)return f;f+=p.length(),p=p.next}return-1},l.prototype.remove=function(c){this.contains(c)&&(c.prev!=null&&(c.prev.next=c.next),c.next!=null&&(c.next.prev=c.prev),c===this.head&&(this.head=c.next),c===this.tail&&(this.tail=c.prev),this.length-=1)},l.prototype.iterator=function(c){return c===void 0&&(c=this.head),function(){var f=c;return c!=null&&(c=c.next),f}},l.prototype.find=function(c,f){f===void 0&&(f=!1);for(var p,v=this.iterator();p=v();){var m=p.length();if(c<m||f&&c===m&&(p.next==null||p.next.length()!==0))return[p,c];c-=m}return[null,0]},l.prototype.forEach=function(c){for(var f,p=this.iterator();f=p();)c(f)},l.prototype.forEachAt=function(c,f,p){if(!(f<=0))for(var v=this.find(c),m=v[0],d=v[1],y,S=c-d,E=this.iterator(m);(y=E())&&S<c+f;){var _=y.length();c>S?p(y,c-S,Math.min(f,S+_-c)):p(y,0,Math.min(_,c+f-S)),S+=_}},l.prototype.map=function(c){return this.reduce(function(f,p){return f.push(c(p)),f},[])},l.prototype.reduce=function(c,f){for(var p,v=this.iterator();p=v();)f=c(f,p);return f},l})();r.default=a}),(function(t,r,o){var a=this&&this.__extends||(function(){var m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var S in y)y.hasOwnProperty(S)&&(d[S]=y[S])};return function(d,y){m(d,y);function S(){this.constructor=d}d.prototype=y===null?Object.create(y):(S.prototype=y.prototype,new S)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(17),c=o(1),f={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},p=100,v=(function(m){a(d,m);function d(y){var S=m.call(this,y)||this;return S.scroll=S,S.observer=new MutationObserver(function(E){S.update(E)}),S.observer.observe(S.domNode,f),S.attach(),S}return d.prototype.detach=function(){m.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(y,S){this.update(),y===0&&S===this.length()?this.children.forEach(function(E){E.remove()}):m.prototype.deleteAt.call(this,y,S)},d.prototype.formatAt=function(y,S,E,_){this.update(),m.prototype.formatAt.call(this,y,S,E,_)},d.prototype.insertAt=function(y,S,E){this.update(),m.prototype.insertAt.call(this,y,S,E)},d.prototype.optimize=function(y,S){var E=this;y===void 0&&(y=[]),S===void 0&&(S={}),m.prototype.optimize.call(this,S);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)y.push(_.pop());for(var T=function(D,F){F===void 0&&(F=!0),!(D==null||D===E)&&D.domNode.parentNode!=null&&(D.domNode[c.DATA_KEY].mutations==null&&(D.domNode[c.DATA_KEY].mutations=[]),F&&T(D.parent))},w=function(D){D.domNode[c.DATA_KEY]==null||D.domNode[c.DATA_KEY].mutations==null||(D instanceof l.default&&D.children.forEach(w),D.optimize(S))},k=y,b=0;k.length>0;b+=1){if(b>=p)throw new Error("[Parchment] Maximum optimize iterations reached");for(k.forEach(function(D){var F=c.find(D.target,!0);F!=null&&(F.domNode===D.target&&(D.type==="childList"?(T(c.find(D.previousSibling,!1)),[].forEach.call(D.addedNodes,function(P){var R=c.find(P,!1);T(R,!1),R instanceof l.default&&R.children.forEach(function(M){T(M,!1)})})):D.type==="attributes"&&T(F.prev)),T(F))}),this.children.forEach(w),k=[].slice.call(this.observer.takeRecords()),_=k.slice();_.length>0;)y.push(_.pop())}},d.prototype.update=function(y,S){var E=this;S===void 0&&(S={}),y=y||this.observer.takeRecords(),y.map(function(_){var T=c.find(_.target,!0);return T==null?null:T.domNode[c.DATA_KEY].mutations==null?(T.domNode[c.DATA_KEY].mutations=[_],T):(T.domNode[c.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_==null||_===E||_.domNode[c.DATA_KEY]==null||_.update(_.domNode[c.DATA_KEY].mutations||[],S)}),this.domNode[c.DATA_KEY].mutations!=null&&m.prototype.update.call(this,this.domNode[c.DATA_KEY].mutations,S),this.optimize(y,S)},d.blotName="scroll",d.defaultChild="block",d.scope=c.Scope.BLOCK_BLOT,d.tagName="DIV",d})(l.default);r.default=v}),(function(t,r,o){var a=this&&this.__extends||(function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,d){m.__proto__=d}||function(m,d){for(var y in d)d.hasOwnProperty(y)&&(m[y]=d[y])};return function(m,d){v(m,d);function y(){this.constructor=m}m.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(18),c=o(1);function f(v,m){if(Object.keys(v).length!==Object.keys(m).length)return!1;for(var d in v)if(v[d]!==m[d])return!1;return!0}var p=(function(v){a(m,v);function m(){return v!==null&&v.apply(this,arguments)||this}return m.formats=function(d){if(d.tagName!==m.tagName)return v.formats.call(this,d)},m.prototype.format=function(d,y){var S=this;d===this.statics.blotName&&!y?(this.children.forEach(function(E){E instanceof l.default||(E=E.wrap(m.blotName,!0)),S.attributes.copy(E)}),this.unwrap()):v.prototype.format.call(this,d,y)},m.prototype.formatAt=function(d,y,S,E){if(this.formats()[S]!=null||c.query(S,c.Scope.ATTRIBUTE)){var _=this.isolate(d,y);_.format(S,E)}else v.prototype.formatAt.call(this,d,y,S,E)},m.prototype.optimize=function(d){v.prototype.optimize.call(this,d);var y=this.formats();if(Object.keys(y).length===0)return this.unwrap();var S=this.next;S instanceof m&&S.prev===this&&f(y,S.formats())&&(S.moveChildren(this),S.remove())},m.blotName="inline",m.scope=c.Scope.INLINE_BLOT,m.tagName="SPAN",m})(l.default);r.default=p}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(18),c=o(1),f=(function(p){a(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.formats=function(m){var d=c.query(v.blotName).tagName;if(m.tagName!==d)return p.formats.call(this,m)},v.prototype.format=function(m,d){c.query(m,c.Scope.BLOCK)!=null&&(m===this.statics.blotName&&!d?this.replaceWith(v.blotName):p.prototype.format.call(this,m,d))},v.prototype.formatAt=function(m,d,y,S){c.query(y,c.Scope.BLOCK)!=null?this.format(y,S):p.prototype.formatAt.call(this,m,d,y,S)},v.prototype.insertAt=function(m,d,y){if(y==null||c.query(d,c.Scope.INLINE)!=null)p.prototype.insertAt.call(this,m,d,y);else{var S=this.split(m),E=c.create(d,y);S.parent.insertBefore(E,S)}},v.prototype.update=function(m,d){navigator.userAgent.match(/Trident/)?this.build():p.prototype.update.call(this,m,d)},v.blotName="block",v.scope=c.Scope.BLOCK_BLOT,v.tagName="P",v})(l.default);r.default=f}),(function(t,r,o){var a=this&&this.__extends||(function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var m in v)v.hasOwnProperty(m)&&(p[m]=v[m])};return function(p,v){f(p,v);function m(){this.constructor=p}p.prototype=v===null?Object.create(v):(m.prototype=v.prototype,new m)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(19),c=(function(f){a(p,f);function p(){return f!==null&&f.apply(this,arguments)||this}return p.formats=function(v){},p.prototype.format=function(v,m){f.prototype.formatAt.call(this,0,this.length(),v,m)},p.prototype.formatAt=function(v,m,d,y){v===0&&m===this.length()?this.format(d,y):f.prototype.formatAt.call(this,v,m,d,y)},p.prototype.formats=function(){return this.statics.formats(this.domNode)},p})(l.default);r.default=c}),(function(t,r,o){var a=this&&this.__extends||(function(){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,m){v.__proto__=m}||function(v,m){for(var d in m)m.hasOwnProperty(d)&&(v[d]=m[d])};return function(v,m){p(v,m);function d(){this.constructor=v}v.prototype=m===null?Object.create(m):(d.prototype=m.prototype,new d)}})();Object.defineProperty(r,"__esModule",{value:!0});var l=o(19),c=o(1),f=(function(p){a(v,p);function v(m){var d=p.call(this,m)||this;return d.text=d.statics.value(d.domNode),d}return v.create=function(m){return document.createTextNode(m)},v.value=function(m){var d=m.data;return d.normalize&&(d=d.normalize()),d},v.prototype.deleteAt=function(m,d){this.domNode.data=this.text=this.text.slice(0,m)+this.text.slice(m+d)},v.prototype.index=function(m,d){return this.domNode===m?d:-1},v.prototype.insertAt=function(m,d,y){y==null?(this.text=this.text.slice(0,m)+d+this.text.slice(m),this.domNode.data=this.text):p.prototype.insertAt.call(this,m,d,y)},v.prototype.length=function(){return this.text.length},v.prototype.optimize=function(m){p.prototype.optimize.call(this,m),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof v&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},v.prototype.position=function(m,d){return[this.domNode,m]},v.prototype.split=function(m,d){if(d===void 0&&(d=!1),!d){if(m===0)return this;if(m===this.length())return this.next}var y=c.create(this.domNode.splitText(m));return this.parent.insertBefore(y,this.next),this.text=this.statics.value(this.domNode),y},v.prototype.update=function(m,d){var y=this;m.some(function(S){return S.type==="characterData"&&S.target===y.domNode})&&(this.text=this.statics.value(this.domNode))},v.prototype.value=function(){return this.text},v.blotName="text",v.scope=c.Scope.INLINE_BLOT,v})(l.default);r.default=f}),(function(t,r,o){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,f){return arguments.length>1&&!this.contains(c)==!f?f:l.call(this,c)}}String.prototype.startsWith||(String.prototype.startsWith=function(c,f){return f=f||0,this.substr(f,c.length)===c}),String.prototype.endsWith||(String.prototype.endsWith=function(c,f){var p=this.toString();(typeof f!="number"||!isFinite(f)||Math.floor(f)!==f||f>p.length)&&(f=p.length),f-=c.length;var v=p.indexOf(c,f);return v!==-1&&v===f}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(f){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof f!="function")throw new TypeError("predicate must be a function");for(var p=Object(this),v=p.length>>>0,m=arguments[1],d,y=0;y<v;y++)if(d=p[y],f.call(m,d,y,p))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(t,r){var o=-1,a=1,l=0;function c(b,D,F){if(b==D)return b?[[l,b]]:[];(F<0||b.length<F)&&(F=null);var P=m(b,D),R=b.substring(0,P);b=b.substring(P),D=D.substring(P),P=d(b,D);var M=b.substring(b.length-P);b=b.substring(0,b.length-P),D=D.substring(0,D.length-P);var O=f(b,D);return R&&O.unshift([l,R]),M&&O.push([l,M]),S(O),F!=null&&(O=T(O,F)),O=w(O),O}function f(b,D){var F;if(!b)return[[a,D]];if(!D)return[[o,b]];var P=b.length>D.length?b:D,R=b.length>D.length?D:b,M=P.indexOf(R);if(M!=-1)return F=[[a,P.substring(0,M)],[l,R],[a,P.substring(M+R.length)]],b.length>D.length&&(F[0][0]=F[2][0]=o),F;if(R.length==1)return[[o,b],[a,D]];var O=y(b,D);if(O){var I=O[0],L=O[1],N=O[2],z=O[3],G=O[4],ne=c(I,N),re=c(L,z);return ne.concat([[l,G]],re)}return p(b,D)}function p(b,D){for(var F=b.length,P=D.length,R=Math.ceil((F+P)/2),M=R,O=2*R,I=new Array(O),L=new Array(O),N=0;N<O;N++)I[N]=-1,L[N]=-1;I[M+1]=0,L[M+1]=0;for(var z=F-P,G=z%2!=0,ne=0,re=0,oe=0,Y=0,W=0;W<R;W++){for(var V=-W+ne;V<=W-re;V+=2){var B=M+V,K;V==-W||V!=W&&I[B-1]<I[B+1]?K=I[B+1]:K=I[B-1]+1;for(var te=K-V;K<F&&te<P&&b.charAt(K)==D.charAt(te);)K++,te++;if(I[B]=K,K>F)re+=2;else if(te>P)ne+=2;else if(G){var ee=M+z-V;if(ee>=0&&ee<O&&L[ee]!=-1){var $=F-L[ee];if(K>=$)return v(b,D,K,te)}}}for(var X=-W+oe;X<=W-Y;X+=2){var ee=M+X,$;X==-W||X!=W&&L[ee-1]<L[ee+1]?$=L[ee+1]:$=L[ee-1]+1;for(var se=$-X;$<F&&se<P&&b.charAt(F-$-1)==D.charAt(P-se-1);)$++,se++;if(L[ee]=$,$>F)Y+=2;else if(se>P)oe+=2;else if(!G){var B=M+z-X;if(B>=0&&B<O&&I[B]!=-1){var K=I[B],te=M+K-B;if($=F-$,K>=$)return v(b,D,K,te)}}}}return[[o,b],[a,D]]}function v(b,D,F,P){var R=b.substring(0,F),M=D.substring(0,P),O=b.substring(F),I=D.substring(P),L=c(R,M),N=c(O,I);return L.concat(N)}function m(b,D){if(!b||!D||b.charAt(0)!=D.charAt(0))return 0;for(var F=0,P=Math.min(b.length,D.length),R=P,M=0;F<R;)b.substring(M,R)==D.substring(M,R)?(F=R,M=F):P=R,R=Math.floor((P-F)/2+F);return R}function d(b,D){if(!b||!D||b.charAt(b.length-1)!=D.charAt(D.length-1))return 0;for(var F=0,P=Math.min(b.length,D.length),R=P,M=0;F<R;)b.substring(b.length-R,b.length-M)==D.substring(D.length-R,D.length-M)?(F=R,M=F):P=R,R=Math.floor((P-F)/2+F);return R}function y(b,D){var F=b.length>D.length?b:D,P=b.length>D.length?D:b;if(F.length<4||P.length*2<F.length)return null;function R(re,oe,Y){for(var W=re.substring(Y,Y+Math.floor(re.length/4)),V=-1,B="",K,te,ee,$;(V=oe.indexOf(W,V+1))!=-1;){var X=m(re.substring(Y),oe.substring(V)),se=d(re.substring(0,Y),oe.substring(0,V));B.length<se+X&&(B=oe.substring(V-se,V)+oe.substring(V,V+X),K=re.substring(0,Y-se),te=re.substring(Y+X),ee=oe.substring(0,V-se),$=oe.substring(V+X))}return B.length*2>=re.length?[K,te,ee,$,B]:null}var M=R(F,P,Math.ceil(F.length/4)),O=R(F,P,Math.ceil(F.length/2)),I;if(!M&&!O)return null;O?M?I=M[4].length>O[4].length?M:O:I=O:I=M;var L,N,z,G;b.length>D.length?(L=I[0],N=I[1],z=I[2],G=I[3]):(z=I[0],G=I[1],L=I[2],N=I[3]);var ne=I[4];return[L,N,z,G,ne]}function S(b){b.push([l,""]);for(var D=0,F=0,P=0,R="",M="",O;D<b.length;)switch(b[D][0]){case a:P++,M+=b[D][1],D++;break;case o:F++,R+=b[D][1],D++;break;case l:F+P>1?(F!==0&&P!==0&&(O=m(M,R),O!==0&&(D-F-P>0&&b[D-F-P-1][0]==l?b[D-F-P-1][1]+=M.substring(0,O):(b.splice(0,0,[l,M.substring(0,O)]),D++),M=M.substring(O),R=R.substring(O)),O=d(M,R),O!==0&&(b[D][1]=M.substring(M.length-O)+b[D][1],M=M.substring(0,M.length-O),R=R.substring(0,R.length-O))),F===0?b.splice(D-P,F+P,[a,M]):P===0?b.splice(D-F,F+P,[o,R]):b.splice(D-F-P,F+P,[o,R],[a,M]),D=D-F-P+(F?1:0)+(P?1:0)+1):D!==0&&b[D-1][0]==l?(b[D-1][1]+=b[D][1],b.splice(D,1)):D++,P=0,F=0,R="",M="";break}b[b.length-1][1]===""&&b.pop();var I=!1;for(D=1;D<b.length-1;)b[D-1][0]==l&&b[D+1][0]==l&&(b[D][1].substring(b[D][1].length-b[D-1][1].length)==b[D-1][1]?(b[D][1]=b[D-1][1]+b[D][1].substring(0,b[D][1].length-b[D-1][1].length),b[D+1][1]=b[D-1][1]+b[D+1][1],b.splice(D-1,1),I=!0):b[D][1].substring(0,b[D+1][1].length)==b[D+1][1]&&(b[D-1][1]+=b[D+1][1],b[D][1]=b[D][1].substring(b[D+1][1].length)+b[D+1][1],b.splice(D+1,1),I=!0)),D++;I&&S(b)}var E=c;E.INSERT=a,E.DELETE=o,E.EQUAL=l,t.exports=E;function _(b,D){if(D===0)return[l,b];for(var F=0,P=0;P<b.length;P++){var R=b[P];if(R[0]===o||R[0]===l){var M=F+R[1].length;if(D===M)return[P+1,b];if(D<M){b=b.slice();var O=D-F,I=[R[0],R[1].slice(0,O)],L=[R[0],R[1].slice(O)];return b.splice(P,1,I,L),[P+1,b]}else F=M}}throw new Error("cursor_pos is out of bounds!")}function T(b,D){var F=_(b,D),P=F[1],R=F[0],M=P[R],O=P[R+1];if(M==null)return b;if(M[0]!==l)return b;if(O!=null&&M[1]+O[1]===O[1]+M[1])return P.splice(R,2,O,M),k(P,R,2);if(O!=null&&O[1].indexOf(M[1])===0){P.splice(R,2,[O[0],M[1]],[0,M[1]]);var I=O[1].slice(M[1].length);return I.length>0&&P.splice(R+2,0,[O[0],I]),k(P,R,3)}else return b}function w(b){for(var D=!1,F=function(O){return O.charCodeAt(0)>=56320&&O.charCodeAt(0)<=57343},P=function(O){return O.charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319},R=2;R<b.length;R+=1)b[R-2][0]===l&&P(b[R-2][1])&&b[R-1][0]===o&&F(b[R-1][1])&&b[R][0]===a&&F(b[R][1])&&(D=!0,b[R-1][1]=b[R-2][1].slice(-1)+b[R-1][1],b[R][1]=b[R-2][1].slice(-1)+b[R][1],b[R-2][1]=b[R-2][1].slice(0,-1));if(!D)return b;for(var M=[],R=0;R<b.length;R+=1)b[R][1].length>0&&M.push(b[R]);return M}function k(b,D,F){for(var P=D+F-1;P>=0&&P>=D-1;P--)if(P+1<b.length){var R=b[P],M=b[P+1];R[0]===M[1]&&b.splice(P,2,[R[0],R[1]+M[1]])}return b}}),(function(t,r){r=t.exports=typeof Object.keys=="function"?Object.keys:o,r.shim=o;function o(a){var l=[];for(var c in a)l.push(c);return l}}),(function(t,r){var o=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";r=t.exports=o?a:l,r.supported=a;function a(c){return Object.prototype.toString.call(c)=="[object Arguments]"}r.unsupported=l;function l(c){return c&&typeof c=="object"&&typeof c.length=="number"&&Object.prototype.hasOwnProperty.call(c,"callee")&&!Object.prototype.propertyIsEnumerable.call(c,"callee")||!1}}),(function(t,r){var o=Object.prototype.hasOwnProperty,a="~";function l(){}Object.create&&(l.prototype=Object.create(null),new l().__proto__||(a=!1));function c(p,v,m){this.fn=p,this.context=v,this.once=m||!1}function f(){this._events=new l,this._eventsCount=0}f.prototype.eventNames=function(){var v=[],m,d;if(this._eventsCount===0)return v;for(d in m=this._events)o.call(m,d)&&v.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(m)):v},f.prototype.listeners=function(v,m){var d=a?a+v:v,y=this._events[d];if(m)return!!y;if(!y)return[];if(y.fn)return[y.fn];for(var S=0,E=y.length,_=new Array(E);S<E;S++)_[S]=y[S].fn;return _},f.prototype.emit=function(v,m,d,y,S,E){var _=a?a+v:v;if(!this._events[_])return!1;var T=this._events[_],w=arguments.length,k,b;if(T.fn){switch(T.once&&this.removeListener(v,T.fn,void 0,!0),w){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,m),!0;case 3:return T.fn.call(T.context,m,d),!0;case 4:return T.fn.call(T.context,m,d,y),!0;case 5:return T.fn.call(T.context,m,d,y,S),!0;case 6:return T.fn.call(T.context,m,d,y,S,E),!0}for(b=1,k=new Array(w-1);b<w;b++)k[b-1]=arguments[b];T.fn.apply(T.context,k)}else{var D=T.length,F;for(b=0;b<D;b++)switch(T[b].once&&this.removeListener(v,T[b].fn,void 0,!0),w){case 1:T[b].fn.call(T[b].context);break;case 2:T[b].fn.call(T[b].context,m);break;case 3:T[b].fn.call(T[b].context,m,d);break;case 4:T[b].fn.call(T[b].context,m,d,y);break;default:if(!k)for(F=1,k=new Array(w-1);F<w;F++)k[F-1]=arguments[F];T[b].fn.apply(T[b].context,k)}}return!0},f.prototype.on=function(v,m,d){var y=new c(m,d||this),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],y]:this._events[S].push(y):(this._events[S]=y,this._eventsCount++),this},f.prototype.once=function(v,m,d){var y=new c(m,d||this,!0),S=a?a+v:v;return this._events[S]?this._events[S].fn?this._events[S]=[this._events[S],y]:this._events[S].push(y):(this._events[S]=y,this._eventsCount++),this},f.prototype.removeListener=function(v,m,d,y){var S=a?a+v:v;if(!this._events[S])return this;if(!m)return--this._eventsCount===0?this._events=new l:delete this._events[S],this;var E=this._events[S];if(E.fn)E.fn===m&&(!y||E.once)&&(!d||E.context===d)&&(--this._eventsCount===0?this._events=new l:delete this._events[S]);else{for(var _=0,T=[],w=E.length;_<w;_++)(E[_].fn!==m||y&&!E[_].once||d&&E[_].context!==d)&&T.push(E[_]);T.length?this._events[S]=T.length===1?T[0]:T:--this._eventsCount===0?this._events=new l:delete this._events[S]}return this},f.prototype.removeAllListeners=function(v){var m;return v?(m=a?a+v:v,this._events[m]&&(--this._eventsCount===0?this._events=new l:delete this._events[m])):(this._events=new l,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prototype.setMaxListeners=function(){return this},f.prefixed=a,f.EventEmitter=f,typeof t<"u"&&(t.exports=f)}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(pe){return typeof pe}:function(pe){return pe&&typeof Symbol=="function"&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},l=(function(){function pe(de,we){var Ae=[],ve=!0,He=!1,Ke=void 0;try{for(var Be=de[Symbol.iterator](),zt;!(ve=(zt=Be.next()).done)&&(Ae.push(zt.value),!(we&&Ae.length===we));ve=!0);}catch(nn){He=!0,Ke=nn}finally{try{!ve&&Be.return&&Be.return()}finally{if(He)throw Ke}}return Ae}return function(de,we){if(Array.isArray(de))return de;if(Symbol.iterator in Object(de))return pe(de,we);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),c=(function(){function pe(de,we){for(var Ae=0;Ae<we.length;Ae++){var ve=we[Ae];ve.enumerable=ve.enumerable||!1,ve.configurable=!0,"value"in ve&&(ve.writable=!0),Object.defineProperty(de,ve.key,ve)}}return function(de,we,Ae){return we&&pe(de.prototype,we),Ae&&pe(de,Ae),de}})(),f=o(3),p=L(f),v=o(2),m=L(v),d=o(0),y=L(d),S=o(5),E=L(S),_=o(10),T=L(_),w=o(9),k=L(w),b=o(36),D=o(37),F=o(13),P=L(F),R=o(26),M=o(38),O=o(39),I=o(40);function L(pe){return pe&&pe.__esModule?pe:{default:pe}}function N(pe,de,we){return de in pe?Object.defineProperty(pe,de,{value:we,enumerable:!0,configurable:!0,writable:!0}):pe[de]=we,pe}function z(pe,de){if(!(pe instanceof de))throw new TypeError("Cannot call a class as a function")}function G(pe,de){if(!pe)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:pe}function ne(pe,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);pe.prototype=Object.create(de&&de.prototype,{constructor:{value:pe,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(pe,de):pe.__proto__=de)}var re=(0,T.default)("quill:clipboard"),oe="__ql-matcher",Y=[[Node.TEXT_NODE,ct],[Node.TEXT_NODE,Ge],["br",Re],[Node.ELEMENT_NODE,Ge],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,et],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,kt],["li",Ve],["b",se.bind(se,"bold")],["i",se.bind(se,"italic")],["style",je]],W=[b.AlignAttribute,M.DirectionAttribute].reduce(function(pe,de){return pe[de.keyName]=de,pe},{}),V=[b.AlignStyle,D.BackgroundStyle,R.ColorStyle,M.DirectionStyle,O.FontStyle,I.SizeStyle].reduce(function(pe,de){return pe[de.keyName]=de,pe},{}),B=(function(pe){ne(de,pe);function de(we,Ae){z(this,de);var ve=G(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,we,Ae));return ve.quill.root.addEventListener("paste",ve.onPaste.bind(ve)),ve.container=ve.quill.addContainer("ql-clipboard"),ve.container.setAttribute("contenteditable",!0),ve.container.setAttribute("tabindex",-1),ve.matchers=[],Y.concat(ve.options.matchers).forEach(function(He){var Ke=l(He,2),Be=Ke[0],zt=Ke[1];!Ae.matchVisual&&zt===et||ve.addMatcher(Be,zt)}),ve}return c(de,[{key:"addMatcher",value:function(Ae,ve){this.matchers.push([Ae,ve])}},{key:"convert",value:function(Ae){if(typeof Ae=="string")return this.container.innerHTML=Ae.replace(/\>\r?\n +\</g,"><"),this.convert();var ve=this.quill.getFormat(this.quill.selection.savedRange.index);if(ve[P.default.blotName]){var He=this.container.innerText;return this.container.innerHTML="",new m.default().insert(He,N({},P.default.blotName,ve[P.default.blotName]))}var Ke=this.prepareMatching(),Be=l(Ke,2),zt=Be[0],nn=Be[1],rt=X(this.container,zt,nn);return ee(rt,`
`)&&rt.ops[rt.ops.length-1].attributes==null&&(rt=rt.compose(new m.default().retain(rt.length()-1).delete(1))),re.log("convert",this.container.innerHTML,rt),this.container.innerHTML="",rt}},{key:"dangerouslyPasteHTML",value:function(Ae,ve){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.default.sources.API;if(typeof Ae=="string")this.quill.setContents(this.convert(Ae),ve),this.quill.setSelection(0,E.default.sources.SILENT);else{var Ke=this.convert(ve);this.quill.updateContents(new m.default().retain(Ae).concat(Ke),He),this.quill.setSelection(Ae+Ke.length(),E.default.sources.SILENT)}}},{key:"onPaste",value:function(Ae){var ve=this;if(!(Ae.defaultPrevented||!this.quill.isEnabled())){var He=this.quill.getSelection(),Ke=new m.default().retain(He.index),Be=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(E.default.sources.SILENT),setTimeout(function(){Ke=Ke.concat(ve.convert()).delete(He.length),ve.quill.updateContents(Ke,E.default.sources.USER),ve.quill.setSelection(Ke.length()-He.length,E.default.sources.SILENT),ve.quill.scrollingContainer.scrollTop=Be,ve.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ae=this,ve=[],He=[];return this.matchers.forEach(function(Ke){var Be=l(Ke,2),zt=Be[0],nn=Be[1];switch(zt){case Node.TEXT_NODE:He.push(nn);break;case Node.ELEMENT_NODE:ve.push(nn);break;default:[].forEach.call(Ae.container.querySelectorAll(zt),function(rt){rt[oe]=rt[oe]||[],rt[oe].push(nn)});break}}),[ve,He]}}]),de})(k.default);B.DEFAULTS={matchers:[],matchVisual:!0};function K(pe,de,we){return(typeof de>"u"?"undefined":a(de))==="object"?Object.keys(de).reduce(function(Ae,ve){return K(Ae,ve,de[ve])},pe):pe.reduce(function(Ae,ve){return ve.attributes&&ve.attributes[de]?Ae.push(ve):Ae.insert(ve.insert,(0,p.default)({},N({},de,we),ve.attributes))},new m.default)}function te(pe){if(pe.nodeType!==Node.ELEMENT_NODE)return{};var de="__ql-computed-style";return pe[de]||(pe[de]=window.getComputedStyle(pe))}function ee(pe,de){for(var we="",Ae=pe.ops.length-1;Ae>=0&&we.length<de.length;--Ae){var ve=pe.ops[Ae];if(typeof ve.insert!="string")break;we=ve.insert+we}return we.slice(-1*de.length)===de}function $(pe){if(pe.childNodes.length===0)return!1;var de=te(pe);return["block","list-item"].indexOf(de.display)>-1}function X(pe,de,we){return pe.nodeType===pe.TEXT_NODE?we.reduce(function(Ae,ve){return ve(pe,Ae)},new m.default):pe.nodeType===pe.ELEMENT_NODE?[].reduce.call(pe.childNodes||[],function(Ae,ve){var He=X(ve,de,we);return ve.nodeType===pe.ELEMENT_NODE&&(He=de.reduce(function(Ke,Be){return Be(ve,Ke)},He),He=(ve[oe]||[]).reduce(function(Ke,Be){return Be(ve,Ke)},He)),Ae.concat(He)},new m.default):new m.default}function se(pe,de,we){return K(we,pe,!0)}function ae(pe,de){var we=y.default.Attributor.Attribute.keys(pe),Ae=y.default.Attributor.Class.keys(pe),ve=y.default.Attributor.Style.keys(pe),He={};return we.concat(Ae).concat(ve).forEach(function(Ke){var Be=y.default.query(Ke,y.default.Scope.ATTRIBUTE);Be!=null&&(He[Be.attrName]=Be.value(pe),He[Be.attrName])||(Be=W[Ke],Be!=null&&(Be.attrName===Ke||Be.keyName===Ke)&&(He[Be.attrName]=Be.value(pe)||void 0),Be=V[Ke],Be!=null&&(Be.attrName===Ke||Be.keyName===Ke)&&(Be=V[Ke],He[Be.attrName]=Be.value(pe)||void 0))}),Object.keys(He).length>0&&(de=K(de,He)),de}function me(pe,de){var we=y.default.query(pe);if(we==null)return de;if(we.prototype instanceof y.default.Embed){var Ae={},ve=we.value(pe);ve!=null&&(Ae[we.blotName]=ve,de=new m.default().insert(Ae,we.formats(pe)))}else typeof we.formats=="function"&&(de=K(de,we.blotName,we.formats(pe)));return de}function Re(pe,de){return ee(de,`
`)||de.insert(`
`),de}function je(){return new m.default}function Ve(pe,de){var we=y.default.query(pe);if(we==null||we.blotName!=="list-item"||!ee(de,`
`))return de;for(var Ae=-1,ve=pe.parentNode;!ve.classList.contains("ql-clipboard");)(y.default.query(ve)||{}).blotName==="list"&&(Ae+=1),ve=ve.parentNode;return Ae<=0?de:de.compose(new m.default().retain(de.length()-1).retain(1,{indent:Ae}))}function Ge(pe,de){return ee(de,`
`)||($(pe)||de.length()>0&&pe.nextSibling&&$(pe.nextSibling))&&de.insert(`
`),de}function et(pe,de){if($(pe)&&pe.nextElementSibling!=null&&!ee(de,`

`)){var we=pe.offsetHeight+parseFloat(te(pe).marginTop)+parseFloat(te(pe).marginBottom);pe.nextElementSibling.offsetTop>pe.offsetTop+we*1.5&&de.insert(`
`)}return de}function kt(pe,de){var we={},Ae=pe.style||{};return Ae.fontStyle&&te(pe).fontStyle==="italic"&&(we.italic=!0),Ae.fontWeight&&(te(pe).fontWeight.startsWith("bold")||parseInt(te(pe).fontWeight)>=700)&&(we.bold=!0),Object.keys(we).length>0&&(de=K(de,we)),parseFloat(Ae.textIndent||0)>0&&(de=new m.default().insert("	").concat(de)),de}function ct(pe,de){var we=pe.data;if(pe.parentNode.tagName==="O:P")return de.insert(we.trim());if(we.trim().length===0&&pe.parentNode.classList.contains("ql-clipboard"))return de;if(!te(pe.parentNode).whiteSpace.startsWith("pre")){var Ae=function(He,Ke){return Ke=Ke.replace(/[^\u00a0]/g,""),Ke.length<1&&He?" ":Ke};we=we.replace(/\r\n/g," ").replace(/\n/g," "),we=we.replace(/\s\s+/g,Ae.bind(Ae,!0)),(pe.previousSibling==null&&$(pe.parentNode)||pe.previousSibling!=null&&$(pe.previousSibling))&&(we=we.replace(/^\s+/,Ae.bind(Ae,!1))),(pe.nextSibling==null&&$(pe.parentNode)||pe.nextSibling!=null&&$(pe.nextSibling))&&(we=we.replace(/\s+$/,Ae.bind(Ae,!1)))}return de.insert(we)}r.default=B,r.matchAttributor=ae,r.matchBlot=me,r.matchNewline=Ge,r.matchSpacing=et,r.matchText=ct}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var T=0;T<_.length;T++){var w=_[T];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,T){return _&&S(E.prototype,_),T&&S(E,T),E}})(),l=function S(E,_,T){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,_,T)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(T)}},c=o(6),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,[{key:"optimize",value:function(T){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,T),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),E})(f.default);y.blotName="bold",y.tagName=["STRONG","B"],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var a=(function(){function I(L,N){var z=[],G=!0,ne=!1,re=void 0;try{for(var oe=L[Symbol.iterator](),Y;!(G=(Y=oe.next()).done)&&(z.push(Y.value),!(N&&z.length===N));G=!0);}catch(W){ne=!0,re=W}finally{try{!G&&oe.return&&oe.return()}finally{if(ne)throw re}}return z}return function(L,N){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return I(L,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=(function(){function I(L,N){for(var z=0;z<N.length;z++){var G=N[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(L,G.key,G)}}return function(L,N,z){return N&&I(L.prototype,N),z&&I(L,z),L}})(),c=o(2),f=T(c),p=o(0),v=T(p),m=o(5),d=T(m),y=o(10),S=T(y),E=o(9),_=T(E);function T(I){return I&&I.__esModule?I:{default:I}}function w(I,L,N){return L in I?Object.defineProperty(I,L,{value:N,enumerable:!0,configurable:!0,writable:!0}):I[L]=N,I}function k(I,L){if(!(I instanceof L))throw new TypeError("Cannot call a class as a function")}function b(I,L){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:I}function D(I,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);I.prototype=Object.create(L&&L.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(I,L):I.__proto__=L)}var F=(0,S.default)("quill:toolbar"),P=(function(I){D(L,I);function L(N,z){k(this,L);var G=b(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N,z));if(Array.isArray(G.options.container)){var ne=document.createElement("div");M(ne,G.options.container),N.container.parentNode.insertBefore(ne,N.container),G.container=ne}else typeof G.options.container=="string"?G.container=document.querySelector(G.options.container):G.container=G.options.container;if(!(G.container instanceof HTMLElement)){var re;return re=F.error("Container required for toolbar",G.options),b(G,re)}return G.container.classList.add("ql-toolbar"),G.controls=[],G.handlers={},Object.keys(G.options.handlers).forEach(function(oe){G.addHandler(oe,G.options.handlers[oe])}),[].forEach.call(G.container.querySelectorAll("button, select"),function(oe){G.attach(oe)}),G.quill.on(d.default.events.EDITOR_CHANGE,function(oe,Y){oe===d.default.events.SELECTION_CHANGE&&G.update(Y)}),G.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var oe=G.quill.selection.getRange(),Y=a(oe,1),W=Y[0];G.update(W)}),G}return l(L,[{key:"addHandler",value:function(z,G){this.handlers[z]=G}},{key:"attach",value:function(z){var G=this,ne=[].find.call(z.classList,function(oe){return oe.indexOf("ql-")===0});if(ne){if(ne=ne.slice(3),z.tagName==="BUTTON"&&z.setAttribute("type","button"),this.handlers[ne]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[ne]==null){F.warn("ignoring attaching to disabled format",ne,z);return}if(v.default.query(ne)==null){F.warn("ignoring attaching to nonexistent format",ne,z);return}}var re=z.tagName==="SELECT"?"change":"click";z.addEventListener(re,function(oe){var Y=void 0;if(z.tagName==="SELECT"){if(z.selectedIndex<0)return;var W=z.options[z.selectedIndex];W.hasAttribute("selected")?Y=!1:Y=W.value||!1}else z.classList.contains("ql-active")?Y=!1:Y=z.value||!z.hasAttribute("value"),oe.preventDefault();G.quill.focus();var V=G.quill.selection.getRange(),B=a(V,1),K=B[0];if(G.handlers[ne]!=null)G.handlers[ne].call(G,Y);else if(v.default.query(ne).prototype instanceof v.default.Embed){if(Y=prompt("Enter "+ne),!Y)return;G.quill.updateContents(new f.default().retain(K.index).delete(K.length).insert(w({},ne,Y)),d.default.sources.USER)}else G.quill.format(ne,Y,d.default.sources.USER);G.update(K)}),this.controls.push([ne,z])}}},{key:"update",value:function(z){var G=z==null?{}:this.quill.getFormat(z);this.controls.forEach(function(ne){var re=a(ne,2),oe=re[0],Y=re[1];if(Y.tagName==="SELECT"){var W=void 0;if(z==null)W=null;else if(G[oe]==null)W=Y.querySelector("option[selected]");else if(!Array.isArray(G[oe])){var V=G[oe];typeof V=="string"&&(V=V.replace(/\"/g,'\\"')),W=Y.querySelector('option[value="'+V+'"]')}W==null?(Y.value="",Y.selectedIndex=-1):W.selected=!0}else if(z==null)Y.classList.remove("ql-active");else if(Y.hasAttribute("value")){var B=G[oe]===Y.getAttribute("value")||G[oe]!=null&&G[oe].toString()===Y.getAttribute("value")||G[oe]==null&&!Y.getAttribute("value");Y.classList.toggle("ql-active",B)}else Y.classList.toggle("ql-active",G[oe]!=null)})}}]),L})(_.default);P.DEFAULTS={};function R(I,L,N){var z=document.createElement("button");z.setAttribute("type","button"),z.classList.add("ql-"+L),N!=null&&(z.value=N),I.appendChild(z)}function M(I,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(N){var z=document.createElement("span");z.classList.add("ql-formats"),N.forEach(function(G){if(typeof G=="string")R(z,G);else{var ne=Object.keys(G)[0],re=G[ne];Array.isArray(re)?O(z,ne,re):R(z,ne,re)}}),I.appendChild(z)})}function O(I,L,N){var z=document.createElement("select");z.classList.add("ql-"+L),N.forEach(function(G){var ne=document.createElement("option");G!==!1?ne.setAttribute("value",G):ne.setAttribute("selected","selected"),z.appendChild(ne)}),I.appendChild(z)}P.DEFAULTS={container:null,handlers:{clean:function(){var L=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var z=this.quill.getFormat();Object.keys(z).forEach(function(G){v.default.query(G,v.default.Scope.INLINE)!=null&&L.quill.format(G,!1)})}else this.quill.removeFormat(N,d.default.sources.USER)},direction:function(L){var N=this.quill.getFormat().align;L==="rtl"&&N==null?this.quill.format("align","right",d.default.sources.USER):!L&&N==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",L,d.default.sources.USER)},indent:function(L){var N=this.quill.getSelection(),z=this.quill.getFormat(N),G=parseInt(z.indent||0);if(L==="+1"||L==="-1"){var ne=L==="+1"?1:-1;z.direction==="rtl"&&(ne*=-1),this.quill.format("indent",G+ne,d.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,d.default.sources.USER)},list:function(L){var N=this.quill.getSelection(),z=this.quill.getFormat(N);L==="check"?z.list==="checked"||z.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",L,d.default.sources.USER)}}},r.default=P,r.addControls=M}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var T=0;T<_.length;T++){var w=_[T];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,T){return _&&S(E.prototype,_),T&&S(E,T),E}})(),l=function S(E,_,T){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,_,T)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(T)}},c=o(28),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(_,T){v(this,E);var w=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,_));return w.label.innerHTML=T,w.container.classList.add("ql-color-picker"),[].slice.call(w.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(k){k.classList.add("ql-primary")}),w}return a(E,[{key:"buildItem",value:function(T){var w=l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"buildItem",this).call(this,T);return w.style.backgroundColor=T.getAttribute("value")||"",w}},{key:"selectItem",value:function(T,w){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,T,w);var k=this.label.querySelector(".ql-color-label"),b=T&&T.getAttribute("data-value")||"";k&&(k.tagName==="line"?k.style.stroke=b:k.style.fill=b)}}]),E})(f.default);r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var T=0;T<_.length;T++){var w=_[T];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,T){return _&&S(E.prototype,_),T&&S(E,T),E}})(),l=function S(E,_,T){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,_,T)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(T)}},c=o(28),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(_,T){v(this,E);var w=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,_));return w.container.classList.add("ql-icon-picker"),[].forEach.call(w.container.querySelectorAll(".ql-picker-item"),function(k){k.innerHTML=T[k.getAttribute("data-value")||""]}),w.defaultItem=w.container.querySelector(".ql-selected"),w.selectItem(w.defaultItem),w}return a(E,[{key:"selectItem",value:function(T,w){l(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"selectItem",this).call(this,T,w),T=T||this.defaultItem,this.label.innerHTML=T.innerHTML}}]),E})(f.default);r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function f(p,v){for(var m=0;m<v.length;m++){var d=v[m];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(p,d.key,d)}}return function(p,v,m){return v&&f(p.prototype,v),m&&f(p,m),p}})();function l(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var c=(function(){function f(p,v){var m=this;l(this,f),this.quill=p,this.boundsContainer=v||document.body,this.root=p.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){m.root.style.marginTop=-1*m.quill.root.scrollTop+"px"}),this.hide()}return a(f,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(v){var m=v.left+v.width/2-this.root.offsetWidth/2,d=v.bottom+this.quill.root.scrollTop;this.root.style.left=m+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var y=this.boundsContainer.getBoundingClientRect(),S=this.root.getBoundingClientRect(),E=0;if(S.right>y.right&&(E=y.right-S.right,this.root.style.left=m+E+"px"),S.left<y.left&&(E=y.left-S.left,this.root.style.left=m+E+"px"),S.bottom>y.bottom){var _=S.bottom-S.top,T=v.bottom-v.top+_;this.root.style.top=d-T+"px",this.root.classList.add("ql-flip")}return E}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),f})();r.default=c}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function O(I,L){var N=[],z=!0,G=!1,ne=void 0;try{for(var re=I[Symbol.iterator](),oe;!(z=(oe=re.next()).done)&&(N.push(oe.value),!(L&&N.length===L));z=!0);}catch(Y){G=!0,ne=Y}finally{try{!z&&re.return&&re.return()}finally{if(G)throw ne}}return N}return function(I,L){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return O(I,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),l=function O(I,L,N){I===null&&(I=Function.prototype);var z=Object.getOwnPropertyDescriptor(I,L);if(z===void 0){var G=Object.getPrototypeOf(I);return G===null?void 0:O(G,L,N)}else{if("value"in z)return z.value;var ne=z.get;return ne===void 0?void 0:ne.call(N)}},c=(function(){function O(I,L){for(var N=0;N<L.length;N++){var z=L[N];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}return function(I,L,N){return L&&O(I.prototype,L),N&&O(I,N),I}})(),f=o(3),p=k(f),v=o(8),m=k(v),d=o(43),y=k(d),S=o(27),E=k(S),_=o(15),T=o(41),w=k(T);function k(O){return O&&O.__esModule?O:{default:O}}function b(O,I){if(!(O instanceof I))throw new TypeError("Cannot call a class as a function")}function D(O,I){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:O}function F(O,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);O.prototype=Object.create(I&&I.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(O,I):O.__proto__=I)}var P=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],R=(function(O){F(I,O);function I(L,N){b(this,I),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=P);var z=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return z.quill.container.classList.add("ql-snow"),z}return c(I,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),w.default),this.tooltip=new M(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(z,G){N.handlers.link.call(N,!G.format.link)})}}]),I})(y.default);R.DEFAULTS=(0,p.default)(!0,{},y.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(I){if(I){var L=this.quill.getSelection();if(L==null||L.length==0)return;var N=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var z=this.quill.theme.tooltip;z.edit("link",N)}else this.quill.format("link",!1)}}}}});var M=(function(O){F(I,O);function I(L,N){b(this,I);var z=D(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,L,N));return z.preview=z.root.querySelector("a.ql-preview"),z}return c(I,[{key:"listen",value:function(){var N=this;l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(z){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(z){if(N.linkRange!=null){var G=N.linkRange;N.restoreFocus(),N.quill.formatText(G,"link",!1,m.default.sources.USER),delete N.linkRange}z.preventDefault(),N.hide()}),this.quill.on(m.default.events.SELECTION_CHANGE,function(z,G,ne){if(z!=null){if(z.length===0&&ne===m.default.sources.USER){var re=N.quill.scroll.descendant(E.default,z.index),oe=a(re,2),Y=oe[0],W=oe[1];if(Y!=null){N.linkRange=new _.Range(z.index-W,Y.length());var V=E.default.formats(Y.domNode);N.preview.textContent=V,N.preview.setAttribute("href",V),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){l(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),I})(d.BaseTooltip);M.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=R}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(29),l=ve(a),c=o(36),f=o(38),p=o(64),v=o(65),m=ve(v),d=o(66),y=ve(d),S=o(67),E=ve(S),_=o(37),T=o(26),w=o(39),k=o(40),b=o(56),D=ve(b),F=o(68),P=ve(F),R=o(27),M=ve(R),O=o(69),I=ve(O),L=o(70),N=ve(L),z=o(71),G=ve(z),ne=o(72),re=ve(ne),oe=o(73),Y=ve(oe),W=o(13),V=ve(W),B=o(74),K=ve(B),te=o(75),ee=ve(te),$=o(57),X=ve($),se=o(41),ae=ve(se),me=o(28),Re=ve(me),je=o(59),Ve=ve(je),Ge=o(60),et=ve(Ge),kt=o(61),ct=ve(kt),pe=o(108),de=ve(pe),we=o(62),Ae=ve(we);function ve(He){return He&&He.__esModule?He:{default:He}}l.default.register({"attributors/attribute/direction":f.DirectionAttribute,"attributors/class/align":c.AlignClass,"attributors/class/background":_.BackgroundClass,"attributors/class/color":T.ColorClass,"attributors/class/direction":f.DirectionClass,"attributors/class/font":w.FontClass,"attributors/class/size":k.SizeClass,"attributors/style/align":c.AlignStyle,"attributors/style/background":_.BackgroundStyle,"attributors/style/color":T.ColorStyle,"attributors/style/direction":f.DirectionStyle,"attributors/style/font":w.FontStyle,"attributors/style/size":k.SizeStyle},!0),l.default.register({"formats/align":c.AlignClass,"formats/direction":f.DirectionClass,"formats/indent":p.IndentClass,"formats/background":_.BackgroundStyle,"formats/color":T.ColorStyle,"formats/font":w.FontClass,"formats/size":k.SizeClass,"formats/blockquote":m.default,"formats/code-block":V.default,"formats/header":y.default,"formats/list":E.default,"formats/bold":D.default,"formats/code":W.Code,"formats/italic":P.default,"formats/link":M.default,"formats/script":I.default,"formats/strike":N.default,"formats/underline":G.default,"formats/image":re.default,"formats/video":Y.default,"formats/list/item":S.ListItem,"modules/formula":K.default,"modules/syntax":ee.default,"modules/toolbar":X.default,"themes/bubble":de.default,"themes/snow":Ae.default,"ui/icons":ae.default,"ui/picker":Re.default,"ui/icon-picker":et.default,"ui/color-picker":Ve.default,"ui/tooltip":ct.default},!0),r.default=l.default}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var a=(function(){function E(_,T){for(var w=0;w<T.length;w++){var k=T[w];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,T,w){return T&&E(_.prototype,T),w&&E(_,w),_}})(),l=function E(_,T,w){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,T);if(k===void 0){var b=Object.getPrototypeOf(_);return b===null?void 0:E(b,T,w)}else{if("value"in k)return k.value;var D=k.get;return D===void 0?void 0:D.call(w)}},c=o(0),f=p(c);function p(E){return E&&E.__esModule?E:{default:E}}function v(E,_){if(!(E instanceof _))throw new TypeError("Cannot call a class as a function")}function m(E,_){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:E}function d(E,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);E.prototype=Object.create(_&&_.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(E,_):E.__proto__=_)}var y=(function(E){d(_,E);function _(){return v(this,_),m(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return a(_,[{key:"add",value:function(w,k){if(k==="+1"||k==="-1"){var b=this.value(w)||0;k=k==="+1"?b+1:b-1}return k===0?(this.remove(w),!0):l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"add",this).call(this,w,k)}},{key:"canAdd",value:function(w,k){return l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,w,k)||l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"canAdd",this).call(this,w,parseInt(k))}},{key:"value",value:function(w){return parseInt(l(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,w))||void 0}}]),_})(f.default.Attributor.Class),S=new y("indent","ql-indent",{scope:f.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=S}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(4),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="blockquote",m.tagName="blockquote",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function y(S,E){for(var _=0;_<E.length;_++){var T=E[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(S,T.key,T)}}return function(S,E,_){return E&&y(S.prototype,E),_&&y(S,_),S}})(),l=o(4),c=f(l);function f(y){return y&&y.__esModule?y:{default:y}}function p(y,S){if(!(y instanceof S))throw new TypeError("Cannot call a class as a function")}function v(y,S){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:y}function m(y,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);y.prototype=Object.create(S&&S.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(y,S):y.__proto__=S)}var d=(function(y){m(S,y);function S(){return p(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"formats",value:function(_){return this.tagName.indexOf(_.tagName)+1}}]),S})(c.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],r.default=d}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var a=(function(){function b(D,F){for(var P=0;P<F.length;P++){var R=F[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(D,R.key,R)}}return function(D,F,P){return F&&b(D.prototype,F),P&&b(D,P),D}})(),l=function b(D,F,P){D===null&&(D=Function.prototype);var R=Object.getOwnPropertyDescriptor(D,F);if(R===void 0){var M=Object.getPrototypeOf(D);return M===null?void 0:b(M,F,P)}else{if("value"in R)return R.value;var O=R.get;return O===void 0?void 0:O.call(P)}},c=o(0),f=y(c),p=o(4),v=y(p),m=o(25),d=y(m);function y(b){return b&&b.__esModule?b:{default:b}}function S(b,D,F){return D in b?Object.defineProperty(b,D,{value:F,enumerable:!0,configurable:!0,writable:!0}):b[D]=F,b}function E(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function _(b,D){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:b}function T(b,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);b.prototype=Object.create(D&&D.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(b,D):b.__proto__=D)}var w=(function(b){T(D,b);function D(){return E(this,D),_(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"format",value:function(P,R){P===k.blotName&&!R?this.replaceWith(f.default.create(this.statics.scope)):l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"format",this).call(this,P,R)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(P,R){return this.parent.isolate(this.offset(this.parent),this.length()),P===this.parent.statics.blotName?(this.parent.replaceWith(P,R),this):(this.parent.unwrap(),l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,P,R))}}],[{key:"formats",value:function(P){return P.tagName===this.tagName?void 0:l(D.__proto__||Object.getPrototypeOf(D),"formats",this).call(this,P)}}]),D})(v.default);w.blotName="list-item",w.tagName="LI";var k=(function(b){T(D,b),a(D,null,[{key:"create",value:function(P){var R=P==="ordered"?"OL":"UL",M=l(D.__proto__||Object.getPrototypeOf(D),"create",this).call(this,R);return(P==="checked"||P==="unchecked")&&M.setAttribute("data-checked",P==="checked"),M}},{key:"formats",value:function(P){if(P.tagName==="OL")return"ordered";if(P.tagName==="UL")return P.hasAttribute("data-checked")?P.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function D(F){E(this,D);var P=_(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,F)),R=function(O){if(O.target.parentNode===F){var I=P.statics.formats(F),L=f.default.find(O.target);I==="checked"?L.format("list","unchecked"):I==="unchecked"&&L.format("list","checked")}};return F.addEventListener("touchstart",R),F.addEventListener("mousedown",R),P}return a(D,[{key:"format",value:function(P,R){this.children.length>0&&this.children.tail.format(P,R)}},{key:"formats",value:function(){return S({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(P,R){if(P instanceof w)l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"insertBefore",this).call(this,P,R);else{var M=R==null?this.length():R.offset(this),O=this.split(M);O.parent.insertBefore(P,O)}}},{key:"optimize",value:function(P){l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"optimize",this).call(this,P);var R=this.next;R!=null&&R.prev===this&&R.statics.blotName===this.statics.blotName&&R.domNode.tagName===this.domNode.tagName&&R.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(R.moveChildren(this),R.remove())}},{key:"replace",value:function(P){if(P.statics.blotName!==this.statics.blotName){var R=f.default.create(this.statics.defaultChild);P.moveChildren(R),this.appendChild(R)}l(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replace",this).call(this,P)}}]),D})(d.default);k.blotName="list",k.scope=f.default.Scope.BLOCK_BLOT,k.tagName=["OL","UL"],k.defaultChild="list-item",k.allowedChildren=[w],r.ListItem=w,r.default=k}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(56),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="italic",m.tagName=["EM","I"],r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function S(E,_){for(var T=0;T<_.length;T++){var w=_[T];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(E,w.key,w)}}return function(E,_,T){return _&&S(E.prototype,_),T&&S(E,T),E}})(),l=function S(E,_,T){E===null&&(E=Function.prototype);var w=Object.getOwnPropertyDescriptor(E,_);if(w===void 0){var k=Object.getPrototypeOf(E);return k===null?void 0:S(k,_,T)}else{if("value"in w)return w.value;var b=w.get;return b===void 0?void 0:b.call(T)}},c=o(6),f=p(c);function p(S){return S&&S.__esModule?S:{default:S}}function v(S,E){if(!(S instanceof E))throw new TypeError("Cannot call a class as a function")}function m(S,E){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:S}function d(S,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(S,E):S.__proto__=E)}var y=(function(S){d(E,S);function E(){return v(this,E),m(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return a(E,null,[{key:"create",value:function(T){return T==="super"?document.createElement("sup"):T==="sub"?document.createElement("sub"):l(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,T)}},{key:"formats",value:function(T){if(T.tagName==="SUB")return"sub";if(T.tagName==="SUP")return"super"}}]),E})(f.default);y.blotName="script",y.tagName=["SUB","SUP"],r.default=y}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="strike",m.tagName="S",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=o(6),l=c(a);function c(d){return d&&d.__esModule?d:{default:d}}function f(d,y){if(!(d instanceof y))throw new TypeError("Cannot call a class as a function")}function p(d,y){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:d}function v(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);d.prototype=Object.create(y&&y.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(d,y):d.__proto__=y)}var m=(function(d){v(y,d);function y(){return f(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return y})(l.default);m.blotName="underline",m.tagName="U",r.default=m}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function _(T,w){for(var k=0;k<w.length;k++){var b=w[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,w,k){return w&&_(T.prototype,w),k&&_(T,k),T}})(),l=function _(T,w,k){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,w);if(b===void 0){var D=Object.getPrototypeOf(T);return D===null?void 0:_(D,w,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(0),f=v(c),p=o(27);function v(_){return _&&_.__esModule?_:{default:_}}function m(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function d(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function y(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var S=["alt","height","width"],E=(function(_){y(T,_);function T(){return m(this,T),d(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"format",value:function(k,b){S.indexOf(k)>-1?b?this.domNode.setAttribute(k,b):this.domNode.removeAttribute(k):l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,k,b)}}],[{key:"create",value:function(k){var b=l(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,k);return typeof k=="string"&&b.setAttribute("src",this.sanitize(k)),b}},{key:"formats",value:function(k){return S.reduce(function(b,D){return k.hasAttribute(D)&&(b[D]=k.getAttribute(D)),b},{})}},{key:"match",value:function(k){return/\.(jpe?g|gif|png)$/.test(k)||/^data:image\/.+;base64/.test(k)}},{key:"sanitize",value:function(k){return(0,p.sanitize)(k,["http","https","data"])?k:"//:0"}},{key:"value",value:function(k){return k.getAttribute("src")}}]),T})(f.default.Embed);E.blotName="image",E.tagName="IMG",r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0});var a=(function(){function _(T,w){for(var k=0;k<w.length;k++){var b=w[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(T,b.key,b)}}return function(T,w,k){return w&&_(T.prototype,w),k&&_(T,k),T}})(),l=function _(T,w,k){T===null&&(T=Function.prototype);var b=Object.getOwnPropertyDescriptor(T,w);if(b===void 0){var D=Object.getPrototypeOf(T);return D===null?void 0:_(D,w,k)}else{if("value"in b)return b.value;var F=b.get;return F===void 0?void 0:F.call(k)}},c=o(4),f=o(27),p=v(f);function v(_){return _&&_.__esModule?_:{default:_}}function m(_,T){if(!(_ instanceof T))throw new TypeError("Cannot call a class as a function")}function d(_,T){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:_}function y(_,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);_.prototype=Object.create(T&&T.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(_,T):_.__proto__=T)}var S=["height","width"],E=(function(_){y(T,_);function T(){return m(this,T),d(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return a(T,[{key:"format",value:function(k,b){S.indexOf(k)>-1?b?this.domNode.setAttribute(k,b):this.domNode.removeAttribute(k):l(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,k,b)}}],[{key:"create",value:function(k){var b=l(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,k);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(k)),b}},{key:"formats",value:function(k){return S.reduce(function(b,D){return k.hasAttribute(D)&&(b[D]=k.getAttribute(D)),b},{})}},{key:"sanitize",value:function(k){return p.default.sanitize(k)}},{key:"value",value:function(k){return k.getAttribute("src")}}]),T})(c.BlockEmbed);E.blotName="video",E.className="ql-video",E.tagName="IFRAME",r.default=E}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var a=(function(){function k(b,D){for(var F=0;F<D.length;F++){var P=D[F];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,D,F){return D&&k(b.prototype,D),F&&k(b,F),b}})(),l=function k(b,D,F){b===null&&(b=Function.prototype);var P=Object.getOwnPropertyDescriptor(b,D);if(P===void 0){var R=Object.getPrototypeOf(b);return R===null?void 0:k(R,D,F)}else{if("value"in P)return P.value;var M=P.get;return M===void 0?void 0:M.call(F)}},c=o(35),f=y(c),p=o(5),v=y(p),m=o(9),d=y(m);function y(k){return k&&k.__esModule?k:{default:k}}function S(k,b){if(!(k instanceof b))throw new TypeError("Cannot call a class as a function")}function E(k,b){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:k}function _(k,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);k.prototype=Object.create(b&&b.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(k,b):k.__proto__=b)}var T=(function(k){_(b,k);function b(){return S(this,b),E(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(F){var P=l(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,F);return typeof F=="string"&&(window.katex.render(F,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",F)),P}},{key:"value",value:function(F){return F.getAttribute("data-value")}}]),b})(f.default);T.blotName="formula",T.className="ql-formula",T.tagName="SPAN";var w=(function(k){_(b,k),a(b,null,[{key:"register",value:function(){v.default.register(T,!0)}}]);function b(){S(this,b);var D=E(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return D}return b})(d.default);r.FormulaBlot=T,r.default=w}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var a=(function(){function F(P,R){for(var M=0;M<R.length;M++){var O=R[M];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,R,M){return R&&F(P.prototype,R),M&&F(P,M),P}})(),l=function F(P,R,M){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,R);if(O===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:F(I,R,M)}else{if("value"in O)return O.value;var L=O.get;return L===void 0?void 0:L.call(M)}},c=o(0),f=E(c),p=o(5),v=E(p),m=o(9),d=E(m),y=o(13),S=E(y);function E(F){return F&&F.__esModule?F:{default:F}}function _(F,P){if(!(F instanceof P))throw new TypeError("Cannot call a class as a function")}function T(F,P){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:F}function w(F,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);F.prototype=Object.create(P&&P.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(F,P):F.__proto__=P)}var k=(function(F){w(P,F);function P(){return _(this,P),T(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"replaceWith",value:function(M){this.domNode.textContent=this.domNode.textContent,this.attach(),l(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replaceWith",this).call(this,M)}},{key:"highlight",value:function(M){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=M(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),P})(S.default);k.className="ql-syntax";var b=new f.default.Attributor.Class("token","hljs",{scope:f.default.Scope.INLINE}),D=(function(F){w(P,F),a(P,null,[{key:"register",value:function(){v.default.register(b,!0),v.default.register(k,!0)}}]);function P(R,M){_(this,P);var O=T(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,R,M));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var I=null;return O.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(I),I=setTimeout(function(){O.highlight(),I=null},O.options.interval)}),O.highlight(),O}return a(P,[{key:"highlight",value:function(){var M=this;if(!this.quill.selection.composing){this.quill.update(v.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(k).forEach(function(I){I.highlight(M.options.highlight)}),this.quill.update(v.default.sources.SILENT),O!=null&&this.quill.setSelection(O,v.default.sources.SILENT)}}}]),P})(d.default);D.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(F){var P=window.hljs.highlightAuto(F);return P.value}})(),interval:1e3},r.CodeBlock=k,r.CodeToken=b,r.default=D}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(t,r){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(t,r){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(t,r){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(t,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var a=function P(R,M,O){R===null&&(R=Function.prototype);var I=Object.getOwnPropertyDescriptor(R,M);if(I===void 0){var L=Object.getPrototypeOf(R);return L===null?void 0:P(L,M,O)}else{if("value"in I)return I.value;var N=I.get;return N===void 0?void 0:N.call(O)}},l=(function(){function P(R,M){for(var O=0;O<M.length;O++){var I=M[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}return function(R,M,O){return M&&P(R.prototype,M),O&&P(R,O),R}})(),c=o(3),f=_(c),p=o(8),v=_(p),m=o(43),d=_(m),y=o(15),S=o(41),E=_(S);function _(P){return P&&P.__esModule?P:{default:P}}function T(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function w(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function k(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],D=(function(P){k(R,P);function R(M,O){T(this,R),O.modules.toolbar!=null&&O.modules.toolbar.container==null&&(O.modules.toolbar.container=b);var I=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,O));return I.quill.container.classList.add("ql-bubble"),I}return l(R,[{key:"extendToolbar",value:function(O){this.tooltip=new F(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),E.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),E.default)}}]),R})(d.default);D.DEFAULTS=(0,f.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){R?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var F=(function(P){k(R,P);function R(M,O){T(this,R);var I=w(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,M,O));return I.quill.on(v.default.events.EDITOR_CHANGE,function(L,N,z,G){if(L===v.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&G===v.default.sources.USER){I.show(),I.root.style.left="0px",I.root.style.width="",I.root.style.width=I.root.offsetWidth+"px";var ne=I.quill.getLines(N.index,N.length);if(ne.length===1)I.position(I.quill.getBounds(N));else{var re=ne[ne.length-1],oe=I.quill.getIndex(re),Y=Math.min(re.length()-1,N.index+N.length-oe),W=I.quill.getBounds(new y.Range(oe,Y));I.position(W)}}else document.activeElement!==I.textbox&&I.quill.hasFocus()&&I.hide()}),I}return l(R,[{key:"listen",value:function(){var O=this;a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(v.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var I=O.quill.getSelection();I!=null&&O.position(O.quill.getBounds(I))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var I=a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"position",this).call(this,O),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",I===0)return I;L.style.marginLeft=-1*I-L.offsetWidth/2+"px"}}]),R})(m.BaseTooltip);F.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=F,r.default=D}),(function(t,r,o){t.exports=o(63)})]).default})})(Qc)),Qc.exports}var ar,Cw;function U5(){if(Cw)return ar;Cw=1;var n=ar&&ar.__extends||(function(){var v=function(m,d){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,S){y.__proto__=S}||function(y,S){for(var E in S)S.hasOwnProperty(E)&&(y[E]=S[E])},v(m,d)};return function(m,d){v(m,d);function y(){this.constructor=m}m.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}})(),e=ar&&ar.__assign||function(){return e=Object.assign||function(v){for(var m,d=1,y=arguments.length;d<y;d++){m=arguments[d];for(var S in m)Object.prototype.hasOwnProperty.call(m,S)&&(v[S]=m[S])}return v},e.apply(this,arguments)},t=ar&&ar.__spreadArrays||function(){for(var v=0,m=0,d=arguments.length;m<d;m++)v+=arguments[m].length;for(var y=Array(v),S=0,m=0;m<d;m++)for(var E=arguments[m],_=0,T=E.length;_<T;_++,S++)y[S]=E[_];return y},r=ar&&ar.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},o=r(wf()),a=r(Vw()),l=r(M5()),c=r(V5()),f=(function(v){n(m,v);function m(d){var y=v.call(this,d)||this;y.dirtyProps=["modules","formats","bounds","theme","children"],y.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],y.state={generation:0},y.selection=null,y.onEditorChange=function(E,_,T,w){var k,b,D,F;E==="text-change"?(b=(k=y).onEditorChangeText)===null||b===void 0||b.call(k,y.editor.root.innerHTML,_,w,y.unprivilegedEditor):E==="selection-change"&&((F=(D=y).onEditorChangeSelection)===null||F===void 0||F.call(D,_,w,y.unprivilegedEditor))};var S=y.isControlled()?d.value:d.defaultValue;return y.value=S??"",y}return m.prototype.validateProps=function(d){var y;if(o.default.Children.count(d.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(o.default.Children.count(d.children)){var S=o.default.Children.only(d.children);if(((y=S)===null||y===void 0?void 0:y.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&d.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},m.prototype.shouldComponentUpdate=function(d,y){var S=this,E;if(this.validateProps(d),!this.editor||this.state.generation!==y.generation)return!0;if("value"in d){var _=this.getEditorContents(),T=(E=d.value,E??"");this.isEqualValue(T,_)||this.setEditorContents(this.editor,T)}return d.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,d.readOnly),t(this.cleanProps,this.dirtyProps).some(function(w){return!l.default(d[w],S.props[w])})},m.prototype.shouldComponentRegenerate=function(d){var y=this;return this.dirtyProps.some(function(S){return!l.default(d[S],y.props[S])})},m.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},m.prototype.componentWillUnmount=function(){this.destroyEditor()},m.prototype.componentDidUpdate=function(d,y){var S=this;if(this.editor&&this.shouldComponentRegenerate(d)){var E=this.editor.getContents(),_=this.editor.getSelection();this.regenerationSnapshot={delta:E,selection:_},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==y.generation){var T=this.regenerationSnapshot,E=T.delta,w=T.selection;delete this.regenerationSnapshot,this.instantiateEditor();var k=this.editor;k.setContents(E),p(function(){return S.setEditorSelection(k,w)})}},m.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},m.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},m.prototype.isControlled=function(){return"value"in this.props},m.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},m.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},m.prototype.createEditor=function(d,y){var S=new c.default(d,y);return y.tabIndex!=null&&this.setEditorTabIndex(S,y.tabIndex),this.hookEditor(S),S},m.prototype.hookEditor=function(d){this.unprivilegedEditor=this.makeUnprivilegedEditor(d),d.on("editor-change",this.onEditorChange)},m.prototype.unhookEditor=function(d){d.off("editor-change",this.onEditorChange)},m.prototype.getEditorContents=function(){return this.value},m.prototype.getEditorSelection=function(){return this.selection},m.prototype.isDelta=function(d){return d&&d.ops},m.prototype.isEqualValue=function(d,y){return this.isDelta(d)&&this.isDelta(y)?l.default(d.ops,y.ops):l.default(d,y)},m.prototype.setEditorContents=function(d,y){var S=this;this.value=y;var E=this.getEditorSelection();typeof y=="string"?d.setContents(d.clipboard.convert(y)):d.setContents(y),p(function(){return S.setEditorSelection(d,E)})},m.prototype.setEditorSelection=function(d,y){if(this.selection=y,y){var S=d.getLength();y.index=Math.max(0,Math.min(y.index,S-1)),y.length=Math.max(0,Math.min(y.length,S-1-y.index)),d.setSelection(y)}},m.prototype.setEditorTabIndex=function(d,y){var S,E;!((E=(S=d)===null||S===void 0?void 0:S.scroll)===null||E===void 0)&&E.domNode&&(d.scroll.domNode.tabIndex=y)},m.prototype.setEditorReadOnly=function(d,y){y?d.disable():d.enable()},m.prototype.makeUnprivilegedEditor=function(d){var y=d;return{getHTML:function(){return y.root.innerHTML},getLength:y.getLength.bind(y),getText:y.getText.bind(y),getContents:y.getContents.bind(y),getSelection:y.getSelection.bind(y),getBounds:y.getBounds.bind(y)}},m.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var d=a.default.findDOMNode(this.editingArea);if(!d)throw new Error("Cannot find element for editing area");if(d.nodeType===3)throw new Error("Editing area cannot be a text node");return d},m.prototype.renderEditingArea=function(){var d=this,y=this.props,S=y.children,E=y.preserveWhitespace,_=this.state.generation,T={key:_,ref:function(w){d.editingArea=w}};return o.default.Children.count(S)?o.default.cloneElement(o.default.Children.only(S),T):E?o.default.createElement("pre",e({},T)):o.default.createElement("div",e({},T))},m.prototype.render=function(){var d;return o.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(d=this.props.className,d??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},m.prototype.onEditorChangeText=function(d,y,S,E){var _,T;if(this.editor){var w=this.isDelta(this.value)?E.getContents():E.getHTML();w!==this.getEditorContents()&&(this.lastDeltaChangeSet=y,this.value=w,(T=(_=this.props).onChange)===null||T===void 0||T.call(_,d,y,S,E))}},m.prototype.onEditorChangeSelection=function(d,y,S){var E,_,T,w,k,b;if(this.editor){var D=this.getEditorSelection(),F=!D&&d,P=D&&!d;l.default(d,D)||(this.selection=d,(_=(E=this.props).onChangeSelection)===null||_===void 0||_.call(E,d,y,S),F?(w=(T=this.props).onFocus)===null||w===void 0||w.call(T,d,y,S):P&&((b=(k=this.props).onBlur)===null||b===void 0||b.call(k,D,y,S)))}},m.prototype.focus=function(){this.editor&&this.editor.focus()},m.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},m.displayName="React Quill",m.Quill=c.default,m.defaultProps={theme:"snow",modules:{},readOnly:!1},m})(o.default.Component);function p(v){Promise.resolve().then(v)}return ar=f,ar}var F5=U5();const q5=ya(F5);function dg(){return dg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dg.apply(null,arguments)}function B5(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var z5=Z.useLayoutEffect,H5=function(e){var t=qt.useRef(e);return z5(function(){t.current=e}),t},Ow=function(e,t){if(typeof e=="function"){e(t);return}e.current=t},$5=function(e,t){var r=qt.useRef();return qt.useCallback(function(o){e.current=o,r.current&&Ow(r.current,null),r.current=t,t&&Ow(t,o)},[t])},Nw={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},W5=function(e){Object.keys(Nw).forEach(function(t){e.style.setProperty(t,Nw[t],"important")})},Lw=W5,gn=null,Dw=function(e,t){var r=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?r+t.borderSize:r-t.paddingSize};function K5(n,e,t,r){t===void 0&&(t=1),r===void 0&&(r=1/0),gn||(gn=document.createElement("textarea"),gn.setAttribute("tabindex","-1"),gn.setAttribute("aria-hidden","true"),Lw(gn)),gn.parentNode===null&&document.body.appendChild(gn);var o=n.paddingSize,a=n.borderSize,l=n.sizingStyle,c=l.boxSizing;Object.keys(l).forEach(function(d){var y=d;gn.style[y]=l[y]}),Lw(gn),gn.value=e;var f=Dw(gn,n);gn.value=e,f=Dw(gn,n),gn.value="x";var p=gn.scrollHeight-o,v=p*t;c==="border-box"&&(v=v+o+a),f=Math.max(v,f);var m=p*r;return c==="border-box"&&(m=m+o+a),f=Math.min(m,f),[f,p]}var Mw=function(){},G5=function(e,t){return e.reduce(function(r,o){return r[o]=t[o],r},{})},Q5=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Y5=!!document.documentElement.currentStyle,X5=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var r=G5(Q5,t),o=r.boxSizing;if(o==="")return null;Y5&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var a=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),l=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:a,borderSize:l}},J5=X5;function Cy(n,e,t){var r=H5(t);Z.useLayoutEffect(function(){var o=function(l){return r.current(l)};if(n)return n.addEventListener(e,o),function(){return n.removeEventListener(e,o)}},[])}var Z5=function(e,t){Cy(document.body,"reset",function(r){e.current.form===r.target&&t(r)})},e6=function(e){Cy(window,"resize",e)},t6=function(e){Cy(document.fonts,"loadingdone",e)},n6=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],r6=function(e,t){var r=e.cacheMeasurements,o=e.maxRows,a=e.minRows,l=e.onChange,c=l===void 0?Mw:l,f=e.onHeightChange,p=f===void 0?Mw:f,v=B5(e,n6),m=v.value!==void 0,d=Z.useRef(null),y=$5(d,t),S=Z.useRef(0),E=Z.useRef(),_=function(){var k=d.current,b=r&&E.current?E.current:J5(k);if(b){E.current=b;var D=K5(b,k.value||k.placeholder||"x",a,o),F=D[0],P=D[1];S.current!==F&&(S.current=F,k.style.setProperty("height",F+"px","important"),p(F,{rowHeight:P}))}},T=function(k){m||_(),c(k)};return Z.useLayoutEffect(_),Z5(d,function(){if(!m){var w=d.current.value;requestAnimationFrame(function(){var k=d.current;k&&w!==k.value&&_()})}}),e6(_),t6(_),Z.createElement("textarea",dg({},v,{onChange:T,ref:y}))},jw=Z.forwardRef(r6);function i6({isEditing:n,title:e,summary:t,content:r,featuredImage:o,featuredFile:a,uploading:l,onTitleChange:c,onSummaryChange:f,onContentChange:p,onFeaturedSelect:v,onRemoveFeatured:m,onSavePost:d,onCancel:y,quillRef:S,quillModules:E,quillFormats:_}){const[T,w]=Z.useState(!1),k=Z.useRef(null);return Z.useEffect(()=>{const b=k.current;if(!b)return;const D=new IntersectionObserver(([F])=>{w(!F.isIntersecting)},{root:null,threshold:[1],rootMargin:"-8px 0px 0px 0px"});return D.observe(b),()=>D.disconnect()},[]),j.jsxs("div",{className:"post-form",children:[j.jsx("h3",{children:n?"Editar Post":"Novo Post"}),j.jsx("label",{children:"Ttulo do post:"}),j.jsx(jw,{className:"auto-textarea",value:e,placeholder:"Ttulo",onChange:b=>c(b.target.value)}),j.jsx("label",{children:"Resumo do post:"}),j.jsx(jw,{className:"auto-textarea",value:t,placeholder:"Resumo",onChange:b=>f(b.target.value)}),j.jsx("div",{className:"form-section",children:j.jsxs("div",{className:"featured-image-field",children:[j.jsx("label",{children:"Imagem de Destaque:"}),!o&&j.jsx("input",{type:"file",accept:"image/*",onChange:v}),o&&j.jsxs("div",{className:"featured-preview",children:[j.jsx("img",{src:o,alt:"Imagem de destaque"}),j.jsx("button",{type:"button",className:"remove-featured",onClick:m,"aria-label":"Remover imagem de destaque",children:""})]})]})}),j.jsx("label",{children:"Texto do post:"}),j.jsx("div",{ref:k,className:"quill-sticky-sentinel","aria-hidden":"true"}),j.jsx(q5,{className:`quill-editor${T?" is-stuck":""}`,ref:S,theme:"snow",value:r,onChange:p,modules:E,formats:_}),l&&j.jsx("p",{children:"Enviando mdia..."}),j.jsxs("div",{className:"admin-actions",children:[j.jsx("button",{className:"admin-btn primary",onClick:d,disabled:l||!n&&(!a||!e||!t||!r),children:n?"Salvar Alteraes":"Publicar"}),j.jsx("button",{className:"admin-btn cancel",onClick:y,children:"Cancelar"})]})]})}function o6({posts:n,onNewPost:e,onEdit:t,onDelete:r}){return j.jsxs("div",{className:"posts-management",children:[j.jsx("h3",{children:"Gerenciar Posts"}),j.jsxs("div",{className:"posts-grid",children:[j.jsx("div",{className:"post-card new-post",onClick:e,children:j.jsx("span",{children:"+ Novo Post"})}),n.map(o=>j.jsxs("div",{className:"post-card",children:[o.featuredImage&&j.jsx("img",{src:o.featuredImage,alt:o.title}),j.jsxs("div",{className:"post-card-content",children:[j.jsx("strong",{children:o.title}),j.jsx("small",{children:new Date(o.date?.seconds*1e3).toLocaleDateString()})]}),j.jsxs("div",{className:"post-card-actions",children:[j.jsx("button",{className:"edit-btn",onClick:()=>t(o),children:"Editar"}),j.jsx("button",{className:"delete-btn",onClick:()=>r(o.id),children:"Excluir"})]})]},o.id))]})]})}async function Yc(n,e,t={}){const{maxWidth:r=1200,maxHeight:o=1200,maxSizeMB:a=2,isImage:l=!0}=t;if(!n)throw new Error("Nenhum arquivo selecionado");if(n.size>a*1024*1024)throw new Error(`Arquivo maior que ${a}MB`);let c=n;l&&(c=await s6(n,r,o));const f=Qf(Yf,e),p=PD(f,c);return new Promise((v,m)=>{p.on("state_changed",d=>{const y=d.bytesTransferred/d.totalBytes*100;console.log(`Upload is ${y}% done`)},d=>m(d),async()=>{const d=await xD(p.snapshot.ref);v(d)})})}function s6(n,e,t){return new Promise(r=>{const o=new Image,a=URL.createObjectURL(n);o.src=a,o.onload=()=>{URL.revokeObjectURL(a);const l=document.createElement("canvas"),c=Math.min(e/o.width,t/o.height,1);l.width=o.width*c,l.height=o.height*c,l.getContext("2d").drawImage(o,0,0,l.width,l.height),l.toBlob(p=>r(new File([p],n.name.split(".")[0]+".webp",{type:"image/webp"})),"image/webp",.8)}})}async function a6({user:n,file:e}){const t=await Yc(e,`users/${n.uid}/avatar_${Date.now()}.webp`,{maxWidth:150,maxHeight:150,maxSizeMB:10,isImage:!0});return await IS(n,{photoURL:t}),t}async function l6({user:n,userProfile:e}){await IS(n,{displayName:e.displayName,photoURL:e.photoURL}),await QO(da(hi,"admuser",n.uid),{displayName:e.displayName,photoURL:e.photoURL,email:n.email,updatedAt:Xb()},{merge:!0})}async function u6(n){if(n)try{await Ay(Qf(Yf,n))}catch(e){console.error("Erro ao remover avatar do storage:",e)}}function c6({setUploading:n}){const[e,t]=Z.useState(null),[r,o]=Z.useState({displayName:"",photoURL:""}),[a,l]=Z.useState(null),[c,f]=Z.useState(!1),[p,v]=Z.useState(!1),[m,d]=Z.useState(""),[y,S]=Z.useState(null),[E,_]=Z.useState("");Z.useEffect(()=>{const P=RS(Yl,R=>{R&&(t(R),o({displayName:R.displayName||"",photoURL:R.photoURL||""}))});return()=>P()},[]);const T=Z.useCallback(()=>{E&&URL.revokeObjectURL(E),_(""),S(null)},[E]),w=Z.useCallback(async P=>{const R=P.target.files[0],M=P.target;if(!(!R||!e))try{E&&URL.revokeObjectURL(E);const O=URL.createObjectURL(R);S(R),_(O),o(I=>({...I,photoURL:O})),a?.photoURL&&(d(a.photoURL),v(!0))}catch(O){console.error(O),alert("Erro ao preparar avatar: "+O.message)}finally{M&&(M.value="")}},[e,E,a]),k=Z.useCallback(()=>{r.photoURL&&(T(),d(a?.photoURL||r.photoURL),v(!0),o(P=>({...P,photoURL:""})))},[r.photoURL,a,T]),b=Z.useCallback(()=>{v(!1),d(""),T()},[T]),D=Z.useCallback(async()=>{if(e){n(!0);try{let P=r;if(y){const R=await a6({user:e,file:y});P={...r,photoURL:R},o(P)}await l6({user:e,userProfile:P}),p&&m&&m!==P.photoURL&&await u6(m),b(),alert("Perfil atualizado!")}catch(P){console.error(P),alert("Erro ao salvar perfil: "+P.message)}finally{n(!1)}}},[e,r,y,p,m,b,n]),F=Z.useCallback(()=>a?a.displayName!==r.displayName||a.photoURL!==r.photoURL:!1,[a,r]);return{user:e,userProfile:r,setUserProfile:o,originalProfile:a,setOriginalProfile:l,editingProfile:c,setEditingProfile:f,handleProfileImageUpload:w,handleProfileImageRemove:k,resetProfileEditState:b,saveUserProfile:D,hasProfileChanged:F}}async function f6(){return(await cy(Uf(hi,"posts"))).docs.map(e=>({id:e.id,...e.data()}))}async function h6({isEditingId:n,data:e}){n?await YO(da(hi,"posts",n),e):await JO(Uf(hi,"posts"),e)}async function d6({id:n,featuredImage:e}){e&&await Ay(Qf(Yf,e)),await XO(da(hi,"posts",n))}async function p6(n){n&&await Ay(Qf(Yf,n))}function m6({user:n,userProfile:e,setUploading:t}){const[r,o]=Z.useState([]),[a,l]=Z.useState(!1),[c,f]=Z.useState(null),[p,v]=Z.useState(""),[m,d]=Z.useState(""),[y,S]=Z.useState(""),[E,_]=Z.useState(""),[T,w]=Z.useState(null),k=Z.useCallback(I=>{const[L,N]=I.split(","),z=L.match(/data:(.*);base64/),G=z?z[1]:"application/octet-stream",ne=atob(N),re=new Uint8Array(ne.length);for(let oe=0;oe<ne.length;oe+=1)re[oe]=ne.charCodeAt(oe);return{blob:new Blob([re],{type:G}),mime:G}},[]),b=Z.useCallback(async I=>{if(!I)return I;const N=new DOMParser().parseFromString(I,"text/html"),z=Array.from(N.querySelectorAll("img, video"));for(let G=0;G<z.length;G+=1){const ne=z[G],re=ne.getAttribute("src");if(!re||!re.startsWith("data:"))continue;const oe=ne.tagName.toLowerCase()==="img",{blob:Y,mime:W}=k(re),V=W.split("/")[1]||"bin",B=`${Date.now()}_${G}.${V}`,K=new File([Y],B,{type:W}),te=`blog/${oe?"images":"videos"}/${B}`,ee=await Yc(K,te,{maxWidth:1200,maxHeight:1200,maxSizeMB:2,isImage:oe});ne.setAttribute("src",ee)}return N.body.innerHTML},[k]),D=Z.useCallback(async()=>{try{const I=await f6();o(I)}catch(I){console.error(I),alert("Erro ao carregar posts")}},[]),F=Z.useCallback(I=>{const L=I.target.files[0];if(!L)return;const N=URL.createObjectURL(L);_(N),w(L)},[]),P=Z.useCallback(async()=>{if(n){if(!c&&(!p||!m||!y||!T)){alert("Ttulo, resumo, imagem e contedo so obrigatrios!");return}t(!0);try{let I=E;if(c&&T){const z=r.find(G=>G.id===c);if(z?.featuredImage)try{await p6(z.featuredImage)}catch(G){console.warn(G.message)}I=await Yc(T,`blog/featured/${Date.now()}_${T.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0})}!c&&T&&(I=await Yc(T,`blog/featured/${Date.now()}_${T.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0}));const L=await b(y),N={...p&&{title:p},...m&&{summary:m},...L&&{content:L},...I&&{featuredImage:I},...p&&{slug:rA(p)},authorId:n.uid,authorName:e.displayName||n.email,date:Xb()};await h6({isEditingId:c,data:N}),O(),D()}catch(I){console.error(I),alert("Erro ao salvar post: "+I.message)}finally{t(!1),w(null)}}},[n,c,p,m,y,T,E,r,e,t,D,b]),R=Z.useCallback(async I=>{const L=r.find(N=>N.id===I);if(L&&window.confirm("Tem certeza que deseja excluir este post?"))try{await d6({id:I,featuredImage:L.featuredImage}),D()}catch(N){console.error(N),alert("Erro ao deletar post: "+N.message)}},[r,D]),M=Z.useCallback(I=>{f(I.id),v(I.title),d(I.summary),S(I.content),_(I.featuredImage||""),w(null),l(!0)},[]),O=Z.useCallback(()=>{f(null),v(""),d(""),S(""),_(""),w(null),l(!1)},[]);return{posts:r,showForm:a,setShowForm:l,isEditing:c,title:p,setTitle:v,summary:m,setSummary:d,content:y,setContent:S,featuredImage:E,setFeaturedImage:_,featuredFile:T,setFeaturedFile:w,handleFeaturedImageSelect:F,handleSavePost:P,handleDelete:R,startEdit:M,resetForm:O,fetchPosts:D}}function g6({setUploading:n}){const e=Z.useRef(null),t=Z.useCallback(a=>{const l=document.createElement("input");l.type="file",l.accept=a==="image"?"image/*":"video/*",l.click(),l.onchange=()=>{const c=l.files[0];if(!c)return;n(!0);const f=new FileReader;f.onload=()=>{try{const p=f.result,v=e.current.getEditor(),m=v.getSelection(!0);a==="image"?v.insertEmbed(m.index,"image",p):v.insertEmbed(m.index,"video",p),v.setSelection(m.index+1)}catch(p){console.error(p),alert("Erro ao inserir mdia: "+p.message)}finally{n(!1)}},f.onerror=p=>{console.error(p),alert("Erro ao ler arquivo: "+p.message),n(!1)},f.readAsDataURL(c)}},[n]),r=Z.useMemo(()=>({toolbar:{container:[[{header:[2,3,!1]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["blockquote"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]],handlers:{image:()=>t("image"),video:()=>t("video")}}}),[t]);return{quillRef:e,quillModules:r,quillFormats:["header","bold","italic","underline","strike","list","bullet","script","blockquote","align","link","image","video"]}}function y6(){const[n,e]=Z.useState(!1),{user:t,userProfile:r,setUserProfile:o,originalProfile:a,setOriginalProfile:l,editingProfile:c,setEditingProfile:f,handleProfileImageUpload:p,handleProfileImageRemove:v,resetProfileEditState:m,saveUserProfile:d,hasProfileChanged:y}=c6({setUploading:e}),{posts:S,showForm:E,setShowForm:_,isEditing:T,title:w,setTitle:k,summary:b,setSummary:D,content:F,setContent:P,featuredImage:R,setFeaturedImage:M,featuredFile:O,setFeaturedFile:I,handleFeaturedImageSelect:L,handleSavePost:N,handleDelete:z,startEdit:G,resetForm:ne,fetchPosts:re}=m6({user:t,userProfile:r,setUploading:e}),{quillRef:oe,quillModules:Y,quillFormats:W}=g6({setUploading:e});return Z.useEffect(()=>{t&&re()},[t,re]),t?j.jsxs("section",{className:"admin-wrapper",children:[j.jsx(T3,{user:t,userProfile:r,editingProfile:c,onStartEditProfile:()=>{l(r),m(),f(!0)},onCancelEditProfile:()=>{y()&&!window.confirm("Descartar alteraes do perfil?")||(o(a),m(),f(!1))},onSaveProfile:async()=>{await d(),f(!1)},onProfileChange:o,onProfileImageChange:p,onProfileImageRemove:v,hasProfileChanged:y,uploading:n,onSignOut:()=>s4(Yl)}),E&&j.jsx(i6,{isEditing:T,title:w,summary:b,content:F,featuredImage:R,featuredFile:O,uploading:n,onTitleChange:k,onSummaryChange:D,onContentChange:P,onFeaturedSelect:L,onRemoveFeatured:()=>{M(""),I(null)},onSavePost:N,onCancel:()=>{(w||b||F||R)&&!window.confirm("Descartar alteraes do post?")||ne()},quillRef:oe,quillModules:Y,quillFormats:W}),!E&&j.jsx(o6,{posts:S,onNewPost:()=>{ne(),_(!0)},onEdit:G,onDelete:z})]}):j.jsx("p",{className:"loading-text",children:"Carregando painel..."})}function v6(){const[n,e]=Z.useState(""),[t,r]=Z.useState(""),[o,a]=Z.useState(!1),[l,c]=Z.useState(!1),[f,p]=Z.useState(!1),v=Jl();async function m(){if(!l)try{c(!0),await n4(Yl,n,t),v("/admin")}catch{alert("Email ou senha invlidos. Tente novamente.")}finally{c(!1)}}async function d(){if(!f){if(!n){alert("Informe o email cadastrado para recuperar a senha.");return}try{p(!0),await t4(Yl,n),alert("Enviamos um link de recuperaoo para o seu email.")}catch{alert("No foi possvel enviar o link. Verifique o email e tente novamente.")}finally{p(!1)}}}return j.jsx("div",{className:"admin-login-wrapper",children:j.jsxs("div",{className:"admin-login-card",children:[j.jsx("span",{className:"label",children:"REA ADMINISTRATIVA"}),j.jsx("h3",{children:"Acesso Restrito"}),j.jsx("div",{className:"admin-field",children:j.jsx("input",{type:"email",placeholder:"Email",onChange:y=>e(y.target.value)})}),j.jsxs("div",{className:"admin-field password-field",children:[j.jsx("input",{type:o?"text":"password",placeholder:"Senha",onChange:y=>r(y.target.value)}),j.jsx("button",{type:"button",className:"toggle-password",onClick:()=>a(!o),children:o?"Ocultar":"Mostrar"})]}),j.jsx("button",{className:"btn admin-btn",onClick:m,disabled:l,children:l?j.jsx("span",{className:"loader"}):"Entrar"}),j.jsx("button",{type:"button",className:"admin-forgot",onClick:d,disabled:f,children:f?"Enviando...":"Esqueci minha senha"})]})})}const _6="/assets/logo-secundaria-branca-BkYvBfbj.svg";function E6(){const[n,e]=Z.useState(!1),t=Jl(),r=o=>{if(window.location.pathname!=="/")t("/");else{const a=document.getElementById(o);if(!a)return;const f=a.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:f,behavior:"smooth"})}e(!1)};return j.jsx("header",{className:"header",children:j.jsxs("nav",{className:"nav",children:[j.jsx(Go,{to:"/",className:"logo",children:j.jsx("img",{src:_6,alt:"Dra. Lueine Barradas"})}),j.jsxs("button",{className:`hamburger ${n?"active":""}`,onClick:()=>e(!n),children:[j.jsx("span",{}),j.jsx("span",{}),j.jsx("span",{})]}),j.jsxs("div",{className:`menu ${n?"open":""}`,children:[j.jsx("button",{onClick:()=>r("inicio"),children:"Incio"}),j.jsx("button",{onClick:()=>r("servicos"),children:"Servios"}),j.jsx("button",{onClick:()=>r("consulta"),children:"Consulta"}),j.jsx("button",{onClick:()=>r("sobre"),children:"Sobre"}),j.jsx("button",{onClick:()=>r("blog"),children:"Artigos"}),j.jsx("button",{onClick:()=>r("contato"),children:"Contato"})]})]})})}const w6="/assets/logo-principal-lueine-dbZtA-zg.svg";function T6(){const n=Jl(),e=t=>{if(window.location.pathname!=="/")n("/"),setTimeout(()=>{const r=document.getElementById(t);if(!r)return;const l=r.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:l,behavior:"smooth"})},100);else{const r=document.getElementById(t);if(!r)return;const l=r.getBoundingClientRect().top+window.pageYOffset-90;window.scrollTo({top:l,behavior:"smooth"})}};return j.jsxs("footer",{className:"footer",children:[j.jsxs("div",{className:"footer-container",children:[j.jsx("div",{className:"footer-brand",children:j.jsx(Go,{to:"/",className:"footer-logo",children:j.jsx("img",{src:w6,alt:"Dra. Lueine Barradas"})})}),j.jsxs("div",{className:"footer-right",children:[j.jsxs("div",{className:"footer-links",children:[j.jsx("h4",{children:"Navegao"}),j.jsxs("ul",{children:[j.jsx("li",{children:j.jsx("button",{onClick:()=>e("inicio"),children:"Incio"})}),j.jsx("li",{children:j.jsx("button",{onClick:()=>e("servicos"),children:"Servios"})}),j.jsx("li",{children:j.jsx("button",{onClick:()=>e("depoimentos"),children:"Depoimentos"})}),j.jsx("li",{children:j.jsx("button",{onClick:()=>e("contato"),children:"Agendar consulta"})})]})]}),j.jsxs("div",{className:"footer-contact",children:[j.jsx("h4",{children:"Contatos"}),j.jsx("p",{children:j.jsxs("a",{href:"https://wa.me/5591985807373",target:"_blank",rel:"noopener noreferrer",className:"footer-icons",children:[j.jsx(wg,{className:"footer-icon"}),"(91) 98580-7373"]})}),j.jsx("p",{children:j.jsxs("a",{href:"https://www.instagram.com/dralueinebarradas",target:"_blank",rel:"noopener noreferrer",className:"footer-icons",children:[j.jsx(IR,{className:"footer-icon"}),"@dralueinebarradas"]})}),j.jsxs("span",{className:"footer-location",children:["Av. Nazeazeno Ferreira,",j.jsx("br",{}),"60 - Padre Luiz,",j.jsx("br",{}),"Bragana - PA"]})]})]})]}),j.jsx("div",{className:"footer-divider"}),j.jsxs("div",{className:"footer-bottom",children:[j.jsx("p",{children:" Dra. Lueine Barradas 2026. Todos os direitos reservados."}),j.jsx("p",{children:"Desenvolvido por: JacsDevs - jacsdevs@gmail.com"})]})]})}function b6(){return j.jsxs(j.Fragment,{children:[j.jsx(E6,{}),j.jsx(Zw,{}),j.jsx(T6,{})]})}function S6(){const[n,e]=Z.useState(void 0);return Z.useEffect(()=>{const t=RS(Yl,r=>{e(r||null)});return()=>t()},[]),n===void 0?j.jsx("p",{style:{padding:20},children:"Verificando acesso..."}):n?j.jsx(Zw,{}):j.jsx(M2,{to:"/login",replace:!0})}function A6(){const{pathname:n}=vi();return Z.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"auto"})},[n]),null}function I6(){return j.jsxs(j.Fragment,{children:[j.jsx(A6,{}),j.jsxs(V2,{children:[j.jsxs(Bo,{element:j.jsx(b6,{}),children:[j.jsx(Bo,{path:"/",element:j.jsx(E3,{})}),j.jsx(Bo,{path:"/post/:slugId",element:j.jsx(w3,{})})]}),j.jsx(Bo,{path:"/login",element:j.jsx(v6,{})}),j.jsx(Bo,{element:j.jsx(S6,{}),children:j.jsx(Bo,{path:"/admin",element:j.jsx(y6,{})})})]})]})}jI.createRoot(document.getElementById("root")).render(j.jsx(qt.StrictMode,{children:j.jsx(cA,{children:j.jsx(lR,{children:j.jsx(I6,{})})})}));
