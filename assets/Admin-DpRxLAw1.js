import{j as z,r as J,R as vr,_ as Mi,a as mr,u as Bi,g as Ui,s as gr,b as Oi,c as Fi,d as ke,e as be,f as Ei,h as wi,o as Hi,i as zi,k as xi,l as br,q as Ki,w as Gi,m as Ai,n as Wi,p as Vi,t as Zi,v as Yi,x as Qi,y as xe,z as Xi,A as Ji,B as $i,C as ea}from"./index-DcQKkezM.js";/* empty css              */function ta(S,k){for(var g=0;g<k.length;g++){const s=k[g];if(typeof s!="string"&&!Array.isArray(s)){for(const f in s)if(f!=="default"&&!(f in S)){const O=Object.getOwnPropertyDescriptor(s,f);O&&Object.defineProperty(S,f,O.get?O:{enumerable:!0,get:()=>s[f]})}}}return Object.freeze(Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}))}function ra({stats:S}){return z.jsxs("header",{className:"admin-header",children:[z.jsx("div",{className:"admin-header-main",children:z.jsxs("div",{className:"admin-intro",children:[z.jsx("span",{className:"admin-chip",children:"Painel administrativo"}),z.jsx("h1",{children:"Dashboard de Conteudo"}),z.jsx("p",{children:"Gerencie publicacoes, acompanhe indicadores e mantenha seu perfil atualizado."})]})}),z.jsx("div",{className:"admin-stats-grid admin-stats-grid-full",children:S?.map(k=>z.jsxs("article",{className:"admin-stat-card",children:[z.jsx("span",{className:"admin-stat-label",children:k.label}),z.jsx("strong",{className:"admin-stat-value",children:k.value}),z.jsx("small",{className:"admin-stat-note",children:k.note})]},k.label))})]})}function pr(){return pr=Object.assign?Object.assign.bind():function(S){for(var k=1;k<arguments.length;k++){var g=arguments[k];for(var s in g)({}).hasOwnProperty.call(g,s)&&(S[s]=g[s])}return S},pr.apply(null,arguments)}function na(S,k){if(S==null)return{};var g={};for(var s in S)if({}.hasOwnProperty.call(S,s)){if(k.indexOf(s)!==-1)continue;g[s]=S[s]}return g}var ia=J.useLayoutEffect,aa=function(k){var g=vr.useRef(k);return ia(function(){g.current=k}),g},xr=function(k,g){if(typeof k=="function"){k(g);return}k.current=g},oa=function(k,g){var s=vr.useRef();return vr.useCallback(function(f){k.current=f,s.current&&xr(s.current,null),s.current=g,g&&xr(g,f)},[g])},Ar={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},la=function(k){Object.keys(Ar).forEach(function(g){k.style.setProperty(g,Ar[g],"important")})},Tr=la,de=null,Nr=function(k,g){var s=k.scrollHeight;return g.sizingStyle.boxSizing==="border-box"?s+g.borderSize:s-g.paddingSize};function ua(S,k,g,s){g===void 0&&(g=1),s===void 0&&(s=1/0),de||(de=document.createElement("textarea"),de.setAttribute("tabindex","-1"),de.setAttribute("aria-hidden","true"),Tr(de)),de.parentNode===null&&document.body.appendChild(de);var f=S.paddingSize,O=S.borderSize,p=S.sizingStyle,v=p.boxSizing;Object.keys(p).forEach(function(e){var t=e;de.style[t]=p[t]}),Tr(de),de.value=k;var y=Nr(de,S);de.value=k,y=Nr(de,S),de.value="x";var b=de.scrollHeight-f,d=b*g;v==="border-box"&&(d=d+f+O),y=Math.max(d,y);var n=b*s;return v==="border-box"&&(n=n+f+O),y=Math.min(n,y),[y,b]}var kr=function(){},sa=function(k,g){return k.reduce(function(s,f){return s[f]=g[f],s},{})},fa=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ca=!!document.documentElement.currentStyle,da=function(k){var g=window.getComputedStyle(k);if(g===null)return null;var s=sa(fa,g),f=s.boxSizing;if(f==="")return null;ca&&f==="border-box"&&(s.width=parseFloat(s.width)+parseFloat(s.borderRightWidth)+parseFloat(s.borderLeftWidth)+parseFloat(s.paddingRight)+parseFloat(s.paddingLeft)+"px");var O=parseFloat(s.paddingBottom)+parseFloat(s.paddingTop),p=parseFloat(s.borderBottomWidth)+parseFloat(s.borderTopWidth);return{sizingStyle:s,paddingSize:O,borderSize:p}},ha=da;function _r(S,k,g){var s=aa(g);J.useLayoutEffect(function(){var f=function(p){return s.current(p)};if(S)return S.addEventListener(k,f),function(){return S.removeEventListener(k,f)}},[])}var va=function(k,g){_r(document.body,"reset",function(s){k.current.form===s.target&&g(s)})},pa=function(k){_r(window,"resize",k)},ya=function(k){_r(document.fonts,"loadingdone",k)},ma=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ga=function(k,g){var s=k.cacheMeasurements,f=k.maxRows,O=k.minRows,p=k.onChange,v=p===void 0?kr:p,y=k.onHeightChange,b=y===void 0?kr:y,d=na(k,ma),n=d.value!==void 0,e=J.useRef(null),t=oa(e,g),u=J.useRef(0),o=J.useRef(),l=function(){var c=e.current,r=s&&o.current?o.current:ha(c);if(r){o.current=r;var h=ua(r,c.value||c.placeholder||"x",O,f),A=h[0],_=h[1];u.current!==A&&(u.current=A,c.style.setProperty("height",A+"px","important"),b(A,{rowHeight:_}))}},a=function(c){n||l(),v(c)};return J.useLayoutEffect(l),va(e,function(){if(!n){var i=e.current.value;requestAnimationFrame(function(){var c=e.current;c&&i!==c.value&&l()})}}),pa(l),ya(l),J.createElement("textarea",pr({},d,{onChange:a,ref:t}))},Sr=J.forwardRef(ga);const ba=J.lazy(()=>Mi(()=>Promise.resolve().then(()=>$o),void 0));function _a({isEditing:S,hideHeading:k=!1,title:g,summary:s,content:f,featuredImage:O,featuredLinkDraft:p,uploading:v,onTitleChange:y,onSummaryChange:b,onContentChange:d,onFeaturedSelect:n,onFeaturedLinkChange:e,onFeaturedLinkApply:t,onRemoveFeatured:u,onSavePost:o,onCancel:l,quillRef:a,quillModules:i,quillFormats:c,mediaModal:r,onMediaClose:h,onMediaSubmit:A,onMediaFieldChange:_,onMediaFileChange:x,onMediaSourceTypeChange:q}){const[E,m]=J.useState(!1),w=J.useRef(null),N=P=>{P.target===P.currentTarget&&(v||h())};return J.useEffect(()=>{const P=w.current;if(!P)return;const j=new IntersectionObserver(([U])=>{m(!U.isIntersecting)},{root:null,threshold:[1],rootMargin:"-8px 0px 0px 0px"});return j.observe(P),()=>j.disconnect()},[]),J.useEffect(()=>{if(!r?.open)return;const P=j=>{j.key==="Escape"&&(j.preventDefault(),v||h()),(j.ctrlKey||j.metaKey)&&j.key==="Enter"&&(j.preventDefault(),v||A())};return window.addEventListener("keydown",P),()=>window.removeEventListener("keydown",P)},[r?.open,h,A,v]),z.jsxs("div",{className:`post-form${k?" no-heading":""}`,children:[!k&&z.jsxs("div",{className:"post-form-header",children:[z.jsx("h3",{children:S?"Editar post":"Novo post"}),z.jsx("p",{children:"Estruture o conteudo com clareza para manter o blog organizado e consistente."})]}),z.jsxs("div",{className:"post-form-block",children:[z.jsx("label",{className:"form-label",htmlFor:"post-title",children:"Titulo do post"}),z.jsx(Sr,{id:"post-title",className:"auto-textarea",value:g,placeholder:"Titulo",onChange:P=>y(P.target.value)}),z.jsx("label",{className:"form-label",htmlFor:"post-summary",children:"Resumo do post"}),z.jsx(Sr,{id:"post-summary",className:"auto-textarea",value:s,placeholder:"Resumo",onChange:P=>b(P.target.value)})]}),z.jsxs("div",{className:"post-form-block featured-image-field",children:[z.jsxs("div",{className:"post-block-header",children:[z.jsx("label",{className:"form-label",children:"Imagem de destaque"}),z.jsx("span",{className:"form-helper",children:"Use arquivo otimizado ou URL valida para manter boa performance."})]}),!O&&z.jsxs("div",{className:"featured-image-inputs",children:[z.jsxs("label",{className:"featured-input-group",children:["Arquivo de imagem",z.jsx("input",{type:"file",accept:"image/*",onChange:n})]}),z.jsx("span",{className:"featured-input-divider",children:"ou"}),z.jsxs("label",{className:"featured-input-group",children:["Link da imagem",z.jsxs("div",{className:"featured-link-actions",children:[z.jsx("input",{type:"url",value:p,onChange:P=>e(P.target.value),placeholder:"https://"}),z.jsx("button",{type:"button",className:"admin-btn primary featured-link-btn",onClick:t,disabled:v||!p?.trim(),children:"Usar link"})]})]})]}),O&&z.jsxs("div",{className:"featured-preview",children:[z.jsx("img",{src:O,alt:"Imagem de destaque"}),z.jsx("button",{type:"button",className:"remove-featured",onClick:u,"aria-label":"Remover imagem de destaque",children:"x"})]})]}),z.jsxs("div",{className:"post-form-block",children:[z.jsxs("div",{className:"post-block-header",children:[z.jsx("label",{className:"form-label",htmlFor:"post-content",children:"Texto do post"}),z.jsx("span",{className:"form-helper",children:"Use o editor para formatacao, midias e botoes de CTA."})]}),z.jsx("div",{ref:w,className:"quill-sticky-sentinel","aria-hidden":"true"}),z.jsx(J.Suspense,{fallback:z.jsx("div",{className:"quill-loading",children:"Carregando editor..."}),children:z.jsx(ba,{id:"post-content",className:`quill-editor${E?" is-stuck":""}`,ref:a,theme:"snow",value:f,onChange:d,modules:i,formats:c})}),v&&z.jsx("p",{className:"uploading-hint",children:"Enviando midia..."})]}),r?.open&&z.jsx("div",{className:"quill-modal-backdrop",role:"dialog","aria-modal":"true",onMouseDown:N,children:z.jsxs("div",{className:"quill-modal","aria-busy":v,children:[z.jsxs("h4",{children:[r.type==="image"&&"Inserir imagem",r.type==="video"&&"Inserir video",r.type==="button"&&"Inserir botao"]}),z.jsx("p",{className:"quill-modal-helper",children:"Esc fecha a janela e Ctrl/Command + Enter confirma."}),r.type!=="button"&&z.jsxs("div",{className:"quill-modal-tabs",children:[z.jsx("button",{type:"button",className:`quill-tab${r.sourceType==="url"?" is-active":""}`,onClick:()=>q("url"),disabled:v,children:"URL"}),z.jsx("button",{type:"button",className:`quill-tab${r.sourceType==="file"?" is-active":""}`,onClick:()=>q("file"),disabled:v,children:"Arquivo"})]}),r.type==="image"&&z.jsxs(z.Fragment,{children:[r.sourceType==="url"&&z.jsxs("label",{className:"quill-modal-field",children:["URL da imagem",z.jsx("input",{type:"url",value:r.fields.url,onChange:P=>_("url",P.target.value),placeholder:"https://",disabled:v}),r.errors.url&&z.jsx("span",{className:"quill-modal-error",children:r.errors.url})]}),r.sourceType==="file"&&z.jsxs("label",{className:"quill-modal-field",children:["Arquivo de imagem",z.jsx("input",{type:"file",accept:"image/*",onChange:P=>x(P.target.files?.[0]||null),disabled:v}),r.errors.file&&z.jsx("span",{className:"quill-modal-error",children:r.errors.file})]}),z.jsxs("label",{className:"quill-modal-field",children:["Texto alternativo (alt)",z.jsx("input",{type:"text",value:r.fields.alt,onChange:P=>_("alt",P.target.value),placeholder:"Descricao acessivel da imagem",disabled:v})]}),z.jsxs("label",{className:"quill-modal-field",children:["Legenda",z.jsx("input",{type:"text",value:r.fields.caption,onChange:P=>_("caption",P.target.value),placeholder:"Legenda exibida abaixo da imagem",disabled:v})]}),z.jsxs("label",{className:"quill-modal-field",children:["Fonte",z.jsx("input",{type:"text",value:r.fields.source,onChange:P=>_("source",P.target.value),placeholder:"Ex: Foto de Fulano",disabled:v})]})]}),r.type==="video"&&z.jsxs(z.Fragment,{children:[r.sourceType==="url"&&z.jsxs("label",{className:"quill-modal-field",children:["URL do video (YouTube ou arquivo)",z.jsx("input",{type:"url",value:r.fields.url,onChange:P=>_("url",P.target.value),placeholder:"https://",disabled:v}),r.errors.url&&z.jsx("span",{className:"quill-modal-error",children:r.errors.url})]}),r.sourceType==="file"&&z.jsxs("label",{className:"quill-modal-field",children:["Arquivo de video",z.jsx("input",{type:"file",accept:"video/*",onChange:P=>x(P.target.files?.[0]||null),disabled:v}),r.errors.file&&z.jsx("span",{className:"quill-modal-error",children:r.errors.file})]})]}),r.type==="button"&&z.jsxs(z.Fragment,{children:[z.jsxs("label",{className:"quill-modal-field",children:["Texto do botao",z.jsx("input",{type:"text",value:r.fields.buttonText,onChange:P=>_("buttonText",P.target.value),disabled:v}),r.errors.buttonText&&z.jsx("span",{className:"quill-modal-error",children:r.errors.buttonText})]}),z.jsxs("label",{className:"quill-modal-field",children:["Link do botao",z.jsx("input",{type:"url",value:r.fields.buttonUrl,onChange:P=>_("buttonUrl",P.target.value),placeholder:"https://",disabled:v}),r.errors.buttonUrl&&z.jsx("span",{className:"quill-modal-error",children:r.errors.buttonUrl})]})]}),r.errors.form&&z.jsx("div",{className:"quill-modal-error form-error",children:r.errors.form}),z.jsxs("div",{className:"quill-modal-actions",children:[z.jsx("button",{type:"button",className:"admin-btn cancel",onClick:h,disabled:v,children:"Cancelar"}),z.jsx("button",{type:"button",className:"admin-btn primary",onClick:A,disabled:v,children:v?"Inserindo...":"Inserir"})]})]})}),z.jsxs("div",{className:"admin-actions",children:[z.jsx("button",{type:"button",className:"admin-btn primary",onClick:o,disabled:v||!S&&(!O?.trim()||!g?.trim()||!s?.trim()||!f?.trim()),children:S?"Salvar alteracoes":"Publicar"}),z.jsx("button",{type:"button",className:"admin-btn cancel",onClick:l,children:"Cancelar"})]})]})}function Oa(S){return S?.seconds?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(new Date(S.seconds*1e3)):"Data nao informada"}function Ea(S){const k=(S||"").replace(/\s+/g," ").trim();return k?k.length<=120?k:`${k.slice(0,117)}...`:"Sem resumo cadastrado."}function wa({posts:S,onNewPost:k,onEdit:g,onDelete:s}){return z.jsxs("div",{className:"posts-management",children:[z.jsxs("div",{className:"posts-header",children:[z.jsxs("div",{className:"posts-title-group",children:[z.jsx("h3",{children:"Conteudos publicados"}),z.jsxs("p",{children:[S.length," ",S.length===1?"post cadastrado":"posts cadastrados"]})]}),z.jsx("button",{type:"button",className:"admin-btn primary posts-new-btn",onClick:k,children:"+ Novo post"})]}),S.length?z.jsx("div",{className:"posts-grid",children:S.map(f=>z.jsxs("article",{className:"post-card",children:[z.jsx("div",{className:"post-card-media",children:f.featuredImage?z.jsx("img",{src:f.featuredImage,alt:f.title||"Imagem do post"}):z.jsx("div",{className:"post-card-placeholder",children:"Sem capa"})}),z.jsxs("div",{className:"post-card-content",children:[z.jsx("strong",{className:"post-card-title",children:f.title||"Post sem titulo"}),z.jsx("p",{className:"post-card-summary",children:Ea(f.summary)}),z.jsxs("div",{className:"post-card-meta",children:[z.jsx("small",{children:Oa(f.date)}),z.jsx("span",{className:`post-status ${f.featuredImage?"ok":"warning"}`,children:f.featuredImage?"Com capa":"Sem capa"})]})]}),z.jsxs("div",{className:"post-card-actions",children:[z.jsx("button",{type:"button",className:"edit-btn",onClick:()=>g(f),children:"Editar"}),z.jsx("button",{type:"button",className:"delete-btn",onClick:()=>s(f.id),children:"Excluir"})]})]},f.id))}):z.jsxs("div",{className:"posts-empty",children:[z.jsx("strong",{children:"Nenhum post publicado"}),z.jsx("p",{children:"Crie seu primeiro conteudo para iniciar o dashboard editorial."})]})]})}async function Te(S,k,g={}){const{maxWidth:s=1200,maxHeight:f=1200,maxSizeMB:O=2,isImage:p=!0}=g;if(!S)throw new Error("Nenhum arquivo selecionado");if(S.size>O*1024*1024)throw new Error(`Arquivo maior que ${O}MB`);let v=S;p&&(v=await xa(S,s,f));const y=mr(gr,k),b=Bi(y,v);return new Promise((d,n)=>{b.on("state_changed",e=>{const t=e.bytesTransferred/e.totalBytes*100;console.log(`Upload is ${t}% done`)},e=>n(e),async()=>{const e=await Ui(b.snapshot.ref);d(e)})})}function xa(S,k,g){return new Promise(s=>{const f=new Image,O=URL.createObjectURL(S);f.src=O,f.onload=()=>{URL.revokeObjectURL(O);const p=document.createElement("canvas"),v=Math.min(k/f.width,g/f.height,1);p.width=f.width*v,p.height=f.height*v,p.getContext("2d").drawImage(f,0,0,p.width,p.height),p.toBlob(b=>s(new File([b],S.name.split(".")[0]+".webp",{type:"image/webp"})),"image/webp",.8)}})}async function Aa({user:S,file:k}){const g=await Te(k,`users/${S.uid}/avatar_${Date.now()}.webp`,{maxWidth:80,maxHeight:80,maxSizeMB:10,isImage:!0});return await Oi(S,{photoURL:g}),g}async function qr({user:S,userProfile:k}){await Oi(S,{displayName:k.displayName,photoURL:k.photoURL}),await Fi(ke(be,"users",S.uid),{displayName:k.displayName,photoURL:k.photoURL,email:S.email,updatedAt:wi()},{merge:!0})}async function Ta(S){if(S)try{await Ei(mr(gr,S))}catch(k){console.error("Erro ao remover avatar do storage:",k)}}function Na({setUploading:S}){const[k,g]=J.useState(null),[s,f]=J.useState({displayName:"",photoURL:""}),[O,p]=J.useState(null),[v,y]=J.useState(!1),[b,d]=J.useState(!1),[n,e]=J.useState(""),[t,u]=J.useState(null),[o,l]=J.useState("");J.useEffect(()=>{const _=Hi(xi,async x=>{if(!x)return;g(x);const q={displayName:x.displayName||"",photoURL:x.photoURL||""};try{const E=await zi(ke(be,"users",x.uid));if(E.exists()){const m=E.data()||{},w={displayName:m.displayName||q.displayName,photoURL:m.photoURL||q.photoURL};f(w),p(w);return}await qr({user:x,userProfile:q})}catch(E){console.warn("Falha ao carregar perfil do Firestore:",E)}f(q),p(q)});return()=>_()},[]),J.useEffect(()=>()=>{o&&URL.revokeObjectURL(o)},[o]);const a=J.useCallback(()=>{o&&URL.revokeObjectURL(o),l(""),u(null)},[o]),i=J.useCallback(async _=>{const x=_.target.files[0],q=_.target;if(!(!x||!k))try{o&&URL.revokeObjectURL(o);const E=URL.createObjectURL(x);u(x),l(E),f(m=>({...m,photoURL:E})),O?.photoURL&&(e(O.photoURL),d(!0))}catch(E){console.error(E),alert("Erro ao preparar avatar: "+E.message)}finally{q&&(q.value="")}},[k,o,O]),c=J.useCallback(()=>{s.photoURL&&(a(),e(O?.photoURL||s.photoURL),d(!0),f(_=>({..._,photoURL:""})))},[s.photoURL,O,a]),r=J.useCallback(()=>{d(!1),e(""),a()},[a]),h=J.useCallback(async()=>{if(k){S(!0);try{let _=s;if(t){const x=await Aa({user:k,file:t});_={...s,photoURL:x},f(_)}await qr({user:k,userProfile:_}),p(_),b&&n&&n!==_.photoURL&&await Ta(n),r(),alert("Perfil atualizado!")}catch(_){console.error(_),alert("Erro ao salvar perfil: "+_.message)}finally{S(!1)}}},[k,s,t,b,n,r,S]),A=J.useCallback(()=>O?O.displayName!==s.displayName||O.photoURL!==s.photoURL:!1,[O,s]);return{user:k,userProfile:s,setUserProfile:f,originalProfile:O,setOriginalProfile:p,editingProfile:v,setEditingProfile:y,handleProfileImageUpload:i,handleProfileImageRemove:c,resetProfileEditState:r,saveUserProfile:h,hasProfileChanged:A}}function ka(S){return!S||typeof S!="string"?!1:S.startsWith("gs://")?!0:S.startsWith("http://")||S.startsWith("https://")?S.includes("firebasestorage.googleapis.com")||S.includes("storage.googleapis.com"):!0}async function Ti(S){if(ka(S))try{await Ei(mr(gr,S))}catch(k){console.warn("Nao foi possivel remover arquivo no Storage:",k?.message||k)}}async function Sa({userId:S}={}){const k=br(be,"posts"),g=S?Ki(k,Gi("authorId","==",S)):k;return(await Ai(g)).docs.map(O=>({id:O.id,...O.data()})).sort((O,p)=>(p.date?.seconds||0)-(O.date?.seconds||0))}async function qa({isEditingId:S,data:k}){S?await Wi(ke(be,"posts",S),k):await Vi(br(be,"posts"),k)}async function Pa({id:S,featuredImage:k}){k&&await Ti(k);const g=await Ai(br(be,"posts",S,"comments"));if(!g.empty){const s=g.docs,f=450;for(let O=0;O<s.length;O+=f){const p=s.slice(O,O+f),v=Zi(be);p.forEach(y=>v.delete(y.ref)),await v.commit()}}await Yi(ke(be,"posts",S))}async function Ra(S){S&&await Ti(S)}function La({user:S,setUploading:k}){const[g,s]=J.useState([]),[f,O]=J.useState(!1),[p,v]=J.useState(null),[y,b]=J.useState(""),[d,n]=J.useState(""),[e,t]=J.useState(""),[u,o]=J.useState(""),[l,a]=J.useState(null),[i,c]=J.useState(""),r=J.useRef(""),h=J.useCallback(()=>{r.current&&(URL.revokeObjectURL(r.current),r.current="")},[]);J.useEffect(()=>()=>h(),[h]);const A=J.useCallback(D=>{try{const I=new URL(D);return I.protocol==="http:"||I.protocol==="https:"}catch{return!1}},[]),_=J.useCallback(D=>{const[I,T]=D.split(","),L=I.match(/data:(.*);base64/),C=L?L[1]:"application/octet-stream",F=atob(T),B=new Uint8Array(F.length);for(let R=0;R<F.length;R+=1)B[R]=F.charCodeAt(R);return{blob:new Blob([B],{type:C}),mime:C}},[]),x=J.useCallback(D=>{if(!D)return D;const T=new DOMParser().parseFromString(D,"text/html"),L=()=>{Array.from(T.querySelectorAll("p")).forEach(B=>{const R=B.innerHTML.trim()==="<br>",M=B.innerHTML.includes("&nbsp;"),K=B.textContent.trim()===""&&!B.querySelector("img, video, iframe");(R||K)&&!M&&B.remove()})},C=()=>{Array.from(T.querySelectorAll("h1, h2, h3, h4, h5, h6")).forEach(B=>{let R=B.previousElementSibling;for(;R&&R.tagName==="P"&&R.textContent.trim()===""&&!R.querySelector("img, video, iframe");){const M=R;R=R.previousElementSibling,M.remove()}})};return L(),C(),T.body.innerHTML},[]),q=J.useCallback(async D=>{if(!D)return D;const T=new DOMParser().parseFromString(D,"text/html"),L=Array.from(T.querySelectorAll("img, video"));for(let F=0;F<L.length;F+=1){const B=L[F],R=B.getAttribute("src");if(!R||!R.startsWith("data:"))continue;const M=B.tagName.toLowerCase()==="img",{blob:K,mime:G}=_(R),Y=G.split("/")[1]||"bin",$=`${Date.now()}_${F}.${Y}`,te=new File([K],$,{type:G}),re=`blog/${M?"images":"videos"}/${$}`,ae=await Te(te,re,{maxWidth:1200,maxHeight:1200,maxSizeMB:2,isImage:M});B.setAttribute("src",ae)}return x(T.body.innerHTML)},[x,_]),E=J.useCallback(async()=>{try{const D=await Sa({userId:S?.uid});s(D)}catch(D){console.error(D),alert("Erro ao carregar posts")}},[S?.uid]),m=J.useCallback(D=>{const I=D.target.files[0];if(!I)return;h();const T=URL.createObjectURL(I);r.current=T,o(T),a(I),c("")},[h]),w=J.useCallback(D=>{c(D)},[]),N=J.useCallback(()=>{const D=i.trim();if(!D||!A(D)){alert("Informe um link de imagem valido (http:// ou https://).");return}h(),o(D),a(null),c(D)},[i,A,h]),P=J.useCallback(()=>{h(),o(""),a(null),c("")},[h]),j=J.useCallback(()=>{v(null),b(""),n(""),t(""),P(),O(!1)},[P]),U=J.useCallback(async()=>{if(S){if(!p&&(!y.trim()||!d.trim()||!e.trim()||!u.trim())){alert("Título, resumo, imagem e conteúdo são obrigatórios!");return}if(!l&&u.trim()&&!A(u.trim())){alert("A imagem destacada precisa ser um link valido.");return}k(!0);try{let D=u.trim();if(p&&l){const L=g.find(C=>C.id===p);if(L?.featuredImage)try{await Ra(L.featuredImage)}catch(C){console.warn(C.message)}D=await Te(l,`blog/featured/${Date.now()}_${l.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0})}!p&&l&&(D=await Te(l,`blog/featured/${Date.now()}_${l.name}`,{maxWidth:1200,maxHeight:800,maxSizeMB:2,isImage:!0}));const I=await q(e),T={...y.trim()&&{title:y.trim()},...d.trim()&&{summary:d.trim()},...I&&{content:I},...D&&{featuredImage:D},...y.trim()&&{slug:Qi(y.trim())},authorId:S.uid,date:wi()};await qa({isEditingId:p,data:T}),j(),E()}catch(D){console.error(D),alert("Erro ao salvar post: "+D.message)}finally{k(!1),a(null)}}},[S,p,y,d,e,l,u,A,g,k,E,q,j]),H=J.useCallback(async D=>{const I=g.find(T=>T.id===D);if(I&&window.confirm("Tem certeza que deseja excluir este post?"))try{await Pa({id:D,featuredImage:I.featuredImage}),E()}catch(T){console.error(T),alert("Erro ao deletar post: "+T.message)}},[g,E]),Q=J.useCallback(D=>{h(),v(D.id),b(D.title),n(D.summary),t(x(D.content)),o(D.featuredImage||""),a(null),c(D.featuredImage||""),O(!0)},[x,h]);return{posts:g,showForm:f,setShowForm:O,isEditing:p,title:y,setTitle:b,summary:d,setSummary:n,content:e,setContent:t,featuredImage:u,setFeaturedImage:o,featuredFile:l,setFeaturedFile:a,featuredLinkDraft:i,handleFeaturedLinkChange:w,handleFeaturedLinkApply:N,clearFeaturedImage:P,handleFeaturedImageSelect:m,handleSavePost:U,handleDelete:H,startEdit:Q,resetForm:j,fetchPosts:E}}var Ie,Pr;function ja(){if(Pr)return Ie;Pr=1;function S(){this.__data__=[],this.size=0}return Ie=S,Ie}var Ce,Rr;function Ni(){if(Rr)return Ce;Rr=1;function S(k,g){return k===g||k!==k&&g!==g}return Ce=S,Ce}var De,Lr;function Se(){if(Lr)return De;Lr=1;var S=Ni();function k(g,s){for(var f=g.length;f--;)if(S(g[f][0],s))return f;return-1}return De=k,De}var Me,jr;function Ia(){if(jr)return Me;jr=1;var S=Se(),k=Array.prototype,g=k.splice;function s(f){var O=this.__data__,p=S(O,f);if(p<0)return!1;var v=O.length-1;return p==v?O.pop():g.call(O,p,1),--this.size,!0}return Me=s,Me}var Be,Ir;function Ca(){if(Ir)return Be;Ir=1;var S=Se();function k(g){var s=this.__data__,f=S(s,g);return f<0?void 0:s[f][1]}return Be=k,Be}var Ue,Cr;function Da(){if(Cr)return Ue;Cr=1;var S=Se();function k(g){return S(this.__data__,g)>-1}return Ue=k,Ue}var Fe,Dr;function Ma(){if(Dr)return Fe;Dr=1;var S=Se();function k(g,s){var f=this.__data__,O=S(f,g);return O<0?(++this.size,f.push([g,s])):f[O][1]=s,this}return Fe=k,Fe}var He,Mr;function qe(){if(Mr)return He;Mr=1;var S=ja(),k=Ia(),g=Ca(),s=Da(),f=Ma();function O(p){var v=-1,y=p==null?0:p.length;for(this.clear();++v<y;){var b=p[v];this.set(b[0],b[1])}}return O.prototype.clear=S,O.prototype.delete=k,O.prototype.get=g,O.prototype.has=s,O.prototype.set=f,He=O,He}var ze,Br;function Ba(){if(Br)return ze;Br=1;var S=qe();function k(){this.__data__=new S,this.size=0}return ze=k,ze}var Ke,Ur;function Ua(){if(Ur)return Ke;Ur=1;function S(k){var g=this.__data__,s=g.delete(k);return this.size=g.size,s}return Ke=S,Ke}var Ge,Fr;function Fa(){if(Fr)return Ge;Fr=1;function S(k){return this.__data__.get(k)}return Ge=S,Ge}var We,Hr;function Ha(){if(Hr)return We;Hr=1;function S(k){return this.__data__.has(k)}return We=S,We}var Ve,zr;function ki(){if(zr)return Ve;zr=1;var S=typeof xe=="object"&&xe&&xe.Object===Object&&xe;return Ve=S,Ve}var Ze,Kr;function ye(){if(Kr)return Ze;Kr=1;var S=ki(),k=typeof self=="object"&&self&&self.Object===Object&&self,g=S||k||Function("return this")();return Ze=g,Ze}var Ye,Gr;function Or(){if(Gr)return Ye;Gr=1;var S=ye(),k=S.Symbol;return Ye=k,Ye}var Qe,Wr;function za(){if(Wr)return Qe;Wr=1;var S=Or(),k=Object.prototype,g=k.hasOwnProperty,s=k.toString,f=S?S.toStringTag:void 0;function O(p){var v=g.call(p,f),y=p[f];try{p[f]=void 0;var b=!0}catch{}var d=s.call(p);return b&&(v?p[f]=y:delete p[f]),d}return Qe=O,Qe}var Xe,Vr;function Ka(){if(Vr)return Xe;Vr=1;var S=Object.prototype,k=S.toString;function g(s){return k.call(s)}return Xe=g,Xe}var Je,Zr;function Pe(){if(Zr)return Je;Zr=1;var S=Or(),k=za(),g=Ka(),s="[object Null]",f="[object Undefined]",O=S?S.toStringTag:void 0;function p(v){return v==null?v===void 0?f:s:O&&O in Object(v)?k(v):g(v)}return Je=p,Je}var $e,Yr;function Si(){if(Yr)return $e;Yr=1;function S(k){var g=typeof k;return k!=null&&(g=="object"||g=="function")}return $e=S,$e}var et,Qr;function qi(){if(Qr)return et;Qr=1;var S=Pe(),k=Si(),g="[object AsyncFunction]",s="[object Function]",f="[object GeneratorFunction]",O="[object Proxy]";function p(v){if(!k(v))return!1;var y=S(v);return y==s||y==f||y==g||y==O}return et=p,et}var tt,Xr;function Ga(){if(Xr)return tt;Xr=1;var S=ye(),k=S["__core-js_shared__"];return tt=k,tt}var rt,Jr;function Wa(){if(Jr)return rt;Jr=1;var S=Ga(),k=(function(){var s=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function g(s){return!!k&&k in s}return rt=g,rt}var nt,$r;function Pi(){if($r)return nt;$r=1;var S=Function.prototype,k=S.toString;function g(s){if(s!=null){try{return k.call(s)}catch{}try{return s+""}catch{}}return""}return nt=g,nt}var it,en;function Va(){if(en)return it;en=1;var S=qi(),k=Wa(),g=Si(),s=Pi(),f=/[\\^$.*+?()[\]{}|]/g,O=/^\[object .+?Constructor\]$/,p=Function.prototype,v=Object.prototype,y=p.toString,b=v.hasOwnProperty,d=RegExp("^"+y.call(b).replace(f,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function n(e){if(!g(e)||k(e))return!1;var t=S(e)?d:O;return t.test(s(e))}return it=n,it}var at,tn;function Za(){if(tn)return at;tn=1;function S(k,g){return k?.[g]}return at=S,at}var ot,rn;function _e(){if(rn)return ot;rn=1;var S=Va(),k=Za();function g(s,f){var O=k(s,f);return S(O)?O:void 0}return ot=g,ot}var lt,nn;function Er(){if(nn)return lt;nn=1;var S=_e(),k=ye(),g=S(k,"Map");return lt=g,lt}var ut,an;function Re(){if(an)return ut;an=1;var S=_e(),k=S(Object,"create");return ut=k,ut}var st,on;function Ya(){if(on)return st;on=1;var S=Re();function k(){this.__data__=S?S(null):{},this.size=0}return st=k,st}var ft,ln;function Qa(){if(ln)return ft;ln=1;function S(k){var g=this.has(k)&&delete this.__data__[k];return this.size-=g?1:0,g}return ft=S,ft}var ct,un;function Xa(){if(un)return ct;un=1;var S=Re(),k="__lodash_hash_undefined__",g=Object.prototype,s=g.hasOwnProperty;function f(O){var p=this.__data__;if(S){var v=p[O];return v===k?void 0:v}return s.call(p,O)?p[O]:void 0}return ct=f,ct}var dt,sn;function Ja(){if(sn)return dt;sn=1;var S=Re(),k=Object.prototype,g=k.hasOwnProperty;function s(f){var O=this.__data__;return S?O[f]!==void 0:g.call(O,f)}return dt=s,dt}var ht,fn;function $a(){if(fn)return ht;fn=1;var S=Re(),k="__lodash_hash_undefined__";function g(s,f){var O=this.__data__;return this.size+=this.has(s)?0:1,O[s]=S&&f===void 0?k:f,this}return ht=g,ht}var vt,cn;function eo(){if(cn)return vt;cn=1;var S=Ya(),k=Qa(),g=Xa(),s=Ja(),f=$a();function O(p){var v=-1,y=p==null?0:p.length;for(this.clear();++v<y;){var b=p[v];this.set(b[0],b[1])}}return O.prototype.clear=S,O.prototype.delete=k,O.prototype.get=g,O.prototype.has=s,O.prototype.set=f,vt=O,vt}var pt,dn;function to(){if(dn)return pt;dn=1;var S=eo(),k=qe(),g=Er();function s(){this.size=0,this.__data__={hash:new S,map:new(g||k),string:new S}}return pt=s,pt}var yt,hn;function ro(){if(hn)return yt;hn=1;function S(k){var g=typeof k;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?k!=="__proto__":k===null}return yt=S,yt}var mt,vn;function Le(){if(vn)return mt;vn=1;var S=ro();function k(g,s){var f=g.__data__;return S(s)?f[typeof s=="string"?"string":"hash"]:f.map}return mt=k,mt}var gt,pn;function no(){if(pn)return gt;pn=1;var S=Le();function k(g){var s=S(this,g).delete(g);return this.size-=s?1:0,s}return gt=k,gt}var bt,yn;function io(){if(yn)return bt;yn=1;var S=Le();function k(g){return S(this,g).get(g)}return bt=k,bt}var _t,mn;function ao(){if(mn)return _t;mn=1;var S=Le();function k(g){return S(this,g).has(g)}return _t=k,_t}var Ot,gn;function oo(){if(gn)return Ot;gn=1;var S=Le();function k(g,s){var f=S(this,g),O=f.size;return f.set(g,s),this.size+=f.size==O?0:1,this}return Ot=k,Ot}var Et,bn;function Ri(){if(bn)return Et;bn=1;var S=to(),k=no(),g=io(),s=ao(),f=oo();function O(p){var v=-1,y=p==null?0:p.length;for(this.clear();++v<y;){var b=p[v];this.set(b[0],b[1])}}return O.prototype.clear=S,O.prototype.delete=k,O.prototype.get=g,O.prototype.has=s,O.prototype.set=f,Et=O,Et}var wt,_n;function lo(){if(_n)return wt;_n=1;var S=qe(),k=Er(),g=Ri(),s=200;function f(O,p){var v=this.__data__;if(v instanceof S){var y=v.__data__;if(!k||y.length<s-1)return y.push([O,p]),this.size=++v.size,this;v=this.__data__=new g(y)}return v.set(O,p),this.size=v.size,this}return wt=f,wt}var xt,On;function uo(){if(On)return xt;On=1;var S=qe(),k=Ba(),g=Ua(),s=Fa(),f=Ha(),O=lo();function p(v){var y=this.__data__=new S(v);this.size=y.size}return p.prototype.clear=k,p.prototype.delete=g,p.prototype.get=s,p.prototype.has=f,p.prototype.set=O,xt=p,xt}var At,En;function so(){if(En)return At;En=1;var S="__lodash_hash_undefined__";function k(g){return this.__data__.set(g,S),this}return At=k,At}var Tt,wn;function fo(){if(wn)return Tt;wn=1;function S(k){return this.__data__.has(k)}return Tt=S,Tt}var Nt,xn;function co(){if(xn)return Nt;xn=1;var S=Ri(),k=so(),g=fo();function s(f){var O=-1,p=f==null?0:f.length;for(this.__data__=new S;++O<p;)this.add(f[O])}return s.prototype.add=s.prototype.push=k,s.prototype.has=g,Nt=s,Nt}var kt,An;function ho(){if(An)return kt;An=1;function S(k,g){for(var s=-1,f=k==null?0:k.length;++s<f;)if(g(k[s],s,k))return!0;return!1}return kt=S,kt}var St,Tn;function vo(){if(Tn)return St;Tn=1;function S(k,g){return k.has(g)}return St=S,St}var qt,Nn;function Li(){if(Nn)return qt;Nn=1;var S=co(),k=ho(),g=vo(),s=1,f=2;function O(p,v,y,b,d,n){var e=y&s,t=p.length,u=v.length;if(t!=u&&!(e&&u>t))return!1;var o=n.get(p),l=n.get(v);if(o&&l)return o==v&&l==p;var a=-1,i=!0,c=y&f?new S:void 0;for(n.set(p,v),n.set(v,p);++a<t;){var r=p[a],h=v[a];if(b)var A=e?b(h,r,a,v,p,n):b(r,h,a,p,v,n);if(A!==void 0){if(A)continue;i=!1;break}if(c){if(!k(v,function(_,x){if(!g(c,x)&&(r===_||d(r,_,y,b,n)))return c.push(x)})){i=!1;break}}else if(!(r===h||d(r,h,y,b,n))){i=!1;break}}return n.delete(p),n.delete(v),i}return qt=O,qt}var Pt,kn;function po(){if(kn)return Pt;kn=1;var S=ye(),k=S.Uint8Array;return Pt=k,Pt}var Rt,Sn;function yo(){if(Sn)return Rt;Sn=1;function S(k){var g=-1,s=Array(k.size);return k.forEach(function(f,O){s[++g]=[O,f]}),s}return Rt=S,Rt}var Lt,qn;function mo(){if(qn)return Lt;qn=1;function S(k){var g=-1,s=Array(k.size);return k.forEach(function(f){s[++g]=f}),s}return Lt=S,Lt}var jt,Pn;function go(){if(Pn)return jt;Pn=1;var S=Or(),k=po(),g=Ni(),s=Li(),f=yo(),O=mo(),p=1,v=2,y="[object Boolean]",b="[object Date]",d="[object Error]",n="[object Map]",e="[object Number]",t="[object RegExp]",u="[object Set]",o="[object String]",l="[object Symbol]",a="[object ArrayBuffer]",i="[object DataView]",c=S?S.prototype:void 0,r=c?c.valueOf:void 0;function h(A,_,x,q,E,m,w){switch(x){case i:if(A.byteLength!=_.byteLength||A.byteOffset!=_.byteOffset)return!1;A=A.buffer,_=_.buffer;case a:return!(A.byteLength!=_.byteLength||!m(new k(A),new k(_)));case y:case b:case e:return g(+A,+_);case d:return A.name==_.name&&A.message==_.message;case t:case o:return A==_+"";case n:var N=f;case u:var P=q&p;if(N||(N=O),A.size!=_.size&&!P)return!1;var j=w.get(A);if(j)return j==_;q|=v,w.set(A,_);var U=s(N(A),N(_),q,E,m,w);return w.delete(A),U;case l:if(r)return r.call(A)==r.call(_)}return!1}return jt=h,jt}var It,Rn;function bo(){if(Rn)return It;Rn=1;function S(k,g){for(var s=-1,f=g.length,O=k.length;++s<f;)k[O+s]=g[s];return k}return It=S,It}var Ct,Ln;function wr(){if(Ln)return Ct;Ln=1;var S=Array.isArray;return Ct=S,Ct}var Dt,jn;function _o(){if(jn)return Dt;jn=1;var S=bo(),k=wr();function g(s,f,O){var p=f(s);return k(s)?p:S(p,O(s))}return Dt=g,Dt}var Mt,In;function Oo(){if(In)return Mt;In=1;function S(k,g){for(var s=-1,f=k==null?0:k.length,O=0,p=[];++s<f;){var v=k[s];g(v,s,k)&&(p[O++]=v)}return p}return Mt=S,Mt}var Bt,Cn;function Eo(){if(Cn)return Bt;Cn=1;function S(){return[]}return Bt=S,Bt}var Ut,Dn;function wo(){if(Dn)return Ut;Dn=1;var S=Oo(),k=Eo(),g=Object.prototype,s=g.propertyIsEnumerable,f=Object.getOwnPropertySymbols,O=f?function(p){return p==null?[]:(p=Object(p),S(f(p),function(v){return s.call(p,v)}))}:k;return Ut=O,Ut}var Ft,Mn;function xo(){if(Mn)return Ft;Mn=1;function S(k,g){for(var s=-1,f=Array(k);++s<k;)f[s]=g(s);return f}return Ft=S,Ft}var Ht,Bn;function je(){if(Bn)return Ht;Bn=1;function S(k){return k!=null&&typeof k=="object"}return Ht=S,Ht}var zt,Un;function Ao(){if(Un)return zt;Un=1;var S=Pe(),k=je(),g="[object Arguments]";function s(f){return k(f)&&S(f)==g}return zt=s,zt}var Kt,Fn;function To(){if(Fn)return Kt;Fn=1;var S=Ao(),k=je(),g=Object.prototype,s=g.hasOwnProperty,f=g.propertyIsEnumerable,O=S((function(){return arguments})())?S:function(p){return k(p)&&s.call(p,"callee")&&!f.call(p,"callee")};return Kt=O,Kt}var Oe={exports:{}},Gt,Hn;function No(){if(Hn)return Gt;Hn=1;function S(){return!1}return Gt=S,Gt}Oe.exports;var zn;function ji(){return zn||(zn=1,(function(S,k){var g=ye(),s=No(),f=k&&!k.nodeType&&k,O=f&&!0&&S&&!S.nodeType&&S,p=O&&O.exports===f,v=p?g.Buffer:void 0,y=v?v.isBuffer:void 0,b=y||s;S.exports=b})(Oe,Oe.exports)),Oe.exports}var Wt,Kn;function ko(){if(Kn)return Wt;Kn=1;var S=9007199254740991,k=/^(?:0|[1-9]\d*)$/;function g(s,f){var O=typeof s;return f=f??S,!!f&&(O=="number"||O!="symbol"&&k.test(s))&&s>-1&&s%1==0&&s<f}return Wt=g,Wt}var Vt,Gn;function Ii(){if(Gn)return Vt;Gn=1;var S=9007199254740991;function k(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=S}return Vt=k,Vt}var Zt,Wn;function So(){if(Wn)return Zt;Wn=1;var S=Pe(),k=Ii(),g=je(),s="[object Arguments]",f="[object Array]",O="[object Boolean]",p="[object Date]",v="[object Error]",y="[object Function]",b="[object Map]",d="[object Number]",n="[object Object]",e="[object RegExp]",t="[object Set]",u="[object String]",o="[object WeakMap]",l="[object ArrayBuffer]",a="[object DataView]",i="[object Float32Array]",c="[object Float64Array]",r="[object Int8Array]",h="[object Int16Array]",A="[object Int32Array]",_="[object Uint8Array]",x="[object Uint8ClampedArray]",q="[object Uint16Array]",E="[object Uint32Array]",m={};m[i]=m[c]=m[r]=m[h]=m[A]=m[_]=m[x]=m[q]=m[E]=!0,m[s]=m[f]=m[l]=m[O]=m[a]=m[p]=m[v]=m[y]=m[b]=m[d]=m[n]=m[e]=m[t]=m[u]=m[o]=!1;function w(N){return g(N)&&k(N.length)&&!!m[S(N)]}return Zt=w,Zt}var Yt,Vn;function qo(){if(Vn)return Yt;Vn=1;function S(k){return function(g){return k(g)}}return Yt=S,Yt}var Ee={exports:{}};Ee.exports;var Zn;function Po(){return Zn||(Zn=1,(function(S,k){var g=ki(),s=k&&!k.nodeType&&k,f=s&&!0&&S&&!S.nodeType&&S,O=f&&f.exports===s,p=O&&g.process,v=(function(){try{var y=f&&f.require&&f.require("util").types;return y||p&&p.binding&&p.binding("util")}catch{}})();S.exports=v})(Ee,Ee.exports)),Ee.exports}var Qt,Yn;function Ci(){if(Yn)return Qt;Yn=1;var S=So(),k=qo(),g=Po(),s=g&&g.isTypedArray,f=s?k(s):S;return Qt=f,Qt}var Xt,Qn;function Ro(){if(Qn)return Xt;Qn=1;var S=xo(),k=To(),g=wr(),s=ji(),f=ko(),O=Ci(),p=Object.prototype,v=p.hasOwnProperty;function y(b,d){var n=g(b),e=!n&&k(b),t=!n&&!e&&s(b),u=!n&&!e&&!t&&O(b),o=n||e||t||u,l=o?S(b.length,String):[],a=l.length;for(var i in b)(d||v.call(b,i))&&!(o&&(i=="length"||t&&(i=="offset"||i=="parent")||u&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||f(i,a)))&&l.push(i);return l}return Xt=y,Xt}var Jt,Xn;function Lo(){if(Xn)return Jt;Xn=1;var S=Object.prototype;function k(g){var s=g&&g.constructor,f=typeof s=="function"&&s.prototype||S;return g===f}return Jt=k,Jt}var $t,Jn;function jo(){if(Jn)return $t;Jn=1;function S(k,g){return function(s){return k(g(s))}}return $t=S,$t}var er,$n;function Io(){if($n)return er;$n=1;var S=jo(),k=S(Object.keys,Object);return er=k,er}var tr,ei;function Co(){if(ei)return tr;ei=1;var S=Lo(),k=Io(),g=Object.prototype,s=g.hasOwnProperty;function f(O){if(!S(O))return k(O);var p=[];for(var v in Object(O))s.call(O,v)&&v!="constructor"&&p.push(v);return p}return tr=f,tr}var rr,ti;function Do(){if(ti)return rr;ti=1;var S=qi(),k=Ii();function g(s){return s!=null&&k(s.length)&&!S(s)}return rr=g,rr}var nr,ri;function Mo(){if(ri)return nr;ri=1;var S=Ro(),k=Co(),g=Do();function s(f){return g(f)?S(f):k(f)}return nr=s,nr}var ir,ni;function Bo(){if(ni)return ir;ni=1;var S=_o(),k=wo(),g=Mo();function s(f){return S(f,g,k)}return ir=s,ir}var ar,ii;function Uo(){if(ii)return ar;ii=1;var S=Bo(),k=1,g=Object.prototype,s=g.hasOwnProperty;function f(O,p,v,y,b,d){var n=v&k,e=S(O),t=e.length,u=S(p),o=u.length;if(t!=o&&!n)return!1;for(var l=t;l--;){var a=e[l];if(!(n?a in p:s.call(p,a)))return!1}var i=d.get(O),c=d.get(p);if(i&&c)return i==p&&c==O;var r=!0;d.set(O,p),d.set(p,O);for(var h=n;++l<t;){a=e[l];var A=O[a],_=p[a];if(y)var x=n?y(_,A,a,p,O,d):y(A,_,a,O,p,d);if(!(x===void 0?A===_||b(A,_,v,y,d):x)){r=!1;break}h||(h=a=="constructor")}if(r&&!h){var q=O.constructor,E=p.constructor;q!=E&&"constructor"in O&&"constructor"in p&&!(typeof q=="function"&&q instanceof q&&typeof E=="function"&&E instanceof E)&&(r=!1)}return d.delete(O),d.delete(p),r}return ar=f,ar}var or,ai;function Fo(){if(ai)return or;ai=1;var S=_e(),k=ye(),g=S(k,"DataView");return or=g,or}var lr,oi;function Ho(){if(oi)return lr;oi=1;var S=_e(),k=ye(),g=S(k,"Promise");return lr=g,lr}var ur,li;function zo(){if(li)return ur;li=1;var S=_e(),k=ye(),g=S(k,"Set");return ur=g,ur}var sr,ui;function Ko(){if(ui)return sr;ui=1;var S=_e(),k=ye(),g=S(k,"WeakMap");return sr=g,sr}var fr,si;function Go(){if(si)return fr;si=1;var S=Fo(),k=Er(),g=Ho(),s=zo(),f=Ko(),O=Pe(),p=Pi(),v="[object Map]",y="[object Object]",b="[object Promise]",d="[object Set]",n="[object WeakMap]",e="[object DataView]",t=p(S),u=p(k),o=p(g),l=p(s),a=p(f),i=O;return(S&&i(new S(new ArrayBuffer(1)))!=e||k&&i(new k)!=v||g&&i(g.resolve())!=b||s&&i(new s)!=d||f&&i(new f)!=n)&&(i=function(c){var r=O(c),h=r==y?c.constructor:void 0,A=h?p(h):"";if(A)switch(A){case t:return e;case u:return v;case o:return b;case l:return d;case a:return n}return r}),fr=i,fr}var cr,fi;function Wo(){if(fi)return cr;fi=1;var S=uo(),k=Li(),g=go(),s=Uo(),f=Go(),O=wr(),p=ji(),v=Ci(),y=1,b="[object Arguments]",d="[object Array]",n="[object Object]",e=Object.prototype,t=e.hasOwnProperty;function u(o,l,a,i,c,r){var h=O(o),A=O(l),_=h?d:f(o),x=A?d:f(l);_=_==b?n:_,x=x==b?n:x;var q=_==n,E=x==n,m=_==x;if(m&&p(o)){if(!p(l))return!1;h=!0,q=!1}if(m&&!q)return r||(r=new S),h||v(o)?k(o,l,a,i,c,r):g(o,l,_,a,i,c,r);if(!(a&y)){var w=q&&t.call(o,"__wrapped__"),N=E&&t.call(l,"__wrapped__");if(w||N){var P=w?o.value():o,j=N?l.value():l;return r||(r=new S),c(P,j,a,i,r)}}return m?(r||(r=new S),s(o,l,a,i,c,r)):!1}return cr=u,cr}var dr,ci;function Vo(){if(ci)return dr;ci=1;var S=Wo(),k=je();function g(s,f,O,p,v){return s===f?!0:s==null||f==null||!k(s)&&!k(f)?s!==s&&f!==f:S(s,f,O,p,g,v)}return dr=g,dr}var hr,di;function Zo(){if(di)return hr;di=1;var S=Vo();function k(g,s){return S(g,s)}return hr=k,hr}var Ne={exports:{}};var Yo=Ne.exports,hi;function Qo(){return hi||(hi=1,(function(S,k){(function(s,f){S.exports=f()})(typeof self<"u"?self:Yo,function(){return(function(g){var s={};function f(O){if(s[O])return s[O].exports;var p=s[O]={i:O,l:!1,exports:{}};return g[O].call(p.exports,p,p.exports,f),p.l=!0,p.exports}return f.m=g,f.c=s,f.d=function(O,p,v){f.o(O,p)||Object.defineProperty(O,p,{configurable:!1,enumerable:!0,get:v})},f.n=function(O){var p=O&&O.__esModule?function(){return O.default}:function(){return O};return f.d(p,"a",p),p},f.o=function(O,p){return Object.prototype.hasOwnProperty.call(O,p)},f.p="",f(f.s=109)})([(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(17),p=f(18),v=f(19),y=f(45),b=f(46),d=f(47),n=f(48),e=f(49),t=f(12),u=f(32),o=f(33),l=f(31),a=f(1),i={Scope:a.Scope,create:a.create,find:a.find,query:a.query,register:a.register,Container:O.default,Format:p.default,Leaf:v.default,Embed:n.default,Scroll:y.default,Block:d.default,Inline:b.default,Text:e.default,Attributor:{Attribute:t.default,Class:u.default,Style:o.default,Store:l.default}};s.default=i}),(function(g,s,f){var O=this&&this.__extends||(function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var c in i)i.hasOwnProperty(c)&&(a[c]=i[c])};return function(a,i){l(a,i);function c(){this.constructor=a}a.prototype=i===null?Object.create(i):(c.prototype=i.prototype,new c)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=(function(l){O(a,l);function a(i){var c=this;return i="[Parchment] "+i,c=l.call(this,i)||this,c.message=i,c.name=c.constructor.name,c}return a})(Error);s.ParchmentError=p;var v={},y={},b={},d={};s.DATA_KEY="__blot";var n;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(n=s.Scope||(s.Scope={}));function e(l,a){var i=u(l);if(i==null)throw new p("Unable to create "+l+" blot");var c=i,r=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:c.create(a);return new c(r,a)}s.create=e;function t(l,a){return a===void 0&&(a=!1),l==null?null:l[s.DATA_KEY]!=null?l[s.DATA_KEY].blot:a?t(l.parentNode,a):null}s.find=t;function u(l,a){a===void 0&&(a=n.ANY);var i;if(typeof l=="string")i=d[l]||v[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)i=d.text;else if(typeof l=="number")l&n.LEVEL&n.BLOCK?i=d.block:l&n.LEVEL&n.INLINE&&(i=d.inline);else if(l instanceof HTMLElement){var c=(l.getAttribute("class")||"").split(/\s+/);for(var r in c)if(i=y[c[r]],i)break;i=i||b[l.tagName]}return i==null?null:a&n.LEVEL&i.scope&&a&n.TYPE&i.scope?i:null}s.query=u;function o(){for(var l=[],a=0;a<arguments.length;a++)l[a]=arguments[a];if(l.length>1)return l.map(function(r){return o(r)});var i=l[0];if(typeof i.blotName!="string"&&typeof i.attrName!="string")throw new p("Invalid definition");if(i.blotName==="abstract")throw new p("Cannot register abstract class");if(d[i.blotName||i.attrName]=i,typeof i.keyName=="string")v[i.keyName]=i;else if(i.className!=null&&(y[i.className]=i),i.tagName!=null){Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(r){return r.toUpperCase()}):i.tagName=i.tagName.toUpperCase();var c=Array.isArray(i.tagName)?i.tagName:[i.tagName];c.forEach(function(r){(b[r]==null||i.className==null)&&(b[r]=i)})}return i}s.register=o}),(function(g,s,f){var O=f(51),p=f(11),v=f(3),y=f(20),b="\0",d=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};d.prototype.insert=function(n,e){var t={};return n.length===0?this:(t.insert=n,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},d.prototype.delete=function(n){return n<=0?this:this.push({delete:n})},d.prototype.retain=function(n,e){if(n<=0)return this;var t={retain:n};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},d.prototype.push=function(n){var e=this.ops.length,t=this.ops[e-1];if(n=v(!0,{},n),typeof t=="object"){if(typeof n.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+n.delete},this;if(typeof t.delete=="number"&&n.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(n),this;if(p(n.attributes,t.attributes)){if(typeof n.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+n.insert},typeof n.attributes=="object"&&(this.ops[e-1].attributes=n.attributes),this;if(typeof n.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+n.retain},typeof n.attributes=="object"&&(this.ops[e-1].attributes=n.attributes),this}}return e===this.ops.length?this.ops.push(n):this.ops.splice(e,0,n),this},d.prototype.chop=function(){var n=this.ops[this.ops.length-1];return n&&n.retain&&!n.attributes&&this.ops.pop(),this},d.prototype.filter=function(n){return this.ops.filter(n)},d.prototype.forEach=function(n){this.ops.forEach(n)},d.prototype.map=function(n){return this.ops.map(n)},d.prototype.partition=function(n){var e=[],t=[];return this.forEach(function(u){var o=n(u)?e:t;o.push(u)}),[e,t]},d.prototype.reduce=function(n,e){return this.ops.reduce(n,e)},d.prototype.changeLength=function(){return this.reduce(function(n,e){return e.insert?n+y.length(e):e.delete?n-e.delete:n},0)},d.prototype.length=function(){return this.reduce(function(n,e){return n+y.length(e)},0)},d.prototype.slice=function(n,e){n=n||0,typeof e!="number"&&(e=1/0);for(var t=[],u=y.iterator(this.ops),o=0;o<e&&u.hasNext();){var l;o<n?l=u.next(n-o):(l=u.next(e-o),t.push(l)),o+=y.length(l)}return new d(t)},d.prototype.compose=function(n){var e=y.iterator(this.ops),t=y.iterator(n.ops),u=[],o=t.peek();if(o!=null&&typeof o.retain=="number"&&o.attributes==null){for(var l=o.retain;e.peekType()==="insert"&&e.peekLength()<=l;)l-=e.peekLength(),u.push(e.next());o.retain-l>0&&t.next(o.retain-l)}for(var a=new d(u);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")a.push(t.next());else if(e.peekType()==="delete")a.push(e.next());else{var i=Math.min(e.peekLength(),t.peekLength()),c=e.next(i),r=t.next(i);if(typeof r.retain=="number"){var h={};typeof c.retain=="number"?h.retain=i:h.insert=c.insert;var A=y.attributes.compose(c.attributes,r.attributes,typeof c.retain=="number");if(A&&(h.attributes=A),a.push(h),!t.hasNext()&&p(a.ops[a.ops.length-1],h)){var _=new d(e.rest());return a.concat(_).chop()}}else typeof r.delete=="number"&&typeof c.retain=="number"&&a.push(r)}return a.chop()},d.prototype.concat=function(n){var e=new d(this.ops.slice());return n.ops.length>0&&(e.push(n.ops[0]),e.ops=e.ops.concat(n.ops.slice(1))),e},d.prototype.diff=function(n,e){if(this.ops===n.ops)return new d;var t=[this,n].map(function(i){return i.map(function(c){if(c.insert!=null)return typeof c.insert=="string"?c.insert:b;var r=i===n?"on":"with";throw new Error("diff() called "+r+" non-document")}).join("")}),u=new d,o=O(t[0],t[1],e),l=y.iterator(this.ops),a=y.iterator(n.ops);return o.forEach(function(i){for(var c=i[1].length;c>0;){var r=0;switch(i[0]){case O.INSERT:r=Math.min(a.peekLength(),c),u.push(a.next(r));break;case O.DELETE:r=Math.min(c,l.peekLength()),l.next(r),u.delete(r);break;case O.EQUAL:r=Math.min(l.peekLength(),a.peekLength(),c);var h=l.next(r),A=a.next(r);p(h.insert,A.insert)?u.retain(r,y.attributes.diff(h.attributes,A.attributes)):u.push(A).delete(r);break}c-=r}}),u.chop()},d.prototype.eachLine=function(n,e){e=e||`
`;for(var t=y.iterator(this.ops),u=new d,o=0;t.hasNext();){if(t.peekType()!=="insert")return;var l=t.peek(),a=y.length(l)-t.peekLength(),i=typeof l.insert=="string"?l.insert.indexOf(e,a)-a:-1;if(i<0)u.push(t.next());else if(i>0)u.push(t.next(i));else{if(n(u,t.next(1).attributes||{},o)===!1)return;o+=1,u=new d}}u.length()>0&&n(u,{},o)},d.prototype.transform=function(n,e){if(e=!!e,typeof n=="number")return this.transformPosition(n,e);for(var t=y.iterator(this.ops),u=y.iterator(n.ops),o=new d;t.hasNext()||u.hasNext();)if(t.peekType()==="insert"&&(e||u.peekType()!=="insert"))o.retain(y.length(t.next()));else if(u.peekType()==="insert")o.push(u.next());else{var l=Math.min(t.peekLength(),u.peekLength()),a=t.next(l),i=u.next(l);if(a.delete)continue;i.delete?o.push(i):o.retain(l,y.attributes.transform(a.attributes,i.attributes,e))}return o.chop()},d.prototype.transformPosition=function(n,e){e=!!e;for(var t=y.iterator(this.ops),u=0;t.hasNext()&&u<=n;){var o=t.peekLength(),l=t.peekType();if(t.next(),l==="delete"){n-=Math.min(o,n-u);continue}else l==="insert"&&(u<n||!e)&&(n+=o);u+=o}return n},g.exports=d}),(function(g,s){var f=Object.prototype.hasOwnProperty,O=Object.prototype.toString,p=Object.defineProperty,v=Object.getOwnPropertyDescriptor,y=function(t){return typeof Array.isArray=="function"?Array.isArray(t):O.call(t)==="[object Array]"},b=function(t){if(!t||O.call(t)!=="[object Object]")return!1;var u=f.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&f.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!u&&!o)return!1;var l;for(l in t);return typeof l>"u"||f.call(t,l)},d=function(t,u){p&&u.name==="__proto__"?p(t,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):t[u.name]=u.newValue},n=function(t,u){if(u==="__proto__")if(f.call(t,u)){if(v)return v(t,u).value}else return;return t[u]};g.exports=function e(){var t,u,o,l,a,i,c=arguments[0],r=1,h=arguments.length,A=!1;for(typeof c=="boolean"&&(A=c,c=arguments[1]||{},r=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});r<h;++r)if(t=arguments[r],t!=null)for(u in t)o=n(c,u),l=n(t,u),c!==l&&(A&&l&&(b(l)||(a=y(l)))?(a?(a=!1,i=o&&y(o)?o:[]):i=o&&b(o)?o:{},d(c,{name:u,newValue:e(A,i,l)})):typeof l<"u"&&d(c,{name:u,newValue:l}));return c}}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BlockEmbed=s.bubbleFormats=void 0;var O=(function(){function m(w,N){for(var P=0;P<N.length;P++){var j=N[P];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,N,P){return N&&m(w.prototype,N),P&&m(w,P),w}})(),p=function m(w,N,P){w===null&&(w=Function.prototype);var j=Object.getOwnPropertyDescriptor(w,N);if(j===void 0){var U=Object.getPrototypeOf(w);return U===null?void 0:m(U,N,P)}else{if("value"in j)return j.value;var H=j.get;return H===void 0?void 0:H.call(P)}},v=f(3),y=c(v),b=f(2),d=c(b),n=f(0),e=c(n),t=f(16),u=c(t),o=f(6),l=c(o),a=f(7),i=c(a);function c(m){return m&&m.__esModule?m:{default:m}}function r(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function h(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function A(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var _=1,x=(function(m){A(w,m);function w(){return r(this,w),h(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return O(w,[{key:"attach",value:function(){p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,y.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(P,j){var U=e.default.query(P,e.default.Scope.BLOCK_ATTRIBUTE);U!=null&&this.attributes.attribute(U,j)}},{key:"formatAt",value:function(P,j,U,H){this.format(U,H)}},{key:"insertAt",value:function(P,j,U){if(typeof j=="string"&&j.endsWith(`
`)){var H=e.default.create(q.blotName);this.parent.insertBefore(H,P===0?this:this.next),H.insertAt(0,j.slice(0,-1))}else p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,P,j,U)}}]),w})(e.default.Embed);x.scope=e.default.Scope.BLOCK_BLOT;var q=(function(m){A(w,m);function w(N){r(this,w);var P=h(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N));return P.cache={},P}return O(w,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(P,j){return j.length()===0?P:P.insert(j.value(),E(j))},new d.default).insert(`
`,E(this))),this.cache.delta}},{key:"deleteAt",value:function(P,j){p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,P,j),this.cache={}}},{key:"formatAt",value:function(P,j,U,H){j<=0||(e.default.query(U,e.default.Scope.BLOCK)?P+j===this.length()&&this.format(U,H):p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,P,Math.min(j,this.length()-P-1),U,H),this.cache={})}},{key:"insertAt",value:function(P,j,U){if(U!=null)return p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,P,j,U);if(j.length!==0){var H=j.split(`
`),Q=H.shift();Q.length>0&&(P<this.length()-1||this.children.tail==null?p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,Math.min(P,this.length()-1),Q):this.children.tail.insertAt(this.children.tail.length(),Q),this.cache={});var D=this;H.reduce(function(I,T){return D=D.split(I,!0),D.insertAt(0,T),T.length},P+Q.length)}}},{key:"insertBefore",value:function(P,j){var U=this.children.head;p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,P,j),U instanceof u.default&&U.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"length",this).call(this)+_),this.cache.length}},{key:"moveChildren",value:function(P,j){p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"moveChildren",this).call(this,P,j),this.cache={}}},{key:"optimize",value:function(P){p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,P),this.cache={}}},{key:"path",value:function(P){return p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,P,!0)}},{key:"removeChild",value:function(P){p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"removeChild",this).call(this,P),this.cache={}}},{key:"split",value:function(P){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(j&&(P===0||P>=this.length()-_)){var U=this.clone();return P===0?(this.parent.insertBefore(U,this),this):(this.parent.insertBefore(U,this.next),U)}else{var H=p(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"split",this).call(this,P,j);return this.cache={},H}}}]),w})(e.default.Block);q.blotName="block",q.tagName="P",q.defaultChild="break",q.allowedChildren=[l.default,e.default.Embed,i.default];function E(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return m==null||(typeof m.formats=="function"&&(w=(0,y.default)(w,m.formats())),m.parent==null||m.parent.blotName=="scroll"||m.parent.statics.scope!==m.statics.scope)?w:E(m.parent,w)}s.bubbleFormats=E,s.BlockEmbed=x,s.default=q}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.overload=s.expandConfig=void 0;var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},p=(function(){function D(I,T){var L=[],C=!0,F=!1,B=void 0;try{for(var R=I[Symbol.iterator](),M;!(C=(M=R.next()).done)&&(L.push(M.value),!(T&&L.length===T));C=!0);}catch(K){F=!0,B=K}finally{try{!C&&R.return&&R.return()}finally{if(F)throw B}}return L}return function(I,T){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return D(I,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function D(I,T){for(var L=0;L<T.length;L++){var C=T[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,T,L){return T&&D(I.prototype,T),L&&D(I,L),I}})();f(50);var y=f(2),b=E(y),d=f(14),n=E(d),e=f(8),t=E(e),u=f(9),o=E(u),l=f(0),a=E(l),i=f(15),c=E(i),r=f(3),h=E(r),A=f(10),_=E(A),x=f(34),q=E(x);function E(D){return D&&D.__esModule?D:{default:D}}function m(D,I,T){return I in D?Object.defineProperty(D,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[I]=T,D}function w(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}var N=(0,_.default)("quill"),P=(function(){v(D,null,[{key:"debug",value:function(T){T===!0&&(T="log"),_.default.level(T)}},{key:"find",value:function(T){return T.__quill||a.default.find(T)}},{key:"import",value:function(T){return this.imports[T]==null&&N.error("Cannot import "+T+". Are you sure it was registered?"),this.imports[T]}},{key:"register",value:function(T,L){var C=this,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof T!="string"){var B=T.attrName||T.blotName;typeof B=="string"?this.register("formats/"+B,T,L):Object.keys(T).forEach(function(R){C.register(R,T[R],L)})}else this.imports[T]!=null&&!F&&N.warn("Overwriting "+T+" with",L),this.imports[T]=L,(T.startsWith("blots/")||T.startsWith("formats/"))&&L.blotName!=="abstract"?a.default.register(L):T.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function D(I){var T=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w(this,D),this.options=j(I,L),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",I);this.options.debug&&D.debug(this.options.debug);var C=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=a.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new n.default(this.scroll),this.selection=new c.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(B){B===t.default.events.TEXT_CHANGE&&T.root.classList.toggle("ql-blank",T.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(B,R){var M=T.selection.lastRange,K=M&&M.length===0?M.index:void 0;U.call(T,function(){return T.editor.update(null,R,K)},B)});var F=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+C+"<p><br></p></div>");this.setContents(F),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return v(D,[{key:"addContainer",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof T=="string"){var C=T;T=document.createElement("div"),T.classList.add(C)}return this.container.insertBefore(T,L),T}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(T,L,C){var F=this,B=H(T,L,C),R=p(B,4);return T=R[0],L=R[1],C=R[3],U.call(this,function(){return F.editor.deleteText(T,L)},C,T,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(T),this.container.classList.toggle("ql-disabled",!T)}},{key:"focus",value:function(){var T=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=T,this.scrollIntoView()}},{key:"format",value:function(T,L){var C=this,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return U.call(this,function(){var B=C.getSelection(!0),R=new b.default;if(B==null)return R;if(a.default.query(T,a.default.Scope.BLOCK))R=C.editor.formatLine(B.index,B.length,m({},T,L));else{if(B.length===0)return C.selection.format(T,L),R;R=C.editor.formatText(B.index,B.length,m({},T,L))}return C.setSelection(B,t.default.sources.SILENT),R},F)}},{key:"formatLine",value:function(T,L,C,F,B){var R=this,M=void 0,K=H(T,L,C,F,B),G=p(K,4);return T=G[0],L=G[1],M=G[2],B=G[3],U.call(this,function(){return R.editor.formatLine(T,L,M)},B,T,0)}},{key:"formatText",value:function(T,L,C,F,B){var R=this,M=void 0,K=H(T,L,C,F,B),G=p(K,4);return T=G[0],L=G[1],M=G[2],B=G[3],U.call(this,function(){return R.editor.formatText(T,L,M)},B,T,0)}},{key:"getBounds",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=void 0;typeof T=="number"?C=this.selection.getBounds(T,L):C=this.selection.getBounds(T.index,T.length);var F=this.container.getBoundingClientRect();return{bottom:C.bottom-F.top,height:C.height,left:C.left-F.left,right:C.right-F.left,top:C.top-F.top,width:C.width}}},{key:"getContents",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,C=H(T,L),F=p(C,2);return T=F[0],L=F[1],this.editor.getContents(T,L)}},{key:"getFormat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof T=="number"?this.editor.getFormat(T,L):this.editor.getFormat(T.index,T.length)}},{key:"getIndex",value:function(T){return T.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(T){return this.scroll.leaf(T)}},{key:"getLine",value:function(T){return this.scroll.line(T)}},{key:"getLines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof T!="number"?this.scroll.lines(T.index,T.length):this.scroll.lines(T,L)}},{key:"getModule",value:function(T){return this.theme.modules[T]}},{key:"getSelection",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return T&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-T,C=H(T,L),F=p(C,2);return T=F[0],L=F[1],this.editor.getText(T,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(T,L,C){var F=this,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:D.sources.API;return U.call(this,function(){return F.editor.insertEmbed(T,L,C)},B,T)}},{key:"insertText",value:function(T,L,C,F,B){var R=this,M=void 0,K=H(T,0,C,F,B),G=p(K,4);return T=G[0],M=G[2],B=G[3],U.call(this,function(){return R.editor.insertText(T,L,M)},B,T,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(T,L,C){this.clipboard.dangerouslyPasteHTML(T,L,C)}},{key:"removeFormat",value:function(T,L,C){var F=this,B=H(T,L,C),R=p(B,4);return T=R[0],L=R[1],C=R[3],U.call(this,function(){return F.editor.removeFormat(T,L)},C,T)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(T){var L=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return U.call(this,function(){T=new b.default(T);var F=L.getLength(),B=L.editor.deleteText(0,F),R=L.editor.applyDelta(T),M=R.ops[R.ops.length-1];M!=null&&typeof M.insert=="string"&&M.insert[M.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),R.delete(1));var K=B.compose(R);return K},C)}},{key:"setSelection",value:function(T,L,C){if(T==null)this.selection.setRange(null,L||D.sources.API);else{var F=H(T,L,C),B=p(F,4);T=B[0],L=B[1],C=B[3],this.selection.setRange(new i.Range(T,L),C),C!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,C=new b.default().insert(T);return this.setContents(C,L)}},{key:"update",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,L=this.scroll.update(T);return this.selection.update(T),L}},{key:"updateContents",value:function(T){var L=this,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return U.call(this,function(){return T=new b.default(T),L.editor.applyDelta(T,C)},C,!0)}}]),D})();P.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},P.events=t.default.events,P.sources=t.default.sources,P.version="1.3.7",P.imports={delta:b.default,parchment:a.default,"core/module":o.default,"core/theme":q.default};function j(D,I){if(I=(0,h.default)(!0,{container:D,modules:{clipboard:!0,keyboard:!0,history:!0}},I),!I.theme||I.theme===P.DEFAULTS.theme)I.theme=q.default;else if(I.theme=P.import("themes/"+I.theme),I.theme==null)throw new Error("Invalid theme "+I.theme+". Did you register it?");var T=(0,h.default)(!0,{},I.theme.DEFAULTS);[T,I].forEach(function(F){F.modules=F.modules||{},Object.keys(F.modules).forEach(function(B){F.modules[B]===!0&&(F.modules[B]={})})});var L=Object.keys(T.modules).concat(Object.keys(I.modules)),C=L.reduce(function(F,B){var R=P.import("modules/"+B);return R==null?N.error("Cannot load "+B+" module. Are you sure you registered it?"):F[B]=R.DEFAULTS||{},F},{});return I.modules!=null&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,h.default)(!0,{},P.DEFAULTS,{modules:C},T,I),["bounds","container","scrollingContainer"].forEach(function(F){typeof I[F]=="string"&&(I[F]=document.querySelector(I[F]))}),I.modules=Object.keys(I.modules).reduce(function(F,B){return I.modules[B]&&(F[B]=I.modules[B]),F},{}),I}function U(D,I,T,L){if(this.options.strict&&!this.isEnabled()&&I===t.default.sources.USER)return new b.default;var C=T==null?null:this.getSelection(),F=this.editor.delta,B=D();if(C!=null&&(T===!0&&(T=C.index),L==null?C=Q(C,B,I):L!==0&&(C=Q(C,T,L,I)),this.setSelection(C,t.default.sources.SILENT)),B.length()>0){var R,M=[t.default.events.TEXT_CHANGE,B,F,I];if((R=this.emitter).emit.apply(R,[t.default.events.EDITOR_CHANGE].concat(M)),I!==t.default.sources.SILENT){var K;(K=this.emitter).emit.apply(K,M)}}return B}function H(D,I,T,L,C){var F={};return typeof D.index=="number"&&typeof D.length=="number"?typeof I!="number"?(C=L,L=T,T=I,I=D.length,D=D.index):(I=D.length,D=D.index):typeof I!="number"&&(C=L,L=T,T=I,I=0),(typeof T>"u"?"undefined":O(T))==="object"?(F=T,C=L):typeof T=="string"&&(L!=null?F[T]=L:C=T),C=C||t.default.sources.API,[D,I,F,C]}function Q(D,I,T,L){if(D==null)return null;var C=void 0,F=void 0;if(I instanceof b.default){var B=[D.index,D.index+D.length].map(function(G){return I.transformPosition(G,L!==t.default.sources.USER)}),R=p(B,2);C=R[0],F=R[1]}else{var M=[D.index,D.index+D.length].map(function(G){return G<I||G===I&&L===t.default.sources.USER?G:T>=0?G+T:Math.max(I,G+T)}),K=p(M,2);C=K[0],F=K[1]}return new i.Range(C,F-C)}s.expandConfig=j,s.overload=H,s.default=P}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function l(a,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,c){return i&&l(a.prototype,i),c&&l(a,c),a}})(),p=function l(a,i,c){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,i,c)}else{if("value"in r)return r.value;var A=r.get;return A===void 0?void 0:A.call(c)}},v=f(7),y=n(v),b=f(0),d=n(b);function n(l){return l&&l.__esModule?l:{default:l}}function e(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function t(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function u(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var o=(function(l){u(a,l);function a(){return e(this,a),t(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return O(a,[{key:"formatAt",value:function(c,r,h,A){if(a.compare(this.statics.blotName,h)<0&&d.default.query(h,d.default.Scope.BLOT)){var _=this.isolate(c,r);A&&_.wrap(h,A)}else p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"formatAt",this).call(this,c,r,h,A)}},{key:"optimize",value:function(c){if(p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,c),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(c,r){var h=a.order.indexOf(c),A=a.order.indexOf(r);return h>=0||A>=0?h-A:c===r?0:c<r?-1:1}}]),a})(d.default.Inline);o.allowedChildren=[o,d.default.Embed,y.default],o.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],s.default=o}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(0),p=v(O);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default.Text);s.default=n}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function i(c,r){for(var h=0;h<r.length;h++){var A=r[h];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(c,A.key,A)}}return function(c,r,h){return r&&i(c.prototype,r),h&&i(c,h),c}})(),p=function i(c,r,h){c===null&&(c=Function.prototype);var A=Object.getOwnPropertyDescriptor(c,r);if(A===void 0){var _=Object.getPrototypeOf(c);return _===null?void 0:i(_,r,h)}else{if("value"in A)return A.value;var x=A.get;return x===void 0?void 0:x.call(h)}},v=f(54),y=n(v),b=f(10),d=n(b);function n(i){return i&&i.__esModule?i:{default:i}}function e(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")}function t(i,c){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:i}function u(i,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);i.prototype=Object.create(c&&c.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(i,c):i.__proto__=c)}var o=(0,d.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(i){document.addEventListener(i,function(){for(var c=arguments.length,r=Array(c),h=0;h<c;h++)r[h]=arguments[h];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(A){if(A.__quill&&A.__quill.emitter){var _;(_=A.__quill.emitter).handleDOM.apply(_,r)}})})});var a=(function(i){u(c,i);function c(){e(this,c);var r=t(this,(c.__proto__||Object.getPrototypeOf(c)).call(this));return r.listeners={},r.on("error",o.error),r}return O(c,[{key:"emit",value:function(){o.log.apply(o,arguments),p(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(h){for(var A=arguments.length,_=Array(A>1?A-1:0),x=1;x<A;x++)_[x-1]=arguments[x];(this.listeners[h.type]||[]).forEach(function(q){var E=q.node,m=q.handler;(h.target===E||E.contains(h.target))&&m.apply(void 0,[h].concat(_))})}},{key:"listenDOM",value:function(h,A,_){this.listeners[h]||(this.listeners[h]=[]),this.listeners[h].push({node:A,handler:_})}}]),c})(y.default);a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"},s.default=a}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});function O(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}var p=function v(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};O(this,v),this.quill=y,this.options=b};p.DEFAULTS={},s.default=p}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=["error","warn","log","info"],p="warn";function v(b){if(O.indexOf(b)<=O.indexOf(p)){for(var d,n=arguments.length,e=Array(n>1?n-1:0),t=1;t<n;t++)e[t-1]=arguments[t];(d=console)[b].apply(d,e)}}function y(b){return O.reduce(function(d,n){return d[n]=v.bind(console,n,b),d},{})}v.level=y.level=function(b){p=b},s.default=y}),(function(g,s,f){var O=Array.prototype.slice,p=f(52),v=f(53),y=g.exports=function(e,t,u){return u||(u={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?u.strict?e===t:e==t:n(e,t,u)};function b(e){return e==null}function d(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function n(e,t,u){var o,l;if(b(e)||b(t)||e.prototype!==t.prototype)return!1;if(v(e))return v(t)?(e=O.call(e),t=O.call(t),y(e,t,u)):!1;if(d(e)){if(!d(t)||e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var a=p(e),i=p(t)}catch{return!1}if(a.length!=i.length)return!1;for(a.sort(),i.sort(),o=a.length-1;o>=0;o--)if(a[o]!=i[o])return!1;for(o=a.length-1;o>=0;o--)if(l=a[o],!y(e[l],t[l],u))return!1;return typeof e==typeof t}}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(1),p=(function(){function v(y,b,d){d===void 0&&(d={}),this.attrName=y,this.keyName=b;var n=O.Scope.TYPE&O.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&O.Scope.LEVEL|n:this.scope=O.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return v.keys=function(y){return[].map.call(y.attributes,function(b){return b.name})},v.prototype.add=function(y,b){return this.canAdd(y,b)?(y.setAttribute(this.keyName,b),!0):!1},v.prototype.canAdd=function(y,b){var d=O.query(y,O.Scope.BLOT&(this.scope|O.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof b=="string"?this.whitelist.indexOf(b.replace(/["']/g,""))>-1:this.whitelist.indexOf(b)>-1},v.prototype.remove=function(y){y.removeAttribute(this.keyName)},v.prototype.value=function(y){var b=y.getAttribute(this.keyName);return this.canAdd(y,b)&&b?b:""},v})();s.default=p}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Code=void 0;var O=(function(){function x(q,E){var m=[],w=!0,N=!1,P=void 0;try{for(var j=q[Symbol.iterator](),U;!(w=(U=j.next()).done)&&(m.push(U.value),!(E&&m.length===E));w=!0);}catch(H){N=!0,P=H}finally{try{!w&&j.return&&j.return()}finally{if(N)throw P}}return m}return function(q,E){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return x(q,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function x(q,E){for(var m=0;m<E.length;m++){var w=E[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(q,w.key,w)}}return function(q,E,m){return E&&x(q.prototype,E),m&&x(q,m),q}})(),v=function x(q,E,m){q===null&&(q=Function.prototype);var w=Object.getOwnPropertyDescriptor(q,E);if(w===void 0){var N=Object.getPrototypeOf(q);return N===null?void 0:x(N,E,m)}else{if("value"in w)return w.value;var P=w.get;return P===void 0?void 0:P.call(m)}},y=f(2),b=i(y),d=f(0),n=i(d),e=f(4),t=i(e),u=f(6),o=i(u),l=f(7),a=i(l);function i(x){return x&&x.__esModule?x:{default:x}}function c(x,q){if(!(x instanceof q))throw new TypeError("Cannot call a class as a function")}function r(x,q){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:x}function h(x,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);x.prototype=Object.create(q&&q.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(x,q):x.__proto__=q)}var A=(function(x){h(q,x);function q(){return c(this,q),r(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return q})(o.default);A.blotName="code",A.tagName="CODE";var _=(function(x){h(q,x);function q(){return c(this,q),r(this,(q.__proto__||Object.getPrototypeOf(q)).apply(this,arguments))}return p(q,[{key:"delta",value:function(){var m=this,w=this.domNode.textContent;return w.endsWith(`
`)&&(w=w.slice(0,-1)),w.split(`
`).reduce(function(N,P){return N.insert(P).insert(`
`,m.formats())},new b.default)}},{key:"format",value:function(m,w){if(!(m===this.statics.blotName&&w)){var N=this.descendant(a.default,this.length()-1),P=O(N,1),j=P[0];j?.deleteAt(j.length()-1,1),v(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"format",this).call(this,m,w)}}},{key:"formatAt",value:function(m,w,N,P){if(w!==0&&!(n.default.query(N,n.default.Scope.BLOCK)==null||N===this.statics.blotName&&P===this.statics.formats(this.domNode))){var j=this.newlineIndex(m);if(!(j<0||j>=m+w)){var U=this.newlineIndex(m,!0)+1,H=j-U+1,Q=this.isolate(U,H),D=Q.next;Q.format(N,P),D instanceof q&&D.formatAt(0,m-U+w-H,N,P)}}}},{key:"insertAt",value:function(m,w,N){if(N==null){var P=this.descendant(a.default,m),j=O(P,2),U=j[0],H=j[1];U.insertAt(H,w)}}},{key:"length",value:function(){var m=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?m:m+1}},{key:"newlineIndex",value:function(m){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w)return this.domNode.textContent.slice(0,m).lastIndexOf(`
`);var N=this.domNode.textContent.slice(m).indexOf(`
`);return N>-1?m+N:-1}},{key:"optimize",value:function(m){this.domNode.textContent.endsWith(`
`)||this.appendChild(n.default.create("text",`
`)),v(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"optimize",this).call(this,m);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===w.statics.formats(w.domNode)&&(w.optimize(m),w.moveChildren(this),w.remove())}},{key:"replace",value:function(m){v(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"replace",this).call(this,m),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(w){var N=n.default.find(w);N==null?w.parentNode.removeChild(w):N instanceof n.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(m){var w=v(q.__proto__||Object.getPrototypeOf(q),"create",this).call(this,m);return w.setAttribute("spellcheck",!1),w}},{key:"formats",value:function(){return!0}}]),q})(t.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",s.Code=A,s.default=_}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},p=(function(){function D(I,T){var L=[],C=!0,F=!1,B=void 0;try{for(var R=I[Symbol.iterator](),M;!(C=(M=R.next()).done)&&(L.push(M.value),!(T&&L.length===T));C=!0);}catch(K){F=!0,B=K}finally{try{!C&&R.return&&R.return()}finally{if(F)throw B}}return L}return function(I,T){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return D(I,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function D(I,T){for(var L=0;L<T.length;L++){var C=T[L];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,T,L){return T&&D(I.prototype,T),L&&D(I,L),I}})(),y=f(2),b=w(y),d=f(20),n=w(d),e=f(0),t=w(e),u=f(13),o=w(u),l=f(24),a=w(l),i=f(4),c=w(i),r=f(16),h=w(r),A=f(21),_=w(A),x=f(11),q=w(x),E=f(3),m=w(E);function w(D){return D&&D.__esModule?D:{default:D}}function N(D,I,T){return I in D?Object.defineProperty(D,I,{value:T,enumerable:!0,configurable:!0,writable:!0}):D[I]=T,D}function P(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}var j=/^[ -~]*$/,U=(function(){function D(I){P(this,D),this.scroll=I,this.delta=this.getDelta()}return v(D,[{key:"applyDelta",value:function(T){var L=this,C=!1;this.scroll.update();var F=this.scroll.length();return this.scroll.batchStart(),T=Q(T),T.reduce(function(B,R){var M=R.retain||R.delete||R.insert.length||1,K=R.attributes||{};if(R.insert!=null){if(typeof R.insert=="string"){var G=R.insert;G.endsWith(`
`)&&C&&(C=!1,G=G.slice(0,-1)),B>=F&&!G.endsWith(`
`)&&(C=!0),L.scroll.insertAt(B,G);var Y=L.scroll.line(B),$=p(Y,2),te=$[0],re=$[1],ae=(0,m.default)({},(0,i.bubbleFormats)(te));if(te instanceof c.default){var ue=te.descendant(t.default.Leaf,re),ce=p(ue,1),se=ce[0];ae=(0,m.default)(ae,(0,i.bubbleFormats)(se))}K=n.default.attributes.diff(ae,K)||{}}else if(O(R.insert)==="object"){var W=Object.keys(R.insert)[0];if(W==null)return B;L.scroll.insertAt(B,W,R.insert[W])}F+=M}return Object.keys(K).forEach(function(V){L.scroll.formatAt(B,M,V,K[V])}),B+M},0),T.reduce(function(B,R){return typeof R.delete=="number"?(L.scroll.deleteAt(B,R.delete),B):B+(R.retain||R.insert.length||1)},0),this.scroll.batchEnd(),this.update(T)}},{key:"deleteText",value:function(T,L){return this.scroll.deleteAt(T,L),this.update(new b.default().retain(T).delete(L))}},{key:"formatLine",value:function(T,L){var C=this,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(F).forEach(function(B){if(!(C.scroll.whitelist!=null&&!C.scroll.whitelist[B])){var R=C.scroll.lines(T,Math.max(L,1)),M=L;R.forEach(function(K){var G=K.length();if(!(K instanceof o.default))K.format(B,F[B]);else{var Y=T-K.offset(C.scroll),$=K.newlineIndex(Y+M)-Y+1;K.formatAt(Y,$,B,F[B])}M-=G})}}),this.scroll.optimize(),this.update(new b.default().retain(T).retain(L,(0,_.default)(F)))}},{key:"formatText",value:function(T,L){var C=this,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(F).forEach(function(B){C.scroll.formatAt(T,L,B,F[B])}),this.update(new b.default().retain(T).retain(L,(0,_.default)(F)))}},{key:"getContents",value:function(T,L){return this.delta.slice(T,T+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(T,L){return T.concat(L.delta())},new b.default)}},{key:"getFormat",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=[],F=[];L===0?this.scroll.path(T).forEach(function(R){var M=p(R,1),K=M[0];K instanceof c.default?C.push(K):K instanceof t.default.Leaf&&F.push(K)}):(C=this.scroll.lines(T,L),F=this.scroll.descendants(t.default.Leaf,T,L));var B=[C,F].map(function(R){if(R.length===0)return{};for(var M=(0,i.bubbleFormats)(R.shift());Object.keys(M).length>0;){var K=R.shift();if(K==null)return M;M=H((0,i.bubbleFormats)(K),M)}return M});return m.default.apply(m.default,B)}},{key:"getText",value:function(T,L){return this.getContents(T,L).filter(function(C){return typeof C.insert=="string"}).map(function(C){return C.insert}).join("")}},{key:"insertEmbed",value:function(T,L,C){return this.scroll.insertAt(T,L,C),this.update(new b.default().retain(T).insert(N({},L,C)))}},{key:"insertText",value:function(T,L){var C=this,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(T,L),Object.keys(F).forEach(function(B){C.scroll.formatAt(T,L.length,B,F[B])}),this.update(new b.default().retain(T).insert(L,(0,_.default)(F)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var T=this.scroll.children.head;return T.statics.blotName!==c.default.blotName||T.children.length>1?!1:T.children.head instanceof h.default}},{key:"removeFormat",value:function(T,L){var C=this.getText(T,L),F=this.scroll.line(T+L),B=p(F,2),R=B[0],M=B[1],K=0,G=new b.default;R!=null&&(R instanceof o.default?K=R.newlineIndex(M)-M+1:K=R.length()-M,G=R.delta().slice(M,M+K-1).insert(`
`));var Y=this.getContents(T,L+K),$=Y.diff(new b.default().insert(C).concat(G)),te=new b.default().retain(T).concat($);return this.applyDelta(te)}},{key:"update",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,F=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(j)&&t.default.find(L[0].target)){var B=t.default.find(L[0].target),R=(0,i.bubbleFormats)(B),M=B.offset(this.scroll),K=L[0].oldValue.replace(a.default.CONTENTS,""),G=new b.default().insert(K),Y=new b.default().insert(B.value()),$=new b.default().retain(M).concat(G.diff(Y,C));T=$.reduce(function(te,re){return re.insert?te.insert(re.insert,R):te.push(re)},new b.default),this.delta=F.compose(T)}else this.delta=this.getDelta(),(!T||!(0,q.default)(F.compose(T),this.delta))&&(T=F.diff(this.delta,C));return T}}]),D})();function H(D,I){return Object.keys(I).reduce(function(T,L){return D[L]==null||(I[L]===D[L]?T[L]=I[L]:Array.isArray(I[L])?I[L].indexOf(D[L])<0&&(T[L]=I[L].concat([D[L]])):T[L]=[I[L],D[L]]),T},{})}function Q(D){return D.reduce(function(I,T){if(T.insert===1){var L=(0,_.default)(T.attributes);return delete L.image,I.insert({image:T.attributes.image},L)}if(T.attributes!=null&&(T.attributes.list===!0||T.attributes.bullet===!0)&&(T=(0,_.default)(T),T.attributes.list?T.attributes.list="ordered":(T.attributes.list="bullet",delete T.attributes.bullet)),typeof T.insert=="string"){var C=T.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return I.insert(C,T.attributes)}return I.push(T)},new b.default)}s.default=U}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.Range=void 0;var O=(function(){function x(q,E){var m=[],w=!0,N=!1,P=void 0;try{for(var j=q[Symbol.iterator](),U;!(w=(U=j.next()).done)&&(m.push(U.value),!(E&&m.length===E));w=!0);}catch(H){N=!0,P=H}finally{try{!w&&j.return&&j.return()}finally{if(N)throw P}}return m}return function(q,E){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return x(q,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function x(q,E){for(var m=0;m<E.length;m++){var w=E[m];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(q,w.key,w)}}return function(q,E,m){return E&&x(q.prototype,E),m&&x(q,m),q}})(),v=f(0),y=a(v),b=f(21),d=a(b),n=f(11),e=a(n),t=f(8),u=a(t),o=f(10),l=a(o);function a(x){return x&&x.__esModule?x:{default:x}}function i(x){if(Array.isArray(x)){for(var q=0,E=Array(x.length);q<x.length;q++)E[q]=x[q];return E}else return Array.from(x)}function c(x,q){if(!(x instanceof q))throw new TypeError("Cannot call a class as a function")}var r=(0,l.default)("quill:selection"),h=function x(q){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;c(this,x),this.index=q,this.length=E},A=(function(){function x(q,E){var m=this;c(this,x),this.emitter=E,this.scroll=q,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=y.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){m.mouseDown||setTimeout(m.update.bind(m,u.default.sources.USER),1)}),this.emitter.on(u.default.events.EDITOR_CHANGE,function(w,N){w===u.default.events.TEXT_CHANGE&&N.length()>0&&m.update(u.default.sources.SILENT)}),this.emitter.on(u.default.events.SCROLL_BEFORE_UPDATE,function(){if(m.hasFocus()){var w=m.getNativeRange();w!=null&&w.start.node!==m.cursor.textNode&&m.emitter.once(u.default.events.SCROLL_UPDATE,function(){try{m.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch{}})}}),this.emitter.on(u.default.events.SCROLL_OPTIMIZE,function(w,N){if(N.range){var P=N.range,j=P.startNode,U=P.startOffset,H=P.endNode,Q=P.endOffset;m.setNativeRange(j,U,H,Q)}}),this.update(u.default.sources.SILENT)}return p(x,[{key:"handleComposition",value:function(){var E=this;this.root.addEventListener("compositionstart",function(){E.composing=!0}),this.root.addEventListener("compositionend",function(){if(E.composing=!1,E.cursor.parent){var m=E.cursor.restore();if(!m)return;setTimeout(function(){E.setNativeRange(m.startNode,m.startOffset,m.endNode,m.endOffset)},1)}})}},{key:"handleDragging",value:function(){var E=this;this.emitter.listenDOM("mousedown",document.body,function(){E.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){E.mouseDown=!1,E.update(u.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(E,m){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[E])){this.scroll.update();var w=this.getNativeRange();if(!(w==null||!w.native.collapsed||y.default.query(E,y.default.Scope.BLOCK))){if(w.start.node!==this.cursor.textNode){var N=y.default.find(w.start.node,!1);if(N==null)return;if(N instanceof y.default.Leaf){var P=N.split(w.start.offset);N.parent.insertBefore(this.cursor,P)}else N.insertBefore(this.cursor,w.start.node);this.cursor.attach()}this.cursor.format(E,m),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(E){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=this.scroll.length();E=Math.min(E,w-1),m=Math.min(E+m,w-1)-E;var N=void 0,P=this.scroll.leaf(E),j=O(P,2),U=j[0],H=j[1];if(U==null)return null;var Q=U.position(H,!0),D=O(Q,2);N=D[0],H=D[1];var I=document.createRange();if(m>0){I.setStart(N,H);var T=this.scroll.leaf(E+m),L=O(T,2);if(U=L[0],H=L[1],U==null)return null;var C=U.position(H,!0),F=O(C,2);return N=F[0],H=F[1],I.setEnd(N,H),I.getBoundingClientRect()}else{var B="left",R=void 0;return N instanceof Text?(H<N.data.length?(I.setStart(N,H),I.setEnd(N,H+1)):(I.setStart(N,H-1),I.setEnd(N,H),B="right"),R=I.getBoundingClientRect()):(R=U.domNode.getBoundingClientRect(),H>0&&(B="right")),{bottom:R.top+R.height,height:R.height,left:R[B],right:R[B],top:R.top,width:0}}}},{key:"getNativeRange",value:function(){var E=document.getSelection();if(E==null||E.rangeCount<=0)return null;var m=E.getRangeAt(0);if(m==null)return null;var w=this.normalizeNative(m);return r.info("getNativeRange",w),w}},{key:"getRange",value:function(){var E=this.getNativeRange();if(E==null)return[null,null];var m=this.normalizedToRange(E);return[m,E]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(E){var m=this,w=[[E.start.node,E.start.offset]];E.native.collapsed||w.push([E.end.node,E.end.offset]);var N=w.map(function(U){var H=O(U,2),Q=H[0],D=H[1],I=y.default.find(Q,!0),T=I.offset(m.scroll);return D===0?T:I instanceof y.default.Container?T+I.length():T+I.index(Q,D)}),P=Math.min(Math.max.apply(Math,i(N)),this.scroll.length()-1),j=Math.min.apply(Math,[P].concat(i(N)));return new h(j,P-j)}},{key:"normalizeNative",value:function(E){if(!_(this.root,E.startContainer)||!E.collapsed&&!_(this.root,E.endContainer))return null;var m={start:{node:E.startContainer,offset:E.startOffset},end:{node:E.endContainer,offset:E.endOffset},native:E};return[m.start,m.end].forEach(function(w){for(var N=w.node,P=w.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>P)N=N.childNodes[P],P=0;else if(N.childNodes.length===P)N=N.lastChild,P=N instanceof Text?N.data.length:N.childNodes.length+1;else break;w.node=N,w.offset=P}),m}},{key:"rangeToNative",value:function(E){var m=this,w=E.collapsed?[E.index]:[E.index,E.index+E.length],N=[],P=this.scroll.length();return w.forEach(function(j,U){j=Math.min(P-1,j);var H=void 0,Q=m.scroll.leaf(j),D=O(Q,2),I=D[0],T=D[1],L=I.position(T,U!==0),C=O(L,2);H=C[0],T=C[1],N.push(H,T)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(E){var m=this.lastRange;if(m!=null){var w=this.getBounds(m.index,m.length);if(w!=null){var N=this.scroll.length()-1,P=this.scroll.line(Math.min(m.index,N)),j=O(P,1),U=j[0],H=U;if(m.length>0){var Q=this.scroll.line(Math.min(m.index+m.length,N)),D=O(Q,1);H=D[0]}if(!(U==null||H==null)){var I=E.getBoundingClientRect();w.top<I.top?E.scrollTop-=I.top-w.top:w.bottom>I.bottom&&(E.scrollTop+=w.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(E,m){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:m,P=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(r.info("setNativeRange",E,m,w,N),!(E!=null&&(this.root.parentNode==null||E.parentNode==null||w.parentNode==null))){var j=document.getSelection();if(j!=null)if(E!=null){this.hasFocus()||this.root.focus();var U=(this.getNativeRange()||{}).native;if(U==null||P||E!==U.startContainer||m!==U.startOffset||w!==U.endContainer||N!==U.endOffset){E.tagName=="BR"&&(m=[].indexOf.call(E.parentNode.childNodes,E),E=E.parentNode),w.tagName=="BR"&&(N=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode);var H=document.createRange();H.setStart(E,m),H.setEnd(w,N),j.removeAllRanges(),j.addRange(H)}}else j.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(E){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:u.default.sources.API;if(typeof m=="string"&&(w=m,m=!1),r.info("setRange",E),E!=null){var N=this.rangeToNative(E);this.setNativeRange.apply(this,i(N).concat([m]))}else this.setNativeRange(null);this.update(w)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u.default.sources.USER,m=this.lastRange,w=this.getRange(),N=O(w,2),P=N[0],j=N[1];if(this.lastRange=P,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(m,this.lastRange)){var U;!this.composing&&j!=null&&j.native.collapsed&&j.start.node!==this.cursor.textNode&&this.cursor.restore();var H=[u.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(m),E];if((U=this.emitter).emit.apply(U,[u.default.events.EDITOR_CHANGE].concat(H)),E!==u.default.sources.SILENT){var Q;(Q=this.emitter).emit.apply(Q,H)}}}}]),x})();function _(x,q){try{q.parentNode}catch{return!1}return q instanceof Text&&(q=q.parentNode),x.contains(q)}s.Range=h,s.default=A}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function u(o,l){for(var a=0;a<l.length;a++){var i=l[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}return function(o,l,a){return l&&u(o.prototype,l),a&&u(o,a),o}})(),p=function u(o,l,a){o===null&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,l);if(i===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:u(c,l,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},v=f(0),y=b(v);function b(u){return u&&u.__esModule?u:{default:u}}function d(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function n(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function e(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var t=(function(u){e(o,u);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return O(o,[{key:"insertInto",value:function(a,i){a.children.length===0?p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"insertInto",this).call(this,a,i):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),o})(y.default.Embed);t.blotName="break",t.tagName="BR",s.default=t}),(function(g,s,f){var O=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var u in t)t.hasOwnProperty(u)&&(e[u]=t[u])};return function(e,t){n(e,t);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(44),v=f(30),y=f(1),b=(function(n){O(e,n);function e(t){var u=n.call(this,t)||this;return u.build(),u}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){n.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new p.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(u){try{var o=d(u);t.insertBefore(o,t.children.head||void 0)}catch(l){if(l instanceof y.ParchmentError)return;throw l}})},e.prototype.deleteAt=function(t,u){if(t===0&&u===this.length())return this.remove();this.children.forEachAt(t,u,function(o,l,a){o.deleteAt(l,a)})},e.prototype.descendant=function(t,u){var o=this.children.find(u),l=o[0],a=o[1];return t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t?[l,a]:l instanceof e?l.descendant(t,a):[null,-1]},e.prototype.descendants=function(t,u,o){u===void 0&&(u=0),o===void 0&&(o=Number.MAX_VALUE);var l=[],a=o;return this.children.forEachAt(u,o,function(i,c,r){(t.blotName==null&&t(i)||t.blotName!=null&&i instanceof t)&&l.push(i),i instanceof e&&(l=l.concat(i.descendants(t,c,a))),a-=r}),l},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),n.prototype.detach.call(this)},e.prototype.formatAt=function(t,u,o,l){this.children.forEachAt(t,u,function(a,i,c){a.formatAt(i,c,o,l)})},e.prototype.insertAt=function(t,u,o){var l=this.children.find(t),a=l[0],i=l[1];if(a)a.insertAt(i,u,o);else{var c=o==null?y.create("text",u):y.create(u,o);this.appendChild(c)}},e.prototype.insertBefore=function(t,u){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(o){return t instanceof o}))throw new y.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,u)},e.prototype.length=function(){return this.children.reduce(function(t,u){return t+u.length()},0)},e.prototype.moveChildren=function(t,u){this.children.forEach(function(o){t.insertBefore(o,u)})},e.prototype.optimize=function(t){if(n.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var u=y.create(this.statics.defaultChild);this.appendChild(u),u.optimize(t)}else this.remove()},e.prototype.path=function(t,u){u===void 0&&(u=!1);var o=this.children.find(t,u),l=o[0],a=o[1],i=[[this,t]];return l instanceof e?i.concat(l.path(a,u)):(l!=null&&i.push([l,a]),i)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),n.prototype.replace.call(this,t)},e.prototype.split=function(t,u){if(u===void 0&&(u=!1),!u){if(t===0)return this;if(t===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(t,this.length(),function(l,a,i){l=l.split(a,u),o.appendChild(l)}),o},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,u){var o=this,l=[],a=[];t.forEach(function(i){i.target===o.domNode&&i.type==="childList"&&(l.push.apply(l,i.addedNodes),a.push.apply(a,i.removedNodes))}),a.forEach(function(i){if(!(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var c=y.find(i);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===o.domNode)&&c.detach()}}),l.filter(function(i){return i.parentNode==o.domNode}).sort(function(i,c){return i===c?0:i.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(i){var c=null;i.nextSibling!=null&&(c=y.find(i.nextSibling));var r=d(i);(r.next!=c||r.next==null)&&(r.parent!=null&&r.parent.removeChild(o),o.insertBefore(r,c||void 0))})},e})(v.default);function d(n){var e=y.find(n);if(e==null)try{e=y.create(n)}catch{e=y.create(y.Scope.INLINE),[].slice.call(n.childNodes).forEach(function(u){e.domNode.appendChild(u)}),n.parentNode&&n.parentNode.replaceChild(e.domNode,n),e.attach()}return e}s.default=b}),(function(g,s,f){var O=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var u in t)t.hasOwnProperty(u)&&(e[u]=t[u])};return function(e,t){n(e,t);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(12),v=f(31),y=f(17),b=f(1),d=(function(n){O(e,n);function e(t){var u=n.call(this,t)||this;return u.attributes=new v.default(u.domNode),u}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,u){var o=b.query(t);o instanceof p.default?this.attributes.attribute(o,u):u&&o!=null&&(t!==this.statics.blotName||this.formats()[t]!==u)&&this.replaceWith(t,u)},e.prototype.formats=function(){var t=this.attributes.values(),u=this.statics.formats(this.domNode);return u!=null&&(t[this.statics.blotName]=u),t},e.prototype.replaceWith=function(t,u){var o=n.prototype.replaceWith.call(this,t,u);return this.attributes.copy(o),o},e.prototype.update=function(t,u){var o=this;n.prototype.update.call(this,t,u),t.some(function(l){return l.target===o.domNode&&l.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,u){var o=n.prototype.wrap.call(this,t,u);return o instanceof e&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},e})(y.default);s.default=d}),(function(g,s,f){var O=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(30),v=f(1),y=(function(b){O(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.value=function(n){return!0},d.prototype.index=function(n,e){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},d.prototype.position=function(n,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return n>0&&(t+=1),[this.parent.domNode,t]},d.prototype.value=function(){var n;return n={},n[this.statics.blotName]=this.statics.value(this.domNode)||!0,n},d.scope=v.Scope.INLINE_BLOT,d})(p.default);s.default=y}),(function(g,s,f){var O=f(11),p=f(3),v={attributes:{compose:function(b,d,n){typeof b!="object"&&(b={}),typeof d!="object"&&(d={});var e=p(!0,{},d);n||(e=Object.keys(e).reduce(function(u,o){return e[o]!=null&&(u[o]=e[o]),u},{}));for(var t in b)b[t]!==void 0&&d[t]===void 0&&(e[t]=b[t]);return Object.keys(e).length>0?e:void 0},diff:function(b,d){typeof b!="object"&&(b={}),typeof d!="object"&&(d={});var n=Object.keys(b).concat(Object.keys(d)).reduce(function(e,t){return O(b[t],d[t])||(e[t]=d[t]===void 0?null:d[t]),e},{});return Object.keys(n).length>0?n:void 0},transform:function(b,d,n){if(typeof b!="object")return d;if(typeof d=="object"){if(!n)return d;var e=Object.keys(d).reduce(function(t,u){return b[u]===void 0&&(t[u]=d[u]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(b){return new y(b)},length:function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}};function y(b){this.ops=b,this.index=0,this.offset=0}y.prototype.hasNext=function(){return this.peekLength()<1/0},y.prototype.next=function(b){b||(b=1/0);var d=this.ops[this.index];if(d){var n=this.offset,e=v.length(d);if(b>=e-n?(b=e-n,this.index+=1,this.offset=0):this.offset+=b,typeof d.delete=="number")return{delete:b};var t={};return d.attributes&&(t.attributes=d.attributes),typeof d.retain=="number"?t.retain=b:typeof d.insert=="string"?t.insert=d.insert.substr(n,b):t.insert=d.insert,t}else return{retain:1/0}},y.prototype.peek=function(){return this.ops[this.index]},y.prototype.peekLength=function(){return this.ops[this.index]?v.length(this.ops[this.index])-this.offset:1/0},y.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},y.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,d=this.index,n=this.next(),e=this.ops.slice(this.index);return this.offset=b,this.index=d,[n].concat(e)}else return[]},g.exports=v}),(function(g,s){var f=(function(){function O(o,l){return l!=null&&o instanceof l}var p;try{p=Map}catch{p=function(){}}var v;try{v=Set}catch{v=function(){}}var y;try{y=Promise}catch{y=function(){}}function b(o,l,a,i,c){typeof l=="object"&&(a=l.depth,i=l.prototype,c=l.includeNonEnumerable,l=l.circular);var r=[],h=[],A=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof a>"u"&&(a=1/0);function _(x,q){if(x===null)return null;if(q===0)return x;var E,m;if(typeof x!="object")return x;if(O(x,p))E=new p;else if(O(x,v))E=new v;else if(O(x,y))E=new y(function(I,T){x.then(function(L){I(_(L,q-1))},function(L){T(_(L,q-1))})});else if(b.__isArray(x))E=[];else if(b.__isRegExp(x))E=new RegExp(x.source,u(x)),x.lastIndex&&(E.lastIndex=x.lastIndex);else if(b.__isDate(x))E=new Date(x.getTime());else{if(A&&Buffer.isBuffer(x))return Buffer.allocUnsafe?E=Buffer.allocUnsafe(x.length):E=new Buffer(x.length),x.copy(E),E;O(x,Error)?E=Object.create(x):typeof i>"u"?(m=Object.getPrototypeOf(x),E=Object.create(m)):(E=Object.create(i),m=i)}if(l){var w=r.indexOf(x);if(w!=-1)return h[w];r.push(x),h.push(E)}O(x,p)&&x.forEach(function(I,T){var L=_(T,q-1),C=_(I,q-1);E.set(L,C)}),O(x,v)&&x.forEach(function(I){var T=_(I,q-1);E.add(T)});for(var N in x){var P;m&&(P=Object.getOwnPropertyDescriptor(m,N)),!(P&&P.set==null)&&(E[N]=_(x[N],q-1))}if(Object.getOwnPropertySymbols)for(var j=Object.getOwnPropertySymbols(x),N=0;N<j.length;N++){var U=j[N],H=Object.getOwnPropertyDescriptor(x,U);H&&!H.enumerable&&!c||(E[U]=_(x[U],q-1),H.enumerable||Object.defineProperty(E,U,{enumerable:!1}))}if(c)for(var Q=Object.getOwnPropertyNames(x),N=0;N<Q.length;N++){var D=Q[N],H=Object.getOwnPropertyDescriptor(x,D);H&&H.enumerable||(E[D]=_(x[D],q-1),Object.defineProperty(E,D,{enumerable:!1}))}return E}return _(o,a)}b.clonePrototype=function(l){if(l===null)return null;var a=function(){};return a.prototype=l,new a};function d(o){return Object.prototype.toString.call(o)}b.__objToStr=d;function n(o){return typeof o=="object"&&d(o)==="[object Date]"}b.__isDate=n;function e(o){return typeof o=="object"&&d(o)==="[object Array]"}b.__isArray=e;function t(o){return typeof o=="object"&&d(o)==="[object RegExp]"}b.__isRegExp=t;function u(o){var l="";return o.global&&(l+="g"),o.ignoreCase&&(l+="i"),o.multiline&&(l+="m"),l}return b.__getRegExpFlags=u,b})();typeof g=="object"&&g.exports&&(g.exports=f)}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function E(m,w){var N=[],P=!0,j=!1,U=void 0;try{for(var H=m[Symbol.iterator](),Q;!(P=(Q=H.next()).done)&&(N.push(Q.value),!(w&&N.length===w));P=!0);}catch(D){j=!0,U=D}finally{try{!P&&H.return&&H.return()}finally{if(j)throw U}}return N}return function(m,w){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return E(m,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function E(m,w){for(var N=0;N<w.length;N++){var P=w[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,w,N){return w&&E(m.prototype,w),N&&E(m,N),m}})(),v=function E(m,w,N){m===null&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,w);if(P===void 0){var j=Object.getPrototypeOf(m);return j===null?void 0:E(j,w,N)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(N)}},y=f(0),b=r(y),d=f(8),n=r(d),e=f(4),t=r(e),u=f(16),o=r(u),l=f(13),a=r(l),i=f(25),c=r(i);function r(E){return E&&E.__esModule?E:{default:E}}function h(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function A(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function _(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}function x(E){return E instanceof t.default||E instanceof e.BlockEmbed}var q=(function(E){_(m,E);function m(w,N){h(this,m);var P=A(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w));return P.emitter=N.emitter,Array.isArray(N.whitelist)&&(P.whitelist=N.whitelist.reduce(function(j,U){return j[U]=!0,j},{})),P.domNode.addEventListener("DOMNodeInserted",function(){}),P.optimize(),P.enable(),P}return p(m,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,P){var j=this.line(N),U=O(j,2),H=U[0],Q=U[1],D=this.line(N+P),I=O(D,1),T=I[0];if(v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"deleteAt",this).call(this,N,P),T!=null&&H!==T&&Q>0){if(H instanceof e.BlockEmbed||T instanceof e.BlockEmbed){this.optimize();return}if(H instanceof a.default){var L=H.newlineIndex(H.length(),!0);if(L>-1&&(H=H.split(L+1),H===T)){this.optimize();return}}else if(T instanceof a.default){var C=T.newlineIndex(0);C>-1&&T.split(C+1)}var F=T.children.head instanceof o.default?null:T.children.head;H.moveChildren(T,F),H.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,P,j,U){this.whitelist!=null&&!this.whitelist[j]||(v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,N,P,j,U),this.optimize())}},{key:"insertAt",value:function(N,P,j){if(!(j!=null&&this.whitelist!=null&&!this.whitelist[P])){if(N>=this.length())if(j==null||b.default.query(P,b.default.Scope.BLOCK)==null){var U=b.default.create(this.statics.defaultChild);this.appendChild(U),j==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),U.insertAt(0,P,j)}else{var H=b.default.create(P,j);this.appendChild(H)}else v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertAt",this).call(this,N,P,j);this.optimize()}}},{key:"insertBefore",value:function(N,P){if(N.statics.scope===b.default.Scope.INLINE_BLOT){var j=b.default.create(this.statics.defaultChild);j.appendChild(N),N=j}v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertBefore",this).call(this,N,P)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(x,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,j=function U(H,Q,D){var I=[],T=D;return H.children.forEachAt(Q,D,function(L,C,F){x(L)?I.push(L):L instanceof b.default.Container&&(I=I.concat(U(L,C,T))),T-=F}),I};return j(this,N,P)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,N,P),N.length>0&&this.emitter.emit(n.default.events.SCROLL_OPTIMIZE,N,P))}},{key:"path",value:function(N){return v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var P=n.default.sources.USER;typeof N=="string"&&(P=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(n.default.events.SCROLL_BEFORE_UPDATE,P,N),v(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(n.default.events.SCROLL_UPDATE,P,N)}}}]),m})(b.default.Scroll);q.blotName="scroll",q.className="ql-editor",q.tagName="DIV",q.defaultChild="block",q.allowedChildren=[t.default,e.BlockEmbed,c.default],s.default=q}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.SHORTKEY=s.default=void 0;var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},p=(function(){function R(M,K){var G=[],Y=!0,$=!1,te=void 0;try{for(var re=M[Symbol.iterator](),ae;!(Y=(ae=re.next()).done)&&(G.push(ae.value),!(K&&G.length===K));Y=!0);}catch(ue){$=!0,te=ue}finally{try{!Y&&re.return&&re.return()}finally{if($)throw te}}return G}return function(M,K){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return R(M,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function R(M,K){for(var G=0;G<K.length;G++){var Y=K[G];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(M,Y.key,Y)}}return function(M,K,G){return K&&R(M.prototype,K),G&&R(M,G),M}})(),y=f(21),b=E(y),d=f(11),n=E(d),e=f(3),t=E(e),u=f(2),o=E(u),l=f(20),a=E(l),i=f(0),c=E(i),r=f(5),h=E(r),A=f(10),_=E(A),x=f(9),q=E(x);function E(R){return R&&R.__esModule?R:{default:R}}function m(R,M,K){return M in R?Object.defineProperty(R,M,{value:K,enumerable:!0,configurable:!0,writable:!0}):R[M]=K,R}function w(R,M){if(!(R instanceof M))throw new TypeError("Cannot call a class as a function")}function N(R,M){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:R}function P(R,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);R.prototype=Object.create(M&&M.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(R,M):R.__proto__=M)}var j=(0,_.default)("quill:keyboard"),U=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",H=(function(R){P(M,R),v(M,null,[{key:"match",value:function(G,Y){return Y=B(Y),["altKey","ctrlKey","metaKey","shiftKey"].some(function($){return!!Y[$]!==G[$]&&Y[$]!==null})?!1:Y.key===(G.which||G.keyCode)}}]);function M(K,G){w(this,M);var Y=N(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,G));return Y.bindings={},Object.keys(Y.options.bindings).forEach(function($){$==="list autofill"&&K.scroll.whitelist!=null&&!K.scroll.whitelist.list||Y.options.bindings[$]&&Y.addBinding(Y.options.bindings[$])}),Y.addBinding({key:M.keys.ENTER,shiftKey:null},L),Y.addBinding({key:M.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!0},D),Y.addBinding({key:M.keys.DELETE},{collapsed:!0},I)):(Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},D),Y.addBinding({key:M.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),Y.addBinding({key:M.keys.BACKSPACE},{collapsed:!1},T),Y.addBinding({key:M.keys.DELETE},{collapsed:!1},T),Y.addBinding({key:M.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},D),Y.listen(),Y}return v(M,[{key:"addBinding",value:function(G){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=B(G);if(te==null||te.key==null)return j.warn("Attempted to add invalid keyboard binding",te);typeof Y=="function"&&(Y={handler:Y}),typeof $=="function"&&($={handler:$}),te=(0,t.default)(te,Y,$),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(Y){if(!Y.defaultPrevented){var $=Y.which||Y.keyCode,te=(G.bindings[$]||[]).filter(function(fe){return M.match(Y,fe)});if(te.length!==0){var re=G.quill.getSelection();if(!(re==null||!G.quill.hasFocus())){var ae=G.quill.getLine(re.index),ue=p(ae,2),ce=ue[0],se=ue[1],W=G.quill.getLeaf(re.index),V=p(W,2),X=V[0],ee=V[1],Z=re.length===0?[X,ee]:G.quill.getLeaf(re.index+re.length),ie=p(Z,2),ne=ie[0],oe=ie[1],he=X instanceof c.default.Text?X.value().slice(0,ee):"",ve=ne instanceof c.default.Text?ne.value().slice(oe):"",le={collapsed:re.length===0,empty:re.length===0&&ce.length()<=1,format:G.quill.getFormat(re),offset:se,prefix:he,suffix:ve},we=te.some(function(fe){if(fe.collapsed!=null&&fe.collapsed!==le.collapsed||fe.empty!=null&&fe.empty!==le.empty||fe.offset!=null&&fe.offset!==le.offset)return!1;if(Array.isArray(fe.format)){if(fe.format.every(function(me){return le.format[me]==null}))return!1}else if(O(fe.format)==="object"&&!Object.keys(fe.format).every(function(me){return fe.format[me]===!0?le.format[me]!=null:fe.format[me]===!1?le.format[me]==null:(0,n.default)(fe.format[me],le.format[me])}))return!1;return fe.prefix!=null&&!fe.prefix.test(le.prefix)||fe.suffix!=null&&!fe.suffix.test(le.suffix)?!1:fe.handler.call(G,re,le)!==!0});we&&Y.preventDefault()}}}})}}]),M})(q.default);H.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},H.DEFAULTS={bindings:{bold:F("bold"),italic:F("italic"),underline:F("underline"),indent:{key:H.keys.TAB,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:H.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:H.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(M,K){K.format.indent!=null?this.quill.format("indent","-1",h.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":C(!0),"outdent code-block":C(!1),"remove tab":{key:H.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(M){this.quill.deleteText(M.index-1,1,h.default.sources.USER)}},tab:{key:H.keys.TAB,handler:function(M){this.quill.history.cutoff();var K=new o.default().retain(M.index).delete(M.length).insert("	");this.quill.updateContents(K,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index+1,h.default.sources.SILENT)}},"list empty enter":{key:H.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(M,K){this.quill.format("list",!1,h.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:H.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(M){var K=this.quill.getLine(M.index),G=p(K,2),Y=G[0],$=G[1],te=(0,t.default)({},Y.formats(),{list:"checked"}),re=new o.default().retain(M.index).insert(`
`,te).retain(Y.length()-$-1).retain(1,{list:"unchecked"});this.quill.updateContents(re,h.default.sources.USER),this.quill.setSelection(M.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:H.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(M,K){var G=this.quill.getLine(M.index),Y=p(G,2),$=Y[0],te=Y[1],re=new o.default().retain(M.index).insert(`
`,K.format).retain($.length()-te-1).retain(1,{header:null});this.quill.updateContents(re,h.default.sources.USER),this.quill.setSelection(M.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(M,K){var G=K.prefix.length,Y=this.quill.getLine(M.index),$=p(Y,2),te=$[0],re=$[1];if(re>G)return!0;var ae=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":ae="unchecked";break;case"[x]":ae="checked";break;case"-":case"*":ae="bullet";break;default:ae="ordered"}this.quill.insertText(M.index," ",h.default.sources.USER),this.quill.history.cutoff();var ue=new o.default().retain(M.index-re).delete(G+1).retain(te.length()-2-re).retain(1,{list:ae});this.quill.updateContents(ue,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index-G,h.default.sources.SILENT)}},"code exit":{key:H.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(M){var K=this.quill.getLine(M.index),G=p(K,2),Y=G[0],$=G[1],te=new o.default().retain(M.index+Y.length()-$-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,h.default.sources.USER)}},"embed left":Q(H.keys.LEFT,!1),"embed left shift":Q(H.keys.LEFT,!0),"embed right":Q(H.keys.RIGHT,!1),"embed right shift":Q(H.keys.RIGHT,!0)}};function Q(R,M){var K,G=R===H.keys.LEFT?"prefix":"suffix";return K={key:R,shiftKey:M,altKey:null},m(K,G,/^$/),m(K,"handler",function($){var te=$.index;R===H.keys.RIGHT&&(te+=$.length+1);var re=this.quill.getLeaf(te),ae=p(re,1),ue=ae[0];return ue instanceof c.default.Embed?(R===H.keys.LEFT?M?this.quill.setSelection($.index-1,$.length+1,h.default.sources.USER):this.quill.setSelection($.index-1,h.default.sources.USER):M?this.quill.setSelection($.index,$.length+1,h.default.sources.USER):this.quill.setSelection($.index+$.length+1,h.default.sources.USER),!1):!0}),K}function D(R,M){if(!(R.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(R.index),G=p(K,1),Y=G[0],$={};if(M.offset===0){var te=this.quill.getLine(R.index-1),re=p(te,1),ae=re[0];if(ae!=null&&ae.length()>1){var ue=Y.formats(),ce=this.quill.getFormat(R.index-1,1);$=a.default.attributes.diff(ue,ce)||{}}}var se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(M.prefix)?2:1;this.quill.deleteText(R.index-se,se,h.default.sources.USER),Object.keys($).length>0&&this.quill.formatLine(R.index-se,se,$,h.default.sources.USER),this.quill.focus()}}function I(R,M){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(M.suffix)?2:1;if(!(R.index>=this.quill.getLength()-K)){var G={},Y=0,$=this.quill.getLine(R.index),te=p($,1),re=te[0];if(M.offset>=re.length()-1){var ae=this.quill.getLine(R.index+1),ue=p(ae,1),ce=ue[0];if(ce){var se=re.formats(),W=this.quill.getFormat(R.index,1);G=a.default.attributes.diff(se,W)||{},Y=ce.length()}}this.quill.deleteText(R.index,K,h.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(R.index+Y-1,K,G,h.default.sources.USER)}}function T(R){var M=this.quill.getLines(R),K={};if(M.length>1){var G=M[0].formats(),Y=M[M.length-1].formats();K=a.default.attributes.diff(Y,G)||{}}this.quill.deleteText(R,h.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(R.index,1,K,h.default.sources.USER),this.quill.setSelection(R.index,h.default.sources.SILENT),this.quill.focus()}function L(R,M){var K=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var G=Object.keys(M.format).reduce(function(Y,$){return c.default.query($,c.default.Scope.BLOCK)&&!Array.isArray(M.format[$])&&(Y[$]=M.format[$]),Y},{});this.quill.insertText(R.index,`
`,G,h.default.sources.USER),this.quill.setSelection(R.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(M.format).forEach(function(Y){G[Y]==null&&(Array.isArray(M.format[Y])||Y!=="link"&&K.quill.format(Y,M.format[Y],h.default.sources.USER))})}function C(R){return{key:H.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(K){var G=c.default.query("code-block"),Y=K.index,$=K.length,te=this.quill.scroll.descendant(G,Y),re=p(te,2),ae=re[0],ue=re[1];if(ae!=null){var ce=this.quill.getIndex(ae),se=ae.newlineIndex(ue,!0)+1,W=ae.newlineIndex(ce+ue+$),V=ae.domNode.textContent.slice(se,W).split(`
`);ue=0,V.forEach(function(X,ee){R?(ae.insertAt(se+ue,G.TAB),ue+=G.TAB.length,ee===0?Y+=G.TAB.length:$+=G.TAB.length):X.startsWith(G.TAB)&&(ae.deleteAt(se+ue,G.TAB.length),ue-=G.TAB.length,ee===0?Y-=G.TAB.length:$-=G.TAB.length),ue+=X.length+1}),this.quill.update(h.default.sources.USER),this.quill.setSelection(Y,$,h.default.sources.SILENT)}}}}function F(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(K,G){this.quill.format(R,!G.format[R],h.default.sources.USER)}}}function B(R){if(typeof R=="string"||typeof R=="number")return B({key:R});if((typeof R>"u"?"undefined":O(R))==="object"&&(R=(0,b.default)(R,!1)),typeof R.key=="string")if(H.keys[R.key.toUpperCase()]!=null)R.key=H.keys[R.key.toUpperCase()];else if(R.key.length===1)R.key=R.key.toUpperCase().charCodeAt(0);else return null;return R.shortKey&&(R[U]=R.shortKey,delete R.shortKey),R}s.default=H,s.SHORTKEY=U}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function a(i,c){var r=[],h=!0,A=!1,_=void 0;try{for(var x=i[Symbol.iterator](),q;!(h=(q=x.next()).done)&&(r.push(q.value),!(c&&r.length===c));h=!0);}catch(E){A=!0,_=E}finally{try{!h&&x.return&&x.return()}finally{if(A)throw _}}return r}return function(i,c){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return a(i,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=function a(i,c,r){i===null&&(i=Function.prototype);var h=Object.getOwnPropertyDescriptor(i,c);if(h===void 0){var A=Object.getPrototypeOf(i);return A===null?void 0:a(A,c,r)}else{if("value"in h)return h.value;var _=h.get;return _===void 0?void 0:_.call(r)}},v=(function(){function a(i,c){for(var r=0;r<c.length;r++){var h=c[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,c,r){return c&&a(i.prototype,c),r&&a(i,r),i}})(),y=f(0),b=e(y),d=f(7),n=e(d);function e(a){return a&&a.__esModule?a:{default:a}}function t(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function u(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function o(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var l=(function(a){o(i,a),v(i,null,[{key:"value",value:function(){}}]);function i(c,r){t(this,i);var h=u(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,c));return h.selection=r,h.textNode=document.createTextNode(i.CONTENTS),h.domNode.appendChild(h.textNode),h._length=0,h}return v(i,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(r,h){if(this._length!==0)return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"format",this).call(this,r,h);for(var A=this,_=0;A!=null&&A.statics.scope!==b.default.Scope.BLOCK_BLOT;)_+=A.offset(A.parent),A=A.parent;A!=null&&(this._length=i.CONTENTS.length,A.optimize(),A.formatAt(_,i.CONTENTS.length,r,h),this._length=0)}},{key:"index",value:function(r,h){return r===this.textNode?0:p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,r,h)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var r=this.textNode,h=this.selection.getNativeRange(),A=void 0,_=void 0,x=void 0;if(h!=null&&h.start.node===r&&h.end.node===r){var q=[r,h.start.offset,h.end.offset];A=q[0],_=q[1],x=q[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==i.CONTENTS){var E=this.textNode.data.split(i.CONTENTS).join("");this.next instanceof n.default?(A=this.next.domNode,this.next.insertAt(0,E),this.textNode.data=i.CONTENTS):(this.textNode.data=E,this.parent.insertBefore(b.default.create(this.textNode),this),this.textNode=document.createTextNode(i.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),_!=null){var m=[_,x].map(function(N){return Math.max(0,Math.min(A.data.length,N-1))}),w=O(m,2);return _=w[0],x=w[1],{startNode:A,startOffset:_,endNode:A,endOffset:x}}}}},{key:"update",value:function(r,h){var A=this;if(r.some(function(x){return x.type==="characterData"&&x.target===A.textNode})){var _=this.restore();_&&(h.range=_)}}},{key:"value",value:function(){return""}}]),i})(b.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",s.default=l}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(0),p=b(O),v=f(4),y=b(v);function b(u){return u&&u.__esModule?u:{default:u}}function d(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function n(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function e(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var t=(function(u){e(o,u);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return o})(p.default.Container);t.allowedChildren=[y.default,v.BlockEmbed,t],s.default=t}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.ColorStyle=s.ColorClass=s.ColorAttributor=void 0;var O=(function(){function l(a,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,c){return i&&l(a.prototype,i),c&&l(a,c),a}})(),p=function l(a,i,c){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,i,c)}else{if("value"in r)return r.value;var A=r.get;return A===void 0?void 0:A.call(c)}},v=f(0),y=b(v);function b(l){return l&&l.__esModule?l:{default:l}}function d(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function n(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function e(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var t=(function(l){e(a,l);function a(){return d(this,a),n(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return O(a,[{key:"value",value:function(c){var r=p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,c);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map(function(h){return("00"+parseInt(h).toString(16)).slice(-2)}).join("")):r}}]),a})(y.default.Attributor.Style),u=new y.default.Attributor.Class("color","ql-color",{scope:y.default.Scope.INLINE}),o=new t("color","color",{scope:y.default.Scope.INLINE});s.ColorAttributor=t,s.ColorClass=u,s.ColorStyle=o}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.sanitize=s.default=void 0;var O=(function(){function o(l,a){for(var i=0;i<a.length;i++){var c=a[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(l,a,i){return a&&o(l.prototype,a),i&&o(l,i),l}})(),p=function o(l,a,i){l===null&&(l=Function.prototype);var c=Object.getOwnPropertyDescriptor(l,a);if(c===void 0){var r=Object.getPrototypeOf(l);return r===null?void 0:o(r,a,i)}else{if("value"in c)return c.value;var h=c.get;return h===void 0?void 0:h.call(i)}},v=f(6),y=b(v);function b(o){return o&&o.__esModule?o:{default:o}}function d(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return d(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return O(l,[{key:"format",value:function(i,c){if(i!==this.statics.blotName||!c)return p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,i,c);c=this.constructor.sanitize(c),this.domNode.setAttribute("href",c)}}],[{key:"create",value:function(i){var c=p(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,i);return i=this.sanitize(i),c.setAttribute("href",i),c.setAttribute("rel","noopener noreferrer"),c.setAttribute("target","_blank"),c}},{key:"formats",value:function(i){return i.getAttribute("href")}},{key:"sanitize",value:function(i){return u(i,this.PROTOCOL_WHITELIST)?i:this.SANITIZED_URL}}]),l})(y.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function u(o,l){var a=document.createElement("a");a.href=o;var i=a.href.slice(0,a.href.indexOf(":"));return l.indexOf(i)>-1}s.default=t,s.sanitize=u}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},p=(function(){function l(a,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,c){return i&&l(a.prototype,i),c&&l(a,c),a}})(),v=f(23),y=n(v),b=f(107),d=n(b);function n(l){return l&&l.__esModule?l:{default:l}}function e(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}var t=0;function u(l,a){l.setAttribute(a,l.getAttribute(a)!=="true")}var o=(function(){function l(a){var i=this;e(this,l),this.select=a,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){i.togglePicker()}),this.label.addEventListener("keydown",function(c){switch(c.keyCode){case y.default.keys.ENTER:i.togglePicker();break;case y.default.keys.ESCAPE:i.escape(),c.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return p(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(i){var c=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),i.hasAttribute("value")&&r.setAttribute("data-value",i.getAttribute("value")),i.textContent&&r.setAttribute("data-label",i.textContent),r.addEventListener("click",function(){c.selectItem(r,!0)}),r.addEventListener("keydown",function(h){switch(h.keyCode){case y.default.keys.ENTER:c.selectItem(r,!0),h.preventDefault();break;case y.default.keys.ESCAPE:c.escape(),h.preventDefault();break}}),r}},{key:"buildLabel",value:function(){var i=document.createElement("span");return i.classList.add("ql-picker-label"),i.innerHTML=d.default,i.tabIndex="0",i.setAttribute("role","button"),i.setAttribute("aria-expanded","false"),this.container.appendChild(i),i}},{key:"buildOptions",value:function(){var i=this,c=document.createElement("span");c.classList.add("ql-picker-options"),c.setAttribute("aria-hidden","true"),c.tabIndex="-1",c.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",c.id),this.options=c,[].slice.call(this.select.options).forEach(function(r){var h=i.buildItem(r);c.appendChild(h),r.selected===!0&&i.selectItem(h)}),this.container.appendChild(c)}},{key:"buildPicker",value:function(){var i=this;[].slice.call(this.select.attributes).forEach(function(c){i.container.setAttribute(c.name,c.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var i=this;this.close(),setTimeout(function(){return i.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(i){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=this.container.querySelector(".ql-selected");if(i!==r&&(r?.classList.remove("ql-selected"),i!=null&&(i.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(i.parentNode.children,i),i.hasAttribute("data-value")?this.label.setAttribute("data-value",i.getAttribute("data-value")):this.label.removeAttribute("data-value"),i.hasAttribute("data-label")?this.label.setAttribute("data-label",i.getAttribute("data-label")):this.label.removeAttribute("data-label"),c))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":O(Event))==="object"){var h=document.createEvent("Event");h.initEvent("change",!0,!0),this.select.dispatchEvent(h)}this.close()}}},{key:"update",value:function(){var i=void 0;if(this.select.selectedIndex>-1){var c=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];i=this.select.options[this.select.selectedIndex],this.selectItem(c)}else this.selectItem(null);var r=i!=null&&i!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),l})();s.default=o}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(0),p=j(O),v=f(5),y=j(v),b=f(4),d=j(b),n=f(16),e=j(n),t=f(25),u=j(t),o=f(24),l=j(o),a=f(35),i=j(a),c=f(6),r=j(c),h=f(22),A=j(h),_=f(7),x=j(_),q=f(55),E=j(q),m=f(42),w=j(m),N=f(23),P=j(N);function j(U){return U&&U.__esModule?U:{default:U}}y.default.register({"blots/block":d.default,"blots/block/embed":b.BlockEmbed,"blots/break":e.default,"blots/container":u.default,"blots/cursor":l.default,"blots/embed":i.default,"blots/inline":r.default,"blots/scroll":A.default,"blots/text":x.default,"modules/clipboard":E.default,"modules/history":w.default,"modules/keyboard":P.default}),p.default.register(d.default,e.default,l.default,r.default,A.default,x.default),s.default=y.default}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(1),p=(function(){function v(y){this.domNode=y,this.domNode[O.DATA_KEY]={blot:this}}return Object.defineProperty(v.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),v.create=function(y){if(this.tagName==null)throw new O.ParchmentError("Blot definition missing tagName");var b;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y).toString()===y&&(y=parseInt(y))),typeof y=="number"?b=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?b=document.createElement(y):b=document.createElement(this.tagName[0])):b=document.createElement(this.tagName),this.className&&b.classList.add(this.className),b},v.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},v.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return O.create(y)},v.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[O.DATA_KEY]},v.prototype.deleteAt=function(y,b){var d=this.isolate(y,b);d.remove()},v.prototype.formatAt=function(y,b,d,n){var e=this.isolate(y,b);if(O.query(d,O.Scope.BLOT)!=null&&n)e.wrap(d,n);else if(O.query(d,O.Scope.ATTRIBUTE)!=null){var t=O.create(this.statics.scope);e.wrap(t),t.format(d,n)}},v.prototype.insertAt=function(y,b,d){var n=d==null?O.create("text",b):O.create(b,d),e=this.split(y);this.parent.insertBefore(n,e)},v.prototype.insertInto=function(y,b){b===void 0&&(b=null),this.parent!=null&&this.parent.children.remove(this);var d=null;y.children.insertBefore(this,b),b!=null&&(d=b.domNode),(this.domNode.parentNode!=y.domNode||this.domNode.nextSibling!=d)&&y.domNode.insertBefore(this.domNode,d),this.parent=y,this.attach()},v.prototype.isolate=function(y,b){var d=this.split(y);return d.split(b),d},v.prototype.length=function(){return 1},v.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this==y?0:this.parent.children.offset(this)+this.parent.offset(y)},v.prototype.optimize=function(y){this.domNode[O.DATA_KEY]!=null&&delete this.domNode[O.DATA_KEY].mutations},v.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},v.prototype.replace=function(y){y.parent!=null&&(y.parent.insertBefore(this,y.next),y.remove())},v.prototype.replaceWith=function(y,b){var d=typeof y=="string"?O.create(y,b):y;return d.replace(this),d},v.prototype.split=function(y,b){return y===0?this:this.next},v.prototype.update=function(y,b){},v.prototype.wrap=function(y,b){var d=typeof y=="string"?O.create(y,b):y;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},v.blotName="abstract",v})();s.default=p}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(12),p=f(32),v=f(33),y=f(1),b=(function(){function d(n){this.attributes={},this.domNode=n,this.build()}return d.prototype.attribute=function(n,e){e?n.add(this.domNode,e)&&(n.value(this.domNode)!=null?this.attributes[n.attrName]=n:delete this.attributes[n.attrName]):(n.remove(this.domNode),delete this.attributes[n.attrName])},d.prototype.build=function(){var n=this;this.attributes={};var e=O.default.keys(this.domNode),t=p.default.keys(this.domNode),u=v.default.keys(this.domNode);e.concat(t).concat(u).forEach(function(o){var l=y.query(o,y.Scope.ATTRIBUTE);l instanceof O.default&&(n.attributes[l.attrName]=l)})},d.prototype.copy=function(n){var e=this;Object.keys(this.attributes).forEach(function(t){var u=e.attributes[t].value(e.domNode);n.format(t,u)})},d.prototype.move=function(n){var e=this;this.copy(n),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},d.prototype.values=function(){var n=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=n.attributes[t].value(n.domNode),e},{})},d})();s.default=b}),(function(g,s,f){var O=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(12);function v(b,d){var n=b.getAttribute("class")||"";return n.split(/\s+/).filter(function(e){return e.indexOf(d+"-")===0})}var y=(function(b){O(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.keys=function(n){return(n.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},d.prototype.add=function(n,e){return this.canAdd(n,e)?(this.remove(n),n.classList.add(this.keyName+"-"+e),!0):!1},d.prototype.remove=function(n){var e=v(n,this.keyName);e.forEach(function(t){n.classList.remove(t)}),n.classList.length===0&&n.removeAttribute("class")},d.prototype.value=function(n){var e=v(n,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(n,t)?t:""},d})(p.default);s.default=y}),(function(g,s,f){var O=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(12);function v(b){var d=b.split("-"),n=d.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return d[0]+n}var y=(function(b){O(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.keys=function(n){return(n.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},d.prototype.add=function(n,e){return this.canAdd(n,e)?(n.style[v(this.keyName)]=e,!0):!1},d.prototype.remove=function(n){n.style[v(this.keyName)]="",n.getAttribute("style")||n.removeAttribute("style")},d.prototype.value=function(n){var e=n.style[v(this.keyName)];return this.canAdd(n,e)?e:""},d})(p.default);s.default=y}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function y(b,d){for(var n=0;n<d.length;n++){var e=d[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}}return function(b,d,n){return d&&y(b.prototype,d),n&&y(b,n),b}})();function p(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var v=(function(){function y(b,d){p(this,y),this.quill=b,this.options=d,this.modules={}}return O(y,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(n){d.modules[n]==null&&d.addModule(n)})}},{key:"addModule",value:function(d){var n=this.quill.constructor.import("modules/"+d);return this.modules[d]=new n(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),y})();v.DEFAULTS={modules:{}},v.themes={default:v},s.default=v}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function a(i,c){for(var r=0;r<c.length;r++){var h=c[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,c,r){return c&&a(i.prototype,c),r&&a(i,r),i}})(),p=function a(i,c,r){i===null&&(i=Function.prototype);var h=Object.getOwnPropertyDescriptor(i,c);if(h===void 0){var A=Object.getPrototypeOf(i);return A===null?void 0:a(A,c,r)}else{if("value"in h)return h.value;var _=h.get;return _===void 0?void 0:_.call(r)}},v=f(0),y=n(v),b=f(7),d=n(b);function n(a){return a&&a.__esModule?a:{default:a}}function e(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function t(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function u(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var o="\uFEFF",l=(function(a){u(i,a);function i(c){e(this,i);var r=t(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,c));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach(function(h){r.contentNode.appendChild(h)}),r.leftGuard=document.createTextNode(o),r.rightGuard=document.createTextNode(o),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return O(i,[{key:"index",value:function(r,h){return r===this.leftGuard?0:r===this.rightGuard?1:p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"index",this).call(this,r,h)}},{key:"restore",value:function(r){var h=void 0,A=void 0,_=r.data.split(o).join("");if(r===this.leftGuard)if(this.prev instanceof d.default){var x=this.prev.length();this.prev.insertAt(x,_),h={startNode:this.prev.domNode,startOffset:x+_.length}}else A=document.createTextNode(_),this.parent.insertBefore(y.default.create(A),this),h={startNode:A,startOffset:_.length};else r===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,_),h={startNode:this.next.domNode,startOffset:_.length}):(A=document.createTextNode(_),this.parent.insertBefore(y.default.create(A),this.next),h={startNode:A,startOffset:_.length}));return r.data=o,h}},{key:"update",value:function(r,h){var A=this;r.forEach(function(_){if(_.type==="characterData"&&(_.target===A.leftGuard||_.target===A.rightGuard)){var x=A.restore(_.target);x&&(h.range=x)}})}}]),i})(y.default.Embed);s.default=l}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.AlignStyle=s.AlignClass=s.AlignAttribute=void 0;var O=f(0),p=v(O);function v(e){return e&&e.__esModule?e:{default:e}}var y={scope:p.default.Scope.BLOCK,whitelist:["right","center","justify"]},b=new p.default.Attributor.Attribute("align","align",y),d=new p.default.Attributor.Class("align","ql-align",y),n=new p.default.Attributor.Style("align","text-align",y);s.AlignAttribute=b,s.AlignClass=d,s.AlignStyle=n}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.BackgroundStyle=s.BackgroundClass=void 0;var O=f(0),p=y(O),v=f(26);function y(n){return n&&n.__esModule?n:{default:n}}var b=new p.default.Attributor.Class("background","ql-bg",{scope:p.default.Scope.INLINE}),d=new v.ColorAttributor("background","background-color",{scope:p.default.Scope.INLINE});s.BackgroundClass=b,s.BackgroundStyle=d}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.DirectionStyle=s.DirectionClass=s.DirectionAttribute=void 0;var O=f(0),p=v(O);function v(e){return e&&e.__esModule?e:{default:e}}var y={scope:p.default.Scope.BLOCK,whitelist:["rtl"]},b=new p.default.Attributor.Attribute("direction","dir",y),d=new p.default.Attributor.Class("direction","ql-direction",y),n=new p.default.Attributor.Style("direction","direction",y);s.DirectionAttribute=b,s.DirectionClass=d,s.DirectionStyle=n}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.FontClass=s.FontStyle=void 0;var O=(function(){function a(i,c){for(var r=0;r<c.length;r++){var h=c[r];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(i,h.key,h)}}return function(i,c,r){return c&&a(i.prototype,c),r&&a(i,r),i}})(),p=function a(i,c,r){i===null&&(i=Function.prototype);var h=Object.getOwnPropertyDescriptor(i,c);if(h===void 0){var A=Object.getPrototypeOf(i);return A===null?void 0:a(A,c,r)}else{if("value"in h)return h.value;var _=h.get;return _===void 0?void 0:_.call(r)}},v=f(0),y=b(v);function b(a){return a&&a.__esModule?a:{default:a}}function d(a,i){if(!(a instanceof i))throw new TypeError("Cannot call a class as a function")}function n(a,i){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:a}function e(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);a.prototype=Object.create(i&&i.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i)}var t={scope:y.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new y.default.Attributor.Class("font","ql-font",t),o=(function(a){e(i,a);function i(){return d(this,i),n(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return O(i,[{key:"value",value:function(r){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"value",this).call(this,r).replace(/["']/g,"")}}]),i})(y.default.Attributor.Style),l=new o("font","font-family",t);s.FontStyle=l,s.FontClass=u}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.SizeStyle=s.SizeClass=void 0;var O=f(0),p=v(O);function v(d){return d&&d.__esModule?d:{default:d}}var y=new p.default.Attributor.Class("size","ql-size",{scope:p.default.Scope.INLINE,whitelist:["small","large","huge"]}),b=new p.default.Attributor.Style("size","font-size",{scope:p.default.Scope.INLINE,whitelist:["10px","18px","32px"]});s.SizeClass=y,s.SizeStyle=b}),(function(g,s,f){g.exports={align:{"":f(76),center:f(77),right:f(78),justify:f(79)},background:f(80),blockquote:f(81),bold:f(82),clean:f(83),code:f(58),"code-block":f(58),color:f(84),direction:{"":f(85),rtl:f(86)},float:{center:f(87),full:f(88),left:f(89),right:f(90)},formula:f(91),header:{1:f(92),2:f(93)},italic:f(94),image:f(95),indent:{"+1":f(96),"-1":f(97)},link:f(98),list:{ordered:f(99),bullet:f(100),check:f(101)},script:{sub:f(102),super:f(103)},strike:f(104),underline:f(105),video:f(106)}}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.getLastChangeIndex=s.default=void 0;var O=(function(){function c(r,h){for(var A=0;A<h.length;A++){var _=h[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(r,_.key,_)}}return function(r,h,A){return h&&c(r.prototype,h),A&&c(r,A),r}})(),p=f(0),v=e(p),y=f(5),b=e(y),d=f(9),n=e(d);function e(c){return c&&c.__esModule?c:{default:c}}function t(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function u(c,r){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:c}function o(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);c.prototype=Object.create(r&&r.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(c,r):c.__proto__=r)}var l=(function(c){o(r,c);function r(h,A){t(this,r);var _=u(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,h,A));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(b.default.events.EDITOR_CHANGE,function(x,q,E,m){x!==b.default.events.TEXT_CHANGE||_.ignoreChange||(!_.options.userOnly||m===b.default.sources.USER?_.record(q,E):_.transform(q))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return O(r,[{key:"change",value:function(A,_){if(this.stack[A].length!==0){var x=this.stack[A].pop();this.stack[_].push(x),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(x[A],b.default.sources.USER),this.ignoreChange=!1;var q=i(x[A]);this.quill.setSelection(q)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(A,_){if(A.ops.length!==0){this.stack.redo=[];var x=this.quill.getContents().diff(_),q=Date.now();if(this.lastRecorded+this.options.delay>q&&this.stack.undo.length>0){var E=this.stack.undo.pop();x=x.compose(E.undo),A=E.redo.compose(A)}else this.lastRecorded=q;this.stack.undo.push({redo:A,undo:x}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(A){this.stack.undo.forEach(function(_){_.undo=A.transform(_.undo,!0),_.redo=A.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=A.transform(_.undo,!0),_.redo=A.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),r})(n.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function a(c){var r=c.ops[c.ops.length-1];return r==null?!1:r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith(`
`):r.attributes!=null?Object.keys(r.attributes).some(function(h){return v.default.query(h,v.default.Scope.BLOCK)!=null}):!1}function i(c){var r=c.reduce(function(A,_){return A+=_.delete||0,A},0),h=c.length()-r;return a(c)&&(h-=1),h}s.default=l,s.getLastChangeIndex=i}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BaseTooltip=void 0;var O=(function(){function L(C,F){for(var B=0;B<F.length;B++){var R=F[B];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}return function(C,F,B){return F&&L(C.prototype,F),B&&L(C,B),C}})(),p=function L(C,F,B){C===null&&(C=Function.prototype);var R=Object.getOwnPropertyDescriptor(C,F);if(R===void 0){var M=Object.getPrototypeOf(C);return M===null?void 0:L(M,F,B)}else{if("value"in R)return R.value;var K=R.get;return K===void 0?void 0:K.call(B)}},v=f(3),y=q(v),b=f(2),d=q(b),n=f(8),e=q(n),t=f(23),u=q(t),o=f(34),l=q(o),a=f(59),i=q(a),c=f(60),r=q(c),h=f(28),A=q(h),_=f(61),x=q(_);function q(L){return L&&L.__esModule?L:{default:L}}function E(L,C){if(!(L instanceof C))throw new TypeError("Cannot call a class as a function")}function m(L,C){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:L}function w(L,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);L.prototype=Object.create(C&&C.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(L,C):L.__proto__=C)}var N=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],j=[!1,"serif","monospace"],U=["1","2","3",!1],H=["small",!1,"large","huge"],Q=(function(L){w(C,L);function C(F,B){E(this,C);var R=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,F,B)),M=function K(G){if(!document.body.contains(F.root))return document.body.removeEventListener("click",K);R.tooltip!=null&&!R.tooltip.root.contains(G.target)&&document.activeElement!==R.tooltip.textbox&&!R.quill.hasFocus()&&R.tooltip.hide(),R.pickers!=null&&R.pickers.forEach(function(Y){Y.container.contains(G.target)||Y.close()})};return F.emitter.listenDOM("click",document.body,M),R}return O(C,[{key:"addModule",value:function(B){var R=p(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"addModule",this).call(this,B);return B==="toolbar"&&this.extendToolbar(R),R}},{key:"buildButtons",value:function(B,R){B.forEach(function(M){var K=M.getAttribute("class")||"";K.split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),R[G]!=null))if(G==="direction")M.innerHTML=R[G][""]+R[G].rtl;else if(typeof R[G]=="string")M.innerHTML=R[G];else{var Y=M.value||"";Y!=null&&R[G][Y]&&(M.innerHTML=R[G][Y])}})})}},{key:"buildPickers",value:function(B,R){var M=this;this.pickers=B.map(function(G){if(G.classList.contains("ql-align"))return G.querySelector("option")==null&&T(G,N),new r.default(G,R.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var Y=G.classList.contains("ql-background")?"background":"color";return G.querySelector("option")==null&&T(G,P,Y==="background"?"#ffffff":"#000000"),new i.default(G,R[Y])}else return G.querySelector("option")==null&&(G.classList.contains("ql-font")?T(G,j):G.classList.contains("ql-header")?T(G,U):G.classList.contains("ql-size")&&T(G,H)),new A.default(G)});var K=function(){M.pickers.forEach(function(Y){Y.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,K)}}]),C})(l.default);Q.DEFAULTS=(0,y.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var C=this,F=this.container.querySelector("input.ql-image[type=file]");F==null&&(F=document.createElement("input"),F.setAttribute("type","file"),F.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),F.classList.add("ql-image"),F.addEventListener("change",function(){if(F.files!=null&&F.files[0]!=null){var B=new FileReader;B.onload=function(R){var M=C.quill.getSelection(!0);C.quill.updateContents(new d.default().retain(M.index).delete(M.length).insert({image:R.target.result}),e.default.sources.USER),C.quill.setSelection(M.index+1,e.default.sources.SILENT),F.value=""},B.readAsDataURL(F.files[0])}}),this.container.appendChild(F)),F.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var D=(function(L){w(C,L);function C(F,B){E(this,C);var R=m(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,F,B));return R.textbox=R.root.querySelector('input[type="text"]'),R.listen(),R}return O(C,[{key:"listen",value:function(){var B=this;this.textbox.addEventListener("keydown",function(R){u.default.match(R,"enter")?(B.save(),R.preventDefault()):u.default.match(R,"escape")&&(B.cancel(),R.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),R!=null?this.textbox.value=R:B!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+B)||""),this.root.setAttribute("data-mode",B)}},{key:"restoreFocus",value:function(){var B=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=B}},{key:"save",value:function(){var B=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var R=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",B,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",B,e.default.sources.USER)),this.quill.root.scrollTop=R;break}case"video":B=I(B);case"formula":{if(!B)break;var M=this.quill.getSelection(!0);if(M!=null){var K=M.index+M.length;this.quill.insertEmbed(K,this.root.getAttribute("data-mode"),B,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(K+1," ",e.default.sources.USER),this.quill.setSelection(K+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),C})(x.default);function I(L){var C=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return C?(C[1]||"https")+"://www.youtube.com/embed/"+C[2]+"?showinfo=0":(C=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(C[1]||"https")+"://player.vimeo.com/video/"+C[2]+"/":L}function T(L,C){var F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;C.forEach(function(B){var R=document.createElement("option");B===F?R.setAttribute("selected","selected"):R.setAttribute("value",B),L.appendChild(R)})}s.BaseTooltip=D,s.default=Q}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function p(){this.head=this.tail=null,this.length=0}return p.prototype.append=function(){for(var v=[],y=0;y<arguments.length;y++)v[y]=arguments[y];this.insertBefore(v[0],null),v.length>1&&this.append.apply(this,v.slice(1))},p.prototype.contains=function(v){for(var y,b=this.iterator();y=b();)if(y===v)return!0;return!1},p.prototype.insertBefore=function(v,y){v&&(v.next=y,y!=null?(v.prev=y.prev,y.prev!=null&&(y.prev.next=v),y.prev=v,y===this.head&&(this.head=v)):this.tail!=null?(this.tail.next=v,v.prev=this.tail,this.tail=v):(v.prev=null,this.head=this.tail=v),this.length+=1)},p.prototype.offset=function(v){for(var y=0,b=this.head;b!=null;){if(b===v)return y;y+=b.length(),b=b.next}return-1},p.prototype.remove=function(v){this.contains(v)&&(v.prev!=null&&(v.prev.next=v.next),v.next!=null&&(v.next.prev=v.prev),v===this.head&&(this.head=v.next),v===this.tail&&(this.tail=v.prev),this.length-=1)},p.prototype.iterator=function(v){return v===void 0&&(v=this.head),function(){var y=v;return v!=null&&(v=v.next),y}},p.prototype.find=function(v,y){y===void 0&&(y=!1);for(var b,d=this.iterator();b=d();){var n=b.length();if(v<n||y&&v===n&&(b.next==null||b.next.length()!==0))return[b,v];v-=n}return[null,0]},p.prototype.forEach=function(v){for(var y,b=this.iterator();y=b();)v(y)},p.prototype.forEachAt=function(v,y,b){if(!(y<=0))for(var d=this.find(v),n=d[0],e=d[1],t,u=v-e,o=this.iterator(n);(t=o())&&u<v+y;){var l=t.length();v>u?b(t,v-u,Math.min(y,u+l-v)):b(t,0,Math.min(l,v+y-u)),u+=l}},p.prototype.map=function(v){return this.reduce(function(y,b){return y.push(v(b)),y},[])},p.prototype.reduce=function(v,y){for(var b,d=this.iterator();b=d();)y=v(y,b);return y},p})();s.default=O}),(function(g,s,f){var O=this&&this.__extends||(function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var u in t)t.hasOwnProperty(u)&&(e[u]=t[u])};return function(e,t){n(e,t);function u(){this.constructor=e}e.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(17),v=f(1),y={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},b=100,d=(function(n){O(e,n);function e(t){var u=n.call(this,t)||this;return u.scroll=u,u.observer=new MutationObserver(function(o){u.update(o)}),u.observer.observe(u.domNode,y),u.attach(),u}return e.prototype.detach=function(){n.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,u){this.update(),t===0&&u===this.length()?this.children.forEach(function(o){o.remove()}):n.prototype.deleteAt.call(this,t,u)},e.prototype.formatAt=function(t,u,o,l){this.update(),n.prototype.formatAt.call(this,t,u,o,l)},e.prototype.insertAt=function(t,u,o){this.update(),n.prototype.insertAt.call(this,t,u,o)},e.prototype.optimize=function(t,u){var o=this;t===void 0&&(t=[]),u===void 0&&(u={}),n.prototype.optimize.call(this,u);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var a=function(h,A){A===void 0&&(A=!0),!(h==null||h===o)&&h.domNode.parentNode!=null&&(h.domNode[v.DATA_KEY].mutations==null&&(h.domNode[v.DATA_KEY].mutations=[]),A&&a(h.parent))},i=function(h){h.domNode[v.DATA_KEY]==null||h.domNode[v.DATA_KEY].mutations==null||(h instanceof p.default&&h.children.forEach(i),h.optimize(u))},c=t,r=0;c.length>0;r+=1){if(r>=b)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach(function(h){var A=v.find(h.target,!0);A!=null&&(A.domNode===h.target&&(h.type==="childList"?(a(v.find(h.previousSibling,!1)),[].forEach.call(h.addedNodes,function(_){var x=v.find(_,!1);a(x,!1),x instanceof p.default&&x.children.forEach(function(q){a(q,!1)})})):h.type==="attributes"&&a(A.prev)),a(A))}),this.children.forEach(i),c=[].slice.call(this.observer.takeRecords()),l=c.slice();l.length>0;)t.push(l.pop())}},e.prototype.update=function(t,u){var o=this;u===void 0&&(u={}),t=t||this.observer.takeRecords(),t.map(function(l){var a=v.find(l.target,!0);return a==null?null:a.domNode[v.DATA_KEY].mutations==null?(a.domNode[v.DATA_KEY].mutations=[l],a):(a.domNode[v.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===o||l.domNode[v.DATA_KEY]==null||l.update(l.domNode[v.DATA_KEY].mutations||[],u)}),this.domNode[v.DATA_KEY].mutations!=null&&n.prototype.update.call(this,this.domNode[v.DATA_KEY].mutations,u),this.optimize(t,u)},e.blotName="scroll",e.defaultChild="block",e.scope=v.Scope.BLOCK_BLOT,e.tagName="DIV",e})(p.default);s.default=d}),(function(g,s,f){var O=this&&this.__extends||(function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t])};return function(n,e){d(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(18),v=f(1);function y(d,n){if(Object.keys(d).length!==Object.keys(n).length)return!1;for(var e in d)if(d[e]!==n[e])return!1;return!0}var b=(function(d){O(n,d);function n(){return d!==null&&d.apply(this,arguments)||this}return n.formats=function(e){if(e.tagName!==n.tagName)return d.formats.call(this,e)},n.prototype.format=function(e,t){var u=this;e===this.statics.blotName&&!t?(this.children.forEach(function(o){o instanceof p.default||(o=o.wrap(n.blotName,!0)),u.attributes.copy(o)}),this.unwrap()):d.prototype.format.call(this,e,t)},n.prototype.formatAt=function(e,t,u,o){if(this.formats()[u]!=null||v.query(u,v.Scope.ATTRIBUTE)){var l=this.isolate(e,t);l.format(u,o)}else d.prototype.formatAt.call(this,e,t,u,o)},n.prototype.optimize=function(e){d.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var u=this.next;u instanceof n&&u.prev===this&&y(t,u.formats())&&(u.moveChildren(this),u.remove())},n.blotName="inline",n.scope=v.Scope.INLINE_BLOT,n.tagName="SPAN",n})(p.default);s.default=b}),(function(g,s,f){var O=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(18),v=f(1),y=(function(b){O(d,b);function d(){return b!==null&&b.apply(this,arguments)||this}return d.formats=function(n){var e=v.query(d.blotName).tagName;if(n.tagName!==e)return b.formats.call(this,n)},d.prototype.format=function(n,e){v.query(n,v.Scope.BLOCK)!=null&&(n===this.statics.blotName&&!e?this.replaceWith(d.blotName):b.prototype.format.call(this,n,e))},d.prototype.formatAt=function(n,e,t,u){v.query(t,v.Scope.BLOCK)!=null?this.format(t,u):b.prototype.formatAt.call(this,n,e,t,u)},d.prototype.insertAt=function(n,e,t){if(t==null||v.query(e,v.Scope.INLINE)!=null)b.prototype.insertAt.call(this,n,e,t);else{var u=this.split(n),o=v.create(e,t);u.parent.insertBefore(o,u)}},d.prototype.update=function(n,e){navigator.userAgent.match(/Trident/)?this.build():b.prototype.update.call(this,n,e)},d.blotName="block",d.scope=v.Scope.BLOCK_BLOT,d.tagName="P",d})(p.default);s.default=y}),(function(g,s,f){var O=this&&this.__extends||(function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,d){b.__proto__=d}||function(b,d){for(var n in d)d.hasOwnProperty(n)&&(b[n]=d[n])};return function(b,d){y(b,d);function n(){this.constructor=b}b.prototype=d===null?Object.create(d):(n.prototype=d.prototype,new n)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(19),v=(function(y){O(b,y);function b(){return y!==null&&y.apply(this,arguments)||this}return b.formats=function(d){},b.prototype.format=function(d,n){y.prototype.formatAt.call(this,0,this.length(),d,n)},b.prototype.formatAt=function(d,n,e,t){d===0&&n===this.length()?this.format(e,t):y.prototype.formatAt.call(this,d,n,e,t)},b.prototype.formats=function(){return this.statics.formats(this.domNode)},b})(p.default);s.default=v}),(function(g,s,f){var O=this&&this.__extends||(function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,n){d.__proto__=n}||function(d,n){for(var e in n)n.hasOwnProperty(e)&&(d[e]=n[e])};return function(d,n){b(d,n);function e(){this.constructor=d}d.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}})();Object.defineProperty(s,"__esModule",{value:!0});var p=f(19),v=f(1),y=(function(b){O(d,b);function d(n){var e=b.call(this,n)||this;return e.text=e.statics.value(e.domNode),e}return d.create=function(n){return document.createTextNode(n)},d.value=function(n){var e=n.data;return e.normalize&&(e=e.normalize()),e},d.prototype.deleteAt=function(n,e){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+e)},d.prototype.index=function(n,e){return this.domNode===n?e:-1},d.prototype.insertAt=function(n,e,t){t==null?(this.text=this.text.slice(0,n)+e+this.text.slice(n),this.domNode.data=this.text):b.prototype.insertAt.call(this,n,e,t)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(n){b.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(n,e){return[this.domNode,n]},d.prototype.split=function(n,e){if(e===void 0&&(e=!1),!e){if(n===0)return this;if(n===this.length())return this.next}var t=v.create(this.domNode.splitText(n));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},d.prototype.update=function(n,e){var t=this;n.some(function(u){return u.type==="characterData"&&u.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=v.Scope.INLINE_BLOT,d})(p.default);s.default=y}),(function(g,s,f){var O=document.createElement("div");if(O.classList.toggle("test-class",!1),O.classList.contains("test-class")){var p=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(v,y){return arguments.length>1&&!this.contains(v)==!y?y:p.call(this,v)}}String.prototype.startsWith||(String.prototype.startsWith=function(v,y){return y=y||0,this.substr(y,v.length)===v}),String.prototype.endsWith||(String.prototype.endsWith=function(v,y){var b=this.toString();(typeof y!="number"||!isFinite(y)||Math.floor(y)!==y||y>b.length)&&(y=b.length),y-=v.length;var d=b.indexOf(v,y);return d!==-1&&d===y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var b=Object(this),d=b.length>>>0,n=arguments[1],e,t=0;t<d;t++)if(e=b[t],y.call(n,e,t,b))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})}),(function(g,s){var f=-1,O=1,p=0;function v(r,h,A){if(r==h)return r?[[p,r]]:[];(A<0||r.length<A)&&(A=null);var _=n(r,h),x=r.substring(0,_);r=r.substring(_),h=h.substring(_),_=e(r,h);var q=r.substring(r.length-_);r=r.substring(0,r.length-_),h=h.substring(0,h.length-_);var E=y(r,h);return x&&E.unshift([p,x]),q&&E.push([p,q]),u(E),A!=null&&(E=a(E,A)),E=i(E),E}function y(r,h){var A;if(!r)return[[O,h]];if(!h)return[[f,r]];var _=r.length>h.length?r:h,x=r.length>h.length?h:r,q=_.indexOf(x);if(q!=-1)return A=[[O,_.substring(0,q)],[p,x],[O,_.substring(q+x.length)]],r.length>h.length&&(A[0][0]=A[2][0]=f),A;if(x.length==1)return[[f,r],[O,h]];var E=t(r,h);if(E){var m=E[0],w=E[1],N=E[2],P=E[3],j=E[4],U=v(m,N),H=v(w,P);return U.concat([[p,j]],H)}return b(r,h)}function b(r,h){for(var A=r.length,_=h.length,x=Math.ceil((A+_)/2),q=x,E=2*x,m=new Array(E),w=new Array(E),N=0;N<E;N++)m[N]=-1,w[N]=-1;m[q+1]=0,w[q+1]=0;for(var P=A-_,j=P%2!=0,U=0,H=0,Q=0,D=0,I=0;I<x;I++){for(var T=-I+U;T<=I-H;T+=2){var L=q+T,C;T==-I||T!=I&&m[L-1]<m[L+1]?C=m[L+1]:C=m[L-1]+1;for(var F=C-T;C<A&&F<_&&r.charAt(C)==h.charAt(F);)C++,F++;if(m[L]=C,C>A)H+=2;else if(F>_)U+=2;else if(j){var B=q+P-T;if(B>=0&&B<E&&w[B]!=-1){var R=A-w[B];if(C>=R)return d(r,h,C,F)}}}for(var M=-I+Q;M<=I-D;M+=2){var B=q+M,R;M==-I||M!=I&&w[B-1]<w[B+1]?R=w[B+1]:R=w[B-1]+1;for(var K=R-M;R<A&&K<_&&r.charAt(A-R-1)==h.charAt(_-K-1);)R++,K++;if(w[B]=R,R>A)D+=2;else if(K>_)Q+=2;else if(!j){var L=q+P-M;if(L>=0&&L<E&&m[L]!=-1){var C=m[L],F=q+C-L;if(R=A-R,C>=R)return d(r,h,C,F)}}}}return[[f,r],[O,h]]}function d(r,h,A,_){var x=r.substring(0,A),q=h.substring(0,_),E=r.substring(A),m=h.substring(_),w=v(x,q),N=v(E,m);return w.concat(N)}function n(r,h){if(!r||!h||r.charAt(0)!=h.charAt(0))return 0;for(var A=0,_=Math.min(r.length,h.length),x=_,q=0;A<x;)r.substring(q,x)==h.substring(q,x)?(A=x,q=A):_=x,x=Math.floor((_-A)/2+A);return x}function e(r,h){if(!r||!h||r.charAt(r.length-1)!=h.charAt(h.length-1))return 0;for(var A=0,_=Math.min(r.length,h.length),x=_,q=0;A<x;)r.substring(r.length-x,r.length-q)==h.substring(h.length-x,h.length-q)?(A=x,q=A):_=x,x=Math.floor((_-A)/2+A);return x}function t(r,h){var A=r.length>h.length?r:h,_=r.length>h.length?h:r;if(A.length<4||_.length*2<A.length)return null;function x(H,Q,D){for(var I=H.substring(D,D+Math.floor(H.length/4)),T=-1,L="",C,F,B,R;(T=Q.indexOf(I,T+1))!=-1;){var M=n(H.substring(D),Q.substring(T)),K=e(H.substring(0,D),Q.substring(0,T));L.length<K+M&&(L=Q.substring(T-K,T)+Q.substring(T,T+M),C=H.substring(0,D-K),F=H.substring(D+M),B=Q.substring(0,T-K),R=Q.substring(T+M))}return L.length*2>=H.length?[C,F,B,R,L]:null}var q=x(A,_,Math.ceil(A.length/4)),E=x(A,_,Math.ceil(A.length/2)),m;if(!q&&!E)return null;E?q?m=q[4].length>E[4].length?q:E:m=E:m=q;var w,N,P,j;r.length>h.length?(w=m[0],N=m[1],P=m[2],j=m[3]):(P=m[0],j=m[1],w=m[2],N=m[3]);var U=m[4];return[w,N,P,j,U]}function u(r){r.push([p,""]);for(var h=0,A=0,_=0,x="",q="",E;h<r.length;)switch(r[h][0]){case O:_++,q+=r[h][1],h++;break;case f:A++,x+=r[h][1],h++;break;case p:A+_>1?(A!==0&&_!==0&&(E=n(q,x),E!==0&&(h-A-_>0&&r[h-A-_-1][0]==p?r[h-A-_-1][1]+=q.substring(0,E):(r.splice(0,0,[p,q.substring(0,E)]),h++),q=q.substring(E),x=x.substring(E)),E=e(q,x),E!==0&&(r[h][1]=q.substring(q.length-E)+r[h][1],q=q.substring(0,q.length-E),x=x.substring(0,x.length-E))),A===0?r.splice(h-_,A+_,[O,q]):_===0?r.splice(h-A,A+_,[f,x]):r.splice(h-A-_,A+_,[f,x],[O,q]),h=h-A-_+(A?1:0)+(_?1:0)+1):h!==0&&r[h-1][0]==p?(r[h-1][1]+=r[h][1],r.splice(h,1)):h++,_=0,A=0,x="",q="";break}r[r.length-1][1]===""&&r.pop();var m=!1;for(h=1;h<r.length-1;)r[h-1][0]==p&&r[h+1][0]==p&&(r[h][1].substring(r[h][1].length-r[h-1][1].length)==r[h-1][1]?(r[h][1]=r[h-1][1]+r[h][1].substring(0,r[h][1].length-r[h-1][1].length),r[h+1][1]=r[h-1][1]+r[h+1][1],r.splice(h-1,1),m=!0):r[h][1].substring(0,r[h+1][1].length)==r[h+1][1]&&(r[h-1][1]+=r[h+1][1],r[h][1]=r[h][1].substring(r[h+1][1].length)+r[h+1][1],r.splice(h+1,1),m=!0)),h++;m&&u(r)}var o=v;o.INSERT=O,o.DELETE=f,o.EQUAL=p,g.exports=o;function l(r,h){if(h===0)return[p,r];for(var A=0,_=0;_<r.length;_++){var x=r[_];if(x[0]===f||x[0]===p){var q=A+x[1].length;if(h===q)return[_+1,r];if(h<q){r=r.slice();var E=h-A,m=[x[0],x[1].slice(0,E)],w=[x[0],x[1].slice(E)];return r.splice(_,1,m,w),[_+1,r]}else A=q}}throw new Error("cursor_pos is out of bounds!")}function a(r,h){var A=l(r,h),_=A[1],x=A[0],q=_[x],E=_[x+1];if(q==null)return r;if(q[0]!==p)return r;if(E!=null&&q[1]+E[1]===E[1]+q[1])return _.splice(x,2,E,q),c(_,x,2);if(E!=null&&E[1].indexOf(q[1])===0){_.splice(x,2,[E[0],q[1]],[0,q[1]]);var m=E[1].slice(q[1].length);return m.length>0&&_.splice(x+2,0,[E[0],m]),c(_,x,3)}else return r}function i(r){for(var h=!1,A=function(E){return E.charCodeAt(0)>=56320&&E.charCodeAt(0)<=57343},_=function(E){return E.charCodeAt(E.length-1)>=55296&&E.charCodeAt(E.length-1)<=56319},x=2;x<r.length;x+=1)r[x-2][0]===p&&_(r[x-2][1])&&r[x-1][0]===f&&A(r[x-1][1])&&r[x][0]===O&&A(r[x][1])&&(h=!0,r[x-1][1]=r[x-2][1].slice(-1)+r[x-1][1],r[x][1]=r[x-2][1].slice(-1)+r[x][1],r[x-2][1]=r[x-2][1].slice(0,-1));if(!h)return r;for(var q=[],x=0;x<r.length;x+=1)r[x][1].length>0&&q.push(r[x]);return q}function c(r,h,A){for(var _=h+A-1;_>=0&&_>=h-1;_--)if(_+1<r.length){var x=r[_],q=r[_+1];x[0]===q[1]&&r.splice(_,2,[x[0],x[1]+q[1]])}return r}}),(function(g,s){s=g.exports=typeof Object.keys=="function"?Object.keys:f,s.shim=f;function f(O){var p=[];for(var v in O)p.push(v);return p}}),(function(g,s){var f=(function(){return Object.prototype.toString.call(arguments)})()=="[object Arguments]";s=g.exports=f?O:p,s.supported=O;function O(v){return Object.prototype.toString.call(v)=="[object Arguments]"}s.unsupported=p;function p(v){return v&&typeof v=="object"&&typeof v.length=="number"&&Object.prototype.hasOwnProperty.call(v,"callee")&&!Object.prototype.propertyIsEnumerable.call(v,"callee")||!1}}),(function(g,s){var f=Object.prototype.hasOwnProperty,O="~";function p(){}Object.create&&(p.prototype=Object.create(null),new p().__proto__||(O=!1));function v(b,d,n){this.fn=b,this.context=d,this.once=n||!1}function y(){this._events=new p,this._eventsCount=0}y.prototype.eventNames=function(){var d=[],n,e;if(this._eventsCount===0)return d;for(e in n=this._events)f.call(n,e)&&d.push(O?e.slice(1):e);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(n)):d},y.prototype.listeners=function(d,n){var e=O?O+d:d,t=this._events[e];if(n)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var u=0,o=t.length,l=new Array(o);u<o;u++)l[u]=t[u].fn;return l},y.prototype.emit=function(d,n,e,t,u,o){var l=O?O+d:d;if(!this._events[l])return!1;var a=this._events[l],i=arguments.length,c,r;if(a.fn){switch(a.once&&this.removeListener(d,a.fn,void 0,!0),i){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,n),!0;case 3:return a.fn.call(a.context,n,e),!0;case 4:return a.fn.call(a.context,n,e,t),!0;case 5:return a.fn.call(a.context,n,e,t,u),!0;case 6:return a.fn.call(a.context,n,e,t,u,o),!0}for(r=1,c=new Array(i-1);r<i;r++)c[r-1]=arguments[r];a.fn.apply(a.context,c)}else{var h=a.length,A;for(r=0;r<h;r++)switch(a[r].once&&this.removeListener(d,a[r].fn,void 0,!0),i){case 1:a[r].fn.call(a[r].context);break;case 2:a[r].fn.call(a[r].context,n);break;case 3:a[r].fn.call(a[r].context,n,e);break;case 4:a[r].fn.call(a[r].context,n,e,t);break;default:if(!c)for(A=1,c=new Array(i-1);A<i;A++)c[A-1]=arguments[A];a[r].fn.apply(a[r].context,c)}}return!0},y.prototype.on=function(d,n,e){var t=new v(n,e||this),u=O?O+d:d;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],t]:this._events[u].push(t):(this._events[u]=t,this._eventsCount++),this},y.prototype.once=function(d,n,e){var t=new v(n,e||this,!0),u=O?O+d:d;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],t]:this._events[u].push(t):(this._events[u]=t,this._eventsCount++),this},y.prototype.removeListener=function(d,n,e,t){var u=O?O+d:d;if(!this._events[u])return this;if(!n)return--this._eventsCount===0?this._events=new p:delete this._events[u],this;var o=this._events[u];if(o.fn)o.fn===n&&(!t||o.once)&&(!e||o.context===e)&&(--this._eventsCount===0?this._events=new p:delete this._events[u]);else{for(var l=0,a=[],i=o.length;l<i;l++)(o[l].fn!==n||t&&!o[l].once||e&&o[l].context!==e)&&a.push(o[l]);a.length?this._events[u]=a.length===1?a[0]:a:--this._eventsCount===0?this._events=new p:delete this._events[u]}return this},y.prototype.removeAllListeners=function(d){var n;return d?(n=O?O+d:d,this._events[n]&&(--this._eventsCount===0?this._events=new p:delete this._events[n])):(this._events=new p,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prototype.setMaxListeners=function(){return this},y.prefixed=O,y.EventEmitter=y,typeof g<"u"&&(g.exports=y)}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.matchText=s.matchSpacing=s.matchNewline=s.matchBlot=s.matchAttributor=s.default=void 0;var O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},p=(function(){function W(V,X){var ee=[],Z=!0,ie=!1,ne=void 0;try{for(var oe=V[Symbol.iterator](),he;!(Z=(he=oe.next()).done)&&(ee.push(he.value),!(X&&ee.length===X));Z=!0);}catch(ve){ie=!0,ne=ve}finally{try{!Z&&oe.return&&oe.return()}finally{if(ie)throw ne}}return ee}return function(V,X){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return W(V,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),v=(function(){function W(V,X){for(var ee=0;ee<X.length;ee++){var Z=X[ee];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(V,Z.key,Z)}}return function(V,X,ee){return X&&W(V.prototype,X),ee&&W(V,ee),V}})(),y=f(3),b=w(y),d=f(2),n=w(d),e=f(0),t=w(e),u=f(5),o=w(u),l=f(10),a=w(l),i=f(9),c=w(i),r=f(36),h=f(37),A=f(13),_=w(A),x=f(26),q=f(38),E=f(39),m=f(40);function w(W){return W&&W.__esModule?W:{default:W}}function N(W,V,X){return V in W?Object.defineProperty(W,V,{value:X,enumerable:!0,configurable:!0,writable:!0}):W[V]=X,W}function P(W,V){if(!(W instanceof V))throw new TypeError("Cannot call a class as a function")}function j(W,V){if(!W)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:W}function U(W,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);W.prototype=Object.create(V&&V.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(W,V):W.__proto__=V)}var H=(0,a.default)("quill:clipboard"),Q="__ql-matcher",D=[[Node.TEXT_NODE,se],[Node.TEXT_NODE,ae],["br",$],[Node.ELEMENT_NODE,ae],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,ce],["li",re],["b",K.bind(K,"bold")],["i",K.bind(K,"italic")],["style",te]],I=[r.AlignAttribute,q.DirectionAttribute].reduce(function(W,V){return W[V.keyName]=V,W},{}),T=[r.AlignStyle,h.BackgroundStyle,x.ColorStyle,q.DirectionStyle,E.FontStyle,m.SizeStyle].reduce(function(W,V){return W[V.keyName]=V,W},{}),L=(function(W){U(V,W);function V(X,ee){P(this,V);var Z=j(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,X,ee));return Z.quill.root.addEventListener("paste",Z.onPaste.bind(Z)),Z.container=Z.quill.addContainer("ql-clipboard"),Z.container.setAttribute("contenteditable",!0),Z.container.setAttribute("tabindex",-1),Z.matchers=[],D.concat(Z.options.matchers).forEach(function(ie){var ne=p(ie,2),oe=ne[0],he=ne[1];!ee.matchVisual&&he===ue||Z.addMatcher(oe,he)}),Z}return v(V,[{key:"addMatcher",value:function(ee,Z){this.matchers.push([ee,Z])}},{key:"convert",value:function(ee){if(typeof ee=="string")return this.container.innerHTML=ee.replace(/\>\r?\n +\</g,"><"),this.convert();var Z=this.quill.getFormat(this.quill.selection.savedRange.index);if(Z[_.default.blotName]){var ie=this.container.innerText;return this.container.innerHTML="",new n.default().insert(ie,N({},_.default.blotName,Z[_.default.blotName]))}var ne=this.prepareMatching(),oe=p(ne,2),he=oe[0],ve=oe[1],le=M(this.container,he,ve);return B(le,`
`)&&le.ops[le.ops.length-1].attributes==null&&(le=le.compose(new n.default().retain(le.length()-1).delete(1))),H.log("convert",this.container.innerHTML,le),this.container.innerHTML="",le}},{key:"dangerouslyPasteHTML",value:function(ee,Z){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof ee=="string")this.quill.setContents(this.convert(ee),Z),this.quill.setSelection(0,o.default.sources.SILENT);else{var ne=this.convert(Z);this.quill.updateContents(new n.default().retain(ee).concat(ne),ie),this.quill.setSelection(ee+ne.length(),o.default.sources.SILENT)}}},{key:"onPaste",value:function(ee){var Z=this;if(!(ee.defaultPrevented||!this.quill.isEnabled())){var ie=this.quill.getSelection(),ne=new n.default().retain(ie.index),oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(o.default.sources.SILENT),setTimeout(function(){ne=ne.concat(Z.convert()).delete(ie.length),Z.quill.updateContents(ne,o.default.sources.USER),Z.quill.setSelection(ne.length()-ie.length,o.default.sources.SILENT),Z.quill.scrollingContainer.scrollTop=oe,Z.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ee=this,Z=[],ie=[];return this.matchers.forEach(function(ne){var oe=p(ne,2),he=oe[0],ve=oe[1];switch(he){case Node.TEXT_NODE:ie.push(ve);break;case Node.ELEMENT_NODE:Z.push(ve);break;default:[].forEach.call(ee.container.querySelectorAll(he),function(le){le[Q]=le[Q]||[],le[Q].push(ve)});break}}),[Z,ie]}}]),V})(c.default);L.DEFAULTS={matchers:[],matchVisual:!0};function C(W,V,X){return(typeof V>"u"?"undefined":O(V))==="object"?Object.keys(V).reduce(function(ee,Z){return C(ee,Z,V[Z])},W):W.reduce(function(ee,Z){return Z.attributes&&Z.attributes[V]?ee.push(Z):ee.insert(Z.insert,(0,b.default)({},N({},V,X),Z.attributes))},new n.default)}function F(W){if(W.nodeType!==Node.ELEMENT_NODE)return{};var V="__ql-computed-style";return W[V]||(W[V]=window.getComputedStyle(W))}function B(W,V){for(var X="",ee=W.ops.length-1;ee>=0&&X.length<V.length;--ee){var Z=W.ops[ee];if(typeof Z.insert!="string")break;X=Z.insert+X}return X.slice(-1*V.length)===V}function R(W){if(W.childNodes.length===0)return!1;var V=F(W);return["block","list-item"].indexOf(V.display)>-1}function M(W,V,X){return W.nodeType===W.TEXT_NODE?X.reduce(function(ee,Z){return Z(W,ee)},new n.default):W.nodeType===W.ELEMENT_NODE?[].reduce.call(W.childNodes||[],function(ee,Z){var ie=M(Z,V,X);return Z.nodeType===W.ELEMENT_NODE&&(ie=V.reduce(function(ne,oe){return oe(Z,ne)},ie),ie=(Z[Q]||[]).reduce(function(ne,oe){return oe(Z,ne)},ie)),ee.concat(ie)},new n.default):new n.default}function K(W,V,X){return C(X,W,!0)}function G(W,V){var X=t.default.Attributor.Attribute.keys(W),ee=t.default.Attributor.Class.keys(W),Z=t.default.Attributor.Style.keys(W),ie={};return X.concat(ee).concat(Z).forEach(function(ne){var oe=t.default.query(ne,t.default.Scope.ATTRIBUTE);oe!=null&&(ie[oe.attrName]=oe.value(W),ie[oe.attrName])||(oe=I[ne],oe!=null&&(oe.attrName===ne||oe.keyName===ne)&&(ie[oe.attrName]=oe.value(W)||void 0),oe=T[ne],oe!=null&&(oe.attrName===ne||oe.keyName===ne)&&(oe=T[ne],ie[oe.attrName]=oe.value(W)||void 0))}),Object.keys(ie).length>0&&(V=C(V,ie)),V}function Y(W,V){var X=t.default.query(W);if(X==null)return V;if(X.prototype instanceof t.default.Embed){var ee={},Z=X.value(W);Z!=null&&(ee[X.blotName]=Z,V=new n.default().insert(ee,X.formats(W)))}else typeof X.formats=="function"&&(V=C(V,X.blotName,X.formats(W)));return V}function $(W,V){return B(V,`
`)||V.insert(`
`),V}function te(){return new n.default}function re(W,V){var X=t.default.query(W);if(X==null||X.blotName!=="list-item"||!B(V,`
`))return V;for(var ee=-1,Z=W.parentNode;!Z.classList.contains("ql-clipboard");)(t.default.query(Z)||{}).blotName==="list"&&(ee+=1),Z=Z.parentNode;return ee<=0?V:V.compose(new n.default().retain(V.length()-1).retain(1,{indent:ee}))}function ae(W,V){return B(V,`
`)||(R(W)||V.length()>0&&W.nextSibling&&R(W.nextSibling))&&V.insert(`
`),V}function ue(W,V){if(R(W)&&W.nextElementSibling!=null&&!B(V,`

`)){var X=W.offsetHeight+parseFloat(F(W).marginTop)+parseFloat(F(W).marginBottom);W.nextElementSibling.offsetTop>W.offsetTop+X*1.5&&V.insert(`
`)}return V}function ce(W,V){var X={},ee=W.style||{};return ee.fontStyle&&F(W).fontStyle==="italic"&&(X.italic=!0),ee.fontWeight&&(F(W).fontWeight.startsWith("bold")||parseInt(F(W).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&(V=C(V,X)),parseFloat(ee.textIndent||0)>0&&(V=new n.default().insert("	").concat(V)),V}function se(W,V){var X=W.data;if(W.parentNode.tagName==="O:P")return V.insert(X.trim());if(X.trim().length===0&&W.parentNode.classList.contains("ql-clipboard"))return V;if(!F(W.parentNode).whiteSpace.startsWith("pre")){var ee=function(ie,ne){return ne=ne.replace(/[^\u00a0]/g,""),ne.length<1&&ie?" ":ne};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,ee.bind(ee,!0)),(W.previousSibling==null&&R(W.parentNode)||W.previousSibling!=null&&R(W.previousSibling))&&(X=X.replace(/^\s+/,ee.bind(ee,!1))),(W.nextSibling==null&&R(W.parentNode)||W.nextSibling!=null&&R(W.nextSibling))&&(X=X.replace(/\s+$/,ee.bind(ee,!1)))}return V.insert(X)}s.default=L,s.matchAttributor=G,s.matchBlot=Y,s.matchNewline=ae,s.matchSpacing=ue,s.matchText=se}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function u(o,l){for(var a=0;a<l.length;a++){var i=l[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}return function(o,l,a){return l&&u(o.prototype,l),a&&u(o,a),o}})(),p=function u(o,l,a){o===null&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,l);if(i===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:u(c,l,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},v=f(6),y=b(v);function b(u){return u&&u.__esModule?u:{default:u}}function d(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function n(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function e(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var t=(function(u){e(o,u);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return O(o,[{key:"optimize",value:function(a){p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"optimize",this).call(this,a),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return p(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),o})(y.default);t.blotName="bold",t.tagName=["STRONG","B"],s.default=t}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.addControls=s.default=void 0;var O=(function(){function m(w,N){var P=[],j=!0,U=!1,H=void 0;try{for(var Q=w[Symbol.iterator](),D;!(j=(D=Q.next()).done)&&(P.push(D.value),!(N&&P.length===N));j=!0);}catch(I){U=!0,H=I}finally{try{!j&&Q.return&&Q.return()}finally{if(U)throw H}}return P}return function(w,N){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return m(w,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=(function(){function m(w,N){for(var P=0;P<N.length;P++){var j=N[P];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(w,j.key,j)}}return function(w,N,P){return N&&m(w.prototype,N),P&&m(w,P),w}})(),v=f(2),y=a(v),b=f(0),d=a(b),n=f(5),e=a(n),t=f(10),u=a(t),o=f(9),l=a(o);function a(m){return m&&m.__esModule?m:{default:m}}function i(m,w,N){return w in m?Object.defineProperty(m,w,{value:N,enumerable:!0,configurable:!0,writable:!0}):m[w]=N,m}function c(m,w){if(!(m instanceof w))throw new TypeError("Cannot call a class as a function")}function r(m,w){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:m}function h(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);m.prototype=Object.create(w&&w.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(m,w):m.__proto__=w)}var A=(0,u.default)("quill:toolbar"),_=(function(m){h(w,m);function w(N,P){c(this,w);var j=r(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,N,P));if(Array.isArray(j.options.container)){var U=document.createElement("div");q(U,j.options.container),N.container.parentNode.insertBefore(U,N.container),j.container=U}else typeof j.options.container=="string"?j.container=document.querySelector(j.options.container):j.container=j.options.container;if(!(j.container instanceof HTMLElement)){var H;return H=A.error("Container required for toolbar",j.options),r(j,H)}return j.container.classList.add("ql-toolbar"),j.controls=[],j.handlers={},Object.keys(j.options.handlers).forEach(function(Q){j.addHandler(Q,j.options.handlers[Q])}),[].forEach.call(j.container.querySelectorAll("button, select"),function(Q){j.attach(Q)}),j.quill.on(e.default.events.EDITOR_CHANGE,function(Q,D){Q===e.default.events.SELECTION_CHANGE&&j.update(D)}),j.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var Q=j.quill.selection.getRange(),D=O(Q,1),I=D[0];j.update(I)}),j}return p(w,[{key:"addHandler",value:function(P,j){this.handlers[P]=j}},{key:"attach",value:function(P){var j=this,U=[].find.call(P.classList,function(Q){return Q.indexOf("ql-")===0});if(U){if(U=U.slice(3),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null){A.warn("ignoring attaching to disabled format",U,P);return}if(d.default.query(U)==null){A.warn("ignoring attaching to nonexistent format",U,P);return}}var H=P.tagName==="SELECT"?"change":"click";P.addEventListener(H,function(Q){var D=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var I=P.options[P.selectedIndex];I.hasAttribute("selected")?D=!1:D=I.value||!1}else P.classList.contains("ql-active")?D=!1:D=P.value||!P.hasAttribute("value"),Q.preventDefault();j.quill.focus();var T=j.quill.selection.getRange(),L=O(T,1),C=L[0];if(j.handlers[U]!=null)j.handlers[U].call(j,D);else if(d.default.query(U).prototype instanceof d.default.Embed){if(D=prompt("Enter "+U),!D)return;j.quill.updateContents(new y.default().retain(C.index).delete(C.length).insert(i({},U,D)),e.default.sources.USER)}else j.quill.format(U,D,e.default.sources.USER);j.update(C)}),this.controls.push([U,P])}}},{key:"update",value:function(P){var j=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(U){var H=O(U,2),Q=H[0],D=H[1];if(D.tagName==="SELECT"){var I=void 0;if(P==null)I=null;else if(j[Q]==null)I=D.querySelector("option[selected]");else if(!Array.isArray(j[Q])){var T=j[Q];typeof T=="string"&&(T=T.replace(/\"/g,'\\"')),I=D.querySelector('option[value="'+T+'"]')}I==null?(D.value="",D.selectedIndex=-1):I.selected=!0}else if(P==null)D.classList.remove("ql-active");else if(D.hasAttribute("value")){var L=j[Q]===D.getAttribute("value")||j[Q]!=null&&j[Q].toString()===D.getAttribute("value")||j[Q]==null&&!D.getAttribute("value");D.classList.toggle("ql-active",L)}else D.classList.toggle("ql-active",j[Q]!=null)})}}]),w})(l.default);_.DEFAULTS={};function x(m,w,N){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+w),N!=null&&(P.value=N),m.appendChild(P)}function q(m,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(N){var P=document.createElement("span");P.classList.add("ql-formats"),N.forEach(function(j){if(typeof j=="string")x(P,j);else{var U=Object.keys(j)[0],H=j[U];Array.isArray(H)?E(P,U,H):x(P,U,H)}}),m.appendChild(P)})}function E(m,w,N){var P=document.createElement("select");P.classList.add("ql-"+w),N.forEach(function(j){var U=document.createElement("option");j!==!1?U.setAttribute("value",j):U.setAttribute("selected","selected"),P.appendChild(U)}),m.appendChild(P)}_.DEFAULTS={container:null,handlers:{clean:function(){var w=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(j){d.default.query(j,d.default.Scope.INLINE)!=null&&w.quill.format(j,!1)})}else this.quill.removeFormat(N,e.default.sources.USER)},direction:function(w){var N=this.quill.getFormat().align;w==="rtl"&&N==null?this.quill.format("align","right",e.default.sources.USER):!w&&N==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",w,e.default.sources.USER)},indent:function(w){var N=this.quill.getSelection(),P=this.quill.getFormat(N),j=parseInt(P.indent||0);if(w==="+1"||w==="-1"){var U=w==="+1"?1:-1;P.direction==="rtl"&&(U*=-1),this.quill.format("indent",j+U,e.default.sources.USER)}},link:function(w){w===!0&&(w=prompt("Enter link URL:")),this.quill.format("link",w,e.default.sources.USER)},list:function(w){var N=this.quill.getSelection(),P=this.quill.getFormat(N);w==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",w,e.default.sources.USER)}}},s.default=_,s.addControls=q}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function u(o,l){for(var a=0;a<l.length;a++){var i=l[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}return function(o,l,a){return l&&u(o.prototype,l),a&&u(o,a),o}})(),p=function u(o,l,a){o===null&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,l);if(i===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:u(c,l,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},v=f(28),y=b(v);function b(u){return u&&u.__esModule?u:{default:u}}function d(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function n(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function e(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var t=(function(u){e(o,u);function o(l,a){d(this,o);var i=n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return i.label.innerHTML=a,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(c){c.classList.add("ql-primary")}),i}return O(o,[{key:"buildItem",value:function(a){var i=p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"buildItem",this).call(this,a);return i.style.backgroundColor=a.getAttribute("value")||"",i}},{key:"selectItem",value:function(a,i){p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,a,i);var c=this.label.querySelector(".ql-color-label"),r=a&&a.getAttribute("data-value")||"";c&&(c.tagName==="line"?c.style.stroke=r:c.style.fill=r)}}]),o})(y.default);s.default=t}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function u(o,l){for(var a=0;a<l.length;a++){var i=l[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}return function(o,l,a){return l&&u(o.prototype,l),a&&u(o,a),o}})(),p=function u(o,l,a){o===null&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,l);if(i===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:u(c,l,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},v=f(28),y=b(v);function b(u){return u&&u.__esModule?u:{default:u}}function d(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function n(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function e(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var t=(function(u){e(o,u);function o(l,a){d(this,o);var i=n(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),function(c){c.innerHTML=a[c.getAttribute("data-value")||""]}),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return O(o,[{key:"selectItem",value:function(a,i){p(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"selectItem",this).call(this,a,i),a=a||this.defaultItem,this.label.innerHTML=a.innerHTML}}]),o})(y.default);s.default=t}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function y(b,d){for(var n=0;n<d.length;n++){var e=d[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}}return function(b,d,n){return d&&y(b.prototype,d),n&&y(b,n),b}})();function p(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}var v=(function(){function y(b,d){var n=this;p(this,y),this.quill=b,this.boundsContainer=d||document.body,this.root=b.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"}),this.hide()}return O(y,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var n=d.left+d.width/2-this.root.offsetWidth/2,e=d.bottom+this.quill.root.scrollTop;this.root.style.left=n+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),u=this.root.getBoundingClientRect(),o=0;if(u.right>t.right&&(o=t.right-u.right,this.root.style.left=n+o+"px"),u.left<t.left&&(o=t.left-u.left,this.root.style.left=n+o+"px"),u.bottom>t.bottom){var l=u.bottom-u.top,a=d.bottom-d.top+l;this.root.style.top=e-a+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),y})();s.default=v}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function E(m,w){var N=[],P=!0,j=!1,U=void 0;try{for(var H=m[Symbol.iterator](),Q;!(P=(Q=H.next()).done)&&(N.push(Q.value),!(w&&N.length===w));P=!0);}catch(D){j=!0,U=D}finally{try{!P&&H.return&&H.return()}finally{if(j)throw U}}return N}return function(m,w){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return E(m,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),p=function E(m,w,N){m===null&&(m=Function.prototype);var P=Object.getOwnPropertyDescriptor(m,w);if(P===void 0){var j=Object.getPrototypeOf(m);return j===null?void 0:E(j,w,N)}else{if("value"in P)return P.value;var U=P.get;return U===void 0?void 0:U.call(N)}},v=(function(){function E(m,w){for(var N=0;N<w.length;N++){var P=w[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(m,P.key,P)}}return function(m,w,N){return w&&E(m.prototype,w),N&&E(m,N),m}})(),y=f(3),b=c(y),d=f(8),n=c(d),e=f(43),t=c(e),u=f(27),o=c(u),l=f(15),a=f(41),i=c(a);function c(E){return E&&E.__esModule?E:{default:E}}function r(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}function h(E,m){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:E}function A(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);E.prototype=Object.create(m&&m.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(E,m):E.__proto__=m)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],x=(function(E){A(m,E);function m(w,N){r(this,m),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=_);var P=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w,N));return P.quill.container.classList.add("ql-snow"),P}return v(m,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),i.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),i.default),this.tooltip=new q(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(P,j){N.handlers.link.call(N,!j.format.link)})}}]),m})(t.default);x.DEFAULTS=(0,b.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(m){if(m){var w=this.quill.getSelection();if(w==null||w.length==0)return;var N=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var P=this.quill.theme.tooltip;P.edit("link",N)}else this.quill.format("link",!1)}}}}});var q=(function(E){A(m,E);function m(w,N){r(this,m);var P=h(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,w,N));return P.preview=P.root.querySelector("a.ql-preview"),P}return v(m,[{key:"listen",value:function(){var N=this;p(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(P){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),P.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(P){if(N.linkRange!=null){var j=N.linkRange;N.restoreFocus(),N.quill.formatText(j,"link",!1,n.default.sources.USER),delete N.linkRange}P.preventDefault(),N.hide()}),this.quill.on(n.default.events.SELECTION_CHANGE,function(P,j,U){if(P!=null){if(P.length===0&&U===n.default.sources.USER){var H=N.quill.scroll.descendant(o.default,P.index),Q=O(H,2),D=Q[0],I=Q[1];if(D!=null){N.linkRange=new l.Range(P.index-I,D.length());var T=o.default.formats(D.domNode);N.preview.textContent=T,N.preview.setAttribute("href",T),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){p(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),m})(e.BaseTooltip);q.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),s.default=x}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(29),p=Z(O),v=f(36),y=f(38),b=f(64),d=f(65),n=Z(d),e=f(66),t=Z(e),u=f(67),o=Z(u),l=f(37),a=f(26),i=f(39),c=f(40),r=f(56),h=Z(r),A=f(68),_=Z(A),x=f(27),q=Z(x),E=f(69),m=Z(E),w=f(70),N=Z(w),P=f(71),j=Z(P),U=f(72),H=Z(U),Q=f(73),D=Z(Q),I=f(13),T=Z(I),L=f(74),C=Z(L),F=f(75),B=Z(F),R=f(57),M=Z(R),K=f(41),G=Z(K),Y=f(28),$=Z(Y),te=f(59),re=Z(te),ae=f(60),ue=Z(ae),ce=f(61),se=Z(ce),W=f(108),V=Z(W),X=f(62),ee=Z(X);function Z(ie){return ie&&ie.__esModule?ie:{default:ie}}p.default.register({"attributors/attribute/direction":y.DirectionAttribute,"attributors/class/align":v.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":a.ColorClass,"attributors/class/direction":y.DirectionClass,"attributors/class/font":i.FontClass,"attributors/class/size":c.SizeClass,"attributors/style/align":v.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":a.ColorStyle,"attributors/style/direction":y.DirectionStyle,"attributors/style/font":i.FontStyle,"attributors/style/size":c.SizeStyle},!0),p.default.register({"formats/align":v.AlignClass,"formats/direction":y.DirectionClass,"formats/indent":b.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":a.ColorStyle,"formats/font":i.FontClass,"formats/size":c.SizeClass,"formats/blockquote":n.default,"formats/code-block":T.default,"formats/header":t.default,"formats/list":o.default,"formats/bold":h.default,"formats/code":I.Code,"formats/italic":_.default,"formats/link":q.default,"formats/script":m.default,"formats/strike":N.default,"formats/underline":j.default,"formats/image":H.default,"formats/video":D.default,"formats/list/item":u.ListItem,"modules/formula":C.default,"modules/syntax":B.default,"modules/toolbar":M.default,"themes/bubble":V.default,"themes/snow":ee.default,"ui/icons":G.default,"ui/picker":$.default,"ui/icon-picker":ue.default,"ui/color-picker":re.default,"ui/tooltip":se.default},!0),s.default=p.default}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.IndentClass=void 0;var O=(function(){function o(l,a){for(var i=0;i<a.length;i++){var c=a[i];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(l,a,i){return a&&o(l.prototype,a),i&&o(l,i),l}})(),p=function o(l,a,i){l===null&&(l=Function.prototype);var c=Object.getOwnPropertyDescriptor(l,a);if(c===void 0){var r=Object.getPrototypeOf(l);return r===null?void 0:o(r,a,i)}else{if("value"in c)return c.value;var h=c.get;return h===void 0?void 0:h.call(i)}},v=f(0),y=b(v);function b(o){return o&&o.__esModule?o:{default:o}}function d(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}function n(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:o}function e(o,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}var t=(function(o){e(l,o);function l(){return d(this,l),n(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return O(l,[{key:"add",value:function(i,c){if(c==="+1"||c==="-1"){var r=this.value(i)||0;c=c==="+1"?r+1:r-1}return c===0?(this.remove(i),!0):p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,i,c)}},{key:"canAdd",value:function(i,c){return p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,i,c)||p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,i,parseInt(c))}},{key:"value",value:function(i){return parseInt(p(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,i))||void 0}}]),l})(y.default.Attributor.Class),u=new t("indent","ql-indent",{scope:y.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});s.IndentClass=u}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(4),p=v(O);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);n.blotName="blockquote",n.tagName="blockquote",s.default=n}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function t(u,o){for(var l=0;l<o.length;l++){var a=o[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(u,a.key,a)}}return function(u,o,l){return o&&t(u.prototype,o),l&&t(u,l),u}})(),p=f(4),v=y(p);function y(t){return t&&t.__esModule?t:{default:t}}function b(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}function d(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:t}function n(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}var e=(function(t){n(u,t);function u(){return b(this,u),d(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return O(u,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),u})(v.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],s.default=e}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.ListItem=void 0;var O=(function(){function r(h,A){for(var _=0;_<A.length;_++){var x=A[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,A,_){return A&&r(h.prototype,A),_&&r(h,_),h}})(),p=function r(h,A,_){h===null&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,A);if(x===void 0){var q=Object.getPrototypeOf(h);return q===null?void 0:r(q,A,_)}else{if("value"in x)return x.value;var E=x.get;return E===void 0?void 0:E.call(_)}},v=f(0),y=t(v),b=f(4),d=t(b),n=f(25),e=t(n);function t(r){return r&&r.__esModule?r:{default:r}}function u(r,h,A){return h in r?Object.defineProperty(r,h,{value:A,enumerable:!0,configurable:!0,writable:!0}):r[h]=A,r}function o(r,h){if(!(r instanceof h))throw new TypeError("Cannot call a class as a function")}function l(r,h){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:r}function a(r,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);r.prototype=Object.create(h&&h.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(r,h):r.__proto__=h)}var i=(function(r){a(h,r);function h(){return o(this,h),l(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return O(h,[{key:"format",value:function(_,x){_===c.blotName&&!x?this.replaceWith(y.default.create(this.statics.scope)):p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"format",this).call(this,_,x)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,x){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,x),this):(this.parent.unwrap(),p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replaceWith",this).call(this,_,x))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:p(h.__proto__||Object.getPrototypeOf(h),"formats",this).call(this,_)}}]),h})(d.default);i.blotName="list-item",i.tagName="LI";var c=(function(r){a(h,r),O(h,null,[{key:"create",value:function(_){var x=_==="ordered"?"OL":"UL",q=p(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,x);return(_==="checked"||_==="unchecked")&&q.setAttribute("data-checked",_==="checked"),q}},{key:"formats",value:function(_){if(_.tagName==="OL")return"ordered";if(_.tagName==="UL")return _.hasAttribute("data-checked")?_.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function h(A){o(this,h);var _=l(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,A)),x=function(E){if(E.target.parentNode===A){var m=_.statics.formats(A),w=y.default.find(E.target);m==="checked"?w.format("list","unchecked"):m==="unchecked"&&w.format("list","checked")}};return A.addEventListener("touchstart",x),A.addEventListener("mousedown",x),_}return O(h,[{key:"format",value:function(_,x){this.children.length>0&&this.children.tail.format(_,x)}},{key:"formats",value:function(){return u({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,x){if(_ instanceof i)p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,_,x);else{var q=x==null?this.length():x.offset(this),E=this.split(q);E.parent.insertBefore(_,E)}}},{key:"optimize",value:function(_){p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,_);var x=this.next;x!=null&&x.prev===this&&x.statics.blotName===this.statics.blotName&&x.domNode.tagName===this.domNode.tagName&&x.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(x.moveChildren(this),x.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var x=y.default.create(this.statics.defaultChild);_.moveChildren(x),this.appendChild(x)}p(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"replace",this).call(this,_)}}]),h})(e.default);c.blotName="list",c.scope=y.default.Scope.BLOCK_BLOT,c.tagName=["OL","UL"],c.defaultChild="list-item",c.allowedChildren=[i],s.ListItem=i,s.default=c}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(56),p=v(O);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);n.blotName="italic",n.tagName=["EM","I"],s.default=n}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function u(o,l){for(var a=0;a<l.length;a++){var i=l[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,i.key,i)}}return function(o,l,a){return l&&u(o.prototype,l),a&&u(o,a),o}})(),p=function u(o,l,a){o===null&&(o=Function.prototype);var i=Object.getOwnPropertyDescriptor(o,l);if(i===void 0){var c=Object.getPrototypeOf(o);return c===null?void 0:u(c,l,a)}else{if("value"in i)return i.value;var r=i.get;return r===void 0?void 0:r.call(a)}},v=f(6),y=b(v);function b(u){return u&&u.__esModule?u:{default:u}}function d(u,o){if(!(u instanceof o))throw new TypeError("Cannot call a class as a function")}function n(u,o){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:u}function e(u,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);u.prototype=Object.create(o&&o.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(u,o):u.__proto__=o)}var t=(function(u){e(o,u);function o(){return d(this,o),n(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return O(o,null,[{key:"create",value:function(a){return a==="super"?document.createElement("sup"):a==="sub"?document.createElement("sub"):p(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,a)}},{key:"formats",value:function(a){if(a.tagName==="SUB")return"sub";if(a.tagName==="SUP")return"super"}}]),o})(y.default);t.blotName="script",t.tagName=["SUB","SUP"],s.default=t}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(6),p=v(O);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);n.blotName="strike",n.tagName="S",s.default=n}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=f(6),p=v(O);function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=(function(e){d(t,e);function t(){return y(this,t),b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t})(p.default);n.blotName="underline",n.tagName="U",s.default=n}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function l(a,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,c){return i&&l(a.prototype,i),c&&l(a,c),a}})(),p=function l(a,i,c){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,i,c)}else{if("value"in r)return r.value;var A=r.get;return A===void 0?void 0:A.call(c)}},v=f(0),y=d(v),b=f(27);function d(l){return l&&l.__esModule?l:{default:l}}function n(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function e(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function t(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var u=["alt","height","width"],o=(function(l){t(a,l);function a(){return n(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return O(a,[{key:"format",value:function(c,r){u.indexOf(c)>-1?r?this.domNode.setAttribute(c,r):this.domNode.removeAttribute(c):p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,c,r)}}],[{key:"create",value:function(c){var r=p(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,c);return typeof c=="string"&&r.setAttribute("src",this.sanitize(c)),r}},{key:"formats",value:function(c){return u.reduce(function(r,h){return c.hasAttribute(h)&&(r[h]=c.getAttribute(h)),r},{})}},{key:"match",value:function(c){return/\.(jpe?g|gif|png)$/.test(c)||/^data:image\/.+;base64/.test(c)}},{key:"sanitize",value:function(c){return(0,b.sanitize)(c,["http","https","data"])?c:"//:0"}},{key:"value",value:function(c){return c.getAttribute("src")}}]),a})(y.default.Embed);o.blotName="image",o.tagName="IMG",s.default=o}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0});var O=(function(){function l(a,i){for(var c=0;c<i.length;c++){var r=i[c];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(a,r.key,r)}}return function(a,i,c){return i&&l(a.prototype,i),c&&l(a,c),a}})(),p=function l(a,i,c){a===null&&(a=Function.prototype);var r=Object.getOwnPropertyDescriptor(a,i);if(r===void 0){var h=Object.getPrototypeOf(a);return h===null?void 0:l(h,i,c)}else{if("value"in r)return r.value;var A=r.get;return A===void 0?void 0:A.call(c)}},v=f(4),y=f(27),b=d(y);function d(l){return l&&l.__esModule?l:{default:l}}function n(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function e(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:l}function t(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}var u=["height","width"],o=(function(l){t(a,l);function a(){return n(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return O(a,[{key:"format",value:function(c,r){u.indexOf(c)>-1?r?this.domNode.setAttribute(c,r):this.domNode.removeAttribute(c):p(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,c,r)}}],[{key:"create",value:function(c){var r=p(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,c);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(c)),r}},{key:"formats",value:function(c){return u.reduce(function(r,h){return c.hasAttribute(h)&&(r[h]=c.getAttribute(h)),r},{})}},{key:"sanitize",value:function(c){return b.default.sanitize(c)}},{key:"value",value:function(c){return c.getAttribute("src")}}]),a})(v.BlockEmbed);o.blotName="video",o.className="ql-video",o.tagName="IFRAME",s.default=o}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.FormulaBlot=void 0;var O=(function(){function c(r,h){for(var A=0;A<h.length;A++){var _=h[A];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(r,_.key,_)}}return function(r,h,A){return h&&c(r.prototype,h),A&&c(r,A),r}})(),p=function c(r,h,A){r===null&&(r=Function.prototype);var _=Object.getOwnPropertyDescriptor(r,h);if(_===void 0){var x=Object.getPrototypeOf(r);return x===null?void 0:c(x,h,A)}else{if("value"in _)return _.value;var q=_.get;return q===void 0?void 0:q.call(A)}},v=f(35),y=t(v),b=f(5),d=t(b),n=f(9),e=t(n);function t(c){return c&&c.__esModule?c:{default:c}}function u(c,r){if(!(c instanceof r))throw new TypeError("Cannot call a class as a function")}function o(c,r){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:c}function l(c,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);c.prototype=Object.create(r&&r.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(c,r):c.__proto__=r)}var a=(function(c){l(r,c);function r(){return u(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return O(r,null,[{key:"create",value:function(A){var _=p(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,A);return typeof A=="string"&&(window.katex.render(A,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",A)),_}},{key:"value",value:function(A){return A.getAttribute("data-value")}}]),r})(y.default);a.blotName="formula",a.className="ql-formula",a.tagName="SPAN";var i=(function(c){l(r,c),O(r,null,[{key:"register",value:function(){d.default.register(a,!0)}}]);function r(){u(this,r);var h=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return h}return r})(e.default);s.FormulaBlot=a,s.default=i}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.CodeToken=s.CodeBlock=void 0;var O=(function(){function A(_,x){for(var q=0;q<x.length;q++){var E=x[q];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}return function(_,x,q){return x&&A(_.prototype,x),q&&A(_,q),_}})(),p=function A(_,x,q){_===null&&(_=Function.prototype);var E=Object.getOwnPropertyDescriptor(_,x);if(E===void 0){var m=Object.getPrototypeOf(_);return m===null?void 0:A(m,x,q)}else{if("value"in E)return E.value;var w=E.get;return w===void 0?void 0:w.call(q)}},v=f(0),y=o(v),b=f(5),d=o(b),n=f(9),e=o(n),t=f(13),u=o(t);function o(A){return A&&A.__esModule?A:{default:A}}function l(A,_){if(!(A instanceof _))throw new TypeError("Cannot call a class as a function")}function a(A,_){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:A}function i(A,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);A.prototype=Object.create(_&&_.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(A,_):A.__proto__=_)}var c=(function(A){i(_,A);function _(){return l(this,_),a(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return O(_,[{key:"replaceWith",value:function(q){this.domNode.textContent=this.domNode.textContent,this.attach(),p(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,q)}},{key:"highlight",value:function(q){var E=this.domNode.textContent;this.cachedText!==E&&((E.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=q(E),this.domNode.normalize(),this.attach()),this.cachedText=E)}}]),_})(u.default);c.className="ql-syntax";var r=new y.default.Attributor.Class("token","hljs",{scope:y.default.Scope.INLINE}),h=(function(A){i(_,A),O(_,null,[{key:"register",value:function(){d.default.register(r,!0),d.default.register(c,!0)}}]);function _(x,q){l(this,_);var E=a(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,x,q));if(typeof E.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var m=null;return E.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(m),m=setTimeout(function(){E.highlight(),m=null},E.options.interval)}),E.highlight(),E}return O(_,[{key:"highlight",value:function(){var q=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var E=this.quill.getSelection();this.quill.scroll.descendants(c).forEach(function(m){m.highlight(q.options.highlight)}),this.quill.update(d.default.sources.SILENT),E!=null&&this.quill.setSelection(E,d.default.sources.SILENT)}}}]),_})(e.default);h.DEFAULTS={highlight:(function(){return window.hljs==null?null:function(A){var _=window.hljs.highlightAuto(A);return _.value}})(),interval:1e3},s.CodeBlock=c,s.CodeToken=r,s.default=h}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'}),(function(g,s){g.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'}),(function(g,s){g.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'}),(function(g,s){g.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'}),(function(g,s){g.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'}),(function(g,s){g.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'}),(function(g,s,f){Object.defineProperty(s,"__esModule",{value:!0}),s.default=s.BubbleTooltip=void 0;var O=function _(x,q,E){x===null&&(x=Function.prototype);var m=Object.getOwnPropertyDescriptor(x,q);if(m===void 0){var w=Object.getPrototypeOf(x);return w===null?void 0:_(w,q,E)}else{if("value"in m)return m.value;var N=m.get;return N===void 0?void 0:N.call(E)}},p=(function(){function _(x,q){for(var E=0;E<q.length;E++){var m=q[E];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(x,m.key,m)}}return function(x,q,E){return q&&_(x.prototype,q),E&&_(x,E),x}})(),v=f(3),y=l(v),b=f(8),d=l(b),n=f(43),e=l(n),t=f(15),u=f(41),o=l(u);function l(_){return _&&_.__esModule?_:{default:_}}function a(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function i(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function c(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var r=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],h=(function(_){c(x,_);function x(q,E){a(this,x),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=r);var m=i(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,q,E));return m.quill.container.classList.add("ql-bubble"),m}return p(x,[{key:"extendToolbar",value:function(E){this.tooltip=new A(this.quill,this.options.bounds),this.tooltip.root.appendChild(E.container),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),o.default)}}]),x})(e.default);h.DEFAULTS=(0,y.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(x){x?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var A=(function(_){c(x,_);function x(q,E){a(this,x);var m=i(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,q,E));return m.quill.on(d.default.events.EDITOR_CHANGE,function(w,N,P,j){if(w===d.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&j===d.default.sources.USER){m.show(),m.root.style.left="0px",m.root.style.width="",m.root.style.width=m.root.offsetWidth+"px";var U=m.quill.getLines(N.index,N.length);if(U.length===1)m.position(m.quill.getBounds(N));else{var H=U[U.length-1],Q=m.quill.getIndex(H),D=Math.min(H.length()-1,N.index+N.length-Q),I=m.quill.getBounds(new t.Range(Q,D));m.position(I)}}else document.activeElement!==m.textbox&&m.quill.hasFocus()&&m.hide()}),m}return p(x,[{key:"listen",value:function(){var E=this;O(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){E.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!E.root.classList.contains("ql-hidden")){var m=E.quill.getSelection();m!=null&&E.position(E.quill.getBounds(m))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(E){var m=O(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"position",this).call(this,E),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",m===0)return m;w.style.marginLeft=-1*m-w.offsetWidth/2+"px"}}]),x})(n.BaseTooltip);A.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),s.BubbleTooltip=A,s.default=h}),(function(g,s,f){g.exports=f(63)})]).default})})(Ne)),Ne.exports}var pe,vi;function Xo(){if(vi)return pe;vi=1;var S=pe&&pe.__extends||(function(){var d=function(n,e){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,u){t.__proto__=u}||function(t,u){for(var o in u)u.hasOwnProperty(o)&&(t[o]=u[o])},d(n,e)};return function(n,e){d(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}})(),k=pe&&pe.__assign||function(){return k=Object.assign||function(d){for(var n,e=1,t=arguments.length;e<t;e++){n=arguments[e];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(d[u]=n[u])}return d},k.apply(this,arguments)},g=pe&&pe.__spreadArrays||function(){for(var d=0,n=0,e=arguments.length;n<e;n++)d+=arguments[n].length;for(var t=Array(d),u=0,n=0;n<e;n++)for(var o=arguments[n],l=0,a=o.length;l<a;l++,u++)t[u]=o[l];return t},s=pe&&pe.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},f=s(Xi()),O=s(Ji()),p=s(Zo()),v=s(Qo()),y=(function(d){S(n,d);function n(e){var t=d.call(this,e)||this;t.dirtyProps=["modules","formats","bounds","theme","children"],t.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],t.state={generation:0},t.selection=null,t.onEditorChange=function(o,l,a,i){var c,r,h,A;o==="text-change"?(r=(c=t).onEditorChangeText)===null||r===void 0||r.call(c,t.editor.root.innerHTML,l,i,t.unprivilegedEditor):o==="selection-change"&&((A=(h=t).onEditorChangeSelection)===null||A===void 0||A.call(h,l,i,t.unprivilegedEditor))};var u=t.isControlled()?e.value:e.defaultValue;return t.value=u??"",t}return n.prototype.validateProps=function(e){var t;if(f.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(f.default.Children.count(e.children)){var u=f.default.Children.only(e.children);if(((t=u)===null||t===void 0?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},n.prototype.shouldComponentUpdate=function(e,t){var u=this,o;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var l=this.getEditorContents(),a=(o=e.value,o??"");this.isEqualValue(a,l)||this.setEditorContents(this.editor,a)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),g(this.cleanProps,this.dirtyProps).some(function(i){return!p.default(e[i],u.props[i])})},n.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some(function(u){return!p.default(e[u],t.props[u])})},n.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},n.prototype.componentWillUnmount=function(){this.destroyEditor()},n.prototype.componentDidUpdate=function(e,t){var u=this;if(this.editor&&this.shouldComponentRegenerate(e)){var o=this.editor.getContents(),l=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:l},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var a=this.regenerationSnapshot,o=a.delta,i=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var c=this.editor;c.setContents(o),b(function(){return u.setEditorSelection(c,i)})}},n.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},n.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},n.prototype.isControlled=function(){return"value"in this.props},n.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},n.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},n.prototype.createEditor=function(e,t){var u=new v.default(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(u,t.tabIndex),this.hookEditor(u),u},n.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},n.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},n.prototype.getEditorContents=function(){return this.value},n.prototype.getEditorSelection=function(){return this.selection},n.prototype.isDelta=function(e){return e&&e.ops},n.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?p.default(e.ops,t.ops):p.default(e,t)},n.prototype.setEditorContents=function(e,t){var u=this;this.value=t;var o=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert(t)):e.setContents(t),b(function(){return u.setEditorSelection(e,o)})},n.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var u=e.getLength();t.index=Math.max(0,Math.min(t.index,u-1)),t.length=Math.max(0,Math.min(t.length,u-1-t.index)),e.setSelection(t)}},n.prototype.setEditorTabIndex=function(e,t){var u,o;!((o=(u=e)===null||u===void 0?void 0:u.scroll)===null||o===void 0)&&o.domNode&&(e.scroll.domNode.tabIndex=t)},n.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},n.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},n.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=O.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e},n.prototype.renderEditingArea=function(){var e=this,t=this.props,u=t.children,o=t.preserveWhitespace,l=this.state.generation,a={key:l,ref:function(i){e.editingArea=i}};return f.default.Children.count(u)?f.default.cloneElement(f.default.Children.only(u),a):o?f.default.createElement("pre",k({},a)):f.default.createElement("div",k({},a))},n.prototype.render=function(){var e;return f.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,e??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},n.prototype.onEditorChangeText=function(e,t,u,o){var l,a;if(this.editor){var i=this.isDelta(this.value)?o.getContents():o.getHTML();i!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=i,(a=(l=this.props).onChange)===null||a===void 0||a.call(l,e,t,u,o))}},n.prototype.onEditorChangeSelection=function(e,t,u){var o,l,a,i,c,r;if(this.editor){var h=this.getEditorSelection(),A=!h&&e,_=h&&!e;p.default(e,h)||(this.selection=e,(l=(o=this.props).onChangeSelection)===null||l===void 0||l.call(o,e,t,u),A?(i=(a=this.props).onFocus)===null||i===void 0||i.call(a,e,t,u):_&&((r=(c=this.props).onBlur)===null||r===void 0||r.call(c,h,t,u)))}},n.prototype.focus=function(){this.editor&&this.editor.focus()},n.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},n.displayName="React Quill",n.Quill=v.default,n.defaultProps={theme:"snow",modules:{},readOnly:!1},n})(f.default.Component);function b(d){Promise.resolve().then(d)}return pe=y,pe}var ge=Xo();const Jo=$i(ge),$o=ta({__proto__:null,default:Jo},[ge]);let pi=!1;const el=5*1024*1024,tl=25*1024*1024,rl="https://wa.me/5591985807373?text=Ol%C3%A1%20Dra.%20Lueine%2C%20gostaria%20de%20agendar%20uma%20consulta.";function nl(){if(pi)return;const S=ge.Quill.import("blots/block/embed"),k=ge.Quill.import("formats/link"),g=ge.Quill.import("ui/icons");class s extends k{static blotName="button";static tagName="A";static className="ql-button-link";static create(v){const y=super.create(v);return y.setAttribute("role","button"),y.classList.add("ql-button-link"),y}}class f extends S{static blotName="figureImage";static tagName="figure";static className="quill-figure";static create(v){const y=super.create(),b=document.createElement("img");if(b.setAttribute("src",v?.src||""),v?.alt&&b.setAttribute("alt",v.alt),v?.title&&b.setAttribute("title",v.title),b.setAttribute("loading","lazy"),b.setAttribute("decoding","async"),y.dataset.alt=v?.alt||"",y.dataset.caption=v?.caption||"",y.dataset.source=v?.source||"",y.appendChild(b),!!(v?.caption||v?.source)){const n=document.createElement("figcaption");v?.caption&&v?.source?n.textContent=`Legenda: ${v.caption} - Fonte: ${v.source}`:v?.caption?n.textContent=`Legenda: ${v.caption}`:v?.source&&(n.textContent=`Fonte: ${v.source}`),y.appendChild(n)}return y}static value(v){return{src:v.querySelector("img")?.getAttribute("src")||"",alt:v.dataset.alt||"",caption:v.dataset.caption||"",source:v.dataset.source||""}}}class O extends S{static blotName="spacer";static tagName="div";static className="quill-spacer"}g.button='<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M6 6h9a4 4 0 010 8H8v4H6V6zm2 2v4h7a2 2 0 000-4H8z" fill="currentColor"/></svg>',g.spacer='<svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true"><path d="M4 7h16v2H4V7zm0 8h16v2H4v-2z" fill="currentColor"/></svg>',ge.Quill.register(s),ge.Quill.register(f),ge.Quill.register(O),pi=!0}const yi={open:!1,type:"",sourceType:"url",fields:{url:"",file:null,alt:"",caption:"",source:"",buttonText:"",buttonUrl:""},errors:{}},mi=S=>new Promise((k,g)=>{const s=new FileReader;s.onload=()=>k(s.result),s.onerror=f=>g(f),s.readAsDataURL(S)}),Ae=S=>{const k=S.getSelection(!0);return k&&typeof k.index=="number"?k.index:Math.max(S.getLength()-1,0)},Di=S=>{try{return new URL(S)}catch{return null}},yr=S=>{const k=Di(S.trim());return!k||!["http:","https:"].includes(k.protocol)?"":k.toString()},gi=S=>{const k=S.trim();if(!k)return"";if(k.startsWith("/")||k.startsWith("#"))return k;const g=Di(k);return!g||!["http:","https:","mailto:","tel:"].includes(g.protocol)?"":g.toString()},bi=(S,k)=>{if(!S)return k==="image"?"Selecione um arquivo de imagem.":"Selecione um arquivo de video.";if(k==="image"){if(!S.type.startsWith("image/"))return"Arquivo invalido. Use um formato de imagem.";if(S.size>el)return"A imagem deve ter no maximo 5MB."}if(k==="video"){if(!S.type.startsWith("video/"))return"Arquivo invalido. Use um formato de video.";if(S.size>tl)return"O video deve ter no maximo 25MB."}return""},_i=S=>{const k=yr(S);if(!k)return"";try{const g=new URL(k),s=g.hostname.replace("www.","");if(s==="youtube.com"||s==="m.youtube.com"){const f=g.searchParams.get("v");if(f)return`https://www.youtube.com/embed/${f}`}if(s==="youtu.be"){const f=g.pathname.replace("/","");if(f)return`https://www.youtube.com/embed/${f}`}if(k.includes("/embed/"))return k}catch{return""}return k};function il({setUploading:S}){const k=J.useRef(null),[g,s]=J.useState(yi);nl();const f=J.useCallback(({src:u,alt:o,caption:l,source:a})=>{const i=k.current?.getEditor();if(!i)return;const c=Ae(i);i.insertEmbed(c,"figureImage",{src:u,alt:o,caption:l,source:a}),i.setSelection(c+1)},[]),O=J.useCallback(u=>{s({open:!0,type:u,sourceType:"url",fields:{url:"",file:null,alt:"",caption:"",source:"",buttonText:u==="button"?"Agende sua consulta":"",buttonUrl:u==="button"?rl:""},errors:{}})},[]),p=J.useCallback(()=>{s(yi)},[]),v=J.useCallback((u,o)=>{s(l=>({...l,fields:{...l.fields,[u]:o},errors:{...l.errors,[u]:""}}))},[]),y=J.useCallback(u=>{s(o=>({...o,fields:{...o.fields,file:u},errors:{...o.errors,file:""}}))},[]),b=J.useCallback(u=>{s(o=>({...o,sourceType:u,fields:{...o.fields,url:"",file:null},errors:{}}))},[]),d=J.useCallback(()=>{const u={},o=g.fields.url.trim(),l=g.fields.buttonText.trim(),a=g.fields.buttonUrl.trim();if(g.type==="image")if(g.sourceType==="url")o?yr(o)||(u.url="Use uma URL valida iniciando com http:// ou https://."):u.url="Informe a URL da imagem.";else{const i=bi(g.fields.file,"image");i&&(u.file=i)}if(g.type==="video")if(g.sourceType==="url")o?_i(o)||(u.url="Use uma URL valida iniciando com http:// ou https://."):u.url="Informe a URL do video.";else{const i=bi(g.fields.file,"video");i&&(u.file=i)}return g.type==="button"&&(l||(u.buttonText="Informe o texto do botao."),a?gi(a)||(u.buttonUrl="Use um link valido (https://, mailto:, tel:, / ou #)."):u.buttonUrl="Informe o link do botao."),s(i=>({...i,errors:u})),Object.keys(u).length===0},[g]),n=J.useCallback(async()=>{const u=k.current?.getEditor();if(u&&d()){S(!0);try{if(g.type==="image"){const o=g.fields.alt.trim(),l=g.fields.caption.trim(),a=g.fields.source.trim();if(g.sourceType==="url"){const i=yr(g.fields.url);if(!i)throw new Error("invalid-image-url");f({src:i,alt:o,caption:l,source:a})}else{const i=await mi(g.fields.file);f({src:i,alt:o,caption:l,source:a})}}if(g.type==="video"){const o=Ae(u);if(g.sourceType==="url"){const l=_i(g.fields.url);if(!l)throw new Error("invalid-video-url");u.insertEmbed(o,"video",l)}else{const l=await mi(g.fields.file);u.insertEmbed(o,"video",l)}u.setSelection(o+1)}if(g.type==="button"){const o=g.fields.buttonText.trim(),l=gi(g.fields.buttonUrl);if(!o||!l)throw new Error("invalid-button");const a=Ae(u);u.insertText(a,o,"button",l),u.setSelection(a+o.length)}p()}catch(o){console.error(o);let l="Nao foi possivel inserir a midia. Tente novamente.";o?.message==="invalid-image-url"&&(l="URL da imagem invalida."),o?.message==="invalid-video-url"&&(l="URL do video invalida."),o?.message==="invalid-button"&&(l="Dados do botao invalidos."),s(a=>({...a,errors:{...a.errors,form:l}}))}finally{S(!1)}}},[p,f,g,S,d]),e=J.useMemo(()=>({toolbar:{container:[[{header:[2,3,4,!1]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["blockquote"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","button","image","video","spacer"],["clean"]],handlers:{image:()=>O("image"),video:()=>O("video"),button:()=>O("button"),spacer:()=>{const u=k.current?.getEditor();if(!u)return;const o=Ae(u);u.insertEmbed(o,"spacer",!0),u.setSelection(o+1)}}}}),[O]);return{quillRef:k,quillModules:e,quillFormats:["header","bold","italic","underline","strike","list","bullet","script","blockquote","align","link","button","image","figureImage","video","spacer"],mediaModal:g,closeModal:p,submitModal:n,updateField:v,updateFile:y,updateSourceType:b}}function ll(){const[S,k]=J.useState(!1),[g,s]=J.useState(!1),f=J.useRef(null),{user:O,userProfile:p,setUserProfile:v,originalProfile:y,setOriginalProfile:b,editingProfile:d,setEditingProfile:n,handleProfileImageUpload:e,handleProfileImageRemove:t,resetProfileEditState:u,saveUserProfile:o,hasProfileChanged:l}=Na({setUploading:k}),{posts:a,showForm:i,setShowForm:c,isEditing:r,title:h,setTitle:A,summary:_,setSummary:x,content:q,setContent:E,featuredImage:m,featuredLinkDraft:w,handleFeaturedLinkChange:N,handleFeaturedLinkApply:P,clearFeaturedImage:j,handleFeaturedImageSelect:U,handleSavePost:H,handleDelete:Q,startEdit:D,resetForm:I,fetchPosts:T}=La({user:O,setUploading:k}),{quillRef:L,quillModules:C,quillFormats:F,mediaModal:B,closeModal:R,submitModal:M,updateField:K,updateFile:G,updateSourceType:Y}=il({setUploading:k});J.useEffect(()=>{O&&T()},[O,T]),J.useEffect(()=>{const Z=window.matchMedia("(max-width: 760px)"),ie=ne=>{ne.matches||s(!1)};return Z.addEventListener("change",ie),()=>Z.removeEventListener("change",ie)},[]),J.useEffect(()=>{if(!g||!window.matchMedia("(max-width: 760px)").matches)return;const Z=ne=>{ne.key==="Escape"&&s(!1)},ie=document.body.style.overflow;return document.body.style.overflow="hidden",window.addEventListener("keydown",Z),()=>{document.body.style.overflow=ie,window.removeEventListener("keydown",Z)}},[g]);const $=J.useMemo(()=>{const Z=new Date,ie=le=>le?.seconds?new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"short",year:"numeric"}).format(new Date(le.seconds*1e3)):"--",ne=a.length,oe=a.filter(le=>{if(!le.date?.seconds)return!1;const we=new Date(le.date.seconds*1e3);return we.getMonth()===Z.getMonth()&&we.getFullYear()===Z.getFullYear()}).length,he=a.filter(le=>!!le.featuredImage).length,ve=a.find(le=>!!le.date?.seconds);return[{label:"Total de posts",value:String(ne),note:ne?"Conteudos publicados":"Nenhum conteudo publicado"},{label:"Publicados no mes",value:String(oe),note:"Ritmo editorial atual"},{label:"Com imagem de capa",value:`${he}/${ne||0}`,note:"Padrao visual dos artigos"},{label:"Ultima publicacao",value:ve?ie(ve.date):"--",note:ve?.title||"Publique para atualizar este indicador"}]},[a]),te=!!(h||_||q||m),re=!!p.photoURL,ae=r?"Editar post":"Novo post",ue=r?"Revise o conteudo e atualize as informacoes antes de salvar.":"Estruture o conteudo com clareza para manter o blog organizado e consistente.",ce=()=>{i&&te&&!window.confirm("Descartar alteracoes do post?")||(I(),c(!1),s(!1))},se=()=>{i&&te&&!window.confirm("Descartar alteracoes do post?")||(I(),c(!0),s(!1))},W=()=>{f.current&&f.current.click()},V=()=>{b(p),u(),n(!0)},X=()=>{l()&&!window.confirm("Descartar alteracoes do perfil?")||(v(y),u(),n(!1))},ee=async()=>{await o(),n(!1)};return O?z.jsxs("section",{className:"admin-shell",children:[z.jsxs("aside",{id:"admin-sidebar-menu",className:`admin-sidebar ${g?"is-open":""}`,children:[z.jsxs("div",{className:`user-profile admin-sidebar-profile ${d?"editing":""}`,children:[z.jsxs("div",{className:"avatar-wrapper",children:[re?z.jsx("img",{src:p.photoURL,alt:"Avatar",className:"avatar"}):z.jsx("div",{className:"avatar avatar-fallback","aria-label":"Avatar padrao",children:z.jsxs("svg",{viewBox:"0 0 64 64",role:"img","aria-hidden":"true",children:[z.jsx("circle",{cx:"32",cy:"24",r:"14"}),z.jsx("path",{d:"M12 58c4-12 16-18 20-18s16 6 20 18"})]})}),d&&re&&z.jsx("button",{type:"button",className:"avatar-action remove",onClick:t,"aria-label":"Remover foto",children:"x"}),d&&!re&&z.jsx("button",{type:"button",className:"avatar-action add",onClick:W,"aria-label":"Adicionar foto",children:"+"}),d&&z.jsx("input",{ref:f,type:"file",accept:"image/*",className:"avatar-input",onChange:e})]}),z.jsx("div",{className:"user-info",children:d?z.jsxs(z.Fragment,{children:[z.jsx("label",{className:"profile-input-label",htmlFor:"sidebar-profile-display-name",children:"Nome exibido"}),z.jsx("input",{id:"sidebar-profile-display-name",type:"text",placeholder:"Seu nome",value:p.displayName,onChange:Z=>v({...p,displayName:Z.target.value})}),z.jsxs("div",{className:"profile-actions",children:[z.jsx("button",{type:"button",className:"admin-btn primary",disabled:!l()||S,onClick:ee,children:S?"Enviando...":"Salvar perfil"}),z.jsx("button",{type:"button",className:"admin-btn cancel",onClick:X,children:"Cancelar"})]})]}):z.jsxs(z.Fragment,{children:[z.jsx("strong",{className:"user-name",children:p.displayName||O.email}),z.jsx("small",{className:"user-email",children:O.email}),z.jsx("button",{type:"button",className:"edit-profile-link",onClick:V,children:"Editar perfil"})]})})]}),z.jsxs("nav",{className:"admin-sidebar-nav","aria-label":"Navegacao do painel",children:[z.jsx("button",{type:"button",className:`admin-side-btn ${i?"":"is-active"}`,onClick:ce,children:"Gerenciar posts"}),z.jsx("button",{type:"button",className:`admin-side-btn ${i?"is-active":""}`,onClick:se,children:r?"Editando post":"Novo post"})]}),z.jsx("div",{className:"admin-sidebar-stats",children:$.slice(0,3).map(Z=>z.jsxs("article",{className:"admin-sidebar-stat",children:[z.jsx("span",{children:Z.label}),z.jsx("strong",{children:Z.value})]},Z.label))}),z.jsx("button",{type:"button",className:"admin-logout admin-sidebar-logout",onClick:()=>{s(!1),ea(xi)},children:"Sair"})]}),z.jsx("div",{className:`admin-sidebar-overlay ${g?"is-visible":""}`,onClick:()=>s(!1),"aria-hidden":!g}),z.jsx("div",{className:"admin-content",children:z.jsxs("section",{className:"admin-wrapper",children:[z.jsx("button",{type:"button",className:`admin-mobile-menu-btn ${g?"is-open":""}`,"aria-controls":"admin-sidebar-menu","aria-expanded":g,onClick:()=>s(Z=>!Z),"aria-label":g?"Fechar menu lateral":"Abrir menu lateral",children:z.jsxs("span",{className:"admin-hamburger-icon","aria-hidden":"true",children:[z.jsx("span",{}),z.jsx("span",{}),z.jsx("span",{})]})}),i?z.jsxs("header",{className:"admin-editor-header",children:[z.jsx("span",{className:"admin-chip",children:"Area editorial"}),z.jsx("h1",{children:ae}),z.jsx("p",{children:ue})]}):z.jsx(ra,{stats:$}),i&&z.jsx(_a,{isEditing:r,hideHeading:!0,title:h,summary:_,content:q,featuredImage:m,featuredLinkDraft:w,uploading:S,onTitleChange:A,onSummaryChange:x,onContentChange:E,onFeaturedSelect:U,onFeaturedLinkChange:N,onFeaturedLinkApply:P,onRemoveFeatured:j,onSavePost:H,onCancel:()=>{te&&!window.confirm("Descartar alteracoes do post?")||I()},quillRef:L,quillModules:C,quillFormats:F,mediaModal:B,onMediaClose:R,onMediaSubmit:M,onMediaFieldChange:K,onMediaFileChange:G,onMediaSourceTypeChange:Y}),!i&&z.jsx(wa,{posts:a,onNewPost:se,onEdit:D,onDelete:Q})]})})]}):z.jsx("p",{className:"loading-text",children:"Carregando painel..."})}export{ll as default};
